(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"2ucu":function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return C}));var a=n("rLNl"),o=n("SVse"),i=n("8Y7J"),r=n("u9T3"),l=n("s7LF"),c=n("Ynp+"),s=n("pMoy"),d=n("5QHs"),p=n("LUZP"),h=n("OaSA"),m=n("M9ds"),u=n("CO6v"),g=n("NG9B"),f=n("ls3q"),b=n("OLhe");let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[u.a,f.a,g.a,b.a,r.a,o.c,m.g,c.c,d.b,l.m,h.l,p.c,s.b]]}),e})()},"31Db":function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return u.a})),n.d(t,"c",(function(){return f.a}));var a=n("SVse"),o=n("8Y7J"),i=n("u9T3"),r=n("s7LF"),l=n("o4Yh"),c=n("Q2Ze"),s=n("e6WT"),d=n("CO6v"),p=n("HxU+"),h=n("ls3q"),m=n("UbRf"),u=n("IYKa");let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[p.a,d.a,h.a,m.b,a.c,c.f,l.b,s.c,r.m,i.a,a.c]]}),e})();var f=n("x7QB")},"3ewR":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return h}));var a=n("8Y7J"),o=n("iELJ"),i=n("Hp2Z"),r=n("SVse"),l=n("Fudl");function c(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",3),a["\u0275\u0275elementStart"](1,"mg-icon"),a["\u0275\u0275text"](2,"warning-o"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span"),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275advance"](4),a["\u0275\u0275textInterpolate"](e)}}let s=(()=>{class e{constructor(e){this.data=e,this.errors=e.errors}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-people-select-error-overlay"]],decls:4,vars:2,consts:[["icon","close",1,"close-btn-icon","mg-no-padding",3,"mat-dialog-close"],[1,"errors"],["class","error-item",4,"ngFor","ngForOf"],[1,"error-item"]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"mg-button-icon",0),a["\u0275\u0275element"](1,"hr"),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275template"](3,c,5,1,"div",2),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275property"]("mat-dialog-close",null),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.errors))},directives:[i.a,o.d,r.n,l.a],styles:[".errors[_ngcontent-%COMP%]{color:red;display:flex;flex-direction:column;max-height:60vh;overflow-y:auto}.error-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:1em}.error-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:1em}"]}),e})();var d=n("CO6v"),p=n("ls3q");let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[p.a,d.a,r.c,o.f]]}),e})()},"9nFH":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n("mrSG"),o=n("8Y7J"),i=n("o4Yh"),r=n("YGJC"),l=n("2Vo4"),c=n("jtHE"),s=n("PqYM"),d=n("itXk"),p=n("6eBy"),h=n("UXun"),m=n("/uUt"),u=n("lJxs"),g=n("1G5W"),f=n("Cnb3"),b=n("hHtQ"),C=n("3qIc"),S=n("HSxi"),O=n("QWb5"),x=n("lkjj"),_=n("SVse"),v=n("yWQT");function y(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"mg-form-select",3,4),o["\u0275\u0275listener"]("selectionChanged",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).filterChange(t,"school")})),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("value",e.schools)("closeOnSelect",!1)("multiple",!0)("searchable",!0)("options",o["\u0275\u0275pipeBind1"](3,5,e.defaultSchoolOptions$))}}function P(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",2),o["\u0275\u0275template"](2,y,4,7,"ng-container",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.availableSchoolOptions.length?e.availableSchoolOptions:e.schoolOptionsArray)}}function M(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",5),o["\u0275\u0275elementStart"](2,"mg-form-select",6,4),o["\u0275\u0275listener"]("selectionChanged",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().filterChange(t,"group")})),o["\u0275\u0275pipe"](4,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275propertyInterpolate"]("appendTo","body"),o["\u0275\u0275property"]("value",e.groups)("closeOnSelect",!1)("multiple",!0)("searchable",!0)("options",o["\u0275\u0275pipeBind1"](4,6,e.defaultGroupOptions$))}}function I(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",7),o["\u0275\u0275elementStart"](2,"mg-form-select",8,4),o["\u0275\u0275listener"]("selectionChanged",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().filterChange(t,"grades")})),o["\u0275\u0275pipe"](4,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275propertyInterpolate"]("appendTo","body"),o["\u0275\u0275property"]("value",e.grades)("closeOnSelect",!1)("multiple",!0)("searchable",!0)("options",o["\u0275\u0275pipeBind1"](4,6,e.defaultGradeOptions$))}}function E(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",9),o["\u0275\u0275elementStart"](2,"mg-form-select",10,4),o["\u0275\u0275listener"]("selectionChanged",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().filterChange(t,"role")})),o["\u0275\u0275pipe"](4,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275propertyInterpolate"]("appendTo","body"),o["\u0275\u0275property"]("value",e.roleTypes)("closeOnSelect",!1)("multiple",!0)("searchable",!0)("options",o["\u0275\u0275pipeBind1"](4,6,e.defaultRoleOptions$))}}let T=(()=>{class e{constructor(e,t,n,a){this.mingaStore=e,this.groupsFacade=t,this.gradesService=n,this.rolesService=a,this.PAGINATION_TYPES=b.b,this.MAX_BUTTONS_PER_PAGE=6,this._groupChecks=[],this._schoolChecks=[],this._gradeChecks=[],this._roleChecks=[],this.isMobileDevice=window.MINGA_APP_ANDROID||window.MINGA_APP_IOS,this.MESSAGES=b.a,this.hideGroupFilter=!1,this.hideSchoolFilter=!1,this.hideGradeFilter=!1,this.hideRoleFilter=!1,this.availableGradeOptions=[],this.availableRoleTypeOptions=[],this.availableGroupOptions=[],this.availableSchoolOptions=[],this.groups=[],this.filterChanged=new o.EventEmitter,this.schools=[],this.grades=[],this.roleTypes=[],this.groupSearchText="",this.selectedGroupIndex=0,this.selectedSchoolIndex=0,this._groupSearchText$=new l.a(""),this._fuseOptions={isCaseSensitive:!1,shouldSort:!0,keys:["name"],includeMatches:!1,threshold:.4},this._destroyed$=new c.a(1),this.groupSearchText$=this._groupSearchText$.asObservable(),this.groupSearchTextDebounced$=this.groupSearchText$.pipe(Object(p.a)(e=>e?Object(s.a)(300):Object(s.a)(0)),Object(h.a)(1),Object(m.a)()),this.groupsChange=new o.EventEmitter,this.roleTypesChange=new o.EventEmitter,this.gradesChange=new o.EventEmitter,this.schoolsChange=new o.EventEmitter,this.districtFeatureEnabled$=e.observeDistrictFeatureEnabled(),this.defaultSchoolOptions$=t.getParentGroups().pipe(Object(u.a)(this.toGroupOptionList)),this.defaultGroupOptions$=Object(d.b)([t.getAllGroups(),this.groupSearchTextDebounced$]).pipe(Object(u.a)(([e,t])=>t?new r.a(e,this._fuseOptions).search(t).map(e=>e.item).filter(e=>!!e):e),Object(u.a)(this.toGroupOptionList)),this.defaultGradeOptions$=n.grades$.pipe(Object(u.a)(this.toGradeOptionList)),this.defaultRoleOptions$=a.roles$.pipe(Object(u.a)(this.toRoleOptionList)),this.defaultGroupOptions$.pipe(Object(g.a)(this._destroyed$)).subscribe(e=>{e&&(this.groupOptionsArray=e)}),this.defaultSchoolOptions$.pipe(Object(g.a)(this._destroyed$)).subscribe(e=>{e&&(this.schoolOptionsArray=e)}),n.fetchIfNeeded(),a.fetchIfNeeded()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}toGroupFilterList(e){return this.defaultGroupOptions$.pipe(Object(u.a)(t=>e.map(this.availableGroupOptions.length?e=>{const t=this.availableGroupOptions.findIndex(t=>t.hash===e);return{label:this.availableGroupOptions[t].name,value:e}}:e=>{const n=t.findIndex(t=>t.value===e);return{label:t[n].label,value:e}})))}toGroupOptionList(e){return e.map(e=>({label:e.name,value:e.hash}))}toGradeOptionList(e){return e.map(e=>({label:f.GradeFunctions.toString(e),value:e}))}toRoleOptionList(e){return e.filter(e=>"Super Admin"!==e.name).map(e=>({label:e.name,value:e.name}))}filterChange(e,t){this.filterChanged.emit({type:t,value:e}),"grades"==t?this.gradesChange.emit(e):"school"==t?this.schoolsChange.emit(e):"role"==t?this.roleTypesChange.emit(e):this.groupsChange.emit(e)}onSearch(e){return Object(a.a)(this,void 0,void 0,(function*(){this.groupSearchText=e,this._groupSearchText$.next(e),this._groupChecks=[],this.groups=[]}))}clearTextSearch(){return Object(a.a)(this,void 0,void 0,(function*(){this.groupSearchText="",this._groupSearchText$.next(this.groupSearchText),this._groupChecks=[],this.groups=[]}))}selectPage(e,t){t===this.PAGINATION_TYPES.SCHOOL&&(this.selectedSchoolIndex=e),t===this.PAGINATION_TYPES.GROUP&&(this.selectedGroupIndex=e)}onNextPageClick(e){let t;e===this.PAGINATION_TYPES.SCHOOL&&(t=this.selectedSchoolIndex),e===this.PAGINATION_TYPES.GROUP&&(t=this.selectedGroupIndex),this.availableGroupOptions.length?t===this.availableGroupOptions.length-this.groupOptionsArray.length%this.MAX_BUTTONS_PER_PAGE?t=0:t+=this.MAX_BUTTONS_PER_PAGE:t===this.groupOptionsArray.length-this.groupOptionsArray.length%this.MAX_BUTTONS_PER_PAGE?t=0:t+=this.MAX_BUTTONS_PER_PAGE,e===this.PAGINATION_TYPES.SCHOOL&&(this.selectedSchoolIndex=t),e===this.PAGINATION_TYPES.GROUP&&(this.selectedGroupIndex=t)}onPrevPageClick(e){let t;e===this.PAGINATION_TYPES.SCHOOL&&(t=this.selectedSchoolIndex),e===this.PAGINATION_TYPES.GROUP&&(t=this.selectedGroupIndex),this.availableGroupOptions.length?0===t?t=this.availableGroupOptions.length-this.groupOptionsArray.length%this.MAX_BUTTONS_PER_PAGE:t-=this.MAX_BUTTONS_PER_PAGE:0===t?t=this.groupOptionsArray.length-this.groupOptionsArray.length%this.MAX_BUTTONS_PER_PAGE:t-=this.MAX_BUTTONS_PER_PAGE,e===this.PAGINATION_TYPES.SCHOOL&&(this.selectedSchoolIndex=t),e===this.PAGINATION_TYPES.GROUP&&(this.selectedGroupIndex=t)}close(){this.matPanel.close()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](C.b),o["\u0275\u0275directiveInject"](S.b),o["\u0275\u0275directiveInject"](O.b),o["\u0275\u0275directiveInject"](x.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-people-select-filter"]],viewQuery:function(e,t){if(1&e&&o["\u0275\u0275viewQuery"](i.c,1),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.matPanel=e.first)}},inputs:{hideGroupFilter:"hideGroupFilter",hideSchoolFilter:"hideSchoolFilter",hideGradeFilter:"hideGradeFilter",hideRoleFilter:"hideRoleFilter",availableGradeOptions:"availableGradeOptions",availableRoleTypeOptions:"availableRoleTypeOptions",availableGroupOptions:"availableGroupOptions",availableSchoolOptions:"availableSchoolOptions",groups:"groups",schools:"schools",grades:"grades",roleTypes:"roleTypes"},outputs:{filterChanged:"filterChanged",groupsChange:"groupsChange",schoolsChange:"schoolsChange",gradesChange:"gradesChange",roleTypesChange:"roleTypesChange"},decls:9,vars:8,consts:[[3,"expanded"],[4,"ngIf"],[1,"school-filter"],["placeholder","School",3,"value","closeOnSelect","multiple","searchable","options","selectionChanged"],["typeFilterSelect",""],[1,"group-filter"],["placeholder","Group",3,"appendTo","value","closeOnSelect","multiple","searchable","options","selectionChanged"],[1,"grade-filter"],["placeholder","Grade",3,"appendTo","value","closeOnSelect","multiple","searchable","options","selectionChanged"],[1,"role-filter"],["placeholder","Role",3,"appendTo","value","closeOnSelect","multiple","searchable","options","selectionChanged"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-accordion"),o["\u0275\u0275elementStart"](1,"mat-expansion-panel",0),o["\u0275\u0275elementStart"](2,"mat-expansion-panel-header"),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](4,P,3,1,"ng-container",1),o["\u0275\u0275pipe"](5,"async"),o["\u0275\u0275template"](6,M,5,8,"ng-container",1),o["\u0275\u0275template"](7,I,5,8,"ng-container",1),o["\u0275\u0275template"](8,E,5,8,"ng-container",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("expanded",!0),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.FILTER_LABEL," "),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](5,6,t.districtFeatureEnabled$)&&!t.hideSchoolFilter),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!t.hideGroupFilter),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.hideGradeFilter),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.hideRoleFilter))},directives:[i.a,i.c,i.f,_.o,v.a],pipes:[_.b],styles:["[_nghost-%COMP%]{--mg-mat-expansion-panel-body-padding:0}mat-expansion-panel-header[_ngcontent-%COMP%]{font-weight:700}mg-icon[_ngcontent-%COMP%]{height:20px}mg-people-search-input[_ngcontent-%COMP%]  mat-form-field:not(.mat-focused) .mat-form-field-outline{opacity:.5}mat-accordion[_ngcontent-%COMP%]{width:100%}.filter-title[_ngcontent-%COMP%]{color:#888;font-size:1.2em;font-weight:700}.filter-separator[_ngcontent-%COMP%]{height:2em;border:1px solid rgba(0,0,0,.15)}.horizontal-filter-list[_ngcontent-%COMP%]{border-bottom:1px solid #888;padding:1em 0;overflow-x:scroll}.horizontal-filter-option[_ngcontent-%COMP%]{white-space:nowrap}.search-text-input-container[_ngcontent-%COMP%]{padding-bottom:12px}.search-text-input-container[_ngcontent-%COMP%]  mat-form-field:not(.mat-focused) .mat-form-field-outline{opacity:.5}.filter-expansion[_ngcontent-%COMP%]{border:none;display:flex;flex-direction:column}.filter-expansion[_ngcontent-%COMP%]   .filter-title[_ngcontent-%COMP%]{padding-left:1.5em;font-size:16px}.grade-filter[_ngcontent-%COMP%], .group-filter[_ngcontent-%COMP%], .role-filter[_ngcontent-%COMP%], .school-filter[_ngcontent-%COMP%]{display:block;position:relative;margin-bottom:15px;width:100%}.fade[_ngcontent-%COMP%]{animation-name:fade;animation-duration:.7s}@keyframes fade{0%{opacity:0}to{opacity:1}}"],changeDetection:0}),e})()},IYKa:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("mrSG"),o=n("8Y7J"),i=n("XNiG"),r=n("1G5W"),l=function(e){return e.LABEL_SEARCH="Search",e.LABEL_SEARCH_BY_BARCODE="Search by barcode",e.LABEL_STUDENT_ID="Search By Student ID",e.BUTTON_UPLOAD="Upload",e.BUTTON_SCAN="Scan",e.BUTTON_CAMERA="Camera",e}({}),c=n("x7QB"),s=n("tfLw"),d=n("iELJ"),p=n("VDRc"),h=n("Q2Ze"),m=n("i1AJ"),u=n("e6WT"),g=n("s7LF"),f=n("SVse"),b=n("Hp2Z"),C=n("Fudl");const S=["searchTextInput"],O=["barcodeTextInput"],x=["fileInput"];function _(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-icon",17),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().clearTextSearch()})),o["\u0275\u0275text"](1," close "),o["\u0275\u0275elementEnd"]()}}function v(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-icon",17),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().clearBarcodeInput()})),o["\u0275\u0275text"](1," close "),o["\u0275\u0275elementEnd"]()}}function y(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"label",18),o["\u0275\u0275elementStart"](1,"mg-button-icon",19),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onScanClick()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"span",13),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](e.MESSAGES.BUTTON_SCAN)}}function P(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"label",20),o["\u0275\u0275elementStart"](1,"mg-button-icon",21),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().searchByBarcodeClick()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"span",13),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](e.MESSAGES.BUTTON_CAMERA)}}function M(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",22),o["\u0275\u0275elementStart"](1,"span"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mg-button-icon",23),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().clearFileSearch()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.searchFile.name)}}const I=function(){return{standalone:!0}};let E=(()=>{class e{constructor(e,t){this.barcodeScanner=e,this.dialog=t,this.MESSAGES=l,this.isMobileDevice=window.MINGA_DEVICE_ANDROID||window.MINGA_DEVICE_IOS,this._destroyed$=new i.a,this._lastSearchType=c.a.None,this.searchText="",this.barCodeInputText="",this.selectionSize=0,this.onSubmitBarcodeInput=new o.EventEmitter,this.onSubmitCameraBarcodeInput=new o.EventEmitter,this.saveAndClose=new o.EventEmitter,this.searchFile=null,this.showBarcodeScanner=!1,this.barCodeInputVisible=!1,this.searchTextChange=new o.EventEmitter,this.onSubmit=new o.EventEmitter,this.searchFileChange=new o.EventEmitter,this.barcodeScannerAvailable=e.isAvailable()}get lastSearchType(){return this._lastSearchType}ngOnInit(){this.resetBarcode.pipe(Object(r.a)(this._destroyed$)).subscribe(()=>{this.barCodeInputText="",this.barcodeTextInput.nativeElement.focus()}),this.openBarcodeScanner.pipe(Object(r.a)(this._destroyed$)).subscribe(()=>{this.searchByBarcodeClick()})}ngAfterViewInit(){this.searchTextInput&&setTimeout(()=>{this.searchTextInput.nativeElement.focus()},0)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onFileInputChange(e){const t=this.fileInput.nativeElement.files;if(t&&0!==t.length&&t[0])try{this.clearTextSearch()}finally{this._lastSearchType=c.a.File,this.searchFile=t[0],this.searchFileChange.emit(this.searchFile)}}onTextInputChange(e){try{this.clearFileSearch()}finally{this._lastSearchType=e?c.a.Text:c.a.None,this.searchText=e,this.searchTextChange.emit(this.searchText)}}onScanClick(){this.barCodeInputVisible=!0,setTimeout(()=>{this.barcodeTextInput.nativeElement.focus()},0)}handleOnSubmitBarcodeInput(){return Object(a.a)(this,void 0,void 0,(function*(){this.onSubmitBarcodeInput.emit({text:this.barCodeInputText,cancelled:!1})}))}handleOnSubmitCameraBarcodeInput(e){return Object(a.a)(this,void 0,void 0,(function*(){this.onSubmitCameraBarcodeInput.emit(e)}))}searchByBarcodeClick(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.barcodeScanner.scan();this.handleOnSubmitCameraBarcodeInput(e)}))}clearTextSearch(){this.searchText&&(this.searchText="",this.searchTextChange.emit(""))}clearFileSearch(){this.searchFile&&(this.fileInput.nativeElement.value="",this.searchFile=null,this.searchFileChange.emit(null)),this._lastSearchType=c.a.None}onBarcodeInputChange(e){this._lastSearchType=e?c.a.Text:c.a.None,this.barCodeInputText=e}clearBarcodeInput(){this.barCodeInputText&&(this.barCodeInputText=null,this.onBarcodeInputChange("")),this._lastSearchType=c.a.None}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](s.a),o["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-people-select-search"]],viewQuery:function(e,t){if(1&e&&(o["\u0275\u0275viewQuery"](S,1),o["\u0275\u0275viewQuery"](O,1),o["\u0275\u0275viewQuery"](x,3)),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.searchTextInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.barcodeTextInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.fileInput=e.first)}},inputs:{searchText:"searchText",barCodeInputText:"barCodeInputText",resetBarcode:"resetBarcode",openBarcodeScanner:"openBarcodeScanner",selectionSize:"selectionSize",searchFile:"searchFile",showBarcodeScanner:"showBarcodeScanner"},outputs:{searchTextChange:"searchTextChange",onSubmit:"onSubmit",onSubmitBarcodeInput:"onSubmitBarcodeInput",onSubmitCameraBarcodeInput:"onSubmitCameraBarcodeInput",saveAndClose:"saveAndClose",searchFileChange:"searchFileChange"},decls:23,vars:20,consts:[["fxLayout","column",1,"search-container"],["mgFormField","",1,"search-text-input",3,"mgNoHintMargin","mgHideOptionalMarker"],["matInput","","type","text","autocomplete","off","autofocus","",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["searchTextInput",""],["matSuffix","","matSuffix","",3,"click",4,"ngIf"],["mgFormField","",1,"search-barcode-input",3,"mgNoHintMargin","mgHideOptionalMarker"],["matInput","","type","text","autocomplete","off",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["barcodeTextInput",""],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","center",1,"people-search-buttons"],[1,"people-search-file-label","mg-button-hover-harbour"],["type","file",3,"change"],["fileInput",""],["icon","upload-icon-o"],[1,"label-text"],["class","people-search-scan-label mg-button-hover-harbour",4,"ngIf"],["class","people-search-barcode-label mg-button-hover-harbour",4,"ngIf"],["class","file-input-label",4,"ngIf"],["matSuffix","","matSuffix","",3,"click"],[1,"people-search-scan-label","mg-button-hover-harbour"],["icon","barcode-scanner",3,"click"],[1,"people-search-barcode-label","mg-button-hover-harbour"],["icon","barcode-camera",3,"click"],[1,"file-input-label"],["icon","close",1,"close-btn-icon","mg-no-padding",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"mat-form-field",1),o["\u0275\u0275elementStart"](2,"mat-label"),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"input",2,3),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onTextInputChange(e)}))("keyup.enter",(function(){return t.onSubmit.emit()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,_,2,0,"mg-icon",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"mat-form-field",5),o["\u0275\u0275elementStart"](8,"mat-label"),o["\u0275\u0275text"](9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"input",6,7),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onBarcodeInputChange(e)}))("keyup.enter",(function(){return t.handleOnSubmitBarcodeInput()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](12,v,2,0,"mg-icon",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"div",8),o["\u0275\u0275elementStart"](14,"label",9),o["\u0275\u0275elementStart"](15,"input",10,11),o["\u0275\u0275listener"]("change",(function(e){return t.onFileInputChange(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](17,"mg-button-icon",12),o["\u0275\u0275elementStart"](18,"span",13),o["\u0275\u0275text"](19),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](20,y,4,1,"label",14),o["\u0275\u0275template"](21,P,4,1,"label",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](22,M,4,1,"div",16)),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("mgNoHintMargin",!0)("mgHideOptionalMarker",!0),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.MESSAGES.LABEL_SEARCH),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",t.searchText)("ngModelOptions",o["\u0275\u0275pureFunction0"](18,I)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.searchText),o["\u0275\u0275advance"](1),o["\u0275\u0275classProp"]("hide-barcode-input",!t.barCodeInputVisible),o["\u0275\u0275property"]("mgNoHintMargin",!0)("mgHideOptionalMarker",!0),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](t.MESSAGES.LABEL_SEARCH_BY_BARCODE),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",t.barCodeInputText)("ngModelOptions",o["\u0275\u0275pureFunction0"](19,I)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.barCodeInputText),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate"](t.MESSAGES.BUTTON_UPLOAD),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.showBarcodeScanner),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.showBarcodeScanner),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.searchFile))},directives:[p.e,h.d,m.a,h.h,u.b,g.d,g.t,g.w,f.o,p.f,p.d,b.a,C.a,h.j],styles:[".mg-button-hover-harbour[_ngcontent-%COMP%]{cursor:pointer}.people-search-barcode-label[_ngcontent-%COMP%], .people-search-file-label[_ngcontent-%COMP%], .people-search-scan-label[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;flex-direction:column;align-items:center}.people-search-barcode-label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .people-search-file-label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .people-search-scan-label[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;pointer-events:none}.people-search-barcode-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .people-search-file-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .people-search-scan-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0}.label-text[_ngcontent-%COMP%]{font-size:16px;font-weight:700}mat-form-field[_ngcontent-%COMP%]{width:100%}.file-input-label[_ngcontent-%COMP%]{padding:.2em;color:#4ba083;font-weight:700;text-align:end}.file-input-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding-right:.4em}.barcode-scanner-label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:20px;display:flex;align-items:center;cursor:pointer}.barcode-scanner-label[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{font-size:24px;margin-left:15px;height:30px;width:30px}.hide-barcode-input[_ngcontent-%COMP%]{display:none}.search-barcode-input[_ngcontent-%COMP%]{margin-top:10px}.search-text-input[_ngcontent-%COMP%]{z-index:5}.people-search-buttons[_ngcontent-%COMP%]{margin-top:20px}mg-button-icon[_ngcontent-%COMP%]{--mg-button-icon-size:40px}"],changeDetection:0}),e})()},crfe:function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return b}));var a=n("9nFH"),o=(n("hHtQ"),n("SVse")),i=n("8Y7J"),r=n("u9T3"),l=n("s7LF"),c=n("o4Yh"),s=n("Q2Ze"),d=n("e6WT"),p=n("wTG2"),h=n("gtkb"),m=n("HxU+"),u=n("ls3q"),g=n("Vwx4"),f=n("1uLP");let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.a,g.b,u.a,m.a,f.a,o.c,l.m,c.b,r.a,d.c,s.f,c.b,p.b]]}),e})()},gtkb:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("SVse"),o=n("8Y7J"),i=n("s7LF"),r=n("Tj54");n("qftF");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[i.m,a.c,r.b]]}),e})()},hHtQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var a=function(e){return e.GROUP="group",e.SCHOOL="school",e}({}),o=function(e){return e.FILTER_LABEL="FILTER YOUR AUDIENCE",e}({})},qftF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("8Y7J"),o=n("s7LF"),i=n("Tj54");const r=["pillCheckmark"],l=["*"],c={provide:o.r,useExisting:Object(a.forwardRef)(()=>s),multi:!0};let s=(()=>{class e{constructor(){this.tabindex="0",this.icon="check",this.disabled=!1,this._value=!1}get hasIcon(){return!!this.icon}get checked(){return this._value}get unchecked(){return!this._value}onClick(e){this.disabled||(this._value=!this._value,this._onChange&&this._onChange(this._value))}onKeypress(e){this.disabled||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this._value=!this._value,this._onChange&&this._onChange(this._value))}writeValue(e){this._value=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-pill-checkbox"]],viewQuery:function(e,t){if(1&e&&a["\u0275\u0275viewQuery"](r,3),2&e){let e;a["\u0275\u0275queryRefresh"](e=a["\u0275\u0275loadQuery"]())&&(t.pillCheckmark=e.first)}},hostVars:9,hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("click",(function(e){return t.onClick(e)}))("keypress",(function(e){return t.onKeypress(e)})),2&e&&(a["\u0275\u0275attribute"]("tabindex",t.tabindex),a["\u0275\u0275classProp"]("mg-pill-checkmark-disabled",t.disabled)("mg-pill-checkmark-has-icon",t.hasIcon)("mg-pill-checkmark-checked",t.checked)("mg-pill-checkmark-unchecked",t.unchecked))},inputs:{icon:"icon",disabled:"disabled"},features:[a["\u0275\u0275ProvidersFeature"]([c])],ngContentSelectors:l,decls:7,vars:1,consts:[[1,"mg-pill-checkbox"],[1,"mg-pill-checkbox-content"],[1,"mg-pill-checkbox-checkmark"],["pillCheckmark",""]],template:function(e,t){1&e&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275projection"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",2,3),a["\u0275\u0275elementStart"](5,"mat-icon"),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](t.icon))},directives:[i.a],styles:[".mg-pill-checkbox[_ngcontent-%COMP%]{min-height:1em;min-width:1em;overflow:hidden;border-width:1px;border-style:solid;position:relative;padding:var(--mg-pillcheckbox-padding,.35em .7em);border-radius:1.35em;transition:background-color .3s ease;margin:var(--mg-pillcheckbox-margin,0);font-size:var(--mg-pillcheckbox-font-size,16px)}.mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-content[_ngcontent-%COMP%]{padding-right:0;transition:padding-right .3s ease}.mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-checkmark[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;transform:translateX(100%);opacity:0;transition:transform .3s ease,opacity .3s ease}.mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-checkmark[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 .35em;position:relative;top:50%;transform:translateY(-50%);color:currentColor;width:1em;height:1em;line-height:1em;font-size:1em}[_nghost-%COMP%]{display:inline-block;cursor:pointer;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]:focus{outline:none}.mg-pill-checkmark-checked.mg-pill-checkmark-has-icon[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-checkmark[_ngcontent-%COMP%]{transform:translateX(0);opacity:1}.mg-pill-checkmark-checked.mg-pill-checkmark-has-icon[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-content[_ngcontent-%COMP%]{padding-right:1em}.mg-pill-checkmark-disabled[_nghost-%COMP%]{pointer-events:none}.small[_nghost-%COMP%]{font-size:10px}.small[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]{padding-top:.05em;padding-bottom:.05em}.large[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]{padding-top:.7em;padding-bottom:.7em}.bold[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]{font-weight:700;border-width:2px}"]}),e})()},rLNl:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var a=n("8Y7J"),o=n("5QHs"),i=n("LUZP"),r=n("OaSA"),l=n("jtHE"),c=n("2Vo4"),s=n("itXk"),d=n("1G5W"),p=n("lJxs"),h=n("Cnb3"),m=n("1Tby"),u=n("Vwx4"),g=n("3qIc"),f=n("VDRc"),b=n("SVse"),C=n("05dM"),S=n("pMoy"),O=n("ura0");const x=function(e,t){return{$implicit:e,type:"selected",showHeaders:!0,subHeaderTitle:t}};function _(e,t){if(1&e&&a["\u0275\u0275elementContainer"](0,2),2&e){const e=a["\u0275\u0275nextContext"](),t=a["\u0275\u0275reference"](9);a["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",a["\u0275\u0275pureFunction2"](2,x,e.selectionModel.selected,e.selectionModel.peopleSelectAddedTabLabel))}}function v(e,t){1&e&&a["\u0275\u0275element"](0,"mg-empty-state",7)}function y(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-header-cell"),a["\u0275\u0275elementStart"](1,"mat-checkbox",22),a["\u0275\u0275listener"]("change",(function(t){a["\u0275\u0275restoreView"](e);const n=a["\u0275\u0275nextContext"](2);return t?n.masterToggle():null})),a["\u0275\u0275pipe"](2,"async"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("checked",e.checkIfAllSelected())("disabled",!1===a["\u0275\u0275pipeBind1"](2,2,e.hasSearchResults$))}}function P(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-cell"),a["\u0275\u0275elementStart"](1,"mat-checkbox",23),a["\u0275\u0275listener"]("click",(function(e){return e.stopPropagation()}))("change",(function(n){a["\u0275\u0275restoreView"](e);const o=t.$implicit,i=a["\u0275\u0275nextContext"](2);return n?i.toggleSelection(o):null})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("checked",n.isSelected(e))}}function M(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-header-cell",24),a["\u0275\u0275text"](1," Name "),a["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-cell"),a["\u0275\u0275elementStart"](1,"div",25),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("title",e.displayName),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.displayName," ")}}function E(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-header-cell",24),a["\u0275\u0275text"](1," Student ID "),a["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",27),a["\u0275\u0275text"](1," N/A "),a["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-cell"),a["\u0275\u0275text"](1),a["\u0275\u0275template"](2,T,2,0,"span",26),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.studentId," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!e.studentId)}}function k(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-header-cell",24),a["\u0275\u0275text"](1," School "),a["\u0275\u0275elementEnd"]())}function A(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",27),a["\u0275\u0275text"](1," N/A "),a["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-cell"),a["\u0275\u0275text"](1),a["\u0275\u0275template"](2,A,2,0,"span",26),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.school," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!e.school)}}function N(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-header-cell",24),a["\u0275\u0275text"](1," Grade "),a["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",27),a["\u0275\u0275text"](1," N/A "),a["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-cell"),a["\u0275\u0275text"](1),a["\u0275\u0275template"](2,j,2,0,"span",26),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.grade," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!e.grade)}}function F(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-header-cell",24),a["\u0275\u0275text"](1," Status "),a["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",27),a["\u0275\u0275text"](1," N/A "),a["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-cell"),a["\u0275\u0275text"](1),a["\u0275\u0275template"](2,R,2,0,"span",26),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.status," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!e.status)}}function $(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-cell"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"](),t=e.subHeaderTitle,n=e.type,o=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" ",t," (",("selected"===n?null==o?null:o.length:o.data.length)||0,") ")}}function H(e,t){if(1&e&&a["\u0275\u0275element"](0,"mat-header-row",28),2&e){const e=a["\u0275\u0275nextContext"]().showHeaders;a["\u0275\u0275property"]("fxHide",!e)}}function D(e,t){if(1&e&&a["\u0275\u0275element"](0,"mat-header-row",29),2&e){const e=a["\u0275\u0275nextContext"](),t=e.$implicit;a["\u0275\u0275property"]("fxHide","selected"===e.type?!(null!=t&&t.length):!t.data.length)}}function V(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-row",30),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](e);const n=t.$implicit,o=t.index;return a["\u0275\u0275nextContext"](2).toggleSelection(n,o)})),a["\u0275\u0275elementEnd"]()}}const U=function(){return[]},Y=function(){return["subHeader"]};function Q(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-table",8),a["\u0275\u0275elementContainerStart"](1,9),a["\u0275\u0275template"](2,y,3,4,"mat-header-cell",10),a["\u0275\u0275template"](3,P,2,1,"mat-cell",11),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](4,12),a["\u0275\u0275template"](5,M,2,0,"mat-header-cell",13),a["\u0275\u0275template"](6,I,3,2,"mat-cell",11),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](7,14),a["\u0275\u0275template"](8,E,2,0,"mat-header-cell",13),a["\u0275\u0275template"](9,w,3,2,"mat-cell",11),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](10,15),a["\u0275\u0275template"](11,k,2,0,"mat-header-cell",13),a["\u0275\u0275template"](12,G,3,2,"mat-cell",11),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](13,16),a["\u0275\u0275template"](14,N,2,0,"mat-header-cell",13),a["\u0275\u0275template"](15,B,3,2,"mat-cell",11),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](16,17),a["\u0275\u0275template"](17,F,2,0,"mat-header-cell",13),a["\u0275\u0275template"](18,L,3,2,"mat-cell",11),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](19,18),a["\u0275\u0275template"](20,$,2,2,"mat-cell",10),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](21,H,1,1,"mat-header-row",19),a["\u0275\u0275pipe"](22,"async"),a["\u0275\u0275template"](23,D,1,1,"mat-header-row",20),a["\u0275\u0275template"](24,V,1,0,"mat-row",21),a["\u0275\u0275pipe"](25,"async"),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.showHeaders,o=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("dataSource",e)("trackBy",o.trackById),a["\u0275\u0275advance"](21),a["\u0275\u0275property"]("matHeaderRowDef",n?a["\u0275\u0275pipeBind1"](22,5,o.displayedColumns$):a["\u0275\u0275pureFunction0"](9,U)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("matHeaderRowDef",a["\u0275\u0275pureFunction0"](10,Y)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",a["\u0275\u0275pipeBind1"](25,7,o.displayedColumns$))}}const z=function(e,t,n){return{$implicit:e,showHeaders:t,subHeaderTitle:n}},J=function(){return[10,20,50]};let q=(()=>{class e{constructor(e,t,n,a){this.media=e,this._cdr=t,this._permissions=n,this._settingService=a,this._destroyedSubj=new l.a(1),this.dataSource=new r.k([]),this.dataSource2=new r.k([]),this._firstItemSubj=new c.a(null),this.showStudentId$=Object(s.b)([this._permissions.observePermission(h.MingaPermission.SUPERADMIN),this._settingService.getSettingValueObs(h.mingaSettingTypes.HIDE_ID_NUM),this._permissions.observePermission(h.MingaPermission.ADMINISTER_STUDENT_ID),this._permissions.observePermission(h.MingaPermission.VIEW_STUDENT_ID_DASHBOARD)]).pipe(Object(d.a)(this._destroyedSubj),Object(p.a)(([e,t,n,a])=>!!e||!!t&&(n||a))),this.displayedColumns$=Object(s.b)([this.media.breakpoint$,this.showStudentId$,this._firstItemSubj]).pipe(Object(d.a)(this._destroyedSubj),Object(p.a)(([e,t,n])=>{if(["xsmall","small"].includes(e))return["select","displayName"];const a=["select","displayName","grade"];return t&&a.splice(2,0,"studentId"),n?(["school","status"].forEach(e=>n.hasOwnProperty(e)&&a.push(e)),a):a})),this._availablePeopleSubj=new c.a([]),this.availablePeople$=this._availablePeopleSubj.asObservable().pipe(Object(d.a)(this._destroyedSubj)),this.hasSearchResults$=this.availablePeople$.pipe(Object(p.a)(e=>!!e[0]))}set availablePeople(e){this._searchResultsCount=e.length,this._availablePeopleSubj.next(e),this._firstItemSubj.next(e[0]||null)}set filters(e){var t,n;(null===(n=null===(t=this.selectionModel)||void 0===t?void 0:t.getCurrentPage())||void 0===n?void 0:n.enableFilters)&&(this.dataSource.filter=JSON.stringify(e),this._cdr.markForCheck())}get hasSelection(){return this.selectionModel.sizeCount>0}ngAfterViewInit(){var e;this.selectedHashes$=null===(e=this.selectionModel)||void 0===e?void 0:e.selected$.pipe(Object(d.a)(this._destroyedSubj),Object(p.a)(e=>e.map(e=>e.personHash))),this._nonSelectedSubscription=Object(s.b)([this._availablePeopleSubj,this.selectedHashes$]).pipe(Object(d.a)(this._destroyedSubj),Object(p.a)(([e,t])=>e.filter(e=>!t.includes(e.personHash)))).subscribe(e=>{this.dataSource.data=e}),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.filterPredicate=this._tableFilter,this._cdr.markForCheck()}ngOnDestroy(){this._destroyedSubj.next(),this._destroyedSubj.complete(),this._nonSelectedSubscription.unsubscribe()}selectAll(){this.dataSource.data.forEach(e=>{this.selectionModel.select(e)})}deselectAll(){this.selectionModel.selected.forEach(e=>{this.selectionModel.deselect(e)})}isSelected(e){return this.selectionModel.isSelected(e)}checkIfAllSelected(){return 0!==this.selectionModel.sizeCount&&this._searchResultsCount===this.selectionModel.sizeCount}masterToggle(){return this._searchResultsCount===this.selectionModel.sizeCount?this.deselectAll():this.selectAll()}toggleSelection(e,t){this.selectionModel.toggle(e),this._cdr.markForCheck()}trackById(e,t){return t?t.personHash:e}_tableFilter(e,t){const{grades:n,keywords:a}=JSON.parse(t),o=!n.length||n.includes(e.grade);let i=!0;return a&&(i=!(!e.displayName.toLowerCase().includes(a.toLowerCase())&&!e.studentId.toLowerCase().includes(a.toLowerCase()))),[o].every(e=>e)&&i}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](a.ChangeDetectorRef),a["\u0275\u0275directiveInject"](u.c),a["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-people-select"]],viewQuery:function(e,t){if(1&e&&(a["\u0275\u0275viewQuery"](r.j,1),a["\u0275\u0275viewQuery"](i.a,1),a["\u0275\u0275viewQuery"](o.a,1)),2&e){let e;a["\u0275\u0275queryRefresh"](e=a["\u0275\u0275loadQuery"]())&&(t.matTable=e.first),a["\u0275\u0275queryRefresh"](e=a["\u0275\u0275loadQuery"]())&&(t.sort=e.first),a["\u0275\u0275queryRefresh"](e=a["\u0275\u0275loadQuery"]())&&(t.paginator=e.first)}},inputs:{availablePeople:"availablePeople",selectionModel:"selectionModel",filters:"filters"},decls:10,vars:12,consts:[["fxLayout","column","fxLayoutAlign","space-between stretch",1,"container"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["title","Start Your Search",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["showFirstLastButtons","",3,"pageSizeOptions"],["tableTemplate",""],["title","Start Your Search"],["matSort","",3,"dataSource","trackBy"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","displayName"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","studentId"],["matColumnDef","school"],["matColumnDef","grade"],["matColumnDef","status"],["matColumnDef","subHeader"],[3,"fxHide",4,"matHeaderRowDef"],["class","table-header",3,"fxHide",4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"checked","disabled","change"],[3,"checked","click","change"],["mat-sort-header",""],[1,"multiline-ellipsis",3,"title"],["class","no-data",4,"ngIf"],[1,"no-data"],[3,"fxHide"],[1,"table-header",3,"fxHide"],[3,"click"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div"),a["\u0275\u0275template"](2,_,1,5,"ng-container",1),a["\u0275\u0275elementContainer"](3,2),a["\u0275\u0275template"](4,v,1,0,"mg-empty-state",3),a["\u0275\u0275pipe"](5,"async"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",4),a["\u0275\u0275element"](7,"mat-paginator",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](8,Q,26,11,"ng-template",null,6,a["\u0275\u0275templateRefExtractor"])),2&e){const e=a["\u0275\u0275reference"](9);a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.hasSelection),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngTemplateOutlet",e)("ngTemplateOutletContext",a["\u0275\u0275pureFunction3"](7,z,t.dataSource,!t.hasSelection,t.selectionModel.peopleSelectAvailableTabLabel)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!1===a["\u0275\u0275pipeBind1"](5,5,t.hasSearchResults$)),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("pageSizeOptions",a["\u0275\u0275pureFunction0"](11,J))}},directives:[f.e,f.d,b.o,b.t,o.a,C.a,r.j,i.a,r.c,r.e,r.b,r.g,r.i,r.d,S.a,r.a,i.b,r.f,O.b,r.h],pipes:[b.b],styles:[".container[_ngcontent-%COMP%]{height:100%}@media print,screen and (max-width:37.49875em){.container[_ngcontent-%COMP%]{padding-bottom:.9411764706rem}}.table-header[_ngcontent-%COMP%]{min-height:auto}.table-header[_ngcontent-%COMP%]     mat-cell{font-weight:900;color:#036;min-height:auto;font-size:.9411764706rem;padding:.5882352941rem 0 0}mat-table[_ngcontent-%COMP%]{background:none}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{border:none;padding:0}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]:not(.table-header){min-height:2.3529411765rem;border-bottom:1px solid rgba(0,0,0,.15)}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{color:#b2b2b2;font-size:.8823529412rem;font-weight:700;margin:0 .2941176471rem;justify-content:start}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]{padding-bottom:.5882352941rem;padding-top:.5882352941rem;background:#fff;min-height:auto;cursor:pointer;-webkit-user-select:none;user-select:none;border:none;border-bottom:1px solid rgba(0,0,0,.1);transition:background .1s ease-in-out}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #fff}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.025)}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{font-size:.8823529412rem;color:#073869;font-weight:400;margin:0 .2941176471rem;justify-content:start}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}mat-paginator[_ngcontent-%COMP%]{background:none;display:block}mat-paginator[_ngcontent-%COMP%]     .mat-paginator-container{padding:0}mat-paginator[_ngcontent-%COMP%]     .mat-paginator-range-label{margin:0 .4705882353rem 0 0;padding-top:.2941176471rem}mat-paginator[_ngcontent-%COMP%]     .mat-paginator-page-size-label{margin:0 .4705882353rem 0 0}mat-paginator[_ngcontent-%COMP%]     mat-form-field{width:auto;max-width:100px;margin:0}mat-paginator[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper{margin:0;padding:0}mg-empty-state[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:1.1764705882rem}.mat-column-select[_ngcontent-%COMP%]{flex:0 1.1764705882rem;overflow:visible}.mat-column-select[role=gridcell][_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{position:relative;top:-1px}.mat-column-displayName[_ngcontent-%COMP%]{font-size:.9411764706rem!important;font-weight:600!important}.mat-column-grade[_ngcontent-%COMP%]{flex:0 4.1176470588rem;justify-items:center!important}.no-data[_ngcontent-%COMP%]{color:rgba(0,0,0,.2);font-style:italic}"],changeDetection:0}),e})()},x7QB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.None="None",e.Text="Text",e.File="File",e}({})}}]);
//# sourceMappingURL=default~minga-app-src-app-events-InviteEvent-InviteEvent-module~minga-app-src-app-events-addTickets-~71100e80-es2015.js.map