!function(){function e(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw o}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new _(r||[]);return i(o,"_invoke",{value:C(e,n,l)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=d;var m={};function p(){}function g(){}function f(){}var h={};c(h,o,(function(){return this}));var v=Object.getPrototypeOf,S=v&&v(v(T([])));S&&S!==t&&n.call(S,o)&&(h=S);var x=f.prototype=p.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;i(this,"_invoke",{value:function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,l){var s=u(e[i],e,a);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}})}function C(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var l=O(o,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:w}}function w(){return{value:void 0,done:!0}}return g.prototype=f,i(x,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:g,configurable:!0}),g.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(y.prototype),c(y.prototype,l,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new y(d(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"R/dt":function(n,a,l){"use strict";l.r(a),l.d(a,"PeopleManagerRoutesModule",(function(){return Zr}));var s,c=l("8Y7J"),d=l("iInd"),u=l("mrSG"),m=l("7bNT"),p=l("2Vo4"),g=l("jtHE"),f=l("1G5W"),h=l("Kj3r"),v=l("lJxs"),S=function(e){return e.REGISTERED="Registered",e.TOTAL="Total",e.DAILY="daily",e.WEEKLY="weekly",e.MONTHLY="monthly",e.SADMIN="Super Admin",e.UNREGISTERED="Unregistered",e}({}),x=l("PYFZ"),E=function(e,t,n){for(var r=0,i=t,a=function(){var i=e[o],a=i.getStatTitle(),l={title:a,countText:"--",total:i.getStatTotal()||i.getStatCount(),primary:n,daily:i.getDaily(),weekly:i.getWeekly(),monthly:i.getMonthly(),registered:i.getRegistered(),statColor:i.getStatColor()};if(a!==S.REGISTERED&&a!==S.TOTAL||(l.filterActive=!0,r=o),i.hasStatPercent()?l.countText=(100*i.getStatPercent()).toFixed(0)+"%":i.hasStatCount()&&(l.countText=""+i.getStatCount()),i.hasStatSearchFilter()){var s=i.getStatSearchFilter().getKeyValuesMap();l.searchFilter={},s.forEach((function(e,t){var n;switch(e.getValuesCase()){case x.StreamFilterType.ValuesCase.BOOL_VALUE:n=e.getBoolValue();break;case x.StreamFilterType.ValuesCase.FLOAT_VALUE:n=e.getFloatValue();break;case x.StreamFilterType.ValuesCase.DOUBLE_VALUE:n=e.getDoubleValue();break;case x.StreamFilterType.ValuesCase.UINT32_VALUE:n=e.getUint32Value();break;case x.StreamFilterType.ValuesCase.INT32_VALUE:n=e.getInt32Value();break;case x.StreamFilterType.ValuesCase.STRING_VALUE:n=e.getStringValue();break;case x.StreamFilterType.ValuesCase.OP:n=e.getOp();break;default:return}l.searchFilter[t]=n}))}t.push(l)},o=0;e.length>o;o++)a();if(!n&&r<i.length-1){var l=i.splice(r)[0];i.push(l)}return i},y=l("vAI6"),C=l("vJwY"),O=l("dmN4"),b=l("pgOG"),M=l("Cnb3"),_=l("FoY8"),T=function(e){return e[e.TOTAL_PEOPLE=1]="TOTAL_PEOPLE",e[e.REGISTERED=2]="REGISTERED",e[e.UNREGISTERED=3]="UNREGISTERED",e}({}),w=l("lkjj"),I=l("Vwx4"),P=l("QWb5"),R=l("GFah"),k=l("/q54"),A=l("EyMp"),F=l("tfHx"),L=l("M4qg"),D=l("VDRc"),N=l("SVse"),G=l("Q2Ze"),U=l("i1AJ"),V=l("e6WT"),j=l("s7LF"),q=l("ZTz/"),z=l("UhP/"),B=l("kCL4"),H=l("2nPA"),$=l("HQAS"),K=l("0cKA"),Y=l("05dM"),W=l("1nQu"),Q=l("4YA2"),J=l("sj4O"),X=l("Tj54"),Z=l("Fudl"),ee=l("HHVM"),te=function(e){return e?{hash:e.personHash,photo:e.profileImageUrl,firstName:e.firstName,lastName:e.lastName,studentId:e.studentId,role:e.roleType,grade:e.grade,lastLogin:ne(e.lastLogin),email:e.email,badgeImg:e.badgeIconUrl}:{hash:"",photo:"",firstName:"",lastName:"",studentId:"",role:"",grade:"0",lastLogin:"",email:"",badgeImg:""}},ne=function(e){if(!e)return"--";var t=new Date;t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0);var n=new Date(Date.UTC(e.year,e.month-1,e.day)),r=t.getTime()-n.getTime();return r<864e5?"today":ee.day.duration(-r).humanize(!0)},re=l("fbKg"),ie=((s=function(){function e(){i(this,e)}return o(e,[{key:"convertPersonMessage",value:function(e){return Object(u.a)(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",re.ISearchPersonDetailsProtoMapper.fromProto(e));case 1:case"end":return t.stop()}}),t)})))}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275prov=c["\u0275\u0275defineInjectable"]({token:s,factory:s.\u0275fac,providedIn:"root"}),s),ae=l("cXmD");function oe(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",5),c["\u0275\u0275element"](2,"mg-spinner",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("diameter",25)("thickness",4))}function le(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function se(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,le,1,0,"ng-container",10),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"](2);var n=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function ce(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function de(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,ce,1,0,"ng-container",10),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"](2);var n=c["\u0275\u0275reference"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function ue(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0,7),c["\u0275\u0275template"](1,se,2,1,"ng-container",8),c["\u0275\u0275template"](2,de,2,1,"ng-container",9),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("ngSwitch",n.showMobileTemplates&&"mobileView"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase","mobileView")}}var me=function(e){return["people","update",e]},pe=function(e){return{o:e}},ge=function(e){return{outlets:e}},fe=function(e){return["",e]};function he(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",11),c["\u0275\u0275elementStart"](1,"div",12),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().gotoProfile()})),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",12),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().gotoProfile()})),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",13),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",14),c["\u0275\u0275elementStart"](8,"span",15),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",14),c["\u0275\u0275element"](11,"span",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",17),c["\u0275\u0275elementStart"](13,"a",18),c["\u0275\u0275text"](14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",19),c["\u0275\u0275element"](16,"mg-generic-button",20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",r.personDetails.firstName," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",r.personDetails.lastName," "),c["\u0275\u0275advance"](1),c["\u0275\u0275classProp"]("not-available",!r.personDetails.studentId),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.personDetails.studentId||"N/A"," "),c["\u0275\u0275advance"](2),c["\u0275\u0275classProp"]("not-available",!r.personDetails.grade),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.personDetails.grade||"N/A"," "),c["\u0275\u0275advance"](2),c["\u0275\u0275styleProp"]("background-image","url("+r.personDetails.badgeImg+")"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("href","mailto:"+r.personDetails.email,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.personDetails.email," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hasRipples",!1)("isRounded",!1)("routerLink",c["\u0275\u0275pureFunction1"](21,fe,c["\u0275\u0275pureFunction1"](19,ge,c["\u0275\u0275pureFunction1"](17,pe,c["\u0275\u0275pureFunction1"](15,me,r.personDetails.hash)))))}}function ve(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",21),c["\u0275\u0275elementStart"](1,"div",22),c["\u0275\u0275elementStart"](2,"div",23),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().gotoProfile()})),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",19),c["\u0275\u0275elementStart"](5,"mg-button-clear",24),c["\u0275\u0275elementStart"](6,"mg-icon"),c["\u0275\u0275text"](7,"edit-o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",25),c["\u0275\u0275elementStart"](9,"div",26),c["\u0275\u0275element"](10,"span",16),c["\u0275\u0275elementStart"](11,"span",15),c["\u0275\u0275text"](12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",27),c["\u0275\u0275elementStart"](14,"div",28),c["\u0275\u0275elementStart"](15,"a",18),c["\u0275\u0275text"](16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",29),c["\u0275\u0275text"](18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate2"](" ",r.personDetails.firstName," ",r.personDetails.lastName," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](19,fe,c["\u0275\u0275pureFunction1"](17,ge,c["\u0275\u0275pureFunction1"](15,pe,c["\u0275\u0275pureFunction1"](13,me,r.personDetails.hash))))),c["\u0275\u0275advance"](5),c["\u0275\u0275styleProp"]("background-image","url("+r.personDetails.badgeImg+")"),c["\u0275\u0275advance"](1),c["\u0275\u0275classProp"]("not-available",!r.personDetails.grade),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.personDetails.grade||"N/A"," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("href","mailto:"+r.personDetails.email,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.personDetails.email," "),c["\u0275\u0275advance"](1),c["\u0275\u0275classProp"]("not-available",!r.personDetails.studentId),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.personDetails.studentId||"N/A"," ")}}var Se,xe=((Se=function(){function e(t,n,r,a){var o=this;i(this,e),this.media=t,this._cdr=n,this.router=r,this.personDetailsService=a,this.mobileBreakpoints=O.a,this.showMobileTemplates=!1,this.mqAliasSubscription=t.asObservable().subscribe((function(e){o.showMobileTemplates=!!o.mobileBreakpoints.includes(e[0].mqAlias),o._cdr.markForCheck()}))}return o(e,[{key:"person",set:function(e){this._handleStudentIdResponse(e)}},{key:"personDetails",get:function(){return this._personDetails}},{key:"loading",get:function(){return!this._personDetails}},{key:"gotoProfile",value:function(){var e=this;this.personDetails&&this.router.navigate(["",{outlets:{o:null}}]).then((function(){return Object(u.a)(e,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.router.navigate(["/profile",null===(t=this.personDetails)||void 0===t?void 0:t.hash]);case 2:case"end":return e.stop()}}),e,this)})))}))}},{key:"_handleStudentIdResponse",value:function(e){return Object(u.a)(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof b.MingaPeopleSearchResult.Item)){t.next=7;break}return t.next=3,this.personDetailsService.convertPersonMessage(e);case 3:n=t.sent,this._personDetails=te(n),t.next=8;break;case 7:this._personDetails=te(e);case 8:this._cdr.markForCheck();case 9:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Se)(c["\u0275\u0275directiveInject"](k.g),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](d.g),c["\u0275\u0275directiveInject"](ie))},Se.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Se,selectors:[["mg-person-details-row"]],inputs:{person:"person"},decls:8,vars:2,consts:[[1,"person-details"],[4,"ngIf","ngIfElse"],["showPersonDetails",""],["desktopView",""],["mobileView",""],["fxLayout","row","fxLayoutAlign","center center",1,"person-details-row"],[3,"diameter","thickness"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"person-details-row"],["fxFlex","16",1,"person-details-col-name",3,"click"],["fxFlex","14",1,"person-details-col-id"],["fxFlex","10",1,"person-details-col-role"],[1,"grade"],[1,"badge-img"],["fxFlex","25",1,"person-details-col-email"],[3,"href"],["fxFlex","nogrow",1,"person-details-col-edit"],["colorTheme","navy","iconLeft","edit-o","size","large","paddingSize","none","variant","clear",3,"hasRipples","isRounded","routerLink"],["fxLayout","column","fxLayoutAlign","start center",1,"person-details-row"],["fxLayout","row","fxLayoutGap","15px",1,"full-width"],["fxFlex","",1,"person-details-col-name",3,"click"],[3,"routerLink"],["fxLayout","row","fxLayoutGap","15px","fxLayoutAlign","start stretch",1,"mobile-row-subsection"],["fxFlex","20",1,"person-details-col-role"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center"],["fxFlex","nogrow",1,"person-details-col-email"],[1,"person-details-col-id"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275template"](1,oe,3,2,"ng-container",1),c["\u0275\u0275template"](2,ue,3,2,"ng-template",null,2,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](4,he,17,23,"ng-template",null,3,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](6,ve,19,21,"ng-template",null,4,c["\u0275\u0275templateRefExtractor"])),2&e){var n=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.loading)("ngIfElse",n)}},directives:[N.o,D.e,D.d,J.a,N.q,N.r,N.s,N.t,D.f,D.b,B.a,d.h,ae.a,Z.a],styles:[".person-details[_ngcontent-%COMP%]{display:block;font-weight:700;background-color:#fff;padding:5px 20px 5px 40px;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 6px rgba(0,0,0,.15)}@media (max-width:1023px){.person-details[_ngcontent-%COMP%]{padding:5px 20px}}.person-details-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:left;font-size:14px}@media (max-width:1023px){.person-details-col-name[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:20px}}.person-details-col-email[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{word-break:break-all;text-decoration:none;color:#036}.person-details-col-email[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width:1023px){.person-details-col-email[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:16px}}.person-details-col-id.not-available[_ngcontent-%COMP%]{color:#ececec}@media (max-width:1023px){.person-details-col-id[_ngcontent-%COMP%]{font-size:16px}}@media (max-width:1023px){.person-details-col-role[_ngcontent-%COMP%]{text-align:center}}.person-details-col-role[_ngcontent-%COMP%]   .badge-img[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;margin-top:5px;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;text-align:center}.person-details-col-role[_ngcontent-%COMP%]   .grade[_ngcontent-%COMP%]{display:block;text-align:center}.person-details-col-role[_ngcontent-%COMP%]   .grade.not-available[_ngcontent-%COMP%]{color:#ececec}.mobile-row-subsection[_ngcontent-%COMP%]{width:100%;border-top:1px solid rgba(0,0,0,.05);padding-top:10px;margin-top:10px}.full-width[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),Se);function Ee(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",32),c["\u0275\u0275elementStart"](2,"mg-count-tile",33),c["\u0275\u0275listener"]("tileClicked",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"](2);return e.setFilter(e.selectedFilterOptions.TOTAL_PEOPLE)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"mg-count-tile",33),c["\u0275\u0275listener"]("tileClicked",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"](2);return e.setFilter(e.selectedFilterOptions.REGISTERED)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-count-tile",33),c["\u0275\u0275listener"]("tileClicked",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"](2);return e.setFilter(e.selectedFilterOptions.UNREGISTERED)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("count",r.displayStats.totalPeople)("label","Total People")("isActive",r.selectedFilter===r.selectedFilterOptions.TOTAL_PEOPLE)("color","#99BAAD")("icon","checkin-6"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("count",r.displayStats.registered)("label","Registered")("isActive",r.selectedFilter===r.selectedFilterOptions.REGISTERED)("color","#254AB1")("icon","checkin-6"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("count",r.displayStats.unregistered)("label","Unregistered")("isActive",r.selectedFilter===r.selectedFilterOptions.UNREGISTERED)("color","#DA6578")("icon","checkin-6")}}function ye(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"mg-spinner"),c["\u0275\u0275elementContainerEnd"]())}function Ce(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",28),c["\u0275\u0275elementContainerStart"](1,29),c["\u0275\u0275template"](2,Ee,5,15,"ng-container",30),c["\u0275\u0275template"](3,ye,2,0,"ng-container",31),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitch",n.loadedCounts&&"showStatusFilters"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase","showStatusFilters")}}function Oe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-icon",34),c["\u0275\u0275text"](1," search "),c["\u0275\u0275elementEnd"]())}function be(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-icon",35),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().clearSearch()})),c["\u0275\u0275text"](1," close-thin "),c["\u0275\u0275elementEnd"]()}}function Me(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",37),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n.roleType),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var _e=function(){return{standalone:!0}};function Te(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mat-form-field",6),c["\u0275\u0275elementStart"](1,"mat-label"),c["\u0275\u0275text"](2,"Filter by Role"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"mat-select",36),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().roleTypeFilter=e})),c["\u0275\u0275elementStart"](4,"mat-option"),c["\u0275\u0275text"](5,"None"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](6,Me,2,2,"mat-option",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=t.ngIf,i=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("mgHideOptionalMarker",!0)("mgNoHintMargin",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModelOptions",c["\u0275\u0275pureFunction0"](5,_e))("ngModel",i.roleTypeFilter),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",r)}}function we(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",37),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275property"]("value",n),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n," ")}}function Ie(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"mg-generic-button",38),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().launchImportPeopleByListDialog()})),c["\u0275\u0275text"](2," Import List "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function Pe(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",39),c["\u0275\u0275elementStart"](1,"mg-generic-button",40),c["\u0275\u0275listener"]("onClick",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().openPeopleSelector()})),c["\u0275\u0275text"](2," Archive "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",41),c["\u0275\u0275elementStart"](4,"mg-generic-button",42),c["\u0275\u0275listener"]("onClick",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().export()})),c["\u0275\u0275text"](5," Export List "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasRipples",!1)("isRounded",!1),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hasRipples",!1)("isRounded",!1))}function Re(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",43),c["\u0275\u0275elementStart"](1,"div",44),c["\u0275\u0275elementStart"](2,"div",45),c["\u0275\u0275text"](3,"First Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",45),c["\u0275\u0275text"](5,"Last Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",46),c["\u0275\u0275text"](7,"ID Number"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",47),c["\u0275\u0275text"](9," Grade "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",48),c["\u0275\u0275text"](11,"Role"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",49),c["\u0275\u0275text"](13,"Email"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",50),c["\u0275\u0275element"](15,"div",51),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}function ke(e,t){1&e&&c["\u0275\u0275element"](0,"mg-person-details-row",52),2&e&&c["\u0275\u0275property"]("person",t.$implicit)}var Ae,Fe,Le,De=function(){return["people","add"]},Ne=function(e){return{o:e}},Ge=function(e){return{outlets:e}},Ue=function(e){return["",e]},Ve=((Ae=function(){function e(t,n,r,a,o,l,s,c,d,u,S,x){var E=this;i(this,e),this._cdr=t,this.rolesService=n,this.permissions=r,this.gradesService=a,this.rootService=o,this.media=l,this.peopleManager=s,this.peopleAdminManager=c,this.mingaPeopleManager=d,this.actions$=u,this._modalOverlay=S,this._peopleSelector=x,this._searchText$=new p.a(""),this.loadedCounts=!0,this._destroyed$=new g.a(1),this._streamControl=null,this.searchText="",this.searchTextDebounced="",this.selectedFilter=T.TOTAL_PEOPLE,this.selectedFilterOptions=T,this.roleTypeFilter="",this.gradeFilter="",this.currentGroup=null,this.selectedGroup=null,this.loading=!0,this.stats={primary:[],secondary:[]},this.displayStats={totalPeople:0,registered:0,unregistered:0},this.mobileBreakpoints=O.a,this.isOnMobile=!1,this._searchText$.pipe(Object(f.a)(this._destroyed$),Object(h.a)(500)).subscribe((function(e){E.searchTextDebounced=e,E._cdr.markForCheck()})),this.availableFilterRoles$=this.rolesService.availableCommentPermitableRoles$.pipe(Object(v.a)((function(e){return e.map((function(e){return{name:e.name,roleType:e.roleType}}))}))),this._mqAliasSubscription=l.asObservable().subscribe((function(e){E.isOnMobile=!!E.mobileBreakpoints.includes(e[0].mqAlias),E._cdr.markForCheck()})),this.availableGradeOptions$=a.grades$,this._initManagePeople(),this.initRoles(),this.actions$.pipe(Object(f.a)(this._destroyed$),Object(m.e)(y.a.TypeEnum.PeopleUpdated)).subscribe((function(){E._clearStats(),E._initManagePeople()}))}return o(e,[{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}},{key:"openPeopleSelector",value:function(){this._peopleSelector.open("Archive","add",{})}},{key:"streamFilter",get:function(){var e={query:"","searchData.archived":!1};return this.selectedFilter!==T.REGISTERED&&this.selectedFilter!==T.UNREGISTERED||(e["searchData.registered"]=this.selectedFilter===T.REGISTERED),this.roleTypeFilter&&(e["searchData.roleType"]=this.roleTypeFilter),this.gradeFilter&&(e["searchData.grade"]=this.gradeFilter),e.query=this.searchTextDebounced,e}},{key:"searchResultsCount",get:function(){return this._streamControl?this._streamControl.length:0}},{key:"setStats",value:function(e,t){this.displayStats[e]=t,this._cdr.markForCheck()}},{key:"setFilter",value:function(e){e||(this.selectedFilter=T.TOTAL_PEOPLE),this.selectedFilter=this.selectedFilter!==e?e:T.TOTAL_PEOPLE,this._cdr.markForCheck()}},{key:"onSearchTextChange",value:function(e){this._searchText$.next(e)}},{key:"clearSearch",value:function(){this.searchText="",this.searchTextDebounced="",this._cdr.markForCheck()}},{key:"_initManagePeople",value:function(){var e;return Object(u.a)(this,void 0,void 0,r().mark((function t(){var n,i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new b.MingaPeopleInfoRequest,i=this.permissions.hasPermission(M.MingaPermission.GROUP_ALLOW_ANY_PARENT_GROUP),(null===(e=this.currentGroup)||void 0===e?void 0:e.isParent)&&!i?n.setParentGroupHash(this.currentGroup.hash):this.selectedGroup&&n.setParentGroupHash(this.selectedGroup.hash),t.next=4,this.mingaPeopleManager.getInfo(n);case 4:return a=t.sent,this.stats.primary=E(a.getPrimaryStatFilterList(),this.stats.primary,!0),this.stats.secondary=E(a.getSecondaryStatFilterList(),this.stats.secondary,!1),this.setStats("registered",function(e){if(!e.length)return 0;var t=e.find((function(e){return e.title===S.REGISTERED}));return null==t?void 0:t.total}(this.stats.primary)),this.setStats("unregistered",function(e){if(!e.length)return 0;var t=e.find((function(e){return e.title===S.UNREGISTERED}));return null==t?void 0:t.total}(this.stats.primary)),this.setStats("totalPeople",this.displayStats.registered+this.displayStats.unregistered),t.next=12,this._initGradeOptions();case 12:this._cdr.markForCheck();case 13:case"end":return t.stop()}}),t,this)})))}},{key:"_clearStats",value:function(){this.stats.primary=[],this.stats.secondary=[]}},{key:"_initGradeOptions",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gradesService.fetchIfNeeded();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"onStreamControlCreated",value:function(e){this._streamControl=e}},{key:"export",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rootService.addLoadingPromise(this._doExport()));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_doExport",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t,n,i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new b.ExportPeopleRequest).setRegistered(!0===this.streamFilter["searchData.registered"]?b.ExportPeopleRequest.FilterRegistered.REGISTERED:!1===this.streamFilter["searchData.registered"]?b.ExportPeopleRequest.FilterRegistered.NOT_REGISTERED:b.ExportPeopleRequest.FilterRegistered.NOT_SELECTED),this.streamFilter["searchData.roleType"]&&t.addRoleTypeFilter(this.streamFilter["searchData.roleType"]),this.streamFilter["searchData.grade"]&&t.addGradeFilter(this.streamFilter["searchData.grade"]),n=this.mingaPeopleManager.exportPeople(t),i="",a=new Uint8Array(0),e.next=6,new Promise((function(e,t){n.subscribe((function(e){if(e.hasChunk()){var t=e.getChunk_asU8(),n=new Uint8Array(a.length+t.length);n.set(a),n.set(t,a.length),a=n}else e.hasFilename()&&(i=e.getFilename())}),t,e)}));case 6:Object(C.a)(a,i);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"initRoles",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rolesService.fetchIfNeeded();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"launchImportPeopleByListDialog",value:function(){this._modalOverlay.open(_.a,{disposeOnNavigation:!1})}}]),e}()).\u0275fac=function(e){return new(e||Ae)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](w.a),c["\u0275\u0275directiveInject"](I.c),c["\u0275\u0275directiveInject"](P.b),c["\u0275\u0275directiveInject"](R.a),c["\u0275\u0275directiveInject"](k.g),c["\u0275\u0275directiveInject"](A.PeopleManager),c["\u0275\u0275directiveInject"](A.PeopleAdminManager),c["\u0275\u0275directiveInject"](A.MingaPeopleManager),c["\u0275\u0275directiveInject"](m.a),c["\u0275\u0275directiveInject"](F.e),c["\u0275\u0275directiveInject"](L.PeopleSelectorService))},Ae.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Ae,selectors:[["mg-manage-people"]],decls:40,vars:35,consts:[[1,"manager-overlay-subpage-header"],["fxLayout","column",1,"manage-people-container"],[1,"filters-container"],["class","filters-status",4,"ngIf"],[1,"filters-inputs"],[1,"filters-inputs-search"],["mgFormField","","appearance","outline",3,"mgHideOptionalMarker","mgNoHintMargin"],["type","text","matInput","","name","searchInput",3,"ngModel","ngModelOptions","ngModelChange"],["matSuffix","","class","navsearch-maticon",4,"ngIf"],["matSuffix","","class","navsearch-close-icon",3,"click",4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center center","fxLayoutGap","15px",1,"filters-inputs-dropdowns"],["fxFlex","50","fxFlex.lt-sm","auto"],["mgFormField","","appearance","outline",3,"mgHideOptionalMarker","mgNoHintMargin",4,"ngIf"],["name","grade",3,"ngModelOptions","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"divider"],["fxLayoutAlign","end","fxLayoutGap","15px"],["fxLayoutAlign.xs","center center"],["colorTheme","navy",3,"routerLink"],[4,"ngIf"],["fxLayout","column","fxLayoutGap","15px",1,"manager-overlay-subpage-content","white-bg"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px",4,"ngIf"],["class","people-list-header",4,"ngIf"],["fxFlex","grow",1,"people-list"],["mgStreamControl","AdminPeopleFeed","rpcStream","searchPeople","rpcControl","searchPeopleControl",3,"service","bufferAmount","filter","streamControlCreated"],["streamScroller",""],["mgStreamItem",""],["mg-stream-empty","",3,"title","subtitle"],[1,"filters-status"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["count-tile-container",""],[3,"count","label","isActive","color","icon","tileClicked"],["matSuffix","",1,"navsearch-maticon"],["matSuffix","",1,"navsearch-close-icon",3,"click"],["name","roleType",3,"ngModelOptions","ngModel","ngModelChange"],[3,"value"],["colorTheme","blue","variant","secondary",3,"click"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["colorTheme","red","size","small","paddingSize","none","variant","clear",3,"hasRipples","isRounded","onClick"],["fxLayoutAlign","end"],["colorTheme","navy","size","small","paddingSize","none","variant","clear","iconLeft","download-o",3,"hasRipples","isRounded","onClick"],[1,"people-list-header"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","16"],["fxFlex","14"],["fxFlex","10","fxLayoutAlign","center center"],["fxFlex","10"],["fxFlex","25"],["fxFlex","nogrow"],[1,"people-list-header-edit-button"],[3,"person"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275template"](3,Ce,4,2,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"div",5),c["\u0275\u0275elementStart"](6,"mat-form-field",6),c["\u0275\u0275elementStart"](7,"mat-label"),c["\u0275\u0275text"](8,"Search by Name or ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"input",7),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchText=e}))("ngModelChange",(function(e){return t.onSearchTextChange(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](10,Oe,2,0,"mat-icon",8),c["\u0275\u0275template"](11,be,2,0,"mg-icon",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",10),c["\u0275\u0275elementStart"](13,"div",11),c["\u0275\u0275elementStart"](14,"div"),c["\u0275\u0275template"](15,Te,7,6,"mat-form-field",12),c["\u0275\u0275pipe"](16,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div"),c["\u0275\u0275elementStart"](18,"mat-form-field",6),c["\u0275\u0275elementStart"](19,"mat-label"),c["\u0275\u0275text"](20,"Filter by Grade"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"mat-select",13),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.gradeFilter=e})),c["\u0275\u0275elementStart"](22,"mat-option"),c["\u0275\u0275text"](23,"None"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](24,we,2,2,"mat-option",14),c["\u0275\u0275pipe"](25,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](26,"div",15),c["\u0275\u0275elementStart"](27,"div",16),c["\u0275\u0275elementStart"](28,"div",17),c["\u0275\u0275elementStart"](29,"mg-generic-button",18),c["\u0275\u0275text"](30," Add Person "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](31,Ie,3,0,"div",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"div",20),c["\u0275\u0275template"](33,Pe,6,4,"div",21),c["\u0275\u0275template"](34,Re,16,0,"div",22),c["\u0275\u0275elementStart"](35,"div",23),c["\u0275\u0275elementStart"](36,"mg-stream-scroller",24,25),c["\u0275\u0275listener"]("streamControlCreated",(function(e){return t.onStreamControlCreated(e)})),c["\u0275\u0275template"](38,ke,1,1,"ng-template",26),c["\u0275\u0275element"](39,"mg-empty-state",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",!t.isOnMobile),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("mgHideOptionalMarker",!0)("mgNoHintMargin",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",t.searchText)("ngModelOptions",c["\u0275\u0275pureFunction0"](26,_e)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.searchText.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.searchText.length),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](16,22,t.availableFilterRoles$)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("mgHideOptionalMarker",!0)("mgNoHintMargin",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModelOptions",c["\u0275\u0275pureFunction0"](27,_e))("ngModel",t.gradeFilter),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind1"](25,24,t.availableGradeOptions$)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](33,Ue,c["\u0275\u0275pureFunction1"](31,Ge,c["\u0275\u0275pureFunction1"](29,Ne,c["\u0275\u0275pureFunction0"](28,De))))),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!t.isOnMobile),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!t.isOnMobile),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.isOnMobile),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("service",t.mingaPeopleManager)("bufferAmount",10)("filter",t.streamFilter),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("title","No Results")("subtitle","Try changing your search or filtering and try again."))},directives:[D.e,N.o,G.d,U.a,G.h,V.b,j.d,j.t,j.w,D.d,D.f,D.b,q.a,z.m,N.n,B.a,d.h,H.a,$.a,K.a,Y.a,N.q,N.r,N.s,W.a,Q.a,J.a,X.a,G.j,Z.a,xe],pipes:[N.b],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}.manager-overlay-subpage[_ngcontent-%COMP%]{margin-bottom:3.5294117647rem}.manager-overlay-subpage-header[_ngcontent-%COMP%]{background:#f4f4f4;padding:1.1764705882rem 20%;box-sizing:border-box;margin:-20px -20% 0;width:calc(140%)}.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;display:block}}.manager-overlay-subpage-content[_ngcontent-%COMP%]{flex:1;padding:1.1764705882rem 0;box-sizing:border-box}.manager-overlay-subpage-content.white-bg[_ngcontent-%COMP%]{background-color:#fff}.quick-action-container[_ngcontent-%COMP%]{margin-bottom:1.1764705882rem}.quick-action-container[_ngcontent-%COMP%]:empty{display:none}.quick-action-btn[_ngcontent-%COMP%]{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;border-radius:0;text-align:inherit;box-shadow:none;color:inherit;font:inherit;padding:0;margin:0;background:none;border:none;outline:none;box-sizing:border-box;cursor:pointer;font-size:.8823529412rem;color:#036;display:inline-flex;align-items:center;justify-content:center;--mg-icon-size:20px}.quick-action-btn[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:.2941176471rem}.quick-action-btn[_ngcontent-%COMP%]:hover{opacity:.7}@media print,screen and (max-width:37.49875em){.quick-action-btn[_ngcontent-%COMP%]{display:none}}.manager-layout-loading-container[_ngcontent-%COMP%]{padding:2.9411764706rem 0}.header-title[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.header-title[_ngcontent-%COMP%]{text-align:center;display:block}}.manage-people-container[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}.filters-container[_ngcontent-%COMP%]{display:flex}.filters-status[_ngcontent-%COMP%]{flex:1 auto}.filters-inputs[_ngcontent-%COMP%]{--mg-form-input-background-color:#fff;--mg-form-input-outline-color:#609fc9}@media (max-width:1023px){.filters-inputs[_ngcontent-%COMP%]{flex:1 auto}}.filters-inputs-dropdowns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.filters-inputs-search[_ngcontent-%COMP%]{margin-bottom:10px}.filters-results[_ngcontent-%COMP%]{list-style:none;list-style-type:none;padding:0;margin:15px 0;display:flex;align-items:center}.filters-results[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:10px}.filters-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.filters-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#818181}.filters-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{display:inline-block;content:"|";color:#818181;margin-left:10px}.filters-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-left:auto}.filters-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:after{display:none}.people-list-header[_ngcontent-%COMP%]{font-size:.8823529412rem;font-weight:700;color:#b2b2b2;padding:0 20px 0 40px}.people-list-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:left}.people-list-header-edit-button[_ngcontent-%COMP%]{width:50px}mg-icon[_ngcontent-%COMP%]{height:19px;width:19px;margin-right:5px}mg-stream-scroller[_ngcontent-%COMP%]{--feed-item-margin-side:0px}mg-stream-scroller[_ngcontent-%COMP%]     .total-padding{padding-bottom:20px}.divider[_ngcontent-%COMP%]{margin:15px 0;border-top:1px solid #707070}'],changeDetection:0}),Ae),je=l("u9T3"),qe=l("OLhe"),ze=l("IkgF"),Be=l("CO6v"),He=l("NG9B"),$e=l("m9yI"),Ke=l("HxU+"),Ye=l("ls3q"),We=l("OaSA"),Qe=l("p+4T"),Je=l("ugqS"),Xe=l("Ogcz"),Ze=l("7Tcv"),et=((Fe=o((function e(){i(this,e)}))).\u0275fac=function(e){return new(e||Fe)},Fe.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Fe}),Fe.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Ye.a,Ke.a,Xe.b,Je.a,Be.a,Ye.a,Qe.a,Ze.a,qe.a,N.c,j.m,G.f,V.c,We.l,q.b,je.a,d.k]]}),Fe),tt=function(e){return e.HEADER_TITLE="People Manager",e}({}),nt=l("O2jg"),rt=l("809K"),it=((Le=function(){function e(t,n){i(this,e),this.router=t,this.permissions=n,this._originPath=""}return o(e,[{key:"returnFromPeopleManager",value:function(){this.router.navigateByUrl(this._originPath==this.router.url?"/":this._originPath||"/")}},{key:"hasTabRoutePermissions",value:function(e){return this.permissions.hasTabRoutePermissions(e)}}]),e}()).\u0275fac=function(e){return new(e||Le)(c["\u0275\u0275inject"](d.g),c["\u0275\u0275inject"](rt.a))},Le.\u0275prov=c["\u0275\u0275defineInjectable"]({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le),at=l("tOtK");function ot(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mg-icon"),c["\u0275\u0275text"](1,"person"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](2)),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("\xa0 ",n.MESSAGES.HEADER_TITLE," ")}}var lt,st,ct,dt,ut=((lt=function(){function e(t,n,r,a,o){var l=this;i(this,e),this.media=t,this.routeService=n,this.router=r,this.url=a,this.MESSAGES=tt,this.openedSideNav=!1,this.mqAlias="",this.colorTheme=nt.a.PEOPLE_MANAGER,this.tabs=[],this.tabLabels=[],this.tabIndex=0,this.lastUrlSegment="",t.asObservable().subscribe((function(e){l.mqAlias=e[0].mqAlias})),o.data.subscribe((function(e){l._handleRouteTabs(e.tabs)})),o.url.subscribe((function(e){var t=l.url.path().split("/");t.length&&(l.lastUrlSegment=t[t.length-1],l._syncUrlWithTab())}))}return o(e,[{key:"onOverlayClose",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.routeService.returnFromPeopleManager();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onTabIndexChange",value:function(e){this.tabs[e]&&this.router.navigate(["/admin/people-manager/"+this.tabs[e].path,{outlets:{o:null}}])}},{key:"goToRoute",value:function(e){e&&this.router.navigateByUrl(e)}},{key:"_handleRouteTabs",value:function(e){var n,r=t(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.routeService.hasTabRoutePermissions(i.permissions)&&(this.tabs.push(i),this.tabLabels.push(i.title))}}catch(a){r.e(a)}finally{r.f()}this.tabs.length&&this._syncUrlWithTab()}},{key:"onSideNav",value:function(e){this.openedSideNav=!this.openedSideNav}},{key:"_syncUrlWithTab",value:function(){if(this.tabs.length&&this.lastUrlSegment)for(var e=0;e<this.tabs.length;e++)this.tabs[e].path==this.lastUrlSegment&&(this.tabIndex=e)}}]),e}()).\u0275fac=function(e){return new(e||lt)(c["\u0275\u0275directiveInject"](k.g),c["\u0275\u0275directiveInject"](it),c["\u0275\u0275directiveInject"](d.g),c["\u0275\u0275directiveInject"](N.l),c["\u0275\u0275directiveInject"](d.a))},lt.\u0275cmp=c["\u0275\u0275defineComponent"]({type:lt,selectors:[["mg-people-manager-page"]],decls:4,vars:1,consts:[[3,"colorTheme","overlayClose"],["overlayTitle",""]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mg-manager-overlay",0),c["\u0275\u0275listener"]("overlayClose",(function(){return t.onOverlayClose()})),c["\u0275\u0275template"](1,ot,3,1,"ng-template",null,1,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275element"](3,"router-outlet"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("colorTheme",t.colorTheme)},directives:[at.a,d.l,Z.a],styles:[".nav-icon[_ngcontent-%COMP%]{--mg-icon-size:42px;cursor:pointer;padding:10px 20px;color:#fff}.minga-logo[_ngcontent-%COMP%]{height:32px;margin-right:15px;color:#fff}@media (orientation:landscape){.minga-logo[_ngcontent-%COMP%]{height:8vh}}@media (orientation:portrait){.minga-logo[_ngcontent-%COMP%]{height:8vw}}@media (orientation:landscape) and (max-height:375px){.minga-logo[_ngcontent-%COMP%]{height:30px}}@media (orientation:portrait) and (max-width:375px){.minga-logo[_ngcontent-%COMP%]{height:30px}}@media (min-width:400px){.minga-logo[_ngcontent-%COMP%]{height:32px}}@media (max-width:530px){.minga-logo[_ngcontent-%COMP%]{display:none}}.content[_ngcontent-%COMP%]{height:100%;width:76.5%;padding:25px 0;box-sizing:border-box;display:block;margin:auto}@media (max-width:599px){.content[_ngcontent-%COMP%]{padding:25px 18px;width:100%}}.header-logo-container[_ngcontent-%COMP%]{text-align:center}.header-menu[_ngcontent-%COMP%]{text-align:right}.header-menu-list[_ngcontent-%COMP%]{list-style:none;list-style-type:none;padding:0;margin:0}.header-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:10px}.header-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:25px}.header-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--mg-icon-size:18px;color:#1c2f59;text-decoration:none;display:inline-flex;align-items:center;padding:5px 13px}.header-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#e9d68f}.header-menu-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .header-menu-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:hover{background:#fff}.text-icon-wrap[_ngcontent-%COMP%]{font-size:17px;display:inline-flex;align-items:center;color:#fff}"],changeDetection:0}),lt),mt=l("rJgo"),pt=((ct=o((function e(){i(this,e)}))).\u0275fac=function(e){return new(e||ct)},ct.\u0275mod=c["\u0275\u0275defineNgModule"]({type:ct}),ct.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Ye.a,nt.b,N.c,je.a,d.k,mt.c]]}),ct),gt=((st=o((function e(){i(this,e)}))).\u0275fac=function(e){return new(e||st)},st.\u0275mod=c["\u0275\u0275defineNgModule"]({type:st}),st.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[et,pt,$e.b,Be.a,Ye.a,Ke.a,Ze.a,He.a,I.b,ze.a,qe.a,N.c,je.a,j.m,G.f,V.c,q.b,X.b,d.k]]}),st),ft=l("LvDl"),ht=l("qAL8"),vt=l("PLeU"),St=function(e){return e.HEADER_TITLE="Rostering",e.PAGE_SUBTITLE="Settings",e.METHOD_SELECT_TITLE="Rostering Method",e.STATE_SELECT_MSG="Enable Automatic Rostering",e.ROSTERING_DISABLE_MSG="Are you sure you want to disable the current rostering method?",e.ONE_ROSTER_CHANGE_TITLE="OneRoster History",e.SFTP_CHANGE_TITLE="SFTP History",e.NON_ACCOUNT_MANAGE_MSG="You must be an owner in order to manage rostering",e}({}),xt=[{label:"OneRoster API",value:ht.RosteringMethod.ONE_ROSTER},{label:"SFTP",value:ht.RosteringMethod.SFTP}],Et=l("gEWx"),yt=l("5H0S"),Ct=l("iELJ"),Ot=l("k/kw"),bt=((dt=function(){function n(t,a){var o,l=this;i(this,n),this._dialog=t,this._mingaManager=a,this.MESSAGES=St,this._rosteringFormGroup=new j.k({rosteringMethod:new j.h(ht.RosteringMethod.ONE_ROSTER,[j.D.required]),methodStatus:new j.h(!1)}),this._destroyed$=new g.a(1),this._rosteringSisValues=new p.a((e(o={},ht.RosteringMethod.ONE_ROSTER,void 0),e(o,ht.RosteringMethod.SFTP,void 0),e(o,ht.RosteringMethod.SIS_API,void 0),o)),this.rosteringSisValuesObs=this._rosteringSisValues.asObservable(),this.hasSavedSftpBefore=!1,this.rosteringFormGroup.controls.methodStatus.valueChanges.pipe(Object(f.a)(this._destroyed$)).subscribe((function(e){return Object(u.a)(l,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,this._activateSelectedRosteringMethod();case 3:t.next=7;break;case 5:return t.next=7,this._launchDeactivateRosteringPrompt();case 7:case"end":return t.stop()}}),t,this)})))})),this.initRosteringSisValues()}return o(n,[{key:"rosteringFormGroup",get:function(){return this._rosteringFormGroup}},{key:"oneRosterSisValuesObs",get:function(){return this.rosteringSisValuesObs.pipe(Object(v.a)((function(e){return e.ONE_ROSTER})))}},{key:"sftpSisValuesObs",get:function(){return this.rosteringSisValuesObs.pipe(Object(v.a)((function(e){return e.SFTP})))}},{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}},{key:"initRosteringSisValues",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var n,i,a,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mingaManager.getSIS();case 2:this._sisMethods=e.sent,n=t(this._sisMethods);try{for(n.s();!(i=n.n()).done;)a=i.value,(o=Object(Et.$enum)(ht.RosteringMethod).asValueOrThrow(a.getRosteringMethod()))===ht.RosteringMethod.SFTP&&(this.hasSavedSftpBefore=!0),this._rosteringSisValues.value[o]=a,(l=this._rosteringFormGroup.controls).rosteringMethod.setValue(o),a.getActive()&&l.methodStatus.setValue(!0)}catch(r){n.e(r)}finally{n.f()}case 5:case"end":return e.stop()}}),e,this)})))}},{key:"deleteSFTPRostering",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mingaManager.deleteSIS(ht.RosteringMethod.SFTP);case 2:return e.next=4,this._mingaManager.deactivateAllRosteringMethods();case 4:this.hasSavedSftpBefore=!1;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"_launchDeactivateRosteringPrompt",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._dialog.open(yt.a,{data:{text:{description:this.MESSAGES.ROSTERING_DISABLE_MSG,deleteBtn:"Disable"}}}).afterClosed().subscribe((function(e){return Object(u.a)(t,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.confirmed){t.next=5;break}return t.next=3,this._mingaManager.deactivateAllRosteringMethods();case 3:t.next=6;break;case 5:this._rosteringFormGroup.controls.methodStatus.setValue(!0);case 6:case"end":return t.stop()}}),t,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_activateSelectedRosteringMethod",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._rosteringFormGroup.controls.rosteringMethod.value,e.next=3,this._mingaManager.activateRosteringMethod(t);case 3:case"end":return e.stop()}}),e,this)})))}}]),n}()).\u0275fac=function(e){return new(e||dt)(c["\u0275\u0275inject"](Ct.b),c["\u0275\u0275inject"](Ot.a))},dt.\u0275prov=c["\u0275\u0275defineInjectable"]({token:dt,factory:dt.\u0275fac}),dt),Mt=l("UWMR");function _t(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.id),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.name)}}function Tt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",4),c["\u0275\u0275elementStart"](2,"div",5),c["\u0275\u0275text"](3,"ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",5),c["\u0275\u0275text"](5,"School Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](6,_t,5,2,"ng-container",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngForOf",n.schoolInfos)}}function wt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",7),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("Test Response: ",n.rawOutput,"")}}var It,Pt,Rt,kt=((It=function(){function e(t,n,r){i(this,e),this.data=t,this.dialogRef=n,this.dialog=r,this.EMPTY_STATE="Test Info Not Available",this.heading="",this.rawOutput="",this.tip="",t.schoolInfos.length&&(this.schoolInfos=t.schoolInfos),t.error?this.parseErrorResponse(t.error):t.rawOutput&&this.parseRegResponse(t.rawOutput)}return o(e,[{key:"parseRegResponse",value:function(e){var t=e.split("\n"),n=t[1].match(/\d\d\d/gm);this.heading=n&&Number(n[0])>=200?"SUCCESS":"ERROR GETTING DATA",(n=t[2].match(/"users":\[\]/gm))&&(this.heading="NO USERS FOUND IN SIS",this.tip="Try changing your SIS settings."),this.rawOutput=e}},{key:"parseErrorResponse",value:function(e){this.heading="ERROR GETTING AUTHENTICATION TOKEN";var t=e.match(/<h2>(\d\d\d.*)<\/h2>/);t?(this.tip="Try changing your SIS settings.",this.rawOutput=t[1]):this.rawOutput=e}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||It)(c["\u0275\u0275directiveInject"](Ct.a),c["\u0275\u0275directiveInject"](Ct.g),c["\u0275\u0275directiveInject"](Ct.b))},It.\u0275cmp=c["\u0275\u0275defineComponent"]({type:It,selectors:[["mg-sis-test-info-confirm-dialog"]],decls:10,vars:4,consts:[[1,"floating-icon-container","mg-bodycopy"],[1,"floating-icon","left",3,"click"],[1,"heading"],[4,"ngIf"],[1,"info-grid"],[1,"info-grid-header"],[4,"ngFor","ngForOf"],[1,"output"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275listener"]("click",(function(){return t.close()})),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,Tt,7,1,"ng-container",3),c["\u0275\u0275template"](9,wt,3,1,"ng-container",3)),2&e&&(c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](t.heading),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](t.tip),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.schoolInfos),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.rawOutput))},directives:[Z.a,N.o,N.n],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{position:relative}.floating-icon-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;position:absolute;top:-30px;left:-35px;right:0;color:#036}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:16px 22px}@media (orientation:landscape){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:5vh}}@media (orientation:portrait){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:5vw}}@media (orientation:landscape) and (max-height:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:16px}}@media (orientation:portrait) and (max-width:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:16px}}@media (min-width:480px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:24px}}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px}.heading[_ngcontent-%COMP%]{font-weight:700;padding-top:40px;margin-bottom:30px;text-align:center}@media (orientation:landscape){.heading[_ngcontent-%COMP%]{font-size:4.5333333333vh}}@media (orientation:portrait){.heading[_ngcontent-%COMP%]{font-size:4.5333333333vw}}@media (orientation:landscape) and (max-height:375px){.heading[_ngcontent-%COMP%]{font-size:17px}}@media (orientation:portrait) and (max-width:375px){.heading[_ngcontent-%COMP%]{font-size:17px}}@media (min-width:419.1176470588px){.heading[_ngcontent-%COMP%]{font-size:19px}}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 800px;grid-auto-rows:60px}.info-grid-header[_ngcontent-%COMP%]{font-weight:700}@media (orientation:landscape){.info-grid-header[_ngcontent-%COMP%]{font-size:3.7333333333vh}}@media (orientation:portrait){.info-grid-header[_ngcontent-%COMP%]{font-size:3.7333333333vw}}@media (orientation:landscape) and (max-height:375px){.info-grid-header[_ngcontent-%COMP%]{font-size:14px}}@media (orientation:portrait) and (max-width:375px){.info-grid-header[_ngcontent-%COMP%]{font-size:14px}}@media (min-width:401.7857142857px){.info-grid-header[_ngcontent-%COMP%]{font-size:15px}}@media (max-width:599px){.info-grid[_ngcontent-%COMP%]{grid-template-columns:80px 330px}}.output[_ngcontent-%COMP%]{white-space:pre-wrap}'],changeDetection:0}),It),At=l("Ioxw"),Ft=((Rt=o((function e(){i(this,e)}))).\u0275fac=function(e){return new(e||Rt)},Rt.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Rt}),Rt.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Be.a,Ye.a,At.a,N.c,j.m]]}),Rt),Lt=((Pt=function(){function e(t){i(this,e),this.matDialog=t}return o(e,[{key:"open",value:function(e){return this.matDialog.open(kt,Object.assign(Object.assign({},e),{height:"70vh",minWidth:"410px",panelClass:[]}))}}]),e}()).\u0275fac=function(e){return new(e||Pt)(c["\u0275\u0275inject"](Ct.b))},Pt.\u0275prov=c["\u0275\u0275defineInjectable"]({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Pt),Dt=l("944/"),Nt=l("dpBe"),Gt=l("+dib"),Ut=["type","updatedAt","numUpdated","numCreated","numIgnored","numArchived","numErrors","fileLink"],Vt=["Type","Updated At","Updated","Created","Ignored","Archived","Errors","Files"],jt=l("5lxJ");function qt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"th",10),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().index,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.displayColumnTitles[n]," ")}}function zt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().$implicit,r=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n[r].title," ")}}function Bt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"div",13),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](2).signalLink(e[t].title)})),c["\u0275\u0275text"](2," Link "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function Ht(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",11),c["\u0275\u0275template"](1,zt,2,1,"div",12),c["\u0275\u0275template"](2,Bt,3,0,"div",12),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n[r].link),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n[r].link)}}function $t(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0,7),c["\u0275\u0275template"](1,qt,2,1,"th",8),c["\u0275\u0275template"](2,Ht,3,2,"td",9),c["\u0275\u0275elementContainerEnd"]()),2&e&&c["\u0275\u0275propertyInterpolate"]("matColumnDef",t.$implicit)}function Kt(e,t){1&e&&c["\u0275\u0275element"](0,"tr",14)}function Yt(e,t){1&e&&c["\u0275\u0275element"](0,"tr",15)}function Wt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"table",3),c["\u0275\u0275template"](1,$t,3,1,"ng-container",4),c["\u0275\u0275template"](2,Kt,1,0,"tr",5),c["\u0275\u0275template"](3,Yt,1,0,"tr",6),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("dataSource",n.data),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n.displayColumnAccessors),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matHeaderRowDef",n.displayColumnAccessors)("matHeaderRowDefSticky",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matRowDefColumns",n.displayColumnAccessors)}}function Qt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",16),c["\u0275\u0275element"](1,"mg-spinner",17),c["\u0275\u0275elementEnd"]())}function Jt(e,t){1&e&&c["\u0275\u0275element"](0,"mg-empty-state",18),2&e&&c["\u0275\u0275property"]("title","Nothing here")("subtitle","Try again!")}var Xt,Zt,en=((Zt=function(){function e(){i(this,e),this.isLoading=!1,this.displayColumnAccessors=[],this.displayColumnTitles=[],this.data=[],this.handleLink=new c.EventEmitter}return o(e,[{key:"shouldShowTable",get:function(){return!(this.isLoading||!this.data)&&0!=this.data.length}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){}},{key:"signalLink",value:function(e){this.handleLink.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Zt)},Zt.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Zt,selectors:[["mg-generic-data-table"]],inputs:{isLoading:"isLoading",displayColumnAccessors:"displayColumnAccessors",displayColumnTitles:"displayColumnTitles",data:"data"},outputs:{handleLink:"handleLink"},features:[c["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:3,consts:[["mat-table","","matSort","",3,"dataSource",4,"ngIf","ngIfElse"],["class","loading-container",4,"ngIf"],["noResults",""],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[1,"link",3,"click"],["mat-header-row",""],["mat-row",""],[1,"loading-container"],["diameter","40","thickness","3"],["mg-stream-empty","",3,"title","subtitle"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275template"](1,Wt,4,5,"table",0),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](2,Qt,2,0,"div",1),c["\u0275\u0275template"](3,Jt,1,2,"ng-template",null,2,c["\u0275\u0275templateRefExtractor"])),2&e){var n=c["\u0275\u0275reference"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.shouldShowTable)("ngIfElse",n),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.isLoading)}},directives:[N.o,We.j,N.n,We.g,We.i,We.c,We.e,We.b,We.d,We.a,We.f,We.h,J.a,Y.a],styles:["table[_ngcontent-%COMP%]{width:100%;box-shadow:none;background:none;text-align:center;display:table}table[_ngcontent-%COMP%]  thead tr{background:#fff}table[_ngcontent-%COMP%]  thead tr th{border-bottom:none;text-align:center;color:#b2b2b2;font-size:16px;padding:0 5px}table[_ngcontent-%COMP%]  tbody tr td{border-bottom:none;font-size:16px;color:#036;padding-top:10px;padding-bottom:10px}table[_ngcontent-%COMP%]  tbody tr td.user-name{text-align:center}table[_ngcontent-%COMP%]  tbody tr:nth-child(odd){background:#fff}table[_ngcontent-%COMP%]  tbody tr:nth-child(2n){background:#f4f4f4}.no-results[_ngcontent-%COMP%]{padding:20px;border-radius:5px;text-align:center;border:1px solid rgba(0,0,0,.15);margin:15px 0 0;font-style:italic}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}mg-empty-state[_ngcontent-%COMP%]{margin-top:15px;margin-right:0;margin-left:0;width:100%}.link[_ngcontent-%COMP%]{text-decoration:underline;color:#00f}.link[_ngcontent-%COMP%]:hover{color:#8a2be2;cursor:pointer}"],changeDetection:0}),Zt),tn=((Xt=function(){function e(t,n,r,a){i(this,e),this.mingaManager=t,this.snackBar=n,this.cdr=r,this.appConfig=a,this.data=[],this.loading=!0,this.columnAccessors=Ut,this.columnTitles=Vt,this.loadData()}return o(e,[{key:"ngOnInit",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"loadData",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mingaManager.getSISSync();case 2:t=e.sent,this.data=t.map((function(e){var t=e.getUpdatedat(),n=Object(Gt.f)(t);return{type:{title:e.getType(),link:!1},updatedAt:{title:n.toLocaleString(),link:!1},numUpdated:{title:e.getNumupdated()||0,link:!1},numCreated:{title:e.getNumcreated()||0,link:!1},numIgnored:{title:e.getNumignored()||0,link:!1},numArchived:{title:e.getNumarchived()||0,link:!1},numErrors:{title:e.getNumerrors()||0,link:!1},fileLink:{title:e.getFilelink(),link:!0}}})),this.loading=!1,this.cdr.markForCheck();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getDownload",value:function(e){return Object(u.a)(this,void 0,void 0,r().mark((function t(){var n,i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.appConfig.getIdBucket();case 2:return n=t.sent,i=Nt.a.app().storage("gs://"+n).ref().child(e),t.next=6,i.getDownloadURL();case 6:a=t.sent,window.open(a,"_blank");case 8:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Xt)(c["\u0275\u0275directiveInject"](Ot.a),c["\u0275\u0275directiveInject"](Mt.b),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](jt.a))},Xt.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Xt,selectors:[["mg-sis-stats"]],decls:1,vars:4,consts:[[3,"displayColumnAccessors","displayColumnTitles","data","isLoading","handleLink"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mg-generic-data-table",0),c["\u0275\u0275listener"]("handleLink",(function(e){return t.getDownload(e)})),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("displayColumnAccessors",t.columnAccessors)("displayColumnTitles",t.columnTitles)("data",t.data)("isLoading",t.loading)},directives:[en],styles:[""],changeDetection:0}),Xt),nn=l("yWQT"),rn=l("2ip7"),an=l("jMqV"),on=l("tdMc"),ln=l("R2kZ"),sn=l("+IlC"),cn=l("y++Y"),dn=l("Ggka"),un=function(e){return e.SFTP_INFO_TITLE="ABOUT SFTP",e.SFTP_KB_URL="https://support.minga.io/knowledge/setting-up-sftp-for-rostering",e.SFTP_CREDENTIALS_MSG="IMPORTANT: make sure to save these credentials. They will not be shown again, and you will have to delete your settings to regenerate your sftp account to get new credentials",e.SFTP_DETAILS_MSG="When using SFTP you must configure your Student Information System to send student and staff roster files to Minga (using the information below).",e.SFTP_HELP_MSG="IMPORTANT: Refer to the following SFTP Knowledge article to ensure these files are setup correctly.",e.SFTP_DELETE_MSG="Are you sure you want to delete the configuration details and disable SFTP rostering?",e}({}),mn=function(e){return e.HOST="SFTP Host",e.USERNAME="SFTP Username",e.PASSWORD="SFTP Password",e}({}),pn=[{label:"Skip",value:!1},{label:"Update",value:!0}],gn=[{label:"Skip",value:!1},{label:"Archive",value:!0}],fn=[{label:cn.SisIdFieldKey.IDENTIFIER,value:cn.SisIdFieldKey.IDENTIFIER},{label:cn.SisIdFieldKey.SOURCE_ID,value:cn.SisIdFieldKey.SOURCE_ID},{label:cn.SisIdFieldKey.USERNAME,value:cn.SisIdFieldKey.USERNAME}],hn=function(e){return e.ONE_ROSTER_INFO_TITLE="ABOUT OneRoster 1.1",e.ONE_ROSTER_DETAILS_MSG="When using OneRoster, your Student Information System must be setup to allow Minga to connect using the OneRoster API. Each evening Minga will request new roster information from your Student Information System and update Minga rosters. ",e.ONE_ROSTER_HELP_MSG="Please refer to the following Knowledge Base Article to ensure OneRoster is setup properly for your SIS.",e.ONE_ROSTER_DELETE_MSG="Are you sure you want to delete the configuration details and disable One Roster?",e.ONE_ROSTER_KB_LINK="https://support.minga.io/knowledge/setting-up-automatic-rostering-with-your-sis",e.TOOLTIP_SYNC_STATUS="Toggle this to make syncs active or inactive",e.TOOLTIP_UPDATE_USERS="If existing Minga users have changes in your SIS sync, selecting this will automatically update them",e.TOOLTIP_ARCHIVE_USERS="Remove student, student leaders, and teacher roles when they do not appear in the data returned from SIS",e.TOOLTIP_UPDATE_STUDENTS="Update student data via SIS",e.TOOLTIP_UPDATE_ADMIN="Update teacher/staff data via SIS",e.TOOLTIP_SYNC_PARENTS="Sync parent contact information via SIS",e.TOOLTIP_ADD_EMAIL_LIST="Send email notification about rostering status to email addresses listed",e.EMAIL_LIST_LABEL="Send Rostering Results Email",e.EMAIL_LIST_PLACEHOLDER="Email address list",e.EMAIL_LIST_ADD_LABEL="Add email",e.BUTTON_RESET="Reset",e.BUTTON_SAVE="Save",e.BUTTON_DELETE="Delete",e.BUTTON_TEST="Test Your Information",e.BUTTON_RUN_DAILY="Manually Run Daily Sync",e.BUTTON_RUN_WEEKLY="Manually Run Weekly Sync",e}({}),vn=[{label:sn.SisType.AERIES.valueOf(),value:sn.SisType.AERIES},{label:sn.SisType.Q.valueOf(),value:sn.SisType.Q},{label:sn.SisType.CLEVER.valueOf(),value:sn.SisType.CLEVER},{label:sn.SisType.CLASSLINK.valueOf(),value:sn.SisType.CLASSLINK},{label:sn.SisType.INFINITE_CAMPUS.valueOf(),value:sn.SisType.INFINITE_CAMPUS},{label:sn.SisType.OTHER.valueOf(),value:sn.SisType.OTHER}],Sn=l("MZjr"),xn=l("WaMM"),En=l("FlXp"),yn=l("cKGL"),Cn=["form"];function On(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function bn(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,On,1,0,"ng-container",35),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](65);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Mn(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function _n(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Mn,1,0,"ng-container",35),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](69);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Tn(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function wn(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Tn,1,0,"ng-container",35),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](73);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function In(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Pn(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,In,1,0,"ng-container",35),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](71);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Rn(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function kn(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Rn,1,0,"ng-container",35),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](67);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function An(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Fn(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,An,1,0,"ng-container",35),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](75);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Ln(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",36),c["\u0275\u0275elementStart"](1,"mat-form-field",37),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"SA Test URL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"input",38,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().superAdminURL=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("placeholder","SA Test URL")("ngModel",r.superAdminURL)}}function Dn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mat-slide-toggle",40),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.syncParent=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateSyncParent(e)})),c["\u0275\u0275text"](2," Include Primary Parent Contact Info "),c["\u0275\u0275element"](3,"mg-tooltip",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",r.fields.syncParent),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("label",r.MESSAGES.TOOLTIP_SYNC_PARENTS)}}function Nn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-form-select",41),c["\u0275\u0275listener"]("selectionChanged",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().changeNotificationEmailsType(e)})),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("placeholder",r.MESSAGES.EMAIL_LIST_PLACEHOLDER)("multiple",!0)("addTag",r.addNew)("addTagText",r.MESSAGES.EMAIL_LIST_ADD_LABEL)("searchable",!0)("value",r.fields.notificationEmails)("options",r.EMAIL_OPTIONS)("hideSelected",!1)}}function Gn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",42),c["\u0275\u0275elementStart"](1,"mg-generic-button",43),c["\u0275\u0275listener"]("onClick",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().runDailySyncClicked()})),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"mg-generic-button",43),c["\u0275\u0275listener"]("onClick",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().runWeeklySyncClicked()})),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",14),c["\u0275\u0275elementStart"](6,"div",15),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"mg-form-select",5),c["\u0275\u0275listener"]("selectionChanged",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateIdNumberFieldName(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasRipples",!1)("isRounded",!1),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.MESSAGES.BUTTON_RUN_DAILY," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasRipples",!1)("isRounded",!1),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.MESSAGES.BUTTON_RUN_WEEKLY," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ","ID Number field Key"," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("multiple",!1)("searchable",!1)("isClearable",!1)("options",r.SIS_FIELD_KEYS_OPTIONS)("value",r.fields.idNumberFieldName)}}function Un(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-generic-button",44),c["\u0275\u0275listener"]("onClick",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateSIS(e)})),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("isDisabled",i.form.invalid),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.MESSAGES.BUTTON_SAVE," ")}}function Vn(e,t){1&e&&c["\u0275\u0275element"](0,"mg-spinner",45),2&e&&c["\u0275\u0275property"]("diameter",40)}function jn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",46),c["\u0275\u0275elementStart"](1,"mat-form-field",47),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"URL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"input",48,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.url=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateURL(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",49),c["\u0275\u0275elementStart"](7,"mat-form-field",47),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"Client ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",50,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",51),c["\u0275\u0275elementStart"](13,"mat-form-field",47),c["\u0275\u0275elementStart"](14,"mat-label"),c["\u0275\u0275text"](15,"Client Secret"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"input",52,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientSecret=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientSecret(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",53),c["\u0275\u0275elementStart"](19,"mat-form-field",47),c["\u0275\u0275elementStart"](20,"mat-label"),c["\u0275\u0275text"](21,"Token URL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"input",54,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.authUrl=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateAuthUrl(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",55),c["\u0275\u0275elementStart"](25,"mat-form-field",47),c["\u0275\u0275elementStart"](26,"mat-label"),c["\u0275\u0275text"](27,"School ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"input",56,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.schoolId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateSchoolID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"div",46),c["\u0275\u0275elementStart"](31,"mat-form-field",47),c["\u0275\u0275elementStart"](32,"mat-label"),c["\u0275\u0275text"](33,"Student request URL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"input",57,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.studentUrl=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateStudentRequestURL(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"div",46),c["\u0275\u0275elementStart"](37,"mat-form-field",47),c["\u0275\u0275elementStart"](38,"mat-label"),c["\u0275\u0275text"](39,"Teacher request URL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"input",58,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.teacherUrl=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateTeacherRequestURL(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","URL")("ngModel",r.fields.url)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Client ID")("ngModel",r.fields.clientId)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Client Secret")("ngModel",r.fields.clientSecret)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","Token Url")("ngModel",r.fields.authUrl)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","School ID")("ngModel",r.fields.schoolId)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","Student request URL")("ngModel",r.fields.studentUrl),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","Teacher request URL")("ngModel",r.fields.teacherUrl)}}function qn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",49),c["\u0275\u0275elementStart"](1,"mat-form-field",47),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"Application ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"input",59,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.applicationId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateApplicationId(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",51),c["\u0275\u0275elementStart"](7,"mat-form-field",47),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"Access Token"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",60,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.accessToken=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateAccessToken(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",55),c["\u0275\u0275elementStart"](13,"mat-form-field",47),c["\u0275\u0275elementStart"](14,"mat-label"),c["\u0275\u0275text"](15,"School ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"input",56,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.schoolId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateSchoolID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Application ID")("ngModel",r.fields.applicationId)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Access Token")("ngModel",r.fields.accessToken)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","School ID")("ngModel",r.fields.schoolId)("required",!0)}}function zn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",46),c["\u0275\u0275elementStart"](1,"mat-form-field",47),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"URL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"input",48,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.url=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateURL(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",49),c["\u0275\u0275elementStart"](7,"mat-form-field",47),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"Client ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",50,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",51),c["\u0275\u0275elementStart"](13,"mat-form-field",47),c["\u0275\u0275elementStart"](14,"mat-label"),c["\u0275\u0275text"](15,"Client Secret"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"input",52,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientSecret=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientSecret(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",55),c["\u0275\u0275elementStart"](19,"mat-form-field",47),c["\u0275\u0275elementStart"](20,"mat-label"),c["\u0275\u0275text"](21,"School ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"input",56,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.schoolId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateSchoolID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","URL")("ngModel",r.fields.url)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Client ID")("ngModel",r.fields.clientId)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Client Secret")("ngModel",r.fields.clientSecret)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","School ID")("ngModel",r.fields.schoolId)("required",!0)}}function Bn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",46),c["\u0275\u0275elementStart"](1,"mat-form-field",47),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"URL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"input",48,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.url=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateURL(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",49),c["\u0275\u0275elementStart"](7,"mat-form-field",47),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"Client ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",50,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",51),c["\u0275\u0275elementStart"](13,"mat-form-field",47),c["\u0275\u0275elementStart"](14,"mat-label"),c["\u0275\u0275text"](15,"Client Secret"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"input",52,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientSecret=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientSecret(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",49),c["\u0275\u0275elementStart"](19,"mat-form-field",47),c["\u0275\u0275elementStart"](20,"mat-label"),c["\u0275\u0275text"](21,"App Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"input",59,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.applicationId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateApplicationId(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",55),c["\u0275\u0275elementStart"](25,"mat-form-field",47),c["\u0275\u0275elementStart"](26,"mat-label"),c["\u0275\u0275text"](27,"School ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"input",56,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.schoolId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateSchoolID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","URL")("ngModel",r.fields.url)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Client ID")("ngModel",r.fields.clientId)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Client Secret")("ngModel",r.fields.clientSecret)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","App Name")("ngModel",r.fields.applicationId)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","School ID")("ngModel",r.fields.schoolId)("required",!0)}}function Hn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",46),c["\u0275\u0275elementStart"](1,"mat-form-field",47),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"URL"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"input",48,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.url=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateURL(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",49),c["\u0275\u0275elementStart"](7,"mat-form-field",47),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"Client ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",50,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",51),c["\u0275\u0275elementStart"](13,"mat-form-field",47),c["\u0275\u0275elementStart"](14,"mat-label"),c["\u0275\u0275text"](15,"Client Secret"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"input",52,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientSecret=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientSecret(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",55),c["\u0275\u0275elementStart"](19,"mat-form-field",47),c["\u0275\u0275elementStart"](20,"mat-label"),c["\u0275\u0275text"](21,"School ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"input",56,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.schoolId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateSchoolID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","URL")("ngModel",r.fields.url)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Client ID")("ngModel",r.fields.clientId)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("type","password")("placeholder","Client Secret")("ngModel",r.fields.clientSecret)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","School ID")("ngModel",r.fields.schoolId)("required",!0)}}function $n(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",49),c["\u0275\u0275elementStart"](1,"mat-form-field",47),c["\u0275\u0275elementStart"](2,"mat-label"),c["\u0275\u0275text"](3,"District ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"input",61,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.clientId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateClientID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",55),c["\u0275\u0275elementStart"](7,"mat-form-field",47),c["\u0275\u0275elementStart"](8,"mat-label"),c["\u0275\u0275text"](9,"School ID"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",56,39),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().fields.schoolId=e}))("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateSchoolID(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","District ID")("ngModel",r.fields.clientId)("required",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formGroup",i.form),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("placeholder","School ID")("ngModel",r.fields.schoolId)("required",!0)}}var Kn,Yn=["*"],Wn=((Kn=function(){function e(t,n,r,a,o,l,s,d){i(this,e),this._mingaManager=t,this._snackBar=n,this._cdr=r,this._permissions=a,this._publisherProto=o,this._dialog=l,this._mrService=s,this._userpilotService=d,this.MESSAGES=hn,this.SIS_TYPE_OPTIONS=vn,this.SFTP_EXISTING_USERS_OPTIONS=pn,this.SFTP_MISSING_USERS_OPTIONS=gn,this.SIS_FIELD_KEYS_OPTIONS=fn,this.testInfo=new c.EventEmitter,this.newFields=new on.sisFields,this.fields={url:"",clientId:"",clientSecret:"",schoolId:"",archiveMissing:!1,updateExisting:!1,active:!1,authUrl:"",studentUrl:"",teacherUrl:"",lastModified:!1,rosteringMethod:ht.RosteringMethod.ONE_ROSTER,sisType:null,studentRostering:!1,staffRostering:!1,syncParent:!1,notificationEmails:[],idNumberFieldName:cn.SisIdFieldKey.IDENTIFIER},this.superAdminURL="",this.sisTypeEnum=sn.SisType,this.notificationEmailsToggle=!1,this.isUpdating$=new p.a(!1),this.rosteringStatusChange=new c.EventEmitter,this.newFields.setRosteringMethod(ht.RosteringMethod.ONE_ROSTER),this.isSuperAdmin$=this._permissions.observePermission(M.MingaPermission.SUPERADMIN)}return o(e,[{key:"sisFieldValues",set:function(e){e&&e.toArray().length&&this.loadFields(e)}},{key:"ngOnInit",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.form&&this.form.statusChanges){e.next=2;break}throw new Error("form unset");case 2:this.form.form.addControl("url",new j.h("")),this.form.form.addControl("clientID",new j.h("")),this.form.form.addControl("clientSecret",new j.h("")),this.form.form.addControl("authUrl",new j.h("")),this.form.form.addControl("schoolId",new j.h("")),this.form.form.addControl("studentRequestUrl",new j.h("")),this.form.form.addControl("teacherRequestUrl",new j.h("")),this.form.form.addControl("applicationID",new j.h("")),this.form.form.addControl("accessToken",new j.h("")),this.form.form.addControl("schoolId",new j.h("")),this.form.form.addControl("notificationEmails",new j.h([],dn.a.allValuesAsEmailsValidator));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"loadFields",value:function(e){return Object(u.a)(this,void 0,void 0,r().mark((function t(){var n=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.newFields=e,this.fields=Object.assign(Object.assign({},this.newFields.toObject()),{notificationEmails:this.newFields.getNotificationEmailsList()}),this.EMAIL_OPTIONS=[],this.newFields.getNotificationEmailsList().forEach((function(e){n.EMAIL_OPTIONS.push({value:e,label:e})})),this.EMAIL_OPTIONS.length>0&&(this.notificationEmailsToggle=!0),this._cdr.markForCheck();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"updateSisType",value:function(e){this.fields.sisType=e,this.form.reset(),this.newFields.setSisType(e)}},{key:"updateURL",value:function(e){this.newFields.setUrl(e)}},{key:"updateClientID",value:function(e){this.newFields.setClientId(e)}},{key:"updateClientSecret",value:function(e){this.newFields.setClientSecret(e)}},{key:"updateAccessToken",value:function(e){this.newFields.setAccessToken(e)}},{key:"updateApplicationId",value:function(e){this.newFields.setApplicationId(e)}},{key:"updateAuthUrl",value:function(e){this.newFields.setAuthUrl(e)}},{key:"updateSchoolID",value:function(e){this.newFields.setSchoolId(e)}},{key:"updateStudentRequestURL",value:function(e){this.newFields.setStudentUrl(e)}},{key:"updateTeacherRequestURL",value:function(e){this.newFields.setTeacherUrl(e)}},{key:"updateArchiveMissing",value:function(e){this.newFields.setArchiveMissing(e)}},{key:"updateUpdateExisting",value:function(e){this.newFields.setUpdateExisting(e)}},{key:"updateLastModified",value:function(e){this.newFields.setLastModified(e)}},{key:"updateStudentRostering",value:function(e){this.newFields.setStudentRostering(e)}},{key:"updateNotificationEmailsToggle",value:function(e){this.notificationEmailsToggle=e}},{key:"updateStaffRostering",value:function(e){this.newFields.setStaffRostering(e)}},{key:"updateSyncParent",value:function(e){this.newFields.setSyncParent(e)}},{key:"updateIdNumberFieldName",value:function(e){this.newFields.setIdNumberFieldName(e)}},{key:"runDailySyncClicked",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new ln.RepublishRequest).setHash("sis_sync"),e.next=4,this._publisherProto.republish(t);case 4:this._snackBar.open("Triggered Daily sync");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"runWeeklySyncClicked",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new ln.RepublishRequest).setHash("sis_sync"),e.next=4,this._publisherProto.republish(t);case 4:this._snackBar.open("Triggered weekly sync!");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"updateSIS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.a)(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.form.form.invalid){t.next=19;break}if(this.isUpdating$.next(!0),e&&this._preventEventBehaviors(e),this.newFields.getSisType()){t.next=3;break}return t.abrupt("return",(this._snackBar.open("Sis Type is required!"),void this.isUpdating$.next(!1)));case 3:return t.next=5,this._setActiveFlag();case 5:return t.prev=5,t.next=8,this._mingaManager.updateSIS(this.newFields);case 8:return this._snackBar.open("Your SIS settings were successfully updated!"),t.next=11,this._userpilotService.identify({sisUsersExisting:this.newFields.getUpdateExisting(),sisUsersMissing:this.newFields.getArchiveMissing()});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.error("updateSIS() error: ",t.t0),this._snackBar.open("An error saving your settings occurred! Please try again later.");case 16:return t.prev=16,this.isUpdating$.next(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[5,13,16,19]])})))}},{key:"resetSISFields",value:function(){this.form.reset(),this.fields.notificationEmails=[]}},{key:"onDeleteSFTPRostering",value:function(){this._launchDeleteRosteringMethodPrompt()}},{key:"changeNotificationEmailsType",value:function(e){return Object(u.a)(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.newFields.setNotificationEmailsList(e),this.form.form.get("notificationEmails").setValue(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"addNew",value:function(e){return{label:e,value:e}}},{key:"_setActiveFlag",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._mrService.rosteringFormGroup.controls.methodStatus.value,this.newFields.setActive(t),e.t0=t,!e.t0){e.next=6;break}return e.next=6,this._mingaManager.deactivateAllRosteringMethods();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"_preventEventBehaviors",value:function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}},{key:"_launchDeleteRosteringMethodPrompt",value:function(){var e=this;this._dialog.open(yt.a,{data:{text:{description:this.MESSAGES.ONE_ROSTER_DELETE_MSG,deleteBtn:"Delete"}}}).afterClosed().subscribe((function(t){return Object(u.a)(e,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.confirmed,!e.t0){e.next=4;break}return e.next=4,this._deleteSFTPRostering();case 4:case"end":return e.stop()}}),e,this)})))}))}},{key:"_deleteSFTPRostering",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mingaManager.deleteSIS(ht.RosteringMethod.ONE_ROSTER);case 2:return e.next=4,this._mingaManager.deactivateAllRosteringMethods();case 4:this.rosteringStatusChange.emit(!1),this.resetSISFields();case 6:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Kn)(c["\u0275\u0275directiveInject"](Ot.a),c["\u0275\u0275directiveInject"](Mt.b),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](I.c),c["\u0275\u0275directiveInject"](Sn.Publisher),c["\u0275\u0275directiveInject"](Ct.b),c["\u0275\u0275directiveInject"](bt),c["\u0275\u0275directiveInject"](xn.a))},Kn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Kn,selectors:[["mg-sis-inputs"]],viewQuery:function(e,t){var n;1&e&&c["\u0275\u0275viewQuery"](Cn,3),2&e&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.form=n.first)},inputs:{sisFieldValues:"sisFieldValues"},outputs:{testInfo:"testInfo",rosteringStatusChange:"rosteringStatusChange"},ngContentSelectors:Yn,decls:76,vars:52,consts:[["fxLayout.gt-sm","row","fxLayoutGap.gt-sm","10rem"],[1,"column-wrapper"],["form","ngForm"],[1,"form-row"],[1,"form-row-title"],["outputValueOnly","","appearance","primary",3,"multiple","searchable","isClearable","options","value","selectionChanged"],[4,"ngIf"],["class","superAdminTest",4,"ngIf"],["fxLayoutAlign","end center"],["colorTheme","blue","variant","clear","size","xsmall",3,"onClick"],["fxLayout","column",1,"automatic-rostering"],["name","updateStudentRostering",3,"ngModel","ngModelChange"],[3,"label"],["name","updateStaffRostering",3,"ngModel","ngModelChange"],[1,"row-setting"],[1,"row-setting-select"],["name","updateNotificationEmailsToggle",3,"ngModel","ngModelChange"],["class","email-list","outputValueOnly","","appearance","primary",3,"placeholder","multiple","addTag","addTagText","searchable","value","options","hideSelected","selectionChanged",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","15px",4,"hasPermission"],["fxLayout","row","fxLayoutAlign","space-between center"],["colorTheme","red","variant","secondary","size","medium",3,"onClick"],["colorTheme","navy","variant","clear","size","small",3,"onClick"],["colorTheme","blue","variant","secondary",3,"isDisabled","onClick",4,"ngIf","ngIfElse"],["updatingTpl",""],["fxLayout","column","fxLayoutAlign","center start",1,"rostering-info-container"],[1,"rostering-info-title"],[1,"rostering-info-msg"],[1,"rostering-info-kb"],["target","_blank",3,"href"],["genericOneRosterTemplate",""],["classlinkTemplate",""],["aeriesTemplate",""],["infiniteCampusTemplate",""],["qTemplate",""],["cleverTemplate",""],[4,"ngTemplateOutlet"],[1,"superAdminTest"],["mgFormField",""],["matInput","","type","text","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","new-password","name","testURL",3,"placeholder","ngModel","ngModelChange"],["textInput",""],["name","updateSyncParent",3,"ngModel","ngModelChange"],["outputValueOnly","","appearance","primary",1,"email-list",3,"placeholder","multiple","addTag","addTagText","searchable","value","options","hideSelected","selectionChanged"],["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","15px"],["colorTheme","blue","variant","clear","size","xsmall","paddingSize","none",3,"hasRipples","isRounded","onClick"],["colorTheme","blue","variant","secondary",3,"isDisabled","onClick"],[3,"diameter"],[1,"url"],["mgFormField","",3,"formGroup"],["matInput","","type","text","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","off","name","url","formControlName","url",3,"placeholder","ngModel","required","ngModelChange"],[1,"clientID"],["matInput","","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","off","name","clientID","formControlName","clientID",3,"type","placeholder","ngModel","required","ngModelChange"],[1,"clientSecret"],["matInput","","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","new-password","name","clientSecret","formControlName","clientSecret",3,"type","placeholder","ngModel","required","ngModelChange"],[1,"authUrl"],["matInput","","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","new-password","name","authUrl","formControlName","authUrl",3,"placeholder","ngModel","required","ngModelChange"],[1,"schoolId"],["matInput","","type","text","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","new-password","name","schoolId","formControlName","schoolId",3,"placeholder","ngModel","required","ngModelChange"],["matInput","","type","text","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","off","name","studentRequestUrl","formControlName","studentRequestUrl",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","text","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","off","name","teacherRequestUrl","formControlName","teacherRequestUrl",3,"placeholder","ngModel","ngModelChange"],["matInput","","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","off","name","applicationID","formControlName","applicationID",3,"type","placeholder","ngModel","required","ngModelChange"],["matInput","","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","new-password","name","accessToken","formControlName","accessToken",3,"type","placeholder","ngModel","required","ngModelChange"],["matInput","","type","text","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","off","name","clientID","formControlName","clientID",3,"placeholder","ngModel","required","ngModelChange"]],template:function(e,t){if(1&e&&(c["\u0275\u0275projectionDef"](),c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"form",null,2),c["\u0275\u0275projection"](4),c["\u0275\u0275elementStart"](5,"div",3),c["\u0275\u0275elementStart"](6,"div",4),c["\u0275\u0275text"](7,"SIS"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"mg-form-select",5),c["\u0275\u0275listener"]("selectionChanged",(function(e){return t.updateSisType(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](9,bn,2,1,"ng-container",6),c["\u0275\u0275template"](10,_n,2,1,"ng-container",6),c["\u0275\u0275template"](11,wn,2,1,"ng-container",6),c["\u0275\u0275template"](12,Pn,2,1,"ng-container",6),c["\u0275\u0275template"](13,kn,2,1,"ng-container",6),c["\u0275\u0275template"](14,Fn,2,1,"ng-container",6),c["\u0275\u0275template"](15,Ln,6,2,"div",7),c["\u0275\u0275pipe"](16,"async"),c["\u0275\u0275elementStart"](17,"div",8),c["\u0275\u0275elementStart"](18,"mg-generic-button",9),c["\u0275\u0275listener"]("onClick",(function(){return t.testInfo.emit(t.superAdminURL)})),c["\u0275\u0275text"](19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",10),c["\u0275\u0275elementStart"](21,"mat-slide-toggle",11),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.studentRostering=e}))("ngModelChange",(function(e){return t.updateStudentRostering(e)})),c["\u0275\u0275text"](22," Roster Students "),c["\u0275\u0275element"](23,"mg-tooltip",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](24,Dn,4,2,"ng-container",6),c["\u0275\u0275elementStart"](25,"mat-slide-toggle",13),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.staffRostering=e}))("ngModelChange",(function(e){return t.updateStaffRostering(e)})),c["\u0275\u0275text"](26," Roster Staff "),c["\u0275\u0275element"](27,"mg-tooltip",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",14),c["\u0275\u0275elementStart"](29,"div",15),c["\u0275\u0275text"](30),c["\u0275\u0275element"](31,"mg-tooltip",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"mg-form-select",5),c["\u0275\u0275listener"]("selectionChanged",(function(e){return t.updateUpdateExisting(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",14),c["\u0275\u0275elementStart"](34,"div",15),c["\u0275\u0275text"](35),c["\u0275\u0275element"](36,"mg-tooltip",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"mg-form-select",5),c["\u0275\u0275listener"]("selectionChanged",(function(e){return t.updateArchiveMissing(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"mat-slide-toggle",16),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.notificationEmailsToggle=e}))("ngModelChange",(function(e){return t.updateNotificationEmailsToggle(e)})),c["\u0275\u0275text"](39," Send Rostering Results Email "),c["\u0275\u0275element"](40,"mg-tooltip",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](41,Nn,1,8,"mg-form-select",17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](42,Gn,9,12,"div",18),c["\u0275\u0275elementStart"](43,"div",19),c["\u0275\u0275elementStart"](44,"mg-generic-button",20),c["\u0275\u0275listener"]("onClick",(function(){return t.onDeleteSFTPRostering()})),c["\u0275\u0275text"](45),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](46,"div"),c["\u0275\u0275elementStart"](47,"mg-generic-button",21),c["\u0275\u0275listener"]("onClick",(function(){return t.resetSISFields()})),c["\u0275\u0275text"](48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](49,Un,2,2,"mg-generic-button",22),c["\u0275\u0275pipe"](50,"async"),c["\u0275\u0275template"](51,Vn,1,1,"ng-template",null,23,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](53,"div",1),c["\u0275\u0275elementStart"](54,"div",24),c["\u0275\u0275elementStart"](55,"div",25),c["\u0275\u0275text"](56),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](57,"div",26),c["\u0275\u0275text"](58),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](59,"div",26),c["\u0275\u0275text"](60),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](61,"div",27),c["\u0275\u0275elementStart"](62,"a",28),c["\u0275\u0275text"](63," How to set up Automatic Rostering "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](64,jn,42,28,"ng-template",null,29,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](66,qn,18,14,"ng-template",null,30,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](68,zn,24,18,"ng-template",null,31,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](70,Bn,30,23,"ng-template",null,32,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](72,Hn,24,18,"ng-template",null,33,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](74,$n,12,8,"ng-template",null,34,c["\u0275\u0275templateRefExtractor"])),2&e){var n=c["\u0275\u0275reference"](52);c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("multiple",!1)("searchable",!1)("isClearable",!1)("options",t.SIS_TYPE_OPTIONS)("value",t.fields.sisType),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.fields.sisType==t.sisTypeEnum.OTHER),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.fields.sisType==t.sisTypeEnum.AERIES),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.fields.sisType==t.sisTypeEnum.Q),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.fields.sisType==t.sisTypeEnum.INFINITE_CAMPUS),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.fields.sisType==t.sisTypeEnum.CLASSLINK),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.fields.sisType==t.sisTypeEnum.CLEVER),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](16,48,t.isSuperAdmin$)),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.BUTTON_TEST," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",t.fields.studentRostering),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("label",t.MESSAGES.TOOLTIP_UPDATE_STUDENTS),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.fields.studentRostering),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.fields.staffRostering),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("label",t.MESSAGES.TOOLTIP_UPDATE_ADMIN),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ","Existing People"," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("label",t.MESSAGES.TOOLTIP_UPDATE_USERS),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("multiple",!1)("searchable",!1)("isClearable",!1)("options",t.SFTP_EXISTING_USERS_OPTIONS)("value",t.fields.updateExisting),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ","Missing People"," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("label",t.MESSAGES.TOOLTIP_ARCHIVE_USERS),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("multiple",!1)("searchable",!1)("isClearable",!1)("options",t.SFTP_MISSING_USERS_OPTIONS)("value",t.fields.archiveMissing),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.notificationEmailsToggle),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("label",t.MESSAGES.TOOLTIP_ADD_EMAIL_LIST),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.notificationEmailsToggle),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","SUPERADMIN"),c["\u0275\u0275advance"](1),c["\u0275\u0275styleProp"]("margin-top",2,"rem"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.BUTTON_DELETE," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.BUTTON_RESET," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!1===c["\u0275\u0275pipeBind1"](50,50,t.isUpdating$))("ngIfElse",n),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.ONE_ROSTER_INFO_TITLE," "),c["\u0275\u0275advance"](1),c["\u0275\u0275styleProp"]("margin-bottom",2,"rem"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.ONE_ROSTER_DETAILS_MSG," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.ONE_ROSTER_HELP_MSG," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("href",t.MESSAGES.ONE_ROSTER_KB_LINK,c["\u0275\u0275sanitizeUrl"])}},directives:[D.e,D.f,j.E,j.u,j.v,nn.a,rn.a,N.o,D.d,B.a,an.a,j.t,j.w,En.a,yn.a,N.t,G.d,U.a,G.h,V.b,j.d,j.n,j.o,J.a,j.l,j.j,j.B],pipes:[N.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@media print,screen and (min-width:60em){.column-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:50%;margin-bottom:1.7647058824rem}}.row-setting[_ngcontent-%COMP%]{width:100%;height:2.9411764706rem;display:flex;justify-content:space-between;align-items:center;margin:.2941176471rem auto}.row-setting-title[_ngcontent-%COMP%]{width:100%;font-size:.8823529412rem}@media print,screen and (min-width:60em){.indent[_ngcontent-%COMP%]     .row-setting-title{margin-left:2.3529411765rem}}.rostering-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:left;margin:1.1764705882rem auto;line-height:1.4705882353rem}.rostering-info-title[_ngcontent-%COMP%]{font-size:1.1764705882rem;margin-bottom:.5882352941rem}.rostering-info-msg[_ngcontent-%COMP%]{font-size:.8823529412rem}.rostering-info-kb[_ngcontent-%COMP%]{font-weight:700}form[_ngcontent-%COMP%]{width:100%}.form-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.7647058824rem}.form-row-title[_ngcontent-%COMP%]{font-weight:600}.form-row[_ngcontent-%COMP%]   mg-form-select[_ngcontent-%COMP%]{min-width:10rem}mat-slide-toggle[_ngcontent-%COMP%]{margin-bottom:.5882352941rem}.automatic-rostering[_ngcontent-%COMP%]{gap:.2352941176rem}.email-list[_ngcontent-%COMP%]{margin-bottom:.4705882353rem}'],changeDetection:0}),Kn),Qn=l("q1Ec"),Jn=function(e,t){return{title:"Roster Staff",control:e,tooltip:t}};function Xn(e,t){if(1&e&&c["\u0275\u0275elementContainer"](0,18),2&e){var n=c["\u0275\u0275nextContext"]().ngIf,r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](27);c["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",c["\u0275\u0275pureFunction2"](2,Jn,n.staffRostering,r.TOOLTIP_MESSAGES.TOOLTIP_UPDATE_ADMIN))}}function Zn(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mg-form-select",20),c["\u0275\u0275listener"]("selectionChanged",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).changeNotificationEmailsList(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().ngIf,i=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("placeholder","Email address list")("multiple",!0)("addTag",i.addNew)("addTagText","Add email")("searchable",!0)("value",r.notificationEmails.value)("options",i.EMAIL_OPTIONS)("hideSelected",!1)}}var er=function(e,t){return{title:"Roster Students",control:e,tooltip:t}},tr=function(e,t,n,r){return{title:"Existing People",options:e,value:t,control:n,tooltip:r}},nr=function(e,t,n,r){return{title:"Missing People",options:e,value:t,tooltip:n,control:r}},rr=function(e,t){return{title:"Send Rostering Results Email",control:e,tooltip:t}};function ir(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275projection"](1),c["\u0275\u0275elementStart"](2,"div",17),c["\u0275\u0275elementContainer"](3,18),c["\u0275\u0275template"](4,Xn,1,5,"ng-container",19),c["\u0275\u0275elementContainer"](5,18),c["\u0275\u0275elementContainer"](6,18),c["\u0275\u0275elementContainer"](7,18),c["\u0275\u0275template"](8,Zn,2,8,"ng-container",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](27),a=c["\u0275\u0275reference"](25);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",c["\u0275\u0275pureFunction2"](10,er,n.studentRostering,r.TOOLTIP_MESSAGES.TOOLTIP_UPDATE_STUDENTS)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.studentRostering.value),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",a)("ngTemplateOutletContext",c["\u0275\u0275pureFunction4"](13,tr,r.SFTP_EXISTING_USERS_OPTIONS,n.updateExisting.value,n.updateExisting,r.TOOLTIP_MESSAGES.TOOLTIP_UPDATE_USERS)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",a)("ngTemplateOutletContext",c["\u0275\u0275pureFunction4"](18,nr,r.SFTP_MISSING_USERS_OPTIONS,n.archiveMissing.value,r.TOOLTIP_MESSAGES.TOOLTIP_ARCHIVE_USERS,n.archiveMissing)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",c["\u0275\u0275pureFunction2"](23,rr,n.sendNotificationEmails,r.TOOLTIP_MESSAGES.TOOLTIP_ADD_EMAIL_LIST)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.sendNotificationEmails.value)}}function ar(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",24),c["\u0275\u0275elementStart"](2,"div",25),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",26),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](n.name),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.credential)}}function or(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",21),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",22),c["\u0275\u0275template"](4,ar,6,2,"ng-container",23),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.SFTP_CREDENTIALS_MSG," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",n.sftpCredentials)}}function lr(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-generic-button",27),c["\u0275\u0275listener"]("onClick",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]();return e.isUpdatingSubj.next(!0),e.onSubmit()})),c["\u0275\u0275text"](1," Save "),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("isDisabled",r.sftpFormGroup.invalid)}}function sr(e,t){1&e&&c["\u0275\u0275element"](0,"mg-spinner",28),2&e&&c["\u0275\u0275property"]("diameter",40)}function cr(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"mg-tooltip",32),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().tooltip;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("label",n)}}function dr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",29),c["\u0275\u0275elementStart"](1,"div",30),c["\u0275\u0275text"](2),c["\u0275\u0275template"](3,cr,2,1,"ng-container",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-form-select",31),c["\u0275\u0275listener"]("selectionChanged",(function(e){return t.control.setValue(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=t.title,r=t.options,i=t.value,a=t.tooltip;c["\u0275\u0275classProp"]("is-disabled",t.disabled),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",a),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("multiple",!1)("searchable",!1)("isClearable",!1)("options",r)("value",i)}}function ur(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"mg-tooltip",32),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().tooltip;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("label",n)}}function mr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",29),c["\u0275\u0275elementStart"](1,"div",30),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,ur,2,1,"ng-container",8),c["\u0275\u0275element"](4,"mat-slide-toggle",33),c["\u0275\u0275elementEnd"]()),2&e){var n=t.title,r=t.tooltip,i=t.control;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formControl",i)}}function pr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",29),c["\u0275\u0275elementStart"](1,"div",30),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"mg-form-text-input",34),c["\u0275\u0275elementEnd"]()),2&e){var n=t.title,r=t.placeholder,i=t.control;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("placeholder",r)("control",i)}}var gr,fr=["*"],hr=((gr=function(){function e(t,n,r,a,o){i(this,e),this._mrService=t,this._snackbar=n,this._mingaManager=r,this._cdr=a,this._dialog=o,this.MESSAGES=un,this.TOOLTIP_MESSAGES=hn,this.SFTP_EXISTING_USERS_OPTIONS=pn,this.SFTP_MISSING_USERS_OPTIONS=gn,this.sftpFormGroup=new j.k({studentRostering:new j.h(!1,[j.D.required]),staffRostering:new j.h(!1,[j.D.required]),updateExisting:new j.h(!1,[j.D.required]),archiveMissing:new j.h(!1,[j.D.required]),sendNotificationEmails:new j.h(!1,[j.D.required]),notificationEmails:new j.h([],[dn.a.allValuesAsEmailsValidator])}),this.sftpCredentials=[],this.isUpdatingSubj=new p.a(!1),this.sftpRosteringExistsSubj=new p.a(!1),this.hasSavedBefore=!1,this.rosteringStatusChange=new c.EventEmitter,this.EMAIL_OPTIONS=[]}return o(e,[{key:"sftpValues",set:function(e){e&&(this.sftpFormGroup.reset(),this._initFormGroup(e))}},{key:"onSubmit",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._submit();case 2:if(!this._mrService.rosteringFormGroup.controls.methodStatus.value){e.next=17;break}if(this.hasSavedBefore){e.next=14;break}return e.prev=4,e.next=7,this._generateCredentials();case 7:this.hasSavedBefore=!0,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),this._snackbar.open("Error contacting SFTP server:",e.t0);case 13:this.sftpRosteringExistsSubj.next(!0);case 14:this.isUpdatingSubj.next(!1),e.next=18;break;case 17:this.isUpdatingSubj.next(!1);case 18:case"end":return e.stop()}}),e,this,[[4,10]])})))}},{key:"onResetFields",value:function(){this.sftpFormGroup.reset();var e=this.sftpFormGroup.controls;e.studentRostering.setValue(!1),e.staffRostering.setValue(!1),e.updateExisting.setValue(!1),e.archiveMissing.setValue(!1),e.sendNotificationEmails.setValue(!1),e.notificationEmails.setValue([])}},{key:"onDeleteSFTPRostering",value:function(){this._launchDeleteRosteringMethodPrompt()}},{key:"changeNotificationEmailsList",value:function(e){return Object(u.a)(this,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.sftpFormGroup.get("notificationEmails").setValue(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"addNew",value:function(e){return{label:e,value:e}}},{key:"_initFormGroup",value:function(e){var t=this,n=this.sftpFormGroup.controls;"boolean"==typeof e.getStudentRostering()&&n.studentRostering.setValue(e.getStudentRostering()),"boolean"==typeof e.getStaffRostering()&&n.staffRostering.setValue(e.getStaffRostering()),"boolean"==typeof e.getUpdateExisting()&&n.updateExisting.setValue(e.getUpdateExisting()),"boolean"==typeof e.getArchiveMissing()&&n.archiveMissing.setValue(e.getArchiveMissing()),"object"==typeof e.getNotificationEmailsList()&&(n.notificationEmails.setValue(e.getNotificationEmailsList()),this.EMAIL_OPTIONS=[],e.getNotificationEmailsList().forEach((function(e){t.EMAIL_OPTIONS.push({value:e,label:e})}))),this.EMAIL_OPTIONS.length>0&&n.sendNotificationEmails.setValue(!0),Object(Et.$enum)(ht.RosteringMethod).asKeyOrThrow(e.getRosteringMethod()),this._mrService.hasSavedSftpBefore&&(this.sftpRosteringExistsSubj.next(!0),this.hasSavedBefore=!0),this._cdr.markForCheck()}},{key:"_submit",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sftpFormGroup.invalid){e.next=2;break}return e.abrupt("return");case 2:return t=this.sftpFormGroup.controls,(n=new on.sisFields).setRosteringMethod(ht.RosteringMethod.SFTP),n.setStudentRostering(t.studentRostering.value),n.setStaffRostering(t.staffRostering.value),n.setUpdateExisting(t.updateExisting.value),n.setArchiveMissing(t.archiveMissing.value),n.setNotificationEmailsList(t.notificationEmails.value),this._setActiveFlag(n),e.prev=4,e.next=7,this._mingaManager.updateSIS(n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),this._snackbar.open("failed to update SIS: ",e.t0),this.isUpdatingSubj.next(!1);case 12:case"end":return e.stop()}}),e,this,[[4,9]])})))}},{key:"_setActiveFlag",value:function(e){return Object(u.a)(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._mrService.rosteringFormGroup.controls.methodStatus.value,e.setActive(n),t.t0=n,!t.t0){t.next=6;break}return t.next=6,this._mingaManager.deactivateAllRosteringMethods();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"_generateCredentials",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mingaManager.generateMingaSFTPCredentials();case 2:t=e.sent,this.sftpCredentials=[{name:mn.HOST,credential:t.host},{name:mn.USERNAME,credential:t.username},{name:mn.PASSWORD,credential:t.password}],this._cdr.markForCheck();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"_launchDeleteRosteringMethodPrompt",value:function(){var e=this;this._dialog.open(yt.a,{data:{text:{description:this.MESSAGES.SFTP_DELETE_MSG,deleteBtn:"Delete"}}}).afterClosed().subscribe((function(t){return Object(u.a)(e,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.confirmed,!e.t0){e.next=5;break}return e.next=4,this._deleteSFTPRostering();case 4:this.hasSavedBefore=!1;case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"_deleteSFTPRostering",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mrService.deleteSFTPRostering();case 2:this.rosteringStatusChange.emit(!1),this.onResetFields();case 4:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||gr)(c["\u0275\u0275directiveInject"](bt),c["\u0275\u0275directiveInject"](Mt.b),c["\u0275\u0275directiveInject"](Ot.a),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](Ct.b))},gr.\u0275cmp=c["\u0275\u0275defineComponent"]({type:gr,selectors:[["mg-sftp-inputs"]],inputs:{sftpValues:"sftpValues"},outputs:{rosteringStatusChange:"rosteringStatusChange"},ngContentSelectors:fr,decls:30,vars:11,consts:[["fxLayout.gt-sm","row","fxLayoutGap.gt-sm","10rem"],["class","column-wrapper",4,"ngIf"],[1,"column-wrapper"],["fxLayout","column","fxLayoutAlign","center start",1,"rostering-info-container"],[1,"rostering-info-title"],[1,"rostering-info-msg"],[1,"rostering-info-kb"],["target","_blank",3,"href"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"column-wrapper"],["colorTheme","red","variant","secondary","size","medium",3,"isDisabled","onClick"],["colorTheme","navy","variant","clear","size","small",3,"onClick"],["colorTheme","blue","variant","secondary","size","medium",3,"isDisabled","onClick",4,"ngIf","ngIfElse"],["updatingTpl",""],["rowSelect",""],["rowToggle",""],["rowInput",""],[1,"indent"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["outputValueOnly","","appearance","primary",3,"placeholder","multiple","addTag","addTagText","searchable","value","options","hideSelected","selectionChanged"],[1,"rostering-info-container"],[1,"credentials-list"],[4,"ngFor","ngForOf"],[1,"credentials-list-row"],[1,"credentials-list-title"],[1,"credentials-list-value"],["colorTheme","blue","variant","secondary","size","medium",3,"isDisabled","onClick"],[3,"diameter"],[1,"row-setting"],[1,"row-setting-title"],["outputValueOnly","","appearance","primary",3,"multiple","searchable","isClearable","options","value","selectionChanged"],[3,"label"],[3,"formControl"],[3,"placeholder","control"]],template:function(e,t){if(1&e&&(c["\u0275\u0275projectionDef"](),c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275template"](1,ir,9,26,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",5),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",6),c["\u0275\u0275elementStart"](11,"a",7),c["\u0275\u0275text"](12," How to set up Automatic Rostering "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](13,or,5,2,"ng-container",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",9),c["\u0275\u0275elementStart"](15,"mg-generic-button",10),c["\u0275\u0275listener"]("onClick",(function(){return t.onDeleteSFTPRostering()})),c["\u0275\u0275text"](16," Delete "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div"),c["\u0275\u0275elementStart"](18,"mg-generic-button",11),c["\u0275\u0275listener"]("onClick",(function(){return t.onResetFields()})),c["\u0275\u0275text"](19," Reset "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](20,lr,2,1,"mg-generic-button",12),c["\u0275\u0275pipe"](21,"async"),c["\u0275\u0275template"](22,sr,1,1,"ng-template",null,13,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](24,dr,5,9,"ng-template",null,14,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](26,mr,5,3,"ng-template",null,15,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](28,pr,4,3,"ng-template",null,16,c["\u0275\u0275templateRefExtractor"])),2&e){var n=c["\u0275\u0275reference"](23);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.sftpFormGroup.controls),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.SFTP_INFO_TITLE," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.SFTP_DETAILS_MSG," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",t.MESSAGES.SFTP_HELP_MSG," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("href",t.MESSAGES.SFTP_KB_URL,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.sftpCredentials.length),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("isDisabled",!t.sftpRosteringExistsSubj.value),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",!1===c["\u0275\u0275pipeBind1"](21,9,t.isUpdatingSubj))("ngIfElse",n)}},directives:[D.e,D.f,N.o,D.d,B.a,N.t,nn.a,rn.a,N.n,J.a,En.a,an.a,j.t,j.i,Qn.a],pipes:[N.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@media print,screen and (min-width:60em){.column-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:50%;margin-bottom:1.7647058824rem}}.row-setting[_ngcontent-%COMP%]{width:100%;height:2.9411764706rem;display:flex;justify-content:space-between;align-items:center;margin:.2941176471rem auto}.row-setting-title[_ngcontent-%COMP%]{width:100%;font-size:.8823529412rem}@media print,screen and (min-width:60em){.indent[_ngcontent-%COMP%]     .row-setting-title{margin-left:2.3529411765rem}}.rostering-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:left;margin:1.1764705882rem auto;line-height:1.4705882353rem}.rostering-info-title[_ngcontent-%COMP%]{font-size:1.1764705882rem;margin-bottom:.5882352941rem}.rostering-info-msg[_ngcontent-%COMP%]{font-size:.8823529412rem}.rostering-info-kb[_ngcontent-%COMP%]{font-weight:700}.credentials-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%}.credentials-list-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.8823529412rem;margin:.4705882353rem 0}.credentials-list-title[_ngcontent-%COMP%]{padding:.4705882353rem .4705882353rem .4705882353rem 0;margin-right:.5882352941rem}.credentials-list-value[_ngcontent-%COMP%]{width:20.5882352941rem;text-align:end;background-color:#e2e2e2;border-color:#737373;font-weight:700;padding:.4705882353rem}mg-form-text-input[_ngcontent-%COMP%]{width:100%}']}),gr),vr=l("D4bV"),Sr=l("w8an");function xr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h2",8),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.MESSAGES.HEADER_TITLE)}}function Er(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function yr(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Er,1,0,"ng-container",9),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](6);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}var Cr=function(e){return{$implicit:e}};function Or(e,t){if(1&e&&c["\u0275\u0275elementContainer"](0,16),2&e){var n=c["\u0275\u0275nextContext"]().ngIf;c["\u0275\u0275nextContext"](2);var r=c["\u0275\u0275reference"](10);c["\u0275\u0275property"]("ngTemplateOutlet",r)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](2,Cr,n.methodStatus))}}function br(e,t){if(1&e&&c["\u0275\u0275elementContainer"](0,16),2&e){var n=c["\u0275\u0275nextContext"]().ngIf;c["\u0275\u0275nextContext"](2);var r=c["\u0275\u0275reference"](12);c["\u0275\u0275property"]("ngTemplateOutlet",r)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](2,Cr,n.methodStatus))}}function Mr(e,t){if(1&e&&c["\u0275\u0275elementContainer"](0,17),2&e){c["\u0275\u0275nextContext"](3);var n=c["\u0275\u0275reference"](14);c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function _r(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",18),c["\u0275\u0275element"](1,"mg-sis-stats"),c["\u0275\u0275elementEnd"]())}function Tr(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementContainerStart"](1,12),c["\u0275\u0275template"](2,Or,1,4,"ng-container",13),c["\u0275\u0275template"](3,br,1,4,"ng-container",13),c["\u0275\u0275template"](4,Mr,1,1,"ng-container",14),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275template"](5,_r,2,0,"div",15),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitch",n.rosteringMethod.value),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",r.ROSTERING_METHODS.ONE_ROSTER),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",r.ROSTERING_METHODS.SFTP),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",r.ROSTERING_METHODS.SIS_API),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.methodStatus.value)}}function wr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",10),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](2,Tr,6,5,"ng-container",11)),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.MESSAGES.PAGE_SUBTITLE),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.mrService.rosteringFormGroup.controls)}}function Ir(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",19),c["\u0275\u0275elementStart"](1,"div",20),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"mat-slide-toggle",23),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().ngIf,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](r.MESSAGES.STATE_SELECT_MSG),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formControl",n.methodStatus)}}function Pr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"div",19),c["\u0275\u0275elementStart"](2,"div",20),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-form-select",21),c["\u0275\u0275listener"]("selectionChanged",(function(e){return t.ngIf.rosteringMethod.setValue(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,Ir,4,2,"div",22),c["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275classProp"]("is-disabled",n.methodStatus.value),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](r.MESSAGES.METHOD_SELECT_TITLE),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("multiple",!1)("searchable",!1)("isClearable",!1)("options",r.ROSTERING_OPTIONS)("value",n.rosteringMethod.value),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.rosteringMethod.value!==r.ROSTERING_METHODS.SIS_API)}}function Rr(e,t){if(1&e&&c["\u0275\u0275template"](0,Pr,6,9,"div",11),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("ngIf",n.mrService.rosteringFormGroup.controls)}}function kr(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Ar(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-sis-inputs",24),c["\u0275\u0275listener"]("rosteringStatusChange",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onResetRosteringForm()}))("testInfo",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().testIntegration(e)})),c["\u0275\u0275pipe"](1,"async"),c["\u0275\u0275template"](2,kr,1,0,"ng-container",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",10),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](8);c["\u0275\u0275property"]("sisFieldValues",c["\u0275\u0275pipeBind1"](1,3,r.mrService.oneRosterSisValuesObs)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngTemplateOutlet",i),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](r.MESSAGES.ONE_ROSTER_CHANGE_TITLE)}}function Fr(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Lr(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-sftp-inputs",25),c["\u0275\u0275listener"]("rosteringStatusChange",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onResetRosteringForm()})),c["\u0275\u0275pipe"](1,"async"),c["\u0275\u0275template"](2,Fr,1,0,"ng-container",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",10),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"](),i=c["\u0275\u0275reference"](8);c["\u0275\u0275property"]("sftpValues",c["\u0275\u0275pipeBind1"](1,3,r.mrService.sftpSisValuesObs)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngTemplateOutlet",i),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](r.MESSAGES.SFTP_CHANGE_TITLE)}}function Dr(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Nr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",26),c["\u0275\u0275template"](1,Dr,1,0,"ng-container",9),c["\u0275\u0275elementEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](8);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Gr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mg-text",27),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.NON_ACCOUNT_MANAGE_MSG," ")}}var Ur,Vr,jr,qr,zr=((Ur=function(){function e(t,n,r,a,o,l){i(this,e),this.mrService=t,this._snackbar=n,this._mingaManager=r,this._router=a,this._sisTestDialog=o,this._cdr=l,this.MESSAGES=St,this.ROSTERING_OPTIONS=xt,this.ROSTERING_METHODS=ht.RosteringMethod,this.SAoutput=""}return o(e,[{key:"testIntegration",value:function(e){return Object(u.a)(this,void 0,void 0,r().mark((function t(){var n,i,a,o,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._mingaManager.testSISIntegration(e);case 2:n=t.sent,i=n.error,a=n.infos,o=n.rawOutput,l=[],a&&Object(ft.isArray)(a)&&(l=a.map((function(e){return{id:e.id,name:e.name}}))),this.launchTestInfoDialog(l,o,i);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"launchTestInfoDialog",value:function(e,t,n){return Object(u.a)(this,void 0,void 0,r().mark((function i(){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this._sisTestDialog.open({data:{schoolInfos:e,rawOutput:t,error:n}});case 1:case"end":return r.stop()}}),i,this)})))}},{key:"onClose",value:function(){Object(vt.a)(this._router)}},{key:"onResetRosteringForm",value:function(){return Object(u.a)(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.mrService.rosteringFormGroup.controls).rosteringMethod.setValue(ht.RosteringMethod.ONE_ROSTER),t.methodStatus.setValue(!1,{emitEvent:!1}),e.next=5,this.mrService.initRosteringSisValues();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Ur)(c["\u0275\u0275directiveInject"](bt),c["\u0275\u0275directiveInject"](Mt.b),c["\u0275\u0275directiveInject"](Ot.a),c["\u0275\u0275directiveInject"](d.g),c["\u0275\u0275directiveInject"](Lt),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef))},Ur.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Ur,selectors:[["mg-manage-rostering"]],features:[c["\u0275\u0275ProvidersFeature"]([bt])],decls:17,vars:4,consts:[["headerLeft",""],[4,"ngIf","ngIfElse"],["mainContentTemplate",""],["methodSelectTemplate",""],["oneRosterTemplate",""],["sftpTemplate",""],["sisApiTemplate",""],["nonAccountManageTemplate",""],[1,"header-title"],[4,"ngTemplateOutlet"],[1,"subheading"],[4,"ngIf"],[3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],["class","stats-container",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],[1,"stats-container"],[1,"row-setting"],[1,"row-setting-title"],["outputValueOnly","","appearance","primary",1,"row-setting-select",3,"multiple","searchable","isClearable","options","value","selectionChanged"],["class","row-setting",4,"ngIf"],[3,"formControl"],[3,"sisFieldValues","rosteringStatusChange","testInfo"],[3,"sftpValues","rosteringStatusChange"],[1,"column-wrap"],["variant","header-lg","fontWeight","400","spacing","4"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mg-manager-overlay-subpage"),c["\u0275\u0275template"](1,xr,2,1,"ng-template",null,0,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](3,yr,2,1,"ng-container",1),c["\u0275\u0275pipe"](4,"hasPermission"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,wr,3,2,"ng-template",null,2,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](7,Rr,1,1,"ng-template",null,3,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](9,Ar,5,5,"ng-template",null,4,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](11,Lr,5,5,"ng-template",null,5,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](13,Nr,2,1,"ng-template",null,6,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](15,Gr,2,1,"ng-template",null,7,c["\u0275\u0275templateRefExtractor"])),2&e){var n=c["\u0275\u0275reference"](16);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](4,2,"MINGA_ACCOUNT_MANAGE"))("ngIfElse",n)}},directives:[Dt.a,N.o,N.t,N.q,N.r,tn,nn.a,rn.a,an.a,j.t,j.i,Wn,hr,vr.a],pipes:[Sr.a,N.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@media print,screen and (min-width:60em){.column-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:50%;margin-bottom:1.7647058824rem}}.row-setting[_ngcontent-%COMP%]{width:100%;height:2.9411764706rem;display:flex;justify-content:space-between;align-items:center;margin:.2941176471rem auto}.row-setting-title[_ngcontent-%COMP%]{width:100%;font-size:.8823529412rem}@media print,screen and (min-width:60em){.indent[_ngcontent-%COMP%]     .row-setting-title{margin-left:2.3529411765rem}}.rostering-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:left;margin:1.1764705882rem auto;line-height:1.4705882353rem}.rostering-info-title[_ngcontent-%COMP%]{font-size:1.1764705882rem;margin-bottom:.5882352941rem}.rostering-info-msg[_ngcontent-%COMP%]{font-size:.8823529412rem}.rostering-info-kb[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}.manager-overlay-subpage[_ngcontent-%COMP%]{margin-bottom:3.5294117647rem}.manager-overlay-subpage-header[_ngcontent-%COMP%]{background:#f4f4f4;padding:1.1764705882rem 20%;box-sizing:border-box;margin:-20px -20% 0;width:calc(140%)}.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;display:block}}.manager-overlay-subpage-content[_ngcontent-%COMP%]{flex:1;padding:1.1764705882rem 0;box-sizing:border-box}.manager-overlay-subpage-content.white-bg[_ngcontent-%COMP%]{background-color:#fff}.quick-action-container[_ngcontent-%COMP%]{margin-bottom:1.1764705882rem}.quick-action-container[_ngcontent-%COMP%]:empty{display:none}.quick-action-btn[_ngcontent-%COMP%]{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;border-radius:0;text-align:inherit;box-shadow:none;color:inherit;font:inherit;padding:0;margin:0;background:none;border:none;outline:none;box-sizing:border-box;cursor:pointer;font-size:.8823529412rem;color:#036;display:inline-flex;align-items:center;justify-content:center;--mg-icon-size:20px}.quick-action-btn[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:.2941176471rem}.quick-action-btn[_ngcontent-%COMP%]:hover{opacity:.7}@media print,screen and (max-width:37.49875em){.quick-action-btn[_ngcontent-%COMP%]{display:none}}.manager-layout-loading-container[_ngcontent-%COMP%]{padding:2.9411764706rem 0}.header-title[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.header-title[_ngcontent-%COMP%]{text-align:center;display:block}}.subheading[_ngcontent-%COMP%]{font-size:1.1764705882rem;font-weight:800}.subheading[_ngcontent-%COMP%]:not(:first-child){margin-top:1.4705882353rem}.is-disabled[_ngcontent-%COMP%]{pointer-events:none}.is-disabled[_ngcontent-%COMP%]     .ng-select-container.ng-has-value{color:#d3d3d3}.stats-container[_ngcontent-%COMP%]{display:block;max-height:300px;overflow:scroll}.SA-output[_ngcontent-%COMP%]{overflow:scroll;white-space:pre-line}.row-setting-title[_ngcontent-%COMP%]{font-weight:600}.row-setting-select[_ngcontent-%COMP%]{min-width:11rem}.column-wrap[_ngcontent-%COMP%]{width:50%}']}),Ur),Br=l("pMoy"),Hr=((Vr=o((function e(){i(this,e)}))).\u0275fac=function(e){return new(e||Vr)},Vr.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Vr}),Vr.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Be.a,Ze.a,Ye.a,He.a,N.c,je.a,We.l]]}),Vr),$r=l("Ruz7"),Kr=l("1uLP"),Yr=l("wrPN"),Wr=l("37Vl"),Qr=((jr=o((function e(){i(this,e)}))).\u0275fac=function(e){return new(e||jr)},jr.\u0275mod=c["\u0275\u0275defineNgModule"]({type:jr}),jr.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Ke.a,$r.a,Ye.a,At.a,Ft,nt.b,Kr.a,qe.a,Hr,Ze.a,I.b,Wr.a,Yr.a,N.c,j.m,an.b,j.A,je.a,Br.b,V.c]]}),jr),Jr=function(e){return e.ROOT="people-manager",e.MANAGE="manage",e.ROSTER="roster",e}({}),Xr=[{path:"",pathMatch:"full",redirectTo:"manage"},{path:"",component:ut,data:{defaultRootPath:Jr.ROOT,tabs:[{title:"Manage People",path:Jr.MANAGE,permissions:{atLeastOne:[M.MingaPermission.MINGA_PEOPLE_MANAGE]}},{title:"Rostering",path:Jr.ROSTER,permissions:{atLeastOne:[M.MingaPermission.MINGA_ACCOUNT_MANAGE]}}]},children:[{path:Jr.MANAGE,component:Ve,data:{title:"Manage People"}},{path:Jr.ROSTER,component:zr,data:{title:"Rostering"}}]}],Zr=((qr=o((function e(){i(this,e)}))).\u0275fac=function(e){return new(e||qr)},qr.\u0275mod=c["\u0275\u0275defineNgModule"]({type:qr}),qr.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[gt,Qr,d.k.forChild(Xr)],d.k]}),qr)},VD70:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SisIdFieldKey=void 0,(r=t.SisIdFieldKey||(t.SisIdFieldKey={})).IDENTIFIER="identifier",r.SOURCE_ID="sourcedId",r.USERNAME="username"},"y++Y":function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("VD70"),t)}}])}();
//# sourceMappingURL=minga-app-src-app-people-manager-route-PeopleManagerRoutes-module-es5.js.map