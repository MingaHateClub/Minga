(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{oy35:function(e,t,n){"use strict";n.d(t,"a",(function(){return me})),n.d(t,"b",(function(){return Me}));var a=n("mrSG"),o=n("8Y7J"),r=n("XNiG"),i=n("2Vo4"),l=n("LRne"),s=n("1G5W"),c=n("lJxs"),p=n("3ewR"),d=n("crfe"),g=n("31Db"),h=n("PLeU"),u=n("tfHx"),m=n("2ucu"),f=function(e){return e.SELECT_ALL="Select All",e.DESELECT_ALL="Deselect All",e.SELECT_ALL_TOGGLE="Select All / Clear",e.CANCEL_BUTTON="Cancel",e.SEARCH_BUTTON="Search",e.ERRORS_BUTTON="View Errors",e}({}),x=n("SVse"),C=n("rBtp"),b=n("iELJ"),S=n("iInd"),v=n("UWMR"),y=n("SYVq"),O=n("yaoB"),w=n("VDRc"),_=n("ura0"),P=n("Hp2Z"),E=n("kCL4"),M=n("Ynp+"),T=n("IYKa"),F=n("9nFH"),I=n("cXmD"),B=n("rLNl");function L(e,t){1&e&&o["\u0275\u0275elementContainer"](0)}function R(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,L,1,0,"ng-container",8),o["\u0275\u0275elementContainerEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngTemplateOutlet",e)}}function A(e,t){1&e&&o["\u0275\u0275elementContainer"](0)}function k(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,A,1,0,"ng-container",8),o["\u0275\u0275elementContainerEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](5);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngTemplateOutlet",e)}}const G=function(){return{isNewModal:!1}};function D(e,t){if(1&e&&(o["\u0275\u0275element"](0,"mg-legacy-overlay-nav",9),o["\u0275\u0275elementContainer"](1,10)),2&e){const e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](7);o["\u0275\u0275property"]("component",e),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",o["\u0275\u0275pureFunction0"](3,G))}}function V(e,t){if(1&e&&o["\u0275\u0275elementContainer"](0,14),2&e){o["\u0275\u0275nextContext"](3);const e=o["\u0275\u0275reference"](11);o["\u0275\u0275property"]("ngTemplateOutlet",e)}}function j(e,t){1&e&&o["\u0275\u0275template"](0,V,1,1,"ng-template",null,13,o["\u0275\u0275templateRefExtractor"])}function $(e,t){1&e&&o["\u0275\u0275elementContainer"](0)}function N(e,t){if(1&e&&o["\u0275\u0275template"](0,$,1,0,"ng-container",8),2&e){o["\u0275\u0275nextContext"](2);const e=o["\u0275\u0275reference"](9);o["\u0275\u0275property"]("ngTemplateOutlet",e)}}const z=function(){return{isNewModal:!0}};function U(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mg-overlay-primary",11),o["\u0275\u0275template"](1,j,2,0,void 0,0),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementContainer"](3,10),o["\u0275\u0275template"](4,N,1,1,"ng-template",null,12,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](7);o["\u0275\u0275classProp"]("is-new-modal",!e.isOverlay),o["\u0275\u0275property"]("overlayTitle",e.pageTitle)("headerBackground",e.modalConfig.headerBg)("isLoading",!1),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!0===o["\u0275\u0275pipeBind1"](2,8,e.isMultiPage$)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",o["\u0275\u0275pureFunction0"](10,z))}}function H(e,t){if(1&e&&o["\u0275\u0275elementContainer"](0,14),2&e){o["\u0275\u0275nextContext"](2);const e=o["\u0275\u0275reference"](11);o["\u0275\u0275property"]("ngTemplateOutlet",e)}}function Q(e,t){1&e&&o["\u0275\u0275elementContainer"](0)}function W(e,t){1&e&&o["\u0275\u0275elementContainer"](0)}const J=function(e){return{"is-new-modal":e}};function Y(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",15),o["\u0275\u0275template"](1,H,1,1,"ng-container",16),o["\u0275\u0275elementStart"](2,"div",17),o["\u0275\u0275template"](3,Q,1,0,"ng-container",8),o["\u0275\u0275template"](4,W,1,0,"ng-container",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](13),n=o["\u0275\u0275reference"](15);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.isOverlay),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](4,J,!e.isOverlay)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngTemplateOutlet",t),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngTemplateOutlet",n)}}function q(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-button-icon",22),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).resetSearchResults()})),o["\u0275\u0275text"](1," Reset Search "),o["\u0275\u0275elementEnd"]()}}function K(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-button-icon",23),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).exportResults()})),o["\u0275\u0275text"](1," Export List "),o["\u0275\u0275elementEnd"]()}}function X(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-generic-button",24),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onSave()})),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("isDisabled",0===e.selectState.size()),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,2,e.selectState.getLabel())," ")}}const Z=function(){return{"has-items":!1}};function ee(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",18),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275template"](2,q,2,0,"mg-button-icon",19),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275template"](4,K,2,0,"mg-button-icon",20),o["\u0275\u0275pipe"](5,"async"),o["\u0275\u0275template"](6,X,3,4,"mg-generic-button",21),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();let t=null,n=null,a=null;o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction0"](11,Z))("fxLayoutAlign",null!=(t=o["\u0275\u0275pipeBind1"](1,5,e.dataAsListItems$))&&t.length||e.selectState.size()?"space-between center":"end center"),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",(null==(n=o["\u0275\u0275pipeBind1"](3,7,e.dataAsListItems$))?null:n.length)&&!e.isOverlay),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",(null==(a=o["\u0275\u0275pipeBind1"](5,9,e.dataAsListItems$))?null:a.length)&&!e.isOverlay),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!e.isReadOnly)}}function te(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",28),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("fxFlex",o["\u0275\u0275pipeBind1"](1,2,e.isMultiPage$)?33:50),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.selectState.pageTitle," ")}}function ne(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-button-toggle",33),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",t.index),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e," ")}}function ae(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",30),o["\u0275\u0275elementStart"](1,"mat-button-toggle-group",31),o["\u0275\u0275listener"]("change",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).changePage(t.value)})),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275template"](3,ne,2,2,"mat-button-toggle",32),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.ngIf,n=o["\u0275\u0275nextContext"](3);o["\u0275\u0275property"]("fxFlex",n.isOverlay?"33":"auto"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("value",o["\u0275\u0275pipeBind1"](2,3,n.selectState.currentPageSubj)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",e)}}function oe(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,ae,4,5,"div",29),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](2,1,e.pages$))}}function re(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-button-icon",23),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).exportResults()})),o["\u0275\u0275text"](1," Export List "),o["\u0275\u0275elementEnd"]()}}function ie(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",34),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275template"](2,re,2,0,"mg-button-icon",20),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);let t=null;o["\u0275\u0275property"]("fxFlex",o["\u0275\u0275pipeBind1"](1,2,e.isMultiPage$)?33:50),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null==(t=o["\u0275\u0275pipeBind1"](3,4,e.dataAsListItems$))?null:t.length)}}function le(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"header",25),o["\u0275\u0275template"](1,te,3,4,"div",26),o["\u0275\u0275template"](2,oe,3,3,"ng-container",0),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275template"](4,ie,4,6,"div",27),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](6,J,!e.isOverlay)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.isOverlay),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](3,4,e.isMultiPage$)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.isOverlay)}}function se(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.searchErrors," ")}}function ce(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",42),o["\u0275\u0275elementStart"](1,"div"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mg-button-clear",43),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).openErrorsDialog()})),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("There were ",e.searchErrors.length," errors while searching"),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.MESSAGES.ERRORS_BUTTON," ")}}function pe(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",44),o["\u0275\u0275element"](1,"div",45),o["\u0275\u0275elementStart"](2,"mg-generic-button",24),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).clickSearch()})),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("isDisabled",o["\u0275\u0275pipeBind1"](3,2,e.loading$)),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.MESSAGES.SEARCH_BUTTON," ")}}function de(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"aside",35),o["\u0275\u0275elementStart"](1,"mg-people-select-search",36),o["\u0275\u0275listener"]("searchTextChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onSearchText(t)}))("onSubmit",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().clickSearch(t)}))("onSubmitBarcodeInput",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onBarcodeScannerInput(t)}))("onSubmitCameraBarcodeInput",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onCameraBarcodeScannerInput(t)}))("saveAndClose",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onSave()}))("searchFileChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onSearchFile(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"div",37),o["\u0275\u0275template"](3,se,2,1,"span",0),o["\u0275\u0275template"](4,ce,5,2,"div",38),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"mg-people-select-filter",39,40),o["\u0275\u0275listener"]("groupsChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().filter.groups=t}))("gradesChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().filter.grades=t}))("schoolsChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().filter.schools=t}))("roleTypesChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().filter.roleTypes=t}))("groupsChange",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onFilterChange()}))("gradesChange",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onFilterChange()}))("schoolsChange",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onFilterChange()}))("roleTypesChange",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onFilterChange()}))("filterChanged",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().setFilter(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,pe,5,4,"div",41),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("showBarcodeScanner",e.canAddSaveWithBarcodeScanner)("selectionSize",e.selectState.sizeCount)("resetBarcode",e.resetBarcodeEvent.asObservable())("openBarcodeScanner",e.openBarcodeScannerEvent.asObservable()),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",1===e.searchErrors.length),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.searchErrors.length>1),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("availableGroupOptions",e.availableGroupOptions)("availableSchoolOptions",e.availableSchoolOptions)("availableGradeOptions",e.availableGradeOptions)("availableRoleTypeOptions",e.availableRoleTypeOptions)("hideGroupFilter",e.hideGroupFilter)("hideSchoolFilter",e.hideGroupFilter)("hideGradeFilter",e.hideGradeFilter)("hideRoleFilter",e.hideRoleFilter)("groups",e.filter.groups)("grades",e.filter.grades)("schools",e.filter.schools)("roleTypes",e.filter.roleTypes),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!e.realtimeSearch)}}function ge(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-generic-button",24),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).onSave()})),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](3);let t=null;o["\u0275\u0275property"]("isDisabled",!(null!=(t=o["\u0275\u0275pipeBind1"](1,2,e.dataAsListItems$))&&t.length||e.selectState.size())),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](3,4,e.selectState.getLabel())," ")}}function he(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",48),o["\u0275\u0275template"](2,ge,4,6,"mg-generic-button",21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!e.isReadOnly)}}function ue(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"main",46),o["\u0275\u0275element"](1,"mg-people-select",47),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275template"](4,he,3,1,"ng-container",0),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("availablePeople",o["\u0275\u0275pipeBind1"](2,4,e.dataAsListItems$))("filters",o["\u0275\u0275pipeBind1"](3,6,e.filters$))("selectionModel",e.selectState),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",e.isOverlay)}}let me=(()=>{class e{constructor(e,t,n,a,o,p,d,g,h,m){var x,C,b;this._location=e,this._cdr=t,this.selectState=n,this.matDialog=a,this.route=o,this.router=p,this.injector=d,this.snackBar=g,this.dialogData=h,this._modalOverlayRef=m,this._destroyed$=new r.a,this.data$=null===(x=this.selectState)||void 0===x?void 0:x.getData(),this.toggleSelectAll=!1,this.MESSAGES=f,this.modalConfig={headerBg:u.c.TEAL},this.isMobileDevice=window.MINGA_APP_ANDROID||window.MINGA_APP_IOS,this.availableGroupOptions=[],this.availableSchoolOptions=[],this.availableGradeOptions=[],this.availableRoleTypeOptions=[],this.hideGroupFilter=!1,this.hideGradeFilter=!1,this.hideSchoolFilter=!1,this.hideRoleFilter=!1,this._filtersSubj=new i.a({grades:[],roleTypes:[],groups:[],schools:[],keywords:null}),this.filters$=this._filtersSubj.asObservable().pipe(Object(s.a)(this._destroyed$)),this.filter={grades:[],roleTypes:[],groups:[],schools:[],keywords:null},this.isOverlay=!0,this.searchErrors=[],this.goToSelectedTabEvent=new r.a,this.resetBarcodeEvent=new r.a,this.openBarcodeScannerEvent=new r.a,this.realtimeSearch=!1,this.loading$=new i.a(!1),this.resetSearchResults=()=>this.selectState.getDataSource().resetSearch(),this._navigationState=null===(b=null===(C=this.router.getCurrentNavigation())||void 0===C?void 0:C.extras)||void 0===b?void 0:b.state;let S=this.route.snapshot.data.selectStateToken;if(S||this.dialogData&&this.dialogData.selectStateToken&&(S=this.dialogData.selectStateToken,this.isOverlay=!1),S){const e=d.get(S);e&&(this.selectState=e)}if(!this.selectState)throw new Error("No select state for people selector");this.dataAsListItems$=this.selectState.getData(),this.canAddSaveWithBarcodeScanner=this.selectState.canAddSaveWithBarcodeScanner,this.pages$=Object(l.a)(this.selectState.getPageDefinitions()).pipe(Object(s.a)(this._destroyed$),Object(c.a)(e=>e.map(e=>e.label))),this.isMultiPage$=this.pages$.pipe(Object(c.a)(e=>e.length>1)),this.selectState.getSupportedFilters().pipe(Object(s.a)(this._destroyed$)).subscribe(e=>{this.hideGradeFilter=!e.supportsGrade,this.hideGroupFilter=!e.supportsGroups,this.hideRoleFilter=!e.supportsRole})}ngAfterViewInit(){var e;(null===(e=this._navigationState)||void 0===e?void 0:e.openCameraScanner)&&this.openBarcodeScannerEvent.next()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}data(){var e;return null===(e=this.selectState)||void 0===e?void 0:e.getData()}changePage(e){this.selectState.changePage(e)}setFilter(e){const t=Object.assign(Object.assign({},this.filter),{[e.type]:e.value});this._filtersSubj.next(t)}onClose(e,t){this.selectState.getDataSource().resetSearch(),this.selectState.clear(),this.selectState.cleanup(),e?this.router.navigate(e,{state:t}):this._modalOverlayRef?this._modalOverlayRef.close(u.f.SUBMIT):this._location.back()}registerOnOverlayConfig(e){e({wide:!0,containWithinViewport:!0})}onSearchText(e){this.setFilter({type:"keywords",value:e}),this.realtimeSearch&&(this.searchErrors=[],this.selectState.getDataSource().searchByText(e,this.filter).pipe(Object(s.a)(this._destroyed$)).subscribe({error:e=>{this.searchErrors.push(e.message)}}))}onBarcodeScannerInput(e){return Object(a.a)(this,void 0,void 0,(function*(){this.goToSelectedTabEvent.next(),this.setFilter({type:"keywords",value:e.text});try{yield this.selectState.onBarcodeScanComplete(e.text)}catch(t){this.snackBar.open(t.message)}yield this.selectState.onBarcodeScanCancel(),this.resetBarcodeEvent.next(),this.selectState.getDataSource().resetSearch()}))}onCameraBarcodeScannerInput(e){return Object(a.a)(this,void 0,void 0,(function*(){if(window.MINGA_APP_BROWSER||this.filterComponent.close(),e.cancelled||!e.text)yield this.selectState.onBarcodeScanCancel(),this.selectState.getDataSource().resetSearch(),this.resetBarcodeEvent.next();else if(e.text){this.setFilter({type:"keywords",value:e.text}),this.goToSelectedTabEvent.next();try{yield this.selectState.onBarcodeScanComplete(e.text),this.selectState.reOpenScannerAfterComplete&&setTimeout(()=>{this.openBarcodeScannerEvent.next()},500)}catch(t){this.snackBar.open(t.message),setTimeout(()=>{this.openBarcodeScannerEvent.next()},1500)}}}))}onSearchFile(e){e&&(this.searchErrors=[],this.selectState.getDataSource().searchByFile(e,this.filter).pipe(Object(s.a)(this._destroyed$)).subscribe({error:e=>this.searchErrors.push(e.message)}))}onFilterChange(){this.realtimeSearch&&this.refreshSearch()}clickSearch(e){this.refreshSearch(),this.isMobileDevice&&this._scroll()}exportResults(){this.selectState.exportData()}_scroll(){const e=document.getElementById("btn-toggle-wrap");e&&e.scrollIntoView({behavior:"smooth"})}onSave(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.selectState.submit();this.selectState.getDataSource().resetSearch(),this.searchComponent.clearTextSearch(),(e.shouldClose||e.routerPath)&&this.onClose(e.routerPath,null==e?void 0:e.routerState)}))}refreshSearch(){switch(this.searchErrors=[],this.searchComponent.lastSearchType){case g.c.Text:this.refreshTextSearch();break;case g.c.File:this.refreshFileSearch();break;case g.c.None:this.refreshNoneSearch()}}refreshTextSearch(){this.handleLoadingObservable(this.selectState.getDataSource().searchByText(this.searchComponent.searchText,this.filter))}refreshFileSearch(){this.handleLoadingObservable(this.selectState.getDataSource().searchByFile(this.searchComponent.searchFile,this.filter))}refreshNoneSearch(){this.handleLoadingObservable(this.selectState.getDataSource().searchByText("",this.filter))}handleLoadingObservable(e){this.loading$.next(!0),e.pipe(Object(s.a)(this._destroyed$)).subscribe({next:()=>this.loading$.next(!1),error:e=>{this.searchErrors.push(e.message),this.loading$.next(!1)},complete:()=>this.loading$.next(!1)})}cancel(){this.onClose()}getPeopleSelectAvailableTabLabel(){return this.selectState.peopleSelectAvailableTabLabel}getPeopleSelectAddedTabLabel(){return this.selectState.peopleSelectAddedTabLabel}get pageTitle(){return this.selectState.pageTitle}getPageTitle(){return this.selectState.pageTitle}get isReadOnly(){return this.selectState.isReadOnly}openErrorsDialog(){this.matDialog.open(p.a,{data:{errors:this.searchErrors}})}onOverlayPrevious(){this.selectState.getDataSource().resetSearch(),this.selectState.clear(),this.selectState.cleanup(),Object(h.a)(this.router)}handleOnPressEscKey(e){this.onOverlayPrevious()}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](x.k),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](C.a,8),o["\u0275\u0275directiveInject"](b.b),o["\u0275\u0275directiveInject"](S.a),o["\u0275\u0275directiveInject"](S.g),o["\u0275\u0275directiveInject"](o.Injector),o["\u0275\u0275directiveInject"](v.b),o["\u0275\u0275directiveInject"](u.b,8),o["\u0275\u0275directiveInject"](u.d,8))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&(o["\u0275\u0275viewQuery"](d.a,1),o["\u0275\u0275viewQuery"](g.a,1),o["\u0275\u0275viewQuery"](m.a,1)),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.filterComponent=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.searchComponent=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.peopleSelect=e.first)}},hostBindings:function(e,t){1&e&&o["\u0275\u0275listener"]("keydown.escape",(function(e){return t.handleOnPressEscKey(e)}),!1,o["\u0275\u0275resolveDocument"])},inputs:{availableGroupOptions:"availableGroupOptions",availableSchoolOptions:"availableSchoolOptions",availableGradeOptions:"availableGradeOptions",availableRoleTypeOptions:"availableRoleTypeOptions",hideGroupFilter:"hideGroupFilter",hideGradeFilter:"hideGradeFilter",hideSchoolFilter:"hideSchoolFilter",hideRoleFilter:"hideRoleFilter"},decls:16,vars:2,consts:[[4,"ngIf"],["legacyOverlay",""],["modalOverlay",""],["mainContent",""],["modalFooterTemplate",""],["headerTemplate",""],["sideBarTemplate",""],["mainTemplate",""],[4,"ngTemplateOutlet"],[3,"component"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["size","full",3,"overlayTitle","headerBackground","isLoading"],["overlayFooter",""],["modalHeader",""],[3,"ngTemplateOutlet"],[1,"container"],[3,"ngTemplateOutlet",4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start stretch","fxLayoutGap","32px","fxLayoutGap.xs","0px",1,"container-body",3,"ngClass"],["fxLayout","row",1,"overlay-footer",3,"ngClass","fxLayoutAlign"],["class","close-btn-icon mg-no-padding","icon","close",3,"click",4,"ngIf"],["class","close-btn-icon","icon","download-o",3,"click",4,"ngIf"],["colorTheme","blue","size","small",3,"isDisabled","click",4,"ngIf"],["icon","close",1,"close-btn-icon","mg-no-padding",3,"click"],["icon","download-o",1,"close-btn-icon",3,"click"],["colorTheme","blue","size","small",3,"isDisabled","click"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center center","fxLayoutAlign.xs","start stretch","fxLayoutGap","16px","fxLayoutGap.xs","10px",1,"container-header",3,"ngClass"],["fxFlex.xs","auto","class","page-title",3,"fxFlex",4,"ngIf"],["fxFlex.xs","auto","class","reset-search-container",3,"fxFlex",4,"ngIf"],["fxFlex.xs","auto",1,"page-title",3,"fxFlex"],["fxFlex.xs","auto","class","btn-toggle-wrap","id","btn-toggle-wrap",3,"fxFlex",4,"ngIf"],["fxFlex.xs","auto","id","btn-toggle-wrap",1,"btn-toggle-wrap",3,"fxFlex"],[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fxFlex.xs","auto",1,"reset-search-container",3,"fxFlex"],["fxFlex","nogrow",1,"container-sidebar"],[3,"showBarcodeScanner","selectionSize","resetBarcode","openBarcodeScanner","searchTextChange","onSubmit","onSubmitBarcodeInput","onSubmitCameraBarcodeInput","saveAndClose","searchFileChange"],["id","search-errors"],["fxFlex","","fxLayout","column","fxLayoutAlign"," center",4,"ngIf"],[3,"availableGroupOptions","availableSchoolOptions","availableGradeOptions","availableRoleTypeOptions","hideGroupFilter","hideSchoolFilter","hideGradeFilter","hideRoleFilter","groups","grades","schools","roleTypes","groupsChange","gradesChange","schoolsChange","roleTypesChange","filterChanged"],["filterSectionDropdown",""],["fxLayout","row","class","search-btn",4,"ngIf"],["fxFlex","","fxLayout","column","fxLayoutAlign"," center"],["fxFlexAlign","end",1,"mg-no-padding",3,"click"],["fxLayout","row",1,"search-btn"],["fxFlex","auto"],["fxFlex","","fxLayout","column","fxLayoutAlign","start stretch",1,"container-main"],["fxFlex","grow",3,"availablePeople","filters","selectionModel"],["fxLayout","row","fxLayoutGap","16px","fxLayoutAlign","end center",1,"people-select-bottom-controls"]],template:function(e,t){1&e&&(o["\u0275\u0275template"](0,R,2,1,"ng-container",0),o["\u0275\u0275template"](1,k,2,1,"ng-container",0),o["\u0275\u0275template"](2,D,2,4,"ng-template",null,1,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](4,U,6,11,"ng-template",null,2,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](6,Y,5,6,"ng-template",null,3,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](8,ee,7,12,"ng-template",null,4,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](10,le,5,8,"ng-template",null,5,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](12,de,8,19,"ng-template",null,6,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](14,ue,5,8,"ng-template",null,7,o["\u0275\u0275templateRefExtractor"])),2&e&&(o["\u0275\u0275property"]("ngIf",t.isOverlay),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.isOverlay))},directives:[x.o,x.t,y.a,O.a,w.e,w.d,w.f,x.m,_.a,P.a,E.a,w.b,M.b,x.n,M.a,T.a,F.a,I.a,w.a,B.a],pipes:[x.b],styles:["@media print,screen and (min-width:37.5em){mg-overlay-primary[_ngcontent-%COMP%]   .filter-section.narrow-section[_ngcontent-%COMP%]{padding-left:0}}mg-overlay-primary.is-new-modal[_ngcontent-%COMP%]     .modal-overlay-body{padding-top:0;padding-bottom:0}.container[_ngcontent-%COMP%]{position:relative;display:flex;height:100%;flex-direction:column}.container-header[_ngcontent-%COMP%]{background:#f9f9f9;display:flex;align-items:center;padding:.5882352941rem 1.8823529412rem;border-bottom:1px solid rgba(0,0,0,.1);justify-content:center}.container-header.is-new-modal[_ngcontent-%COMP%]{border-bottom:none;padding:0}.container-header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:.4117647059rem;border-color:#c4c4c4}.container-header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:.9411764706rem}.container-header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     span{padding-right:1.7647058824rem;padding-left:1.7647058824rem}.container-header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#2b8dc3!important}.container-header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]     .mat-button-toggle-label-content, .container-header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]     mg-button-icon{color:#fff}.container-header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{color:#036;font-weight:700}.container-body[_ngcontent-%COMP%]{padding-right:1.8823529412rem;padding-left:1.8823529412rem}.container-body.is-new-modal[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.container-sidebar[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.1);width:100%;max-width:19.5294117647rem;padding:1.8823529412rem 1.8823529412rem 1.8823529412rem 0}@media print,screen and (max-width:37.49875em){.container-sidebar[_ngcontent-%COMP%]{padding-right:0;border-right:none;padding-bottom:.9411764706rem}}.container-main[_ngcontent-%COMP%]{padding:1.8823529412rem 0}@media print,screen and (max-width:37.49875em){.container-main[_ngcontent-%COMP%]{padding-top:0!important}}.filter-section[_ngcontent-%COMP%]{margin-bottom:1em;z-index:1;box-sizing:border-box}@media print,screen and (min-width:60em){.filter-section[_ngcontent-%COMP%]{width:33%}}.filter-section.narrow-section[_ngcontent-%COMP%]{padding:16px 32px}.filter-section.wide-section[_ngcontent-%COMP%]{padding:16px 8px}@media (max-width:599px){.filter-section.wide-section[_ngcontent-%COMP%]{padding:16px 8px 5px}}.filter-section.non-sticky[_ngcontent-%COMP%]{position:relative}.filter-section[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{display:none}@media (max-width:599px){.filter-section[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{display:flex}}@media print,screen and (min-width:60em){.container-height[_ngcontent-%COMP%]{height:100%}}.select-section[_ngcontent-%COMP%]{position:relative;padding-top:0;padding-bottom:0;display:flex;flex-direction:column}@media print,screen and (min-width:60em){.select-section[_ngcontent-%COMP%]{width:67%}}.select-section.mg-top-padding[_ngcontent-%COMP%]{padding-top:16px}.select-section[_ngcontent-%COMP%]   mg-people-select[_ngcontent-%COMP%]{display:flex;width:100%;flex:1;flex-direction:column;padding:0 32px;box-sizing:border-box}.select-section[_ngcontent-%COMP%]   mg-people-select.narrow[_ngcontent-%COMP%]{padding:0 16px}.select-section[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{position:absolute;z-index:2;background-color:hsla(0,0%,100%,.8);top:0;left:0;right:0;bottom:0;text-align:center}.select-section[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:3}.section-divider[_ngcontent-%COMP%]{margin-top:16px;border:solid grey;border-width:0 0 0 1px}.people-select-bottom-divider[_ngcontent-%COMP%]{border-top:1px solid grey;padding-top:16px}.people-select-bottom[_ngcontent-%COMP%]{background-color:var(--mg-overlay-content-background,#fff);padding:0 32px 32px}.people-select-bottom.wide-section[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}#people-select-title[_ngcontent-%COMP%]{text-align:center;margin-top:.5em;font-size:1.5em}#people-select-title[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{width:7em;height:1px;margin:.5em auto 0;border-bottom:1px solid grey}.select-separator[_ngcontent-%COMP%], mg-button-clear[_ngcontent-%COMP%]{font-weight:700}#search-errors[_ngcontent-%COMP%]{color:red;text-align:justify;padding-top:.5em}#search-errors[_ngcontent-%COMP%]   mg-button-clear[_ngcontent-%COMP%]{margin-top:.5em;padding:0 .5em}.btn-toggle-wrap[_ngcontent-%COMP%]{text-align:center}.reset-search-container[_ngcontent-%COMP%]{text-align:right}@media print,screen and (max-width:37.49875em){.reset-search-container[_ngcontent-%COMP%]{text-align:center}}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2941176471rem}@media print,screen and (max-width:37.49875em){.page-title[_ngcontent-%COMP%]{text-align:center}}"],changeDetection:0}),e})();var fe=n("u9T3"),xe=n("s7LF"),Ce=n("pMoy"),be=n("o4Yh"),Se=n("M9ds"),ve=n("CO6v"),ye=n("eJkR"),Oe=n("Ioxw"),we=n("7Tcv"),_e=n("SxZn"),Pe=n("cHiK"),Ee=n("OLhe");let Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[m.b,g.b,d.b,ve.a,Oe.a,we.a,p.b,Pe.b,ye.a,_e.c,u.g,Ee.a,x.c,fe.a,be.b,Ce.b,xe.m,Se.g,M.c]]}),e})()}}]);
//# sourceMappingURL=default~minga-app-src-app-events-InviteEvent-InviteEvent-module~minga-app-src-app-events-addTickets-~3e048453-es2015.js.map