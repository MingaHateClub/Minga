(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"/652":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n("5JS3");var i=n("SVse"),r=n("8Y7J"),o=n("u9T3"),a=n("s7LF"),s=n("Q2Ze"),l=n("Tj54"),c=n("e6WT"),p=n("CO6v"),g=n("gtkb"),u=n("fHWq"),m=n("26Ds"),d=n("gU2t"),h=n("5VmK"),f=n("HxU+"),b=n("ls3q"),v=n("Vwx4");let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[u.a,p.a,h.a,g.a,m.a,d.a,b.a,f.a,v.b,i.c,a.m,o.a,c.c,s.f,l.b]]}),e})()},"/MKM":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return T}));var i=n("mrSG"),r=n("8Y7J"),o=n("SxV6"),a=n("lJxs"),s=n("vcU5"),l=n("Cnb3"),c=n("BT4S"),p=n("iIBE"),g=n("iInd"),u=n("Ept+"),m=n("5j5R"),d=n("Vwx4"),h=n("/q54"),f=n("M4qg"),b=n("TUjp"),v=n("SVse"),C=n("CeZx"),x=n("Q5WP"),O=n("2FiO");function M(e,t){if(1&e&&(r["\u0275\u0275element"](0,"mg-search-content",4),r["\u0275\u0275pipe"](1,"async")),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("groupHashes",r["\u0275\u0275pipeBind1"](1,2,e.groupHash$))("query",e.searchText)}}function P(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-ellipsis",5),r["\u0275\u0275listener"]("click",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onGroupContextMenu(t)})),r["\u0275\u0275elementEnd"]()}}let y=(()=>{class e{constructor(e,t,n,i,r,o,a){this.route=e,this.groupsFacade=t,this.groupState=n,this.router=i,this.permissions=r,this.media=o,this._peopleSelector=a,this.groupHash$=this.groupsFacade.getCurrentGroupHashObservable(),this.canEditMembers=!1,this.searchText="",this.mqAlias="",this.clusterSize=4,this.group$=this.groupsFacade.getCurrentGroup(),this.groupDetails$=this.groupsFacade.getCurrentGroupDetails()}onLeaveGroup(e){this.groupState.openLeaveDialog(e)}openMemberList(){return Object(i.a)(this,void 0,void 0,(function*(){const e=(yield this.group$.pipe(Object(o.a)()).toPromise()).hash;yield this.router.navigate(["",{outlets:{o:["groups","members",e]}}])}))}onAddMembers(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.group$.pipe(Object(o.a)()).toPromise();this._peopleSelector.open("Group","add",{title:e.name,data:{groupHash:e.hash}})}))}onRemoveMembers(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.group$.pipe(Object(o.a)()).toPromise();this._peopleSelector.open("Group","remove",{title:e.name,data:{groupHash:e.hash}})}))}checkIfCanEditMembers(){return Object(i.a)(this,void 0,void 0,(function*(){const e=this.permissions.hasPermission(l.MingaPermission.CONTENT_GROUP_MANAGE),t=yield this.group$.pipe(Object(o.a)()).toPromise();this.canEditMembers=p.a.isOwner(t)||e}))}onGroupContextMenu(e){this.groupDetailsComponent?this.groupState.onGroupContextMenu({group:this.groupDetailsComponent.group,x:e.pageX,y:e.pageY}):console.warn("groupDetailsComponent unset")}ngOnInit(){this.route.paramMap.pipe(Object(a.a)(e=>e.get("groupHash"))).subscribe(e=>{e&&(this.groupsFacade.setCurrentGroupHash(e),this.groupsFacade.loadGroupCollectionIfMissing(e),this.groupsFacade.dispatchLoadGroupDetails(e),this.groupsFacade.dispatchMarkAsRead(e))}),this.mqAliasSubscription=this.media.asObservable().subscribe(e=>{this.mqAlias=e[0].mqAlias,this.clusterSize="xs"==this.mqAlias&&this.canEditMembers?1:4}),this.groupSubscription=this.group$.subscribe(e=>{if(this.group=e,this.group&&this.group.bannerObject&&this.group.bannerObject.hasHeadlineOptions()){const e=this.group.bannerObject.getHeadlineOptions();Object(s.a)(e.toObject())}}),this.checkIfCanEditMembers()}ngOnDestroy(){this.groupSubscription&&this.groupSubscription.unsubscribe(),this.mqAliasSubscription&&this.mqAliasSubscription.unsubscribe(),this.groupsFacade.setCurrentGroupHash("")}hasGroupContextMenu(){return p.a.isMember(this.group||null)||this.permissions.hasPermission(l.MingaPermission.MINGA_CONTENT_UPDATE_OTHERS)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](g.a),r["\u0275\u0275directiveInject"](u.a),r["\u0275\u0275directiveInject"](m.a),r["\u0275\u0275directiveInject"](g.g),r["\u0275\u0275directiveInject"](d.c),r["\u0275\u0275directiveInject"](h.g),r["\u0275\u0275directiveInject"](f.PeopleSelectorService))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["view-group-page"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](c.a,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.groupDetailsComponent=e.first)}},decls:9,vars:16,consts:[["mgSearchArea","",3,"placeholder","searchText"],[3,"group","groupDetails","clusterSize","canEditMembers","leaveGroup","requestToJoin","cancelRequestToJoin","openMemberList","addMembers","removeMembers"],["class","group-name-suffix",3,"click",4,"ngIf"],[3,"group","groupDetails"],[3,"groupHashes","query"],[1,"group-name-suffix",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,M,2,4,"ng-template",0),r["\u0275\u0275listener"]("searchText",(function(e){return t.searchText=e})),r["\u0275\u0275elementStart"](1,"mg-group-details",1),r["\u0275\u0275listener"]("leaveGroup",(function(e){return t.onLeaveGroup(e)}))("requestToJoin",(function(e){return t.groupsFacade.dispatchRequestToJoinGroup(e)}))("cancelRequestToJoin",(function(e){return t.groupsFacade.dispatchCancelRequestToJoinGroup(e)}))("openMemberList",(function(){return t.openMemberList()}))("addMembers",(function(){return t.onAddMembers()}))("removeMembers",(function(){return t.onRemoveMembers()})),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275template"](4,P,1,0,"mg-ellipsis",2),r["\u0275\u0275element"](5,"mg-group-details-tabs",3),r["\u0275\u0275pipe"](6,"async"),r["\u0275\u0275pipe"](7,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](8,"router-outlet")),2&e&&(r["\u0275\u0275property"]("placeholder","Search "+(null==t.group?null:t.group.name)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("group",r["\u0275\u0275pipeBind1"](2,8,t.group$))("groupDetails",r["\u0275\u0275pipeBind1"](3,10,t.groupDetails$))("clusterSize",t.clusterSize)("canEditMembers",t.canEditMembers),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.hasGroupContextMenu()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("group",r["\u0275\u0275pipeBind1"](6,12,t.group$))("groupDetails",r["\u0275\u0275pipeBind1"](7,14,t.groupDetails$)))},directives:[b.a,c.a,v.o,C.a,g.l,x.a,O.a],pipes:[v.b],styles:[""],changeDetection:0}),e})();var w=n("gU2t"),_=n("4SDa"),S=n("1FgE"),k=n("Ogcz"),I=n("DjdL"),E=n("HDrY");let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[_.a,I.d,w.a,E.a,S.a,k.b,d.b,v.c,g.k]]}),e})()},"1FgE":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n("CeZx");var i=n("SVse"),r=n("8Y7J"),o=n("u9T3"),a=n("iInd"),s=n("0hYQ"),l=n("Vwx4"),c=n("Ogcz");let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[c.b,s.a,l.b,i.c,a.k,o.a]]}),e})()},"2/6D":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n("t/nq");var i=n("SVse"),r=n("8Y7J"),o=n("s7LF"),a=n("07le"),s=n("WsNZ");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[a.a,s.a,i.c,o.m]]}),e})()},"2c+M":function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return _}));var i=n("8Y7J"),r=n("Cnb3"),o=n("HSxi"),a=n("Vwx4"),s=n("TUjp"),l=n("SVse"),c=n("SLe5"),p=n("t/nq"),g=n("sj4O"),u=n("05dM"),m=n("TSSN");const d=["searchArea"];function h(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-group-list-search",6),i["\u0275\u0275listener"]("hasItems",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](),i["\u0275\u0275reference"](1).setShowingResults(t)})),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("searchText",e.searchText)("groups",i["\u0275\u0275pipeBind1"](1,2,e.allGroups$))}}function f(e,t){1&e&&i["\u0275\u0275element"](0,"mg-spinner",7)}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",8),i["\u0275\u0275text"](1," Showing "),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](4,1,e.total$)," Groups")}}const v=function(){return[]};function C(e,t){if(1&e&&(i["\u0275\u0275element"](0,"mg-empty-state",9),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275pipe"](2,"translate")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("title",i["\u0275\u0275pipeBind1"](1,3,"emptyState.allGroupsTitle"))("subtitle",e.canCreateGroups?i["\u0275\u0275pipeBind1"](2,5,"emptyState.allGroupsSubtitle"):"")("icons",e.canCreateGroups?e.emptyStateIcons:i["\u0275\u0275pureFunction0"](7,v))}}let x=(()=>{class e{constructor(e,t){this.groupsFacadeService=e,this.permissions=t,this.total$=this.groupsFacadeService.getAllGroupsListTotal(),this.allGroups$=this.groupsFacadeService.getAllGroupsList(),this.newContentNotifications$=this.groupsFacadeService.getNewContentNotifications(),this.loading$=this.groupsFacadeService.getGroupsLoading(),this.searchText="",this.emptyStateIcons=[],this.canCreateGroups=!1,this.emptyStateIcons=[{icon:"post",sideText:"Create Group"}],this.canCreateGroups=this.permissions.hasPermission(r.MingaPermission.CONTENT_GROUP_CREATE)}ngOnInit(){this.groupsFacadeService.dispatchLoadAll()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.b),i["\u0275\u0275directiveInject"](a.c))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-list-page"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](d,3),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.searchArea=e.first)}},decls:11,vars:15,consts:[["mgSearchArea","","placeholder","Search All Groups",3,"searchText"],["searchArea","mgSearchArea"],["color","primary","diameter","25",4,"ngIf"],["class","group-count",4,"ngIf"],[3,"groups","newContentNotifications"],[3,"title","subtitle","icons",4,"ngIf"],[3,"searchText","groups","hasItems"],["color","primary","diameter","25"],[1,"group-count"],[3,"title","subtitle","icons"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,h,2,4,"ng-template",0,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275listener"]("searchText",(function(e){return t.searchText=e})),i["\u0275\u0275template"](2,f,1,0,"mg-spinner",2),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275template"](4,b,5,3,"p",3),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275element"](6,"mg-group-list",4),i["\u0275\u0275pipe"](7,"async"),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275template"](9,C,3,8,"mg-empty-state",5),i["\u0275\u0275pipe"](10,"async")),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](3,5,t.loading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](5,7,t.total$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("groups",i["\u0275\u0275pipeBind1"](7,9,t.allGroups$))("newContentNotifications",i["\u0275\u0275pipeBind1"](8,11,t.newContentNotifications$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](10,13,t.total$)))},directives:[s.a,l.o,c.a,p.a,g.a,u.a],pipes:[l.b,m.d],styles:["mg-group-preview[_ngcontent-%COMP%]{cursor:pointer;margin:calc(var(--feed-item-margin-top, 4px) + var(--feed-item-margin-top, 4px)) var(--feed-item-margin-side,16px)}@media (min-width:600px){mg-group-preview[_ngcontent-%COMP%]{margin:calc(var(--feed-item-margin-top, 4px) + var(--feed-item-margin-top, 4px)) 0}}.group-count[_ngcontent-%COMP%]{color:#737373;font-size:80%;line-height:1.25}.group-count[_ngcontent-%COMP%], .mg-headline[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:10px}.mg-headline[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{vertical-align:middle}.mg-headline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#036}mg-empty-state[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),e})();var O=n("NG9B"),M=n("DjdL"),P=n("7Tcv"),y=n("WsNZ"),w=n("2/6D");let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[M.d,P.a,y.a,w.a,O.a,a.b,l.c,m.c]]}),e})()},"4SDa":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n("BT4S");var i=n("SVse"),r=n("8Y7J"),o=n("u9T3"),a=n("iInd"),s=n("CO6v"),l=n("CuZz"),c=n("uRBq"),p=n("wM60"),g=n("Vwx4"),u=n("Ogcz"),m=n("RhPl"),d=n("zkd0");let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[s.a,u.b,l.a,m.a,g.b,p.a,c.a,d.a,i.c,o.a,a.k]]}),e})()},"5JS3":function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var i=n("mrSG"),r=n("8Y7J"),o=n("YGJC"),a=n("xs9W"),s=n("vJwY"),l=n("Jaf7"),c=n("Cnb3"),p=n("2Vo4"),g=n("LRne"),u=n("PqYM"),m=n("6eBy"),d=n("UXun"),h=n("/uUt"),f=n("lJxs"),b=n("Vwx4"),v=n("GFah"),C=n("JUpl"),x=n("SVse"),O=n("VDRc"),M=n("Q2Ze"),P=n("i1AJ"),y=n("e6WT"),w=n("s7LF"),_=n("gjtd"),S=n("DobJ"),k=n("qftF"),I=n("qLpX"),E=n("4avL"),T=n("Tj54"),j=n("Fudl"),G=n("Hp2Z"),F=n("2FiO"),L=n("w8an");function R(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",14),r["\u0275\u0275element"](1,"mg-avatar",15),r["\u0275\u0275elementStart"](2,"div",16),r["\u0275\u0275element"](3,"mg-person-minimal",17),r["\u0275\u0275elementStart"](4,"mg-pill-checkbox",18),r["\u0275\u0275text"](5,"You"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"mg-pill-checkbox",19),r["\u0275\u0275text"](7,"Owner"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.member,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275classProp"]("owner",n.isOwnerMember(e))("self",n.isCurrentMember(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("src",e.person.profileImageUrl)("color",e.person.badgeIconColor)("personHash",e.person.personHash),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("person",e.person),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("disabled",!0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",!0)}}function N(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function B(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",29),r["\u0275\u0275elementStart"](1,"span",30),r["\u0275\u0275elementStart"](2,"a",31),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"](2).$implicit;return r["\u0275\u0275nextContext"](2).declineMember.emit(t)})),r["\u0275\u0275text"](3," Decline "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mg-button",32),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"](2).$implicit;return r["\u0275\u0275nextContext"](2).acceptMember.emit(t)})),r["\u0275\u0275text"](5," Accept "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function H(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,B,6,0,"div",28),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.canUpdateMembers)}}const D=function(e){return{member:e}};function A(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",23),r["\u0275\u0275elementStart"](1,"div",24),r["\u0275\u0275template"](2,N,1,0,"ng-container",25),r["\u0275\u0275element"](3,"div",26),r["\u0275\u0275template"](4,H,2,1,"ng-container",27),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2),i=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",r["\u0275\u0275pureFunction1"](3,D,e)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!n.isCurrentMember(e))}}function V(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",20),r["\u0275\u0275element"](1,"mg-date-separator",21),r["\u0275\u0275template"](2,A,5,5,"div",22),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("text",e.pendingHeadlineText),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.getPendingMembers())}}function $(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",33),r["\u0275\u0275text"](1,"search"),r["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-icon",34),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().clearMemberSeach()})),r["\u0275\u0275text"](1," close "),r["\u0275\u0275elementEnd"]()}}function q(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",35),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().exportMembers()})),r["\u0275\u0275element"](1,"mg-button-icon",36),r["\u0275\u0275elementStart"](2,"span"),r["\u0275\u0275text"](3,"Export Members"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function z(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function J(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-ellipsis",42),r["\u0275\u0275listener"]("click",(function(t){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"](4).onClickMemberRowMenu(t,n)})),r["\u0275\u0275elementEnd"]()}}function Y(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",40),r["\u0275\u0275listener"]("contextmenu",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](4).onClickMemberRowMenu(n,i)})),r["\u0275\u0275template"](1,z,1,0,"ng-container",25),r["\u0275\u0275element"](2,"div",26),r["\u0275\u0275template"](3,J,1,0,"mg-ellipsis",41),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](4),i=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",r["\u0275\u0275pureFunction1"](3,D,e)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",n.canUpdateMembers)}}function W(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275template"](1,Y,4,5,"div",39),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().ngIf;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e)}}function Q(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,W,2,1,"div",37),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;r["\u0275\u0275nextContext"]();const n=r["\u0275\u0275reference"](4);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.length>0)("ngIfElse",n)}}function Z(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275element"](1,"mg-spinner"),r["\u0275\u0275elementStart"](2,"p"),r["\u0275\u0275text"](3,"Loading..."),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]())}function K(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"p"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" No results for '",e.memberSearchText,"' ")}}function X(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",43),r["\u0275\u0275template"](1,Z,4,0,"ng-container",27),r["\u0275\u0275template"](2,K,2,1,"p",27),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.memberSearchLoading),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.memberSearchLoading)}}function ee(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,Q,2,2,"ng-container",37),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275template"](3,X,3,2,"ng-template",null,38,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275reference"](4),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](2,2,t.memberSearchResults$))("ngIfElse",e)}}function te(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function ne(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-ellipsis",42),r["\u0275\u0275listener"]("click",(function(t){r["\u0275\u0275restoreView"](e);const n=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"](2).onClickMemberRowMenu(t,n)})),r["\u0275\u0275elementEnd"]()}}function ie(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",40),r["\u0275\u0275listener"]("contextmenu",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"](2).onClickMemberRowMenu(n,i)})),r["\u0275\u0275template"](1,te,1,0,"ng-container",25),r["\u0275\u0275element"](2,"div",26),r["\u0275\u0275template"](3,ne,1,0,"mg-ellipsis",41),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2),i=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",r["\u0275\u0275pureFunction1"](3,D,e)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",n.canUpdateMembers)}}function re(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,ie,4,5,"div",39),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.getNonPendingMembers())}}const oe=function(){return{standalone:!0}};let ae=(()=>{class e{constructor(e,t,n,i){this.permissions=e,this.rootService=t,this.changeDetectorRef=n,this.mingaGroupProto=i,this.currentMemberPersonHash="",this.canUpdateMembers=!1,this.acceptMember=new r.EventEmitter,this.declineMember=new r.EventEmitter,this.removeMember=new r.EventEmitter,this.addOwner=new r.EventEmitter,this.removeOwner=new r.EventEmitter,this.memberSearchText="",this._memberSearchText$=new p.a(""),this.memberSearchResults$=Object(g.a)([]),this.memberSearchLoading=!0,this._fuseOptions={isCaseSensitive:!1,shouldSort:!0,keys:["person.displayName","person.firstName","person.lastName"],includeMatches:!1,threshold:0},this.unsavedMemberRankings=new Map,this.memberSearchText$=this._memberSearchText$.asObservable(),this.memberSearchTextDebounced$=this.memberSearchText$.pipe(Object(m.a)(e=>e?Object(u.a)(300):Object(u.a)(0)),Object(d.a)(1),Object(h.a)()),this.memberSearchResults$=this.memberSearchTextDebounced$.pipe(Object(f.a)(e=>e?(this.memberSearchLoading=!1,this.fuseInstance.search(e).map(e=>e.item)):[]))}get groupName(){return this.group?this.group.name:""}get pendingHeadlineText(){return`Requests pending (${this.getPendingMembers().length})`}ngOnInit(){this.fuseInstance=new o.a(this.getNonPendingMembers(),this._fuseOptions)}ngOnChanges(e){e.unsavedMemberRankings&&this.changeDetectorRef.detectChanges()}isOwnerMember(e){return this.unsavedMemberRankings&&this.unsavedMemberRankings.get(e.person.personHash)?this.unsavedMemberRankings.get(e.person.personHash)==a.b.OWNER:e.rank==l.GroupMemberInfo.Rank.OWNER}isCurrentMember(e){return e.person.personHash==this.currentMemberPersonHash}isOwner(){return!!this.group&&this.group.rank===a.b.OWNER}onClickMemberRowMenu(e,t){return Object(i.a)(this,void 0,void 0,(function*(){e.preventDefault(),e.stopImmediatePropagation();let n=[];const i=this.permissions.hasPermission(c.MingaPermission.CONTENT_GROUP_MANAGE);this.isCurrentMember(t)&&!i||n.push({name:"Remove",click:e=>this.removeMember.emit(t)}),this.isOwnerMember(t)?n.push({name:"Remove as owner",click:e=>this.removeOwner.emit(t)}):n.push({name:"Make owner",click:e=>this.addOwner.emit(t)}),n.length>0&&(yield this.rootService.openGlobalMenu({x:e.x,y:e.y,items:n}))}))}getNonPendingMembers(){let e=[];return this.groupDetails&&(e=this.groupDetails.members.filter(e=>this.unsavedMemberRankings&&this.unsavedMemberRankings.has(e.person.personHash)?!!this.unsavedMemberRankings.get(e.person.personHash):e.rank!==l.GroupMemberInfo.Rank.PENDING)),e.sort((e,t)=>e.rank<t.rank?1:e.rank>t.rank?-1:e.person.displayName>t.person.displayName?1:e.person.displayName<t.person.displayName?-1:void 0),e}getPendingMembers(){let e=[];return this.groupDetails&&(e=this.groupDetails.members.filter(e=>{if(this.unsavedMemberRankings&&this.unsavedMemberRankings.has(e.person.personHash)){const t=this.unsavedMemberRankings.get(e.person.personHash);if(!t||t!=a.b.PENDING)return!1}return e.rank===l.GroupMemberInfo.Rank.PENDING})),e}onMemberSearch(e){return Object(i.a)(this,void 0,void 0,(function*(){this.memberSearchText=e,this._memberSearchText$.next(e),this.memberSearchLoading=!0}))}clearMemberSeach(){return Object(i.a)(this,void 0,void 0,(function*(){this.memberSearchText="",this._memberSearchText$.next(this.memberSearchText),this.memberSearchLoading=!0}))}exportMembers(){return Object(i.a)(this,void 0,void 0,(function*(){const e=new l.ExportGroupMembersRequest;e.setContextHash(this.groupDetails.hash),this.getPendingMembers();const t=this.mingaGroupProto.exportGroupMembers(e);let n="",i=new Uint8Array(0);yield new Promise((e,r)=>{t.subscribe(e=>{if(e.hasChunk()){const t=e.getChunk_asU8(),n=new Uint8Array(i.length+t.length);n.set(i),n.set(t,i.length),i=n}else e.hasFilename()&&(n=e.getFilename())},r,e)}),Object(s.a)(i,n)}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](b.c),r["\u0275\u0275directiveInject"](v.a),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](C.MingaGroup))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-member-list"]],inputs:{groupDetails:"groupDetails",group:"group",currentMemberPersonHash:"currentMemberPersonHash",canUpdateMembers:"canUpdateMembers",unsavedMemberRankings:"unsavedMemberRankings"},outputs:{acceptMember:"acceptMember",declineMember:"declineMember",removeMember:"removeMember",addOwner:"addOwner",removeOwner:"removeOwner"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:21,vars:14,consts:[["memInfoTmpl",""],["class","pending-member-container",4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxAlign","right","fxLayoutAlign.xs","start none","fxLayoutGap","10px","fxLayoutGap.xs","20px",1,"group-header"],["fxFlexAlign","auto","fxFlex","nogrow"],["mgFormField","",1,"search-container",3,"mgNoHintMargin","mgHideOptionalMarker"],["matInput","","type","text","autocomplete","off",3,"ngModel","ngModelOptions","ngModelChange"],["matSuffix","",4,"ngIf"],["matSuffix","",3,"click",4,"ngIf"],["class","export-btn",3,"click",4,"ngIf"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start center","fxLayoutAlign.xs","start none","fxLayoutGap","10px","fxLayoutGap.xs","20px",1,"group-header"],["fxFlexAlign","auto","fxFlex","grow",1,"mg-headline2","group-name-headline"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["fxLayout","row","fxLayoutAlign","start center",1,"member-info"],[3,"src","color","personHash"],[1,"person-wrap"],[1,"no-wrap",3,"person"],["icon","",1,"small","self",3,"disabled"],["icon","","active","true",1,"small","owner",3,"disabled"],[1,"pending-member-container"],[1,"no-side-margin","title-separator",3,"text"],["fxLayout","row","fxLayoutAlign","start center","class","member-wrap",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"member-wrap"],[1,"member-wrap","pending-box"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex",""],[4,"ngIf"],["class","member-actions user-content",4,"ngIf"],[1,"member-actions","user-content"],[1,"decline-link"],["href","javascript:;",3,"click"],["type","outline",3,"click"],["matSuffix",""],["matSuffix","",3,"click"],[1,"export-btn",3,"click"],["icon","download-o"],[4,"ngIf","ngIfElse"],["noResults",""],["class","member-wrap",3,"contextmenu",4,"ngFor","ngForOf"],[1,"member-wrap",3,"contextmenu"],[3,"click",4,"ngIf"],[3,"click"],[1,"mg-centered"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,R,8,10,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,V,3,2,"div",1),r["\u0275\u0275elementStart"](3,"div",2),r["\u0275\u0275elementStart"](4,"div",3),r["\u0275\u0275elementStart"](5,"mat-form-field",4),r["\u0275\u0275elementStart"](6,"mat-label"),r["\u0275\u0275text"](7,"Search by Name, ID, or Email"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"input",5),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onMemberSearch(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](9,$,2,0,"mat-icon",6),r["\u0275\u0275template"](10,U,2,0,"mg-icon",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](11,q,4,0,"div",8),r["\u0275\u0275pipe"](12,"hasPermission"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",9),r["\u0275\u0275elementStart"](14,"div",10),r["\u0275\u0275text"](15),r["\u0275\u0275elementStart"](16,"span"),r["\u0275\u0275text"](17,"Group members"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerStart"](18,11),r["\u0275\u0275template"](19,ee,5,4,"ng-container",12),r["\u0275\u0275template"](20,re,2,1,"ng-container",13),r["\u0275\u0275elementContainerEnd"]()),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.getPendingMembers().length>0),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("mgNoHintMargin",!0)("mgHideOptionalMarker",!0),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.memberSearchText)("ngModelOptions",r["\u0275\u0275pureFunction0"](13,oe)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.memberSearchText.length),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.memberSearchText),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isOwner()||r["\u0275\u0275pipeBind1"](12,11,"CONTENT_GROUP_MANAGE")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"](" ",t.groupName," "),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngSwitch",t.memberSearchText&&"showSearch"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","showSearch"))},directives:[x.o,O.e,O.d,O.f,O.a,O.b,M.d,P.a,M.h,y.b,w.d,w.t,w.w,x.q,x.r,x.s,_.a,S.a,k.a,I.a,x.n,x.t,E.a,T.a,M.j,j.a,G.a,F.a],pipes:[L.a,x.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.member-actions[_ngcontent-%COMP%]{font-size:75%;display:flex}.member-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:100%;margin-right:8px}.member-actions[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-right:0}.member-actions[_ngcontent-%COMP%]   .decline-link[_ngcontent-%COMP%]{padding-top:10px;padding-right:20px}.member-info[_ngcontent-%COMP%]{--mg-avatar-size:30px;flex:1 1 90%}.member-info[_ngcontent-%COMP%]   mg-avatar[_ngcontent-%COMP%]{margin-right:8px}.member-info[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:50%;display:inline-flex;align-items:center}.member-info[_ngcontent-%COMP%]   mg-pill-checkbox[_ngcontent-%COMP%]{margin-left:8px;display:none}.member-info[_ngcontent-%COMP%]   mg-pill-checkbox[_ngcontent-%COMP%]:last-child{margin-right:0}.member-info.owner[_ngcontent-%COMP%]   mg-pill-checkbox.owner[_ngcontent-%COMP%], .member-info.self[_ngcontent-%COMP%]   mg-pill-checkbox.self[_ngcontent-%COMP%]{display:inline-block}.member-info[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]{flex:1;flex-direction:row;display:flex;justify-content:flex-start;align-items:center;max-width:calc(100% - var(--mg-avatar-size))}.member-wrap[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin:16px 0;display:flex;justify-content:space-between;align-items:center;padding-bottom:16px}.member-wrap[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (orientation:landscape){.member-wrap[_ngcontent-%COMP%]{padding-right:3.125vh}}@media (orientation:portrait){.member-wrap[_ngcontent-%COMP%]{padding-right:3.125vw}}@media (orientation:landscape) and (max-height:320px){.member-wrap[_ngcontent-%COMP%]{padding-right:10px}}@media (orientation:portrait) and (max-width:320px){.member-wrap[_ngcontent-%COMP%]{padding-right:10px}}@media (min-width:640px){.member-wrap[_ngcontent-%COMP%]{padding-right:20px}}@media (orientation:landscape){.member-wrap[_ngcontent-%COMP%]{padding-left:3.125vh}}@media (orientation:portrait){.member-wrap[_ngcontent-%COMP%]{padding-left:3.125vw}}@media (orientation:landscape) and (max-height:320px){.member-wrap[_ngcontent-%COMP%]{padding-left:10px}}@media (orientation:portrait) and (max-width:320px){.member-wrap[_ngcontent-%COMP%]{padding-left:10px}}@media (min-width:640px){.member-wrap[_ngcontent-%COMP%]{padding-left:20px}}.member-wrap[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{max-width:90%}.member-wrap[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{flex-basis:100%}.member-wrap[_ngcontent-%COMP%]   .member-info.owner[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%], .member-wrap[_ngcontent-%COMP%]   .member-info.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:75%;flex-basis:0%}@media (min-width:375px) and (orientation:landscape){.member-wrap[_ngcontent-%COMP%]   .member-info.owner[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%], .member-wrap[_ngcontent-%COMP%]   .member-info.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:60.2666666667vh}}@media (min-width:375px) and (orientation:portrait){.member-wrap[_ngcontent-%COMP%]   .member-info.owner[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%], .member-wrap[_ngcontent-%COMP%]   .member-info.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:60.2666666667vw}}@media (min-width:375px) and (orientation:landscape) and (max-height:375px){.member-wrap[_ngcontent-%COMP%]   .member-info.owner[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%], .member-wrap[_ngcontent-%COMP%]   .member-info.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:226px}}@media (min-width:375px) and (orientation:portrait) and (max-width:375px){.member-wrap[_ngcontent-%COMP%]   .member-info.owner[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%], .member-wrap[_ngcontent-%COMP%]   .member-info.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:226px}}@media (min-width:375px) and (min-width:768px){.member-wrap[_ngcontent-%COMP%]   .member-info.owner[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%], .member-wrap[_ngcontent-%COMP%]   .member-info.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:564px}}.member-wrap[_ngcontent-%COMP%]   .member-info.owner.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:55%}@media (min-width:375px) and (orientation:landscape){.member-wrap[_ngcontent-%COMP%]   .member-info.owner.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:49.6vh}}@media (min-width:375px) and (orientation:portrait){.member-wrap[_ngcontent-%COMP%]   .member-info.owner.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:49.6vw}}@media (min-width:375px) and (orientation:landscape) and (max-height:375px){.member-wrap[_ngcontent-%COMP%]   .member-info.owner.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:186px}}@media (min-width:375px) and (orientation:portrait) and (max-width:375px){.member-wrap[_ngcontent-%COMP%]   .member-info.owner.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:186px}}@media (min-width:375px) and (min-width:768px){.member-wrap[_ngcontent-%COMP%]   .member-info.owner.self[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{max-width:528px}}.group-name-headline[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:400}.pending-member-container[_ngcontent-%COMP%] + .group-name-headline[_ngcontent-%COMP%]{margin-top:2em;padding-top:0}mg-person-minimal[_ngcontent-%COMP%]{font-weight:400}mg-date-separator[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#737373;margin-bottom:0}@media (orientation:landscape){mg-date-separator[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){mg-date-separator[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){mg-date-separator[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){mg-date-separator[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){mg-date-separator[_ngcontent-%COMP%]{font-size:13px}}.group-header[_ngcontent-%COMP%]{margin:1em 10px;justify-content:space-between}@media (orientation:landscape){.group-header[_ngcontent-%COMP%]{margin-right:3.125vh}}@media (orientation:portrait){.group-header[_ngcontent-%COMP%]{margin-right:3.125vw}}@media (orientation:landscape) and (max-height:320px){.group-header[_ngcontent-%COMP%]{margin-right:10px}}@media (orientation:portrait) and (max-width:320px){.group-header[_ngcontent-%COMP%]{margin-right:10px}}@media (min-width:640px){.group-header[_ngcontent-%COMP%]{margin-right:20px}}@media (orientation:landscape){.group-header[_ngcontent-%COMP%]{margin-left:3.125vh}}@media (orientation:portrait){.group-header[_ngcontent-%COMP%]{margin-left:3.125vw}}@media (orientation:landscape) and (max-height:320px){.group-header[_ngcontent-%COMP%]{margin-left:10px}}@media (orientation:portrait) and (max-width:320px){.group-header[_ngcontent-%COMP%]{margin-left:10px}}@media (min-width:640px){.group-header[_ngcontent-%COMP%]{margin-left:20px}}.search-container[_ngcontent-%COMP%]{width:300px}@media screen and (max-width:599px){.search-container[_ngcontent-%COMP%]{width:100%}}.export-btn[_ngcontent-%COMP%]{padding-left:10px;padding-top:5px;font-weight:bolder}.export-btn[_ngcontent-%COMP%]:hover{cursor:pointer}.export-btn[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%]{text-decoration:underline}.pending-member-container[_ngcontent-%COMP%]   .member-wrap[_ngcontent-%COMP%]{padding:8px 10px;margin:0;border-bottom:none}.pending-member-container[_ngcontent-%COMP%]   .member-wrap[_ngcontent-%COMP%]   .pending-box[_ngcontent-%COMP%]{background:#f4f4f4;width:100%}.pending-member-container[_ngcontent-%COMP%]   .member-wrap[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{--mg-button-border-radius:2em;--mg-button-padding-vert:10px;--mg-button-padding-horz:15px;--mg-button-background:#fff;font-size:17px}.pending-member-container[_ngcontent-%COMP%]   .member-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1c2f59;padding-bottom:10px}.pending-member-container[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding-bottom:10px}'],changeDetection:0}),e})()},BT4S:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var i=n("8Y7J"),r=n("LvDl"),o=n("fTqC"),a=n("HDdC"),s=n("S8Pw"),l=n("DhtX"),c=n("iIBE"),p=n("iInd"),g=n("jKai"),u=n("HSxi"),m=n("SVse"),d=n("VDRc"),h=n("QZRZ"),f=n("ura0"),b=n("kbmt"),v=n("4avL"),C=n("MBYY"),x=n("cKGL"),O=n("A7/0"),M=n("hyFq"),P=n("w8an"),y=n("Jkk8"),w=n("Tmav");const _=["groupTopElement"];function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275element"](1,"span",17),i["\u0275\u0275pipe"](2,"mgSafeHtml"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngStyle",e.headlineStyle()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind1"](2,2,null==e.group?null:e.group.name),i["\u0275\u0275sanitizeHtml"])}}const k=function(){return["banner","longcardbanner"]};function I(e,t){if(1&e&&(i["\u0275\u0275element"](0,"div",18),i["\u0275\u0275pipe"](1,"mgAssetUrl")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275styleProp"]("background-image","url("+i["\u0275\u0275pipeBind2"](1,2,e.getBannerImageInfo(),i["\u0275\u0275pureFunction0"](5,k))+")")}}function E(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",19),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",e.name," | ")}}function T(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",20),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().openMemberList.emit()})),i["\u0275\u0275element"](1,"mg-avatar-cluster",21),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("items",e.getMemberAvatarItems()),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.getMembersCount()," Member",1==e.getMembersCount()?"":"s","")}}function j(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-button",22),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().addMembers.emit()})),i["\u0275\u0275text"](1,"Add Members"),i["\u0275\u0275elementEnd"]()}2&e&&i["\u0275\u0275property"]("ngClass.xs","small")}function G(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-button",22),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().removeMembers.emit()})),i["\u0275\u0275text"](1,"Remove Members"),i["\u0275\u0275elementEnd"]()}2&e&&i["\u0275\u0275property"]("ngClass.xs","small")}function F(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-group-join-button",23),i["\u0275\u0275listener"]("leaveGroup",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onLeaveGroup()}))("requestToJoin",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onRequestToJoin()}))("cancelRequestToJoin",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onCancelRequestToJoin()})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("group",e.group)}}const L=function(e){return["gallery","add","group",e]},R=function(e){return{o:e}},N=function(e){return{outlets:e}},B=function(e){return["",e]};function H(e,t){if(1&e&&i["\u0275\u0275element"](0,"mg-photo-gallery-add-photo",29),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction1"](7,B,i["\u0275\u0275pureFunction1"](5,N,i["\u0275\u0275pureFunction1"](3,R,i["\u0275\u0275pureFunction1"](1,L,null==e.group?null:e.group.hash)))))}}function D(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"p",30),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"p",30),i["\u0275\u0275text"](5," Click on the icon to the left to add the first. "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](6,"div",31),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" No images in the ",null==e.group?null:e.group.name," gallery yet! ")}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",30),i["\u0275\u0275elementStart"](1,"strong"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("No Images in the ",null==e.group?null:e.group.name," gallery yet!")}}function V(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",24),i["\u0275\u0275template"](1,H,1,9,"mg-photo-gallery-add-photo",25),i["\u0275\u0275elementStart"](2,"mg-photo-gallery-preview",26),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().gotoGroupGallery()})),i["\u0275\u0275elementStart"](3,"mg-photo-gallery-preview-empty"),i["\u0275\u0275pipe"](4,"hasPermission"),i["\u0275\u0275template"](5,D,7,1,"ng-container",27),i["\u0275\u0275template"](6,A,3,1,"ng-template",null,28,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](7),t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("hasPermission","GALLERY_ADD_PHOTO"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("galleryService",t.galleryService),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("no-add-empty",!i["\u0275\u0275pipeBind1"](4,6,"GALLERY_ADD_PHOTO")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hasPermission","GALLERY_ADD_PHOTO")("hasPermissionElse",e)}}const $=[[["",8,"group-name-suffix"]],[["mg-ellpsis"]],"*"],U=[".group-name-suffix","mg-ellpsis","*"];let q=(()=>{class e{constructor(e,t,n){this.router=e,this.galleryService=t,this.groupsfacade=n,this.canEditMembers=!1,this.canRemoveMembers=!1,this.clusterSize=4,this.requestToJoin=new i.EventEmitter,this.openMemberList=new i.EventEmitter,this.addMembers=new i.EventEmitter,this.removeMembers=new i.EventEmitter,this.cancelRequestToJoin=new i.EventEmitter,this.leaveGroup=new i.EventEmitter,this.moduleKeys=s.IMingaFeatureToggleKeys,this._updateParentGroup()}ngOnChanges(e){e.group&&this.group&&(this._updateParentGroup(),this.galleryService.setGroupFromHash(this.group.hash))}_updateParentGroup(){this.parentGroup$=this.group&&this.group.parentGroupHash?this.groupsfacade.getGroup(this.group.parentGroupHash):new a.a}onLeaveGroup(){this.leaveGroup.emit(this.group)}onRequestToJoin(){this.requestToJoin.emit(this.group)}onCancelRequestToJoin(){this.cancelRequestToJoin.emit(this.group)}getMembersCount(){return this.groupDetails?this.groupDetails.members.filter(e=>Object(l.a)(e.rank)).length:0}getMemberAvatarItems(){if(!this.groupDetails)return[];const e=this.groupDetails.members.filter(e=>Object(l.a)(e.rank));return r.sampleSize(e,this.clusterSize).map(e=>({src:e.person.profileImageUrl,color:e.person.badgeIconColor}))}allowedToView(){return!(!this.group||this.group.isPrivate)||!!c.a.isMember(this.group)}hasBanner(){return this.group&&(!!this.group.banner||!!this.group.bannerObject)}headlineStyle(){return this.group&&this.group.bannerObject&&this.group.name&&this.groupTopElement&&this.group.bannerObject.getHeadlineOptions()?Object(o.a)(this.group.name,this.group.bannerObject.getHeadlineOptions().toObject(),{maxLength:46,containerWidth:this.groupTopElement.nativeElement.clientWidth}):""}getBannerImageInfo(){return this.hasBanner()?this.group.banner||this.group.bannerObject.getImage().toObject():""}gotoGroupGallery(){this.router.navigate(["gallery","group",this.group.hash])}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](p.g),i["\u0275\u0275directiveInject"](g.a),i["\u0275\u0275directiveInject"](u.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-details"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](_,3),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.groupTopElement=e.first)}},inputs:{group:"group",groupDetails:"groupDetails",canEditMembers:"canEditMembers",canRemoveMembers:"canRemoveMembers",clusterSize:"clusterSize"},outputs:{requestToJoin:"requestToJoin",openMemberList:"openMemberList",addMembers:"addMembers",removeMembers:"removeMembers",cancelRequestToJoin:"cancelRequestToJoin",leaveGroup:"leaveGroup"},features:[i["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:U,decls:25,vars:14,consts:[[1,"user-content"],[1,"group-top"],["groupTopElement",""],[1,"group-banner-container"],["class","group-banner-headline",3,"ngStyle",4,"ngIf"],["class","group-banner",3,"background-image",4,"ngIf"],[1,"group-top-content"],[1,"group-name-suffix"],[1,"group-name"],["class","group-parent-name",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["href","javascript:;","fxLayout","row","fxLayoutAlign","start center",3,"click",4,"ngIf"],[1,"row-actions-container"],["type","outline","class","mg-minicopy",3,"ngClass.xs","click",4,"ngIf"],[3,"group","leaveGroup","requestToJoin","cancelRequestToJoin",4,"ngIf"],["class","photo-gallery-preview","fxLayout","row","ngClass.xs","no-margin",4,"mgModuleEnabled"],[1,"group-banner-headline",3,"ngStyle"],[3,"innerHTML"],[1,"group-banner"],[1,"group-parent-name"],["href","javascript:;","fxLayout","row","fxLayoutAlign","start center",3,"click"],[3,"items"],["type","outline",1,"mg-minicopy",3,"ngClass.xs","click"],[3,"group","leaveGroup","requestToJoin","cancelRequestToJoin"],["fxLayout","row","ngClass.xs","no-margin",1,"photo-gallery-preview"],[3,"routerLink",4,"hasPermission"],["fxFlex","auto",3,"galleryService","click"],[4,"hasPermission","hasPermissionElse"],["noAddEmpty",""],[3,"routerLink"],[1,"mg-smallcopy"],[1,"arrow-point-left"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"]($),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1,2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275template"](4,S,3,4,"div",4),i["\u0275\u0275template"](5,I,2,6,"div",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",6),i["\u0275\u0275elementStart"](7,"span",7),i["\u0275\u0275projection"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"h1",8),i["\u0275\u0275template"](10,E,2,1,"span",9),i["\u0275\u0275pipe"](11,"async"),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"p"),i["\u0275\u0275text"](14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",10),i["\u0275\u0275template"](16,T,4,3,"a",11),i["\u0275\u0275pipe"](17,"hasPermission"),i["\u0275\u0275elementStart"](18,"div",12),i["\u0275\u0275template"](19,j,2,1,"mg-button",13),i["\u0275\u0275template"](20,G,2,1,"mg-button",13),i["\u0275\u0275template"](21,F,1,1,"mg-group-join-button",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275projection"](22,1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](23,V,8,8,"div",15),i["\u0275\u0275projection"](24,2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",t.headlineStyle()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hasBanner()),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](11,10,t.parentGroup$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",null==t.group?null:t.group.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==t.group?null:t.group.category),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.allowedToView()||i["\u0275\u0275pipeBind1"](17,12,"CONTENT_GROUP_VIEWALL")),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.canEditMembers),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.canEditMembers),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.group&&(!t.group.rank||"PENDING"==t.group.rank)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("mgModuleEnabled",t.moduleKeys.PHOTO_GALLERY_ENABLED))},directives:[m.o,d.e,d.d,h.a,m.p,f.c,b.a,v.a,f.a,C.a,x.a,O.a,d.b,O.b,M.a,p.h],pipes:[m.b,P.a,y.a,w.a],styles:[".group-banner[_ngcontent-%COMP%]{background-position:50%;background-size:cover;padding-bottom:56.25%}.group-banner-container[_ngcontent-%COMP%]{overflow:hidden;position:relative}.group-banner-headline[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;position:absolute;z-index:1}mg-avatar-cluster[_ngcontent-%COMP%]{--mg-avatar-size:30px;margin-right:8px}.group-name[_ngcontent-%COMP%]{position:relative;width:92%}.group-name-suffix[_ngcontent-%COMP%]{float:right}.group-parent-name[_ngcontent-%COMP%]{font-weight:400}.group-top[_ngcontent-%COMP%]{position:relative;background-color:#fff;box-shadow:0 0 8px rgba(0,0,0,.16);margin-bottom:16px}@media (min-width:511px){.group-top[_ngcontent-%COMP%]{border-bottom-right-radius:8px;border-bottom-left-radius:8px}}.group-top-content[_ngcontent-%COMP%]{position:relative;padding:8px 16px}.group-top-content[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:80%}.group-top-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.group-top-content[_ngcontent-%COMP%]   .row-actions-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.group-top-content[_ngcontent-%COMP%]   .row-actions-container[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%] + mg-group-join-button[_ngcontent-%COMP%]{margin-left:8px}.group-top-content[_ngcontent-%COMP%]   .row-actions-container[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], .group-top-content[_ngcontent-%COMP%]   .row-actions-container[_ngcontent-%COMP%]   mg-group-join-button[_ngcontent-%COMP%]{margin:8px 0 0 8px}.photo-gallery-preview[_ngcontent-%COMP%]{--mg-photo-gallery-preview-empty-border:1px dashed #ccc}.photo-gallery-preview[_ngcontent-%COMP%]   mg-photo-gallery-add-photo[_ngcontent-%COMP%]{--mg-photo-gallery-preview-border-bottom-left-radius:0}.photo-gallery-preview[_ngcontent-%COMP%]   .arrow-point-left[_ngcontent-%COMP%]{background-image:url(/assets/misc/arrow-point-left.svg);height:10px;background-position:0;background-repeat:no-repeat;background-size:contain}.photo-gallery-preview[_ngcontent-%COMP%]   mg-photo-gallery-preview-empty[_ngcontent-%COMP%]{display:block;margin:7px 16px}.photo-gallery-preview[_ngcontent-%COMP%]   mg-photo-gallery-preview-empty.no-add-empty[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;height:var(--mg-photo-gallery-preview-row-height);margin-top:0;margin-bottom:0}.photo-gallery-preview[_ngcontent-%COMP%]   mg-photo-gallery-preview-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:2px 0}.photo-gallery-preview[_ngcontent-%COMP%]   mg-photo-gallery-preview[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})()},CBWo:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return b}));var i=n("mrSG"),r=n("8Y7J"),o=n("Cnb3"),a=n("Vwx4"),s=n("iInd"),l=n("HSxi"),c=n("M9ds"),p=n("NGeL"),g=n("SVse"),u=n("Hp2Z");function m(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"a",8),r["\u0275\u0275listener"]("click",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onCreateGroup(t)})),r["\u0275\u0275element"](1,"mg-button-icon",9),r["\u0275\u0275text"](2," Create"),r["\u0275\u0275elementStart"](3,"span",10),r["\u0275\u0275text"](4,"\xa0Group"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}let d=(()=>{class e{constructor(e,t,n){this.permissions=e,this.router=t,this.groupsFacade=n,this.canCreateGroups=!1,this.initPermissions()}initPermissions(){return Object(i.a)(this,void 0,void 0,(function*(){this.canCreateGroups=this.permissions.hasPermission(o.MingaPermission.CONTENT_GROUP_CREATE)}))}onCreateGroup(e){return Object(i.a)(this,void 0,void 0,(function*(){yield this.router.navigate(["",{outlets:{o:["groups","new"]}}])}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.c),r["\u0275\u0275directiveInject"](s.g),r["\u0275\u0275directiveInject"](l.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-home-page"]],decls:9,vars:5,consts:[["mat-tab-nav-bar","",1,"no-inactive-tab"],["mat-tab-link","","routerLink","/groups/my~list","routerLinkActive","active"],["rlaMyGroups","routerLinkActive"],["value","My Groups",3,"strong"],["mat-tab-link","","routerLink","/groups/list","routerLinkActive","active"],["rlaAllGroups","routerLinkActive"],["value","All Groups",3,"strong"],["mat-tab-link","",3,"click",4,"ngIf"],["mat-tab-link","",3,"click"],["icon","post"],[1,"group-text"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"nav",0),r["\u0275\u0275elementStart"](1,"a",1,2),r["\u0275\u0275element"](3,"mg-toggle-strong",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"a",4,5),r["\u0275\u0275element"](6,"mg-toggle-strong",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,m,5,0,"a",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](8,"router-outlet")),2&e){const e=r["\u0275\u0275reference"](2),n=r["\u0275\u0275reference"](5);r["\u0275\u0275classProp"]("enable-create",t.canCreateGroups),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("strong",e.isActive),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("strong",n.isActive),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.canCreateGroups)}},directives:[c.f,s.j,c.e,s.i,p.a,g.o,s.l,u.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:block}.mat-tab-link[_ngcontent-%COMP%]{min-width:calc(100% / var(--mg-tab-count, 2));max-width:calc(100% / var(--mg-tab-count, 2));background-color:#fff;border-top:1px solid #ccc;border-bottom:1px solid #ccc;border-top-right-radius:0;border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-right:1px solid #ccc;opacity:1;font-family:Muli,sans-serif;line-height:1.35;color:#036;height:48px;font-weight:400}@media (orientation:landscape){.mat-tab-link[_ngcontent-%COMP%]{font-size:3.3913043478vh}}@media (orientation:portrait){.mat-tab-link[_ngcontent-%COMP%]{font-size:3.3913043478vw}}@media (orientation:landscape) and (max-height:414px){.mat-tab-link[_ngcontent-%COMP%]{font-size:14.04px}}@media (orientation:portrait) and (max-width:414px){.mat-tab-link[_ngcontent-%COMP%]{font-size:14.04px}}@media (min-width:448.5px){.mat-tab-link[_ngcontent-%COMP%]{font-size:15.21px}}.mat-tab-link.tab-fill[_ngcontent-%COMP%]{background-color:#fff;border-top:none;pointer-events:none}.mat-tab-link.tab-fill[_ngcontent-%COMP%]:hover{cursor:default}.mat-tab-link[_ngcontent-%COMP%]:focus{background-color:#fff!important}.mat-tab-link[_ngcontent-%COMP%]:first-child{border-right:1px solid #ccc;min-width:calc(100% / (var(--mg-tab-count, 2) + 1));margin-left:0;border-top-right-radius:0;border-top-left-radius:0;border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-left:none}.mat-tab-link[_ngcontent-%COMP%]:first-child.active + .mat-tab-link[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]:first-child:focus.active + .mat-tab-link[_ngcontent-%COMP%]{border-bottom-left-radius:8px;border-bottom-right-radius:0;border-left:1px solid #ccc;border-right:1px solid #ccc}.mat-tab-link[_ngcontent-%COMP%]:first-child.active + .mat-tab-link[_ngcontent-%COMP%] + .mat-tab-link[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]:first-child:focus.active + .mat-tab-link[_ngcontent-%COMP%] + .mat-tab-link[_ngcontent-%COMP%]{border-left:none;border-bottom-left-radius:0}@media (min-width:511px){.mat-tab-link[_ngcontent-%COMP%]:first-child{border-left:1px solid #ccc}.mat-tab-link[_ngcontent-%COMP%]:first-child.active, .mat-tab-link[_ngcontent-%COMP%]:first-child:focus.active{border-left:none}}.mat-tab-link[_ngcontent-%COMP%]:last-of-type{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-right:1px solid #ccc}.mat-tab-link.active[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]:focus.active{background-color:#f5f5f5!important;border-bottom:1px solid #f5f5f5;font-weight:700;border-bottom-left-radius:0;border-bottom-right-radius:0;border-right:none}.mat-tab-link.active[_ngcontent-%COMP%] + .mat-tab-link[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]:focus.active + .mat-tab-link[_ngcontent-%COMP%]{border-left:1px solid #ccc}nav[_ngcontent-%COMP%]{border-bottom:none;margin-top:0}@media (min-width:511px){nav[_ngcontent-%COMP%]:not(.no-inactive-tab){border-right:1px solid #ccc}}nav.no-inactive-tab[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:first-child{min-width:calc(100% / var(--mg-tab-count, 2));max-width:calc(100% / var(--mg-tab-count, 2))}@media (min-width:511px){nav.no-inactive-tab[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:last-of-type{min-width:calc((100% / var(--mg-tab-count, 2)) - 1px);max-width:calc((100% / var(--mg-tab-count, 2)) - 1px)}}[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-tab-count:2}@media (orientation:landscape){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:4.2666666667vh}}@media (orientation:portrait){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:4.2666666667vw}}@media (orientation:landscape) and (max-height:375px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:16px}}@media (orientation:portrait) and (max-width:375px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:16px}}@media (min-width:562.5px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:24px}}[_nghost-%COMP%]   nav[mat-tab-nav-bar].enable-create[_ngcontent-%COMP%]{--mg-tab-count:3}@media (orientation:landscape){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:480px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:24px}}@media (orientation:landscape){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:480px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:24px}}[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .group-text[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{display:inline-block;margin-left:-.3em}@media (min-width:390px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .group-text[_ngcontent-%COMP%]{display:inline}}']}),e})();var h=n("CO6v"),f=n("0hYQ");let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[f.a,h.a,g.c,s.k,c.g]]}),e})()},"CZ+w":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n("iVxe");var i=n("SVse"),r=n("8Y7J"),o=n("fHWq"),a=n("5VmK"),s=n("Ogcz"),l=n("zpKa");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[o.a,a.a,l.a,s.b,i.c]]}),e})()},CeZx:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("mrSG"),r=n("8Y7J"),o=n("Cnb3"),a=n("iIBE"),s=n("Vwx4"),l=n("VDRc"),c=n("cKGL"),p=n("SVse"),g=n("iInd"),u=n("NGeL");const m=function(){return{exact:!0}};function d(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",11,12),r["\u0275\u0275element"](2,"mg-toggle-strong",13),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275property"]("routerLinkActiveOptions",r["\u0275\u0275pureFunction0"](2,m)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("strong",e.isActive)}}function h(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",14),r["\u0275\u0275element"](1,"mg-toggle-strong",15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](2,"div",16,17),r["\u0275\u0275element"](4,"div",18,19)),2&e){const e=r["\u0275\u0275reference"](3),t=r["\u0275\u0275reference"](5);r["\u0275\u0275classProp"]("group-tab-active",e.isActive||t.isActive),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("strong",e.isActive||t.isActive)}}function f(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",20,21),r["\u0275\u0275element"](2,"mg-toggle-strong",22),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("strong",e.isActive)}}function b(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function v(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function C(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function x(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,b,1,0,"ng-container",24),r["\u0275\u0275template"](2,v,1,0,"ng-container",24),r["\u0275\u0275template"](3,C,1,0,"ng-container",24),r["\u0275\u0275elementContainerEnd"]()),2&e){r["\u0275\u0275nextContext"](2);const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](3),n=r["\u0275\u0275reference"](5);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",e),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",t),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",n)}}function O(e,t){if(1&e&&r["\u0275\u0275template"](0,x,4,3,"ng-container",23),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngIf",e.allowedToView())}}function M(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function P(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function y(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function w(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,M,1,0,"ng-container",24),r["\u0275\u0275template"](2,P,1,0,"ng-container",24),r["\u0275\u0275template"](3,y,1,0,"ng-container",24),r["\u0275\u0275elementContainerEnd"]()),2&e){r["\u0275\u0275nextContext"]();const e=r["\u0275\u0275reference"](1),t=r["\u0275\u0275reference"](3),n=r["\u0275\u0275reference"](5);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",e),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",t),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",n)}}function _(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",25,26),r["\u0275\u0275element"](2,"mg-toggle-strong",27),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("strong",e.isActive)}}let S=(()=>{class e{constructor(e){this.permissions=e,this.group=null,this.groupDetails=null,this.showPollTab=!1}ngOnChanges(e){e.group&&this.initPollTab()}allowedToView(){return!!a.a.isMember(this.group)}isOwner(){return!!a.a.isOwner(this.group)}initPollTab(){return Object(i.a)(this,void 0,void 0,(function*(){if(!a.a.isMember(this.group))return void(this.showPollTab=!1);const e=this.permissions.hasPermission(o.MingaPermission.CONTENT_POLL_CREATE);this.showPollTab=!!e||!!this.isOwner()}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](s.c))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-details-tabs"]],inputs:{group:"group",groupDetails:"groupDetails"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:15,vars:4,consts:[["feedTab",""],["eventsTab",""],["filesTab",""],["fxLayout","row","fxLayoutAlign","start stretch",1,"group-tabs"],["groupOwnerOnlyTabs",""],[4,"hasPermission","hasPermissionElse"],["class","group-tab","routerLink","polls","routerLinkActive","group-tab-active",4,"ngIf"],["routerLink","about","routerLinkActive","group-tab-active",1,"group-tab"],["rlaAbout","routerLinkActive"],["value","About",3,"strong"],[1,"group-tab","placeholder"],["routerLink",".","routerLinkActive","group-tab-active",1,"group-tab",3,"routerLinkActiveOptions"],["rlaFeed","routerLinkActive"],["value","Group Feed",3,"strong"],["routerLink","events/schedule",1,"group-tab"],["value","Events",3,"strong"],["routerLinkActive","","routerLinkActive","group-tab-active","routerLink","events/calendar",1,"hidden-route"],["calendaarActive","routerLinkActive"],["routerLinkActive","","routerLinkActive","group-tab-active","routerLink","events/schedule",1,"hidden-route"],["scheduleActive","routerLinkActive"],["routerLink","files","routerLinkActive","group-tab-active",1,"group-tab"],["rlaFiles","routerLinkActive"],["value","Files",3,"strong"],[4,"ngIf"],[4,"ngTemplateOutlet"],["routerLink","polls","routerLinkActive","group-tab-active",1,"group-tab"],["rlaPolls","routerLinkActive"],["value","Polls",3,"strong"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,d,3,3,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](2,h,6,3,"ng-template",null,1,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](4,f,3,1,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementStart"](6,"div",3),r["\u0275\u0275template"](7,O,1,1,"ng-template",null,4,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](9,w,4,3,"ng-container",5),r["\u0275\u0275template"](10,_,3,1,"div",6),r["\u0275\u0275elementStart"](11,"div",7,8),r["\u0275\u0275element"](13,"mg-toggle-strong",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](14,"div",10),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](8),n=r["\u0275\u0275reference"](12);r["\u0275\u0275advance"](9),r["\u0275\u0275property"]("hasPermission","CONTENT_GROUP_VIEWALL")("hasPermissionElse",e),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showPollTab),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("strong",n.isActive)}},directives:[l.e,l.d,c.a,p.o,g.h,g.i,u.a,p.t],styles:[".group-tabs[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;position:relative;border-top:1px solid #ccc}.group-tabs[_ngcontent-%COMP%]   .hidden-route[_ngcontent-%COMP%]{display:none}.group-tabs[_ngcontent-%COMP%]   .group-tab[_ngcontent-%COMP%]{cursor:pointer;box-sizing:border-box;background-color:#fff;border-right:1px solid #ccc;padding:16px 8px;outline:none}@media (min-width:511px){.group-tabs[_ngcontent-%COMP%]   .group-tab[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:8px}}.group-tabs[_ngcontent-%COMP%]   .group-tab.group-tab-active[_ngcontent-%COMP%]{border:none;background-color:var(--mg-background-color);border-radius:0;padding-bottom:32px;margin-bottom:-16px}.group-tabs[_ngcontent-%COMP%]   .group-tab.group-tab-active[_ngcontent-%COMP%] + .group-tab[_ngcontent-%COMP%]{border-left:1px solid #ccc}.group-tabs[_ngcontent-%COMP%]   .group-tab.group-tab-active[_ngcontent-%COMP%]:first-child{margin-left:-16px;padding-left:24px}.group-tabs[_ngcontent-%COMP%]   .group-tab.placeholder[_ngcontent-%COMP%]{padding:0}.group-tabs[_ngcontent-%COMP%]   .group-tab.placeholder[_ngcontent-%COMP%]:last-child{border-right:none}"]}),e})()},DuJC:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return k}));var i=n("8Y7J"),r=n("itXk"),o=n("lJxs"),a=n("HSxi"),s=n("3qIc"),l=n("TUjp"),c=n("SVse"),p=n("SLe5"),g=n("t/nq"),u=n("sj4O"),m=n("05dM"),d=n("TSSN");const h=["searchArea"];function f(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-group-list-search",6),i["\u0275\u0275listener"]("hasItems",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](),i["\u0275\u0275reference"](1).setShowingResults(t)})),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("searchText",e.searchText)("groups",i["\u0275\u0275pipeBind1"](1,2,e.myGroups$))}}function b(e,t){1&e&&i["\u0275\u0275element"](0,"mg-spinner",7)}function v(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"p",8),i["\u0275\u0275text"](1," Showing "),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](4,1,e.total$)," Groups")}}function C(e,t){1&e&&(i["\u0275\u0275element"](0,"mg-empty-state",9),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275pipe"](2,"translate")),2&e&&i["\u0275\u0275property"]("title",i["\u0275\u0275pipeBind1"](1,2,"emptyState.myGroupsTitle"))("subtitle",i["\u0275\u0275pipeBind1"](2,4,"emptyState.myGroupsSubtitle"))}function x(e,t){return e.isParent&&t.isParent?0:e.isParent&&!t.isParent?-1:1}function O(e,t){return e.parentGroupHash&&t.parentGroupHash?0:e.parentGroupHash&&!t.parentGroupHash?-1:1}let M=(()=>{class e{constructor(e,t){this.groupsFacadeService=e,this.mingaStore=t,this.total$=this.groupsFacadeService.getTotalMyGroupsCount(),this.newContentNotifications$=this.groupsFacadeService.getNewContentNotifications(),this.loading$=this.groupsFacadeService.getGroupsLoading(),this.searchText="",this.myGroups$=Object(r.b)([this.groupsFacadeService.getMyGroups(),this.mingaStore.observeDistrictFeatureEnabled()]).pipe(Object(o.a)(([e,t])=>{if(t){if(e.length<=1)return e;e.sort(x);let t=-1;for(let n=0;n<e.length;n++)if(!e[n].isParent){t=n;break}return t<0?e:[...e.slice(0,t),...e.slice(t,e.length).sort(O)]}return e}))}ngOnInit(){this.groupsFacadeService.dispatchLoadAll()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.b),i["\u0275\u0275directiveInject"](s.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-my-group-list-page"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](h,3),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.searchArea=e.first)}},decls:11,vars:15,consts:[["mgSearchArea","","placeholder","Search My Groups",3,"searchText"],["searchArea","mgSearchArea"],["color","primary","diameter","25",4,"ngIf"],["class","group-count",4,"ngIf"],[3,"groups","newContentNotifications"],[3,"title","subtitle",4,"ngIf"],[3,"searchText","groups","hasItems"],["color","primary","diameter","25"],[1,"group-count"],[3,"title","subtitle"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,f,2,4,"ng-template",0,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275listener"]("searchText",(function(e){return t.searchText=e})),i["\u0275\u0275template"](2,b,1,0,"mg-spinner",2),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275template"](4,v,5,3,"p",3),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275element"](6,"mg-group-list",4),i["\u0275\u0275pipe"](7,"async"),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275template"](9,C,3,6,"mg-empty-state",5),i["\u0275\u0275pipe"](10,"async")),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](3,5,t.loading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](5,7,t.total$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("groups",i["\u0275\u0275pipeBind1"](7,9,t.myGroups$))("newContentNotifications",i["\u0275\u0275pipeBind1"](8,11,t.newContentNotifications$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](10,13,t.total$)))},directives:[l.a,c.o,p.a,g.a,u.a,m.a],pipes:[c.b,d.d],styles:["mg-group-preview[_ngcontent-%COMP%]{cursor:pointer;margin:calc(var(--feed-item-margin-top, 4px) + var(--feed-item-margin-top, 4px)) var(--feed-item-margin-side,16px)}@media (min-width:600px){mg-group-preview[_ngcontent-%COMP%]{margin:calc(var(--feed-item-margin-top, 4px) + var(--feed-item-margin-top, 4px)) 0}}.group-count[_ngcontent-%COMP%]{color:#737373;font-size:80%;line-height:1.25}.group-count[_ngcontent-%COMP%], .mg-headline[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:10px}.mg-headline[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{vertical-align:middle}.mg-headline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#036}mg-empty-state[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),e})();var P=n("NG9B"),y=n("DjdL"),w=n("7Tcv"),_=n("WsNZ"),S=n("2/6D");let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.d,_.a,S.a,w.a,P.a,c.c,d.c]]}),e})()},"J+65":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("8Y7J"),r=n("SVse"),o=n("VDRc"),a=n("gjtd"),s=n("DobJ");function l(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().clickMember(n)})),i["\u0275\u0275element"](1,"mg-avatar",2),i["\u0275\u0275element"](2,"mg-person-minimal",3),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("mg-selected",(null==n.selectedMember?null:n.selectedMember.person.personHash)==e.person.personHash),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",null==e||null==e.person?null:e.person.profileImageUrl)("color",null==e||null==e.person?null:e.person.badgeIconColor),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("person",e.person)}}let c=(()=>{class e{constructor(){this.members=[],this.memberSelect=new i.EventEmitter}clickMember(e){this.selectedMember=e,this.memberSelect.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-member-select"]],inputs:{members:"members"},outputs:{memberSelect:"memberSelect"},decls:1,vars:1,consts:[["class","member-select-item","fxLayout","row","fxLayoutAlign","start center",3,"mg-selected","click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"member-select-item",3,"click"],[3,"src","color"],[3,"person"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,l,3,5,"div",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.members)},directives:[r.n,o.e,o.d,a.a,s.a],styles:[".member-select-item[_ngcontent-%COMP%]{cursor:pointer;--mg-avatar-size:30px;padding:8px;border-radius:3px}.member-select-item[_ngcontent-%COMP%]   mg-avatar[_ngcontent-%COMP%]{margin-right:8px}.member-select-item[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.member-select-item.mg-selected[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3)}"]}),e})()},LYTB:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return C}));var i=n("mrSG"),r=n("8Y7J"),o=n("Cnb3"),a=n("lJxs"),s=n("SxV6"),l=n("xs9W"),c=n("HSxi"),p=n("SVse"),g=n("Vwx4"),u=n("JF7H"),m=n("zc8W"),d=n("SYVq"),h=n("5JS3");let f=(()=>{class e{constructor(e,t,n,i,r){this.groupsFacade=e,this._location=t,this.permissions=n,this.group$=this.groupsFacade.getCurrentGroup(),this.groupDetails$=this.groupsFacade.getCurrentGroupDetails(),this.memberUpdateMap=new Map,this.canUpdateMembers=!1,this.checkIfCanUdateMembers(),this.groupsFacade.getCurrentGroupHashObservable().subscribe(e=>this.groupsFacade.dispatchLoadGroupDetails(e)),this.currentMemberPersonHash$=r.authPerson$.pipe(Object(a.a)(e=>(null==e?void 0:e.hash)||""))}ngAfterViewInit(){this._checkNextDisabled()}registerOnOverlayPreviousUpdate(e){this.onOverlayPreviousUpdate=e}registerOnOverlayNextUpdate(e){this.onOverlayNextUpdate=e,this._updateNextStep()}_updateNextStep(){this.onOverlayNextUpdate&&this.onOverlayNextUpdate(!0)}checkIfCanUdateMembers(){return Object(i.a)(this,void 0,void 0,(function*(){const e=this.permissions.hasPermission(o.MingaPermission.CONTENT_GROUP_MANAGE),t=yield this.group$.pipe(Object(s.a)()).toPromise();this.canUpdateMembers=l.a.isOwner(t)||e,this._updateNextStep()}))}onAcceptMember(e){return Object(i.a)(this,void 0,void 0,(function*(){this.memberUpdateMap.set(e.person.personHash,l.b.MEMBER),this._checkNextDisabled()}))}onDeclineMember(e){return Object(i.a)(this,void 0,void 0,(function*(){this.memberUpdateMap.set(e.person.personHash,null),this._checkNextDisabled()}))}onRemoveMember(e){return Object(i.a)(this,void 0,void 0,(function*(){this.memberUpdateMap.set(e.person.personHash,null),this._checkNextDisabled()}))}onAddOwner(e){this.memberUpdateMap.set(e.person.personHash,l.b.OWNER),this._checkNextDisabled()}onRemoveOwner(e){this.memberUpdateMap.set(e.person.personHash,l.b.MEMBER),this._checkNextDisabled()}confirmRemove(){return Object(i.a)(this,void 0,void 0,(function*(){}))}onOverlayClose(){return Object(i.a)(this,void 0,void 0,(function*(){return this._location.back(),!0}))}get overlayPrevious(){return{icon:"close",text:""}}hasOverlayPrevious(){return this.overlayPrevious}hasOverlayNext(){return!!this.canUpdateMembers&&{text:"Save Changes",icon:"publish-o"}}onOverlayPrevious(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}onOverlayNext(){return Object(i.a)(this,void 0,void 0,(function*(){this.onOverlayNextDisabled(!0),yield this.submit(),this.onOverlayNextDisabled(!1)}))}_checkNextDisabled(){this.onOverlayNextDisabled&&this.onOverlayNextDisabled(!this.memberUpdateMap.size)}registerOnOverlayNextDisabled(e){this.onOverlayNextDisabled=e,this._checkNextDisabled()}registerOnOverlayPreviousDisabled(e){this.onOverlayPreviousDisabled=e}submit(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.group$.pipe(Object(s.a)()).toPromise();yield this.groupsFacade.dispatchUpdateGroupMembers(e.hash,this.memberUpdateMap)}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](c.b),r["\u0275\u0275directiveInject"](p.k),r["\u0275\u0275directiveInject"](g.c),r["\u0275\u0275directiveInject"](u.a),r["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-member-list-overlay"]],decls:5,vars:12,consts:[[3,"component"],[3,"groupDetails","group","currentMemberPersonHash","canUpdateMembers","unsavedMemberRankings","acceptMember","declineMember","removeMember","addOwner","removeOwner"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),r["\u0275\u0275elementStart"](1,"mg-group-member-list",1),r["\u0275\u0275listener"]("acceptMember",(function(e){return t.onAcceptMember(e)}))("declineMember",(function(e){return t.onDeclineMember(e)}))("removeMember",(function(e){return t.onRemoveMember(e)}))("addOwner",(function(e){return t.onAddOwner(e)}))("removeOwner",(function(e){return t.onRemoveOwner(e)})),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275pipe"](4,"async"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("component",t),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("groupDetails",r["\u0275\u0275pipeBind1"](2,6,t.groupDetails$))("group",r["\u0275\u0275pipeBind1"](3,8,t.group$))("currentMemberPersonHash",r["\u0275\u0275pipeBind1"](4,10,t.currentMemberPersonHash$))("canUpdateMembers",t.canUpdateMembers)("unsavedMemberRankings",t.memberUpdateMap))},directives:[d.a,h.a],pipes:[p.b],styles:["[_nghost-%COMP%]{display:block;margin:0}"]}),e})();var b=n("/652"),v=n("CL15");let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[b.a,v.a,p.c]]}),e})()},SE99:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("8Y7J"),r=n("CZ+w"),o=(n("mrSG"),n("5km/"),n("oTGS"),n("LRne"),n("2Vo4"),n("itXk"),n("Kj3r"),n("UXun"),n("/uUt"),n("eIep"),n("lJxs"),n("SxV6"),n("HSxi"),n("JF7H"),n("SVse")),a=(n("+/Hu"),n("iELJ"),n("/q54"),n("SYVq"),n("ura0"),n("Q2Ze")),s=(n("i1AJ"),n("e6WT")),l=n("s7LF"),c=n("Tj54"),p=(n("Fudl"),n("sj4O"),n("gjtd"),n("4avL"),n("TSSN")),g=n("u9T3"),u=n("CO6v"),m=n("fHWq"),d=n("HxU+"),h=n("ls3q"),f=n("CL15"),b=n("7Tcv");let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.a,b.a,u.a,m.a,d.a,f.a,o.c,l.m,c.b,s.c,a.f,g.a,p.c]]}),e})();var C=n("4SDa"),x=n("1FgE"),O=n("rUp2"),M=n("xjLp"),P=n("nB6J"),y=n("RhPl"),w=n("/652"),_=n("y8Ey"),S=n("hMBy");let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[r.a,v,C.a,x.a,O.b,M.a,P.a,y.a,w.a,_.a,S.b]}),e})()},"UdS/":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("8Y7J"),r=n("1Ell"),o=n("Q2Ze"),a=n("i1AJ"),s=n("ZTz/"),l=n("s7LF"),c=n("UhP/");const p=function(){return{standalone:!0}};let g=(()=>{class e{constructor(){this._quickFilter=r.EventStatus.NONE,this.eventStatuses=r.EventStatus,this.quickFilterChange=new i.EventEmitter}get quickFilter(){return this._quickFilter}set quickFilter(e){this._quickFilter=e}onQuickFilterChange(){this.quickFilterChange.emit(this.quickFilter)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-quick-filter"]],inputs:{quickFilter:"quickFilter"},outputs:{quickFilterChange:"quickFilterChange"},decls:16,vars:13,consts:[["mgFormField","","appearance","legacy","floatLabel","never",1,"filter-select",3,"mgHideOptionalMarker","mgNoHintMargin","mgResponsiveHeight","mgNoFloatTop"],["placeholder","Quick Filter","panelClass","rounded-dropdown",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2,"Quick Filter"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"mat-select",1),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.quickFilter=e}))("ngModelChange",(function(){return t.onQuickFilterChange()})),i["\u0275\u0275elementStart"](4,"mat-option",2),i["\u0275\u0275text"](5,"All Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"mat-option",2),i["\u0275\u0275text"](7,"My Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"mat-option",2),i["\u0275\u0275text"](9,"- Invited to"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"mat-option",2),i["\u0275\u0275text"](11,"- Maybe"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"mat-option",2),i["\u0275\u0275text"](13,"- Going"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"mat-option",2),i["\u0275\u0275text"](15,"- Can't Go"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("mgHideOptionalMarker",!0)("mgNoHintMargin",!0)("mgResponsiveHeight",!0)("mgNoFloatTop",!0),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",t.quickFilter)("ngModelOptions",i["\u0275\u0275pureFunction0"](12,p)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",t.eventStatuses.NONE),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value","My Events"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.INVITED),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.INTERESTED),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.GOING),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.NOT_GOING))},directives:[o.d,a.a,o.h,s.a,l.t,l.w,c.m],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.filter-select[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:6px;padding:0 2px 0 6px}'],changeDetection:0}),e})()},Wg9c:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("8Y7J"),r=n("HSxi"),o=n("iVxe"),a=n("SVse");let s=(()=>{class e{constructor(e){this.groupsFacade=e,this.group$=this.groupsFacade.getCurrentGroup(),this.groupDetails$=this.groupsFacade.getCurrentGroupDetails()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-view-group-about-page"]],inputs:{group$:"group$",groupDetails$:"groupDetails$"},decls:3,vars:6,consts:[[3,"group","groupDetails"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"mg-group-about",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async")),2&e&&i["\u0275\u0275property"]("group",i["\u0275\u0275pipeBind1"](1,2,t.group$))("groupDetails",i["\u0275\u0275pipeBind1"](2,4,t.groupDetails$))},directives:[o.a],pipes:[a.b],styles:[""]}),e})();var l=n("CZ+w");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[l.a,a.c]]}),e})()},XIjf:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return T}));var i=n("8Y7J"),r=n("Cnb3"),o=n("/jon"),a=n("iInd"),s=n("HSxi"),l=n("Vwx4"),c=n("TUjp"),p=n("2nPA"),g=n("HQAS"),u=n("0cKA"),m=n("05dM"),d=n("Q5WP"),h=n("5/J/"),f=n("zDft"),b=n("SVse"),v=n("TSSN");function C(e,t){if(1&e&&(i["\u0275\u0275element"](0,"mg-search-content",5),i["\u0275\u0275pipe"](1,"async")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("groupHashes",i["\u0275\u0275pipeBind1"](1,2,e.groupHash$))("query",e.searchText)}}function x(e,t){if(1&e&&i["\u0275\u0275element"](0,"mg-poll-mini-card",6),2&e){const e=t.$implicit,n=t.itemId;i["\u0275\u0275property"]("showVotes",!1)("context",n)("content",e)("mgContentLink",n)}}const O=function(e){return{groupHashes:e}},M=function(){return[]};let P=(()=>{class e{constructor(e,t,n,i){this.poll=e,this.route=t,this.groupsFacade=n,this.permissions=i,this.isGroupOwner=!1,this.filter={},this.searchText="",this.emptyStateIcons=[{icon:"post",text:"Add"},{icon:"polls-o",text:"Poll"}],this.groupHash$=this.groupsFacade.getCurrentGroupHashObservable(),this.group$=this.groupsFacade.getCurrentGroup()}canPostPolls(e){return!!e&&this.groupsFacade.canPostContentTypeToGroup(e,r.MingaPermission.GROUP_CONTENT_POLL_CREATE)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.Poll),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](s.b),i["\u0275\u0275directiveInject"](l.c))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-view-group-pollss-page"]],decls:11,vars:21,consts:[["mgSearchArea","",3,"placeholder","searchText"],[1,"feed-items"],["rpcStream","streamPollsV2","mgStreamControl","viewGroupPollFeed","rpcControl","streamPollsV2Control",3,"filter","service"],["mgStreamItem",""],["mg-stream-empty","",3,"title","subtitle","icons"],["contentType","POLL",3,"groupHashes","query"],[3,"showVotes","context","content","mgContentLink"]],template:function(e,t){if(1&e&&(i["\u0275\u0275template"](0,C,2,4,"ng-template",0),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275listener"]("searchText",(function(e){return t.searchText=e})),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"mg-stream-scroller",2),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275template"](5,x,1,4,"ng-template",3),i["\u0275\u0275element"](6,"mg-empty-state",4),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275pipe"](9,"translate"),i["\u0275\u0275pipe"](10,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){let e=null;i["\u0275\u0275property"]("placeholder","Search "+(null==(e=i["\u0275\u0275pipeBind1"](1,6,t.group$))?null:e.name)+" Polls"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("filter",i["\u0275\u0275pureFunction1"](18,O,i["\u0275\u0275pipeBind1"](4,8,t.groupHash$)))("service",t.poll),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("title",i["\u0275\u0275pipeBind1"](7,10,"emptyState.managePollsTitle"))("subtitle",t.canPostPolls(i["\u0275\u0275pipeBind1"](8,12,t.group$))?i["\u0275\u0275pipeBind1"](9,14,"emptyState.managePollsSubtitle"):"")("icons",t.canPostPolls(i["\u0275\u0275pipeBind1"](10,16,t.group$))?t.emptyStateIcons:i["\u0275\u0275pureFunction0"](20,M))}},directives:[c.a,p.a,g.a,u.a,m.a,d.a,h.a,f.a],pipes:[b.b,v.d],styles:["[_nghost-%COMP%]{display:block}.feed-items[_ngcontent-%COMP%]{margin-bottom:32px}"]}),e})();var y=n("u9T3"),w=n("NG9B"),_=n("m9yI"),S=n("PRFu"),k=n("xvu2"),I=n("DjdL"),E=n("HDrY");let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[_.b,k.a,S.a,E.a,I.d,w.a,b.c,y.a,v.c]]}),e})()},bZiG:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("8Y7J"),r=n("SVse"),o=n("sj4O"),a=n("WNdF");function s(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2,"Loading available roles..."),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](3,"mg-spinner"),i["\u0275\u0275elementEnd"]())}function l(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-multi-select-role",5),i["\u0275\u0275listener"]("selectedRolesChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onRolesChange(t)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("roles",e.roles)("selectedRoles",e.selectedRoles)("defaultSelected",!1)}}let c=(()=>{class e{constructor(){this.feedName="",this.selectedRoles=[],this.roles=[],this.selectedRolesChange=new i.EventEmitter}onRolesChange(e){this.selectedRolesChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-feed-permittable-roles"]],inputs:{feedName:"feedName",selectedRoles:"selectedRoles",roles:"roles"},outputs:{selectedRolesChange:"selectedRolesChange"},decls:7,vars:3,consts:[[1,"feed-permittable-roles"],[1,"title"],["class","roles-loading-container",4,"ngIf"],[3,"roles","selectedRoles","defaultSelected","selectedRolesChange",4,"ngIf"],[1,"roles-loading-container"],[3,"roles","selectedRoles","defaultSelected","selectedRolesChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"p",1),i["\u0275\u0275text"](2,"Posting Permissions"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"p"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,s,4,0,"div",2),i["\u0275\u0275template"](6,l,1,3,"mg-multi-select-role",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("Allow the following roles to post to the ",t.feedName," feed:"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.roles.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.roles.length))},directives:[r.o,o.a,a.a],styles:["[_nghost-%COMP%]{display:block;font-size:inherit}.feed-permittable-roles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:inherit;font-size:inherit}.feed-permittable-roles[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px}.feed-permittable-roles[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:8px}.roles-loading-container[_ngcontent-%COMP%]{width:100%;text-align:center}"],changeDetection:0}),e})()},bo7O:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n("xiiZ");var i=n("SVse"),r=n("8Y7J"),o=n("ugqS"),a=n("Ogcz");let s=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[o.a,a.b,i.c]]}),e})()},c0o2:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("8Y7J"),r=n("lJxs"),o=n("DO6O"),a=n("VDRc"),s=n("SVse"),l=n("UdS/"),c=n("Fudl"),p=n("iInd");function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275text"](1," Calendar "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("routerLink",e.calendarPath)}}function u(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275text"](1," List "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("routerLink",e.schedulePath)}}let m=(()=>{class e{constructor(e){this.calendarService=e,this.calendarScheduleOptionsOpened=!1,this.calendarPath="",this.schedulePath="",this.clickOptions=new i.EventEmitter,this.settings$=e.settings$.pipe(Object(r.a)(e=>Object.assign({},e)))}openCalendarOptions(){this.calendarScheduleOptionsOpened=!this.calendarScheduleOptionsOpened}onClickOptions(){this.openCalendarOptions(),this.clickOptions.emit()}onQuickFilterChange(e){this.calendarService.setQuickFilter(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-schedule-nav"]],inputs:{calendarPath:"calendarPath",schedulePath:"schedulePath"},outputs:{clickOptions:"clickOptions"},decls:10,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"calendar-nav"],["class","calendar-nav-btn","routerLinkActive","active",3,"routerLink",4,"ngIf"],["fxFlex","auto"],[3,"quickFilter","quickFilterChange"],[1,"cog-wrapper",3,"click"],[1,"calendar-options-btn"],[1,"calendar-schedule-options-top-border"],["routerLinkActive","active",1,"calendar-nav-btn",3,"routerLink"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,g,2,1,"div",1),i["\u0275\u0275template"](2,u,2,1,"div",1),i["\u0275\u0275element"](3,"div",2),i["\u0275\u0275elementStart"](4,"mg-calendar-quick-filter",3),i["\u0275\u0275listener"]("quickFilterChange",(function(e){return t.onQuickFilterChange(e)})),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275listener"]("click",(function(){return t.onClickOptions()})),i["\u0275\u0275elementStart"](7,"mg-icon",5),i["\u0275\u0275text"](8,"settings-active"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"div",6)),2&e){let e=null;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.calendarPath),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.schedulePath),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("quickFilter",null==(e=i["\u0275\u0275pipeBind1"](5,5,t.settings$))?null:e.quickFilter),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("options-opened",t.calendarScheduleOptionsOpened)}},directives:[a.e,a.d,s.o,a.b,l.a,c.a,p.i,p.h],pipes:[s.b],styles:["[_nghost-%COMP%]{display:block}@media (max-width:510px){[_nghost-%COMP%]{background-color:#fff}}.calendar-nav[_ngcontent-%COMP%]{margin:0;padding-top:4px;box-sizing:border-box}.calendar-nav[_ngcontent-%COMP%]   .cog-wrapper[_ngcontent-%COMP%]{padding:0 8px 2px}.calendar-nav-btn[_ngcontent-%COMP%]{color:#2f2f2f;font-size:14px;font-weight:700;cursor:pointer;padding:14px;margin:0;border-bottom:3px solid transparent;outline:none;box-sizing:border-box;flex-basis:20%;flex-grow:0;text-align:center}.calendar-nav-btn.active[_ngcontent-%COMP%]{color:#70b2d7;border-bottom:3px solid #70b2d7;border-left:1px solid #f0f0f0;border-right:1px solid #f0f0f0}.calendar-options-btn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;transform:rotate(0deg);transition:transform .1s ease,color .1s ease;color:#2f2f2f;display:inline-block}.calendar-options-btn.options-opened[_ngcontent-%COMP%]{color:#036;transform:rotate(45deg)}.calendar-schedule-options-top-border[_ngcontent-%COMP%]{border-top:1px solid #ccc;box-shadow:0 0 16px rgba(0,0,0,.4)}mg-calendar-quick-filter[_ngcontent-%COMP%]{font-size:14px;max-width:38%}"],changeDetection:0}),e})()},cPHN:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n("c0o2");var i=n("SVse"),r=n("8Y7J"),o=n("u9T3"),a=n("iInd"),s=n("s7LF"),l=n("Q2Ze"),c=n("ZTz/"),p=n("HxU+");n("UdS/");let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[p.a,c.b,i.c,o.a,s.m,l.f]]}),e})();var u=n("ls3q");let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[u.a,g,i.c,a.k,o.a]]}),e})()},eflX:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return w}));var i=n("8Y7J"),r=n("iIBE"),o=n("TxG7"),a=n("Cnb3"),s=n("HSxi"),l=n("iInd"),c=n("Vwx4"),p=n("SVse"),g=n("2nPA"),u=n("HQAS"),m=n("0cKA"),d=n("05dM"),h=n("dc+t"),f=n("TSSN");function b(e,t){if(1&e&&i["\u0275\u0275element"](0,"mg-content-feed-item",5),2&e){const e=t.$implicit;i["\u0275\u0275property"]("context",t.itemId)("content",e)}}const v=function(e){return{groupHashes:e}};function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275elementStart"](1,"mg-stream-scroller",2),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275template"](3,b,1,2,"ng-template",3),i["\u0275\u0275element"](4,"mg-empty-state",4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("filter",i["\u0275\u0275pureFunction1"](8,v,i["\u0275\u0275pipeBind1"](2,4,e.groupHash$)))("service",e.contentFeed)("mgTrimmed",!0),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("title",i["\u0275\u0275pipeBind1"](5,6,"emptyState.nothingGroupFeed"))}}let x=(()=>{class e{constructor(e,t,n,i){this.groupsFacade=e,this.route=t,this.contentFeed=n,this.permissions=i,this.ContentFeed=o.ContentFeed,this.emptyStateIcons=[],this.groupHash$=this.groupsFacade.getCurrentGroupHashObservable(),this.group$=this.groupsFacade.getCurrentGroup()}getEmptyStateIcons(e){if(e){let t=r.a.isOwner(e)||this.permissions.hasPermission(a.MingaPermission.SUPERADMIN);if(!t&&r.a.isMember(e)&&e.allowedRoleTypes)for(let n of e.allowedRoleTypes)if(this.permissions.hasRoleType(n)){t=!0;break}if(t)return[{icon:"post",text:"Add"}]}return[]}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.b),i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](o.ContentFeed),i["\u0275\u0275directiveInject"](c.c))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-view-group-feed-page"]],decls:2,vars:3,consts:[["class","feed-items",4,"ngIf"],[1,"feed-items"],["mgStreamControl","viewGroupFeed","rpcStream","streamContentFeed","rpcControl","streamContentFeedControl",3,"filter","service","mgTrimmed"],["mgStreamItem",""],["mg-stream-empty","",3,"title"],[3,"context","content"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,C,6,10,"div",0),i["\u0275\u0275pipe"](1,"async")),2&e&&i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](1,1,t.groupHash$))},directives:[p.o,g.a,u.a,m.a,d.a,h.a],pipes:[p.b,f.d],styles:["[_nghost-%COMP%]{display:block}.feed-items[_ngcontent-%COMP%]{margin-bottom:32px}"]}),e})();var O=n("u9T3"),M=n("NG9B"),P=n("m9yI"),y=n("5uzz");let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[P.b,y.a,M.a,p.c,O.a,f.c]]}),e})()},gtkb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("SVse"),r=n("8Y7J"),o=n("s7LF"),a=n("Tj54");n("qftF");let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[o.m,i.c,a.b]]}),e})()},iVxe:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("8Y7J"),r=n("Jaf7"),o=n("SVse"),a=n("gjtd"),s=n("DobJ"),l=n("Jkk8"),c=n("rK0i");function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275element"](1,"mg-avatar",5),i["\u0275\u0275element"](2,"mg-person-minimal",6),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("src",null==e.groupOwner?null:e.groupOwner.profileImageUrl)("color",null==e.groupOwner?null:e.groupOwner.badgeIconColor)("personHash",null==e.groupOwner?null:e.groupOwner.personHash),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("person",e.groupOwner)}}function g(e,t){if(1&e&&(i["\u0275\u0275element"](0,"p",7),i["\u0275\u0275pipe"](1,"mgSafeHtml"),i["\u0275\u0275pipe"](2,"ugcLinksContent")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind1"](1,1,i["\u0275\u0275pipeBind1"](2,3,null==e.group?null:e.group.description)),i["\u0275\u0275sanitizeHtml"])}}function u(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1,"No description"),i["\u0275\u0275elementEnd"]())}let m=(()=>{class e{get groupOwner(){if(!this.groupDetails)return null;const e=r.GroupMemberInfo.Rank.OWNER,t=this.groupDetails.members.find(t=>t.rank==e);return t&&t.person||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-about"]],inputs:{group:"group",groupDetails:"groupDetails"},decls:6,vars:4,consts:[[1,"user-content"],["class","group-owner-details","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"group-owner-details"],[3,"src","color","personHash"],[3,"person"],[3,"innerHTML"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,p,3,4,"div",1),i["\u0275\u0275template"](4,g,3,5,"p",2),i["\u0275\u0275template"](5,u,2,0,"p",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("About ",null==t.group?null:t.group.name,""),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.groupOwner),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==t.group?null:t.group.description),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(null!=t.group&&t.group.description)))},directives:[o.o,a.a,s.a],pipes:[l.a,c.a],styles:["[_nghost-%COMP%]{position:relative;z-index:1;display:block;border-radius:8px;background-color:#fff;box-shadow:0 0 6px rgba(0,0,0,.16);padding:16px}.user-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-top:0}.user-content[_ngcontent-%COMP%]     blockquote, .user-content[_ngcontent-%COMP%]     li, .user-content[_ngcontent-%COMP%]     ol, .user-content[_ngcontent-%COMP%]     p, .user-content[_ngcontent-%COMP%]     ul{color:#737373}.user-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.leave-group[_ngcontent-%COMP%]{font-size:65%}.group-owner-details[_ngcontent-%COMP%]{--mg-avatar-size:25px}.group-owner-details[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{margin-left:8px}"]}),e})()},jKai:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("8Y7J"),o=n("86jm"),a=n("B8CN"),s=n("2Vo4"),l=n("eIep"),c=n("SxV6"),p=n("lHZB"),g=n("Eh7J"),u=n("HSxi");let m=(()=>{class e extends o.a{constructor(e,t,n){super(e,t),this.mingaGalleryProto=e,this.reportService=t,this.groupsFacade=n,this.groupHashSubj=new s.a(""),this.setGroupFromHash(""),this.groupHash$=this.groupHashSubj.asObservable(),this._group$=this.groupHash$.pipe(Object(l.a)(e=>this.groupsFacade.getGroup(e)))}setGroupFromHash(e){return Object(i.a)(this,void 0,void 0,(function*(){this.groupHashSubj.next(e)}))}_getGroup(){return Object(i.a)(this,void 0,void 0,(function*(){if(!this._group$)throw new Error("GroupGalleryService called without a group");const e=yield this._group$.pipe(Object(c.a)()).toPromise();if(e)return e;throw new Error("GroupGalleryService could not find group from the given group hash")}))}fetchSummary(){return Object(i.a)(this,void 0,void 0,(function*(){this._group$&&this._group$.pipe(Object(c.a)(e=>null!=e&&null!=e.hash)).subscribe(e=>{this._fetchSummary()})}))}_fetchSummary(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this._getGroup(),t=new a.MingaGallerySummaryRequest,n=this._loading.getValue();t.setGroupHash(e.hash);try{n||this._loading.next(!0);const e=yield this.mingaGalleryProto.summary(t);this._summary.next(e.toObject())}finally{n||this._loading.next(!1)}}))}getSearchPhotoTotal(e){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this._getGroup(),n=new a.MingaGalleryGetPhotoTotalRequest;return n.setSearchQuery(e),n.setGroupHash(t.hash),(yield this.mingaGalleryProto.getPhotoTotal(n)).getPhotoTotal()}))}addPhoto(e){return Object(i.a)(this,void 0,void 0,(function*(){return yield this._addPhoto(this._summary,e)}))}deletePhoto(e){return Object(i.a)(this,void 0,void 0,(function*(){return yield this._deletePhoto(this._summary,e)}))}resolvePhoto(e){return Object(i.a)(this,void 0,void 0,(function*(){return yield this._resolvePhoto(e)}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](p.MingaGallery),r["\u0275\u0275inject"](g.a),r["\u0275\u0275inject"](u.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},jnbT:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return P}));var i=n("mrSG"),r=n("8Y7J"),o=n("s7LF"),a=n("LvDl"),s=n("5km/"),l=n("B3cG"),c=n("SxV6"),p=n("HSxi"),g=n("JF7H"),u=n("SVse"),m=n("GFah"),d=n("iELJ"),h=n("WH00"),f=n("UWMR"),b=n("SYVq"),v=n("2dIi");const C=["form"];let x=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,p){this.groupsFacade=e,this.auth=t,this._location=n,this.rootService=i,this.groupService=r,this.dialog=o,this.contentEvents=a,this.fileUploadManager=s,this.snackBar=c,this.url=p,this.groupHash$=this.groupsFacade.getCurrentGroupHashObservable(),this.groupAsset="",this.FileUploadStatus=l.e,this.uploadItems=[],this.pendingFiles=[],this.enableUploading=!1}ngAfterViewInit(){this.initPendingFiles(),this.onOverlayNextDisabled(!0)}onStatusChange(e){this.onOverlayNextDisabled(!e)}onFilesChange(e){this.uploadItems=e}initPendingFiles(){return Object(i.a)(this,void 0,void 0,(function*(){const e=()=>{this.snackBar.open("No files available to upload, select files and try again"),this.onOverlayClose()},t=yield this.groupHash$.pipe(Object(c.a)()).toPromise();if(!t)return console.error("In group context, but no group hash found"),void e();const n=`groupFiles_${t}`,i=this.fileUploadManager.getPendingFiles(n);i&&i.length?(this.pendingFiles=a.clone(i),this.fileUploadManager.clearPendingFiles(n)):e()}))}onCancel(e){this.onOverlayClose()}onOverlayClose(){return Object(i.a)(this,void 0,void 0,(function*(){return this._location.back(),!0}))}hasOverlayNext(){return{text:"Upload",icon:"upload-o"}}onOverlayNext(){return Object(i.a)(this,void 0,void 0,(function*(){this.onOverlayNextDisabled(!0),this.enableUploading=!0,this.onOverlayNextDisabled(!1)}))}get overlayPrevious(){return{icon:"close",text:"Cancel"}}getUploadItemKey(e){return e.file?e.file.name:e.link}onFilesUploaded(e){e&&e.length&&this.submit(e)}hasOverlayPrevious(){return this.overlayPrevious}onOverlayPrevious(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}registerOnOverlayNextDisabled(e){this.onOverlayNextDisabled=e}registerOnOverlayPreviousDisabled(e){this.onOverlayPreviousDisabled=e}submit(e){this.rootService.addLoadingPromise(this._submit(e))}_submit(e){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.groupHash$.pipe(Object(c.a)()).toPromise(),n=yield this.groupService.addGroupFiles(t,e).catch(e=>{console.error("group file upload error: ",e),this.snackBar.open("an error occurred while saving files."),this.onOverlayNextDisabled(!1)});if(n)return this.dialog.open(s.k,{data:{text:(this.uploadItems.length>1?"Files":"File")+" Successfully Uploaded"}}),this.contentEvents.emitFileUpdateEvent({groupHash:t,files:n.files}),new Promise((e,t)=>{setTimeout(()=>{this.onOverlayClose(),e(null)},1500)})}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](p.b),r["\u0275\u0275directiveInject"](g.a),r["\u0275\u0275directiveInject"](u.k),r["\u0275\u0275directiveInject"](m.a),r["\u0275\u0275directiveInject"](p.c),r["\u0275\u0275directiveInject"](d.b),r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](l.d),r["\u0275\u0275directiveInject"](f.b),r["\u0275\u0275directiveInject"](u.l))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-file-upload-overlay"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](C,3,o.v),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},decls:2,vars:3,consts:[[3,"component"],[3,"initialFiles","uploadFileAssets","valid","pendingFiles","filesUploaded","cancel"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),r["\u0275\u0275elementStart"](1,"mg-bulk-file-upload",1),r["\u0275\u0275listener"]("valid",(function(e){return t.onStatusChange(e)}))("pendingFiles",(function(e){return t.onFilesChange(e)}))("filesUploaded",(function(e){return t.onFilesUploaded(e)}))("cancel",(function(e){return t.onCancel(e)})),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("component",t),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("initialFiles",t.pendingFiles)("uploadFileAssets",t.enableUploading))},directives:[b.a,v.a],styles:["[_nghost-%COMP%]{display:block}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.disabled.delete-icon-wrapper[_ngcontent-%COMP%], .disabled.input-action[_ngcontent-%COMP%]{opacity:.6}.title-input[_ngcontent-%COMP%]{border-top:none;border-bottom:1px solid #ccc}.input-wrapper.link-input[_ngcontent-%COMP%]{padding:16px 20px calc(16px - .5em)}.input-wrapper.link-input[_ngcontent-%COMP%]   .input-action[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:.4em}.file-input-wrap[_ngcontent-%COMP%]{font-size:10px;position:relative;border-bottom:1px solid #ccc}.file-input-wrap[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{font-size:inherit}.file-input-wrap[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]     .drop-area{transition:opacity .3s cubic-bezier(.55,0,.55,.2);opacity:1}.file-input-wrap[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%], .file-input-wrap[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]     .drop-area .user-content h2.text{color:#737373;font-size:1.4em;font-weight:400;text-align:center}.file-input-wrap[_ngcontent-%COMP%]   .uploading-loading-container[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;right:0;padding:18px 16px 16px}@media (orientation:landscape){.file-input-wrap[_ngcontent-%COMP%]   .uploading-loading-container[_ngcontent-%COMP%]{padding-top:1.25vh}}@media (orientation:portrait){.file-input-wrap[_ngcontent-%COMP%]   .uploading-loading-container[_ngcontent-%COMP%]{padding-top:1.25vw}}@media (orientation:landscape) and (max-height:320px){.file-input-wrap[_ngcontent-%COMP%]   .uploading-loading-container[_ngcontent-%COMP%]{padding-top:4px}}@media (orientation:portrait) and (max-width:320px){.file-input-wrap[_ngcontent-%COMP%]   .uploading-loading-container[_ngcontent-%COMP%]{padding-top:4px}}@media (min-width:1440px){.file-input-wrap[_ngcontent-%COMP%]   .uploading-loading-container[_ngcontent-%COMP%]{padding-top:18px}}.file-input-wrap.loading[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]     .drop-area{transition:opacity .3s cubic-bezier(.55,0,.55,.2);opacity:0}.file-input-wrap.loading[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]     .drop-area .user-content h2.text{opacity:0}.input-action[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.input-action[_ngcontent-%COMP%]:hover{cursor:pointer;color:#93f}.input-action[_ngcontent-%COMP%]:last-child{padding-right:0}.input-action-icon[_ngcontent-%COMP%]{position:relative;width:2em;height:1em;display:inline-block}.input-action-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{position:absolute;left:0;bottom:-.2em;width:12px;height:12px}.input-action-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]     mat-icon svg{vertical-align:top}.files-list[_ngcontent-%COMP%]{padding:0}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;display:flex;justify-content:flex-start;align-items:stretch;padding:0 20px}@media (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-left:1.5625vh}}@media (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-left:1.5625vw}}@media (orientation:landscape) and (max-height:320px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-left:5px}}@media (orientation:portrait) and (max-width:320px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-left:5px}}@media (min-width:1280px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-left:20px}}@media (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-right:1.5625vh}}@media (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-right:1.5625vw}}@media (orientation:landscape) and (max-height:320px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-right:5px}}@media (orientation:portrait) and (max-width:320px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-right:5px}}@media (min-width:1280px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding-right:20px}}.files-list[_ngcontent-%COMP%]   .file-row.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}@media (min-width:600px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]:last-child{border-bottom:none}}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-upload-wrapper[_ngcontent-%COMP%], .files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]{padding:20px 0}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-upload-wrapper[_ngcontent-%COMP%]{margin-right:10px;height:50px;width:50px;position:relative;flex:0 0 auto}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-upload-wrapper[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:0;font-size:60%;display:none;border-radius:6px;overflow:hidden;height:50px;width:50px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-upload-wrapper[_ngcontent-%COMP%]   mg-file-upload.nonImage[_ngcontent-%COMP%]{opacity:.9}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-upload-wrapper[_ngcontent-%COMP%]   mg-file-upload.show[_ngcontent-%COMP%]{display:block}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-upload-wrapper[_ngcontent-%COMP%]   mg-file-extension-box[_ngcontent-%COMP%]{width:100%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-upload-wrapper[_ngcontent-%COMP%]   mg-file-extension-box.hide[_ngcontent-%COMP%]{display:none}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-actions[_ngcontent-%COMP%]:not(.input-action){margin-top:20px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-action[_ngcontent-%COMP%]{padding:20px 10px 6px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-action[_ngcontent-%COMP%]:hover{cursor:pointer;color:#93f}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-action[_ngcontent-%COMP%]:last-child{padding-right:0}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]{flex-basis:85%;color:#737373;align-items:center;display:flex;flex-direction:column;align-items:flex-start;justify-content:space-around;max-width:197px;padding-top:10px}@media (min-width:375px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]{max-width:70.6666666667vh}}@media (min-width:375px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]{max-width:70.6666666667vw}}@media (min-width:375px) and (orientation:landscape) and (max-height:375px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]{max-width:265px}}@media (min-width:375px) and (orientation:portrait) and (max-width:375px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]{max-width:265px}}@media (min-width:375px) and (min-width:847.641509434){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]{max-width:599}}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:-.7em}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{margin-bottom:.1em}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]   .file-rename[_ngcontent-%COMP%]{margin-bottom:.2em}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .input-wrapper.file-name[_ngcontent-%COMP%]   .file-rename[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-rename[_ngcontent-%COMP%]{color:#93f;font-size:70%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .delete-icon-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:20px 0 20px 20px;flex-basis:5%;flex:1 0 auto;justify-content:flex-end}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .delete-icon-wrapper[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:18px;width:18px;color:#737373}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .delete-icon-wrapper[_ngcontent-%COMP%]:hover{cursor:pointer}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .delete-icon-wrapper[_ngcontent-%COMP%]:hover   mg-icon[_ngcontent-%COMP%]{color:#de1717}"]}),e})();var O=n("/yIH"),M=n("CL15");let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[O.a,M.a]]}),e})()},kxWE:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("8Y7J"),r=n("lJxs"),o=n("HSxi"),a=n("DO6O"),s=n("c0o2"),l=n("SVse"),c=n("GOup");function p(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h1",8),i["\u0275\u0275text"](1," Calendar Settings "),i["\u0275\u0275elementEnd"]())}function g(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h1",8),i["\u0275\u0275text"](1," Events List Settings "),i["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275template"](1,p,2,0,"h1",5),i["\u0275\u0275template"](2,g,2,0,"h1",5),i["\u0275\u0275elementStart"](3,"mg-calendar-schedule-options",6,7),i["\u0275\u0275listener"]("groupHashesChange",(function(n){i["\u0275\u0275restoreView"](e);const r=t.ngIf;return i["\u0275\u0275nextContext"](2)._onGroupSelectChange(r,n)}))("eventCategoryChange",(function(n){i["\u0275\u0275restoreView"](e);const r=t.ngIf;return i["\u0275\u0275nextContext"](2)._onCategorySelectChange(r,n)}))("submit",(function(n){i["\u0275\u0275restoreView"](e);const r=t.ngIf;return i["\u0275\u0275nextContext"](2).applyOptions(n,r)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.ngIf;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.showCalendarSettings),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.showCalendarSettings),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("includeWeekends",!e.excludeWeekend)("calendarView",e.calendarView)("groupHashes",e.groupHashes)("selectedCategory",e.category)("showPastEvents",e.showPastEvents)("showCalendarSettings",e.showCalendarSettings)}}function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275template"](1,u,5,8,"div",3),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](2,1,e.settings$))}}let d=(()=>{class e{constructor(e,t){this.eventCalendarService=t,this.searchText="",this.calendarScheduleOptionsOpened=!1,this.settings$=t.settings$.pipe(Object(r.a)(e=>Object.assign({},e))),this.groups$=e.groups$}openCalendarOptions(){this.calendarScheduleOptionsOpened=!this.calendarScheduleOptionsOpened}applyOptions(e,t){const n=Object.assign(Object.assign({},t),{excludeWeekend:!e.includeWeekends,calendarView:e.calendarView,showPastEvents:e.showPastEvents,showCalendarSettings:e.showCalendarSettings});this.eventCalendarService.updateSettings(n,!0),this.calendarScheduleOptionsOpened=!1}_onGroupSelectChange(e,t){t?e.groupHashes=[t]:delete e.groupHashes}_onCategorySelectChange(e,t){t?e.category=t:delete e.category}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.b),i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-events-home"]],decls:2,vars:3,consts:[[3,"calendarPath","schedulePath","clickOptions"],["class","calendar-schedule-options-container",4,"ngIf"],[1,"calendar-schedule-options-container"],["class","calendar-schedule-options",4,"ngIf"],[1,"calendar-schedule-options"],["class","calendar-settings-title",4,"ngIf"],[3,"includeWeekends","calendarView","groupHashes","selectedCategory","showPastEvents","showCalendarSettings","groupHashesChange","eventCategoryChange","submit"],["calendarScheduleOptions",""],[1,"calendar-settings-title"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mg-calendar-schedule-nav",0),i["\u0275\u0275listener"]("clickOptions",(function(){return t.openCalendarOptions()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](1,m,3,3,"div",1)),2&e&&(i["\u0275\u0275property"]("calendarPath","./calendar")("schedulePath","./schedule"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.calendarScheduleOptionsOpened))},directives:[s.a,l.o,c.a],pipes:[l.b],styles:["[_nghost-%COMP%]{position:relative;display:block}@keyframes options-slide-in{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.calendar-options-btn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;transform:rotate(0deg);transition:transform .1s ease,color .1s ease;color:#2f2f2f}.calendar-options-btn.options-opened[_ngcontent-%COMP%]{color:#036;transform:rotate(45deg)}.calendar-schedule-options-container[_ngcontent-%COMP%]{overflow:hidden;margin:0 8px;border-bottom:1px solid #ccc}.calendar-schedule-options-container[_ngcontent-%COMP%]   .calendar-schedule-options[_ngcontent-%COMP%]{max-width:350px;padding:8px;margin:8px auto;transform:translateY(-100%);animation:options-slide-in .15s ease;animation-iteration-count:1;animation-fill-mode:forwards}.calendar-settings-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;text-align:center;margin:0 0 8px;color:#737373}"],changeDetection:0}),e})()},"m+aQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("8Y7J"),r=n("jnbT"),o=n("u7X7"),a=n("CBWo"),s=n("LYTB"),l=n("iELJ");n("J+65"),n("4avL");var c=n("CO6v"),p=n("/652"),g=n("y8Ey");let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[c.a,p.a,g.a,l.f]]}),e})();var m=n("WsNZ"),d=n("2c+M"),h=n("2/6D"),f=n("DuJC"),b=n("/MKM"),v=n("Wg9c"),C=n("urJB"),x=n("eflX"),O=n("pnCU"),M=n("XIjf");let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[r.b,o.b,a.b,s.b,u,m.a,d.b,h.a,f.b,b.b,v.b,C.b,x.b,O.b,M.b]}),e})()},nB6J:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n("vXul");var i=n("8Y7J"),r=n("u9T3"),o=n("ls3q"),a=n("zkd0"),s=n("mF6c"),l=n("ACDe");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[o.a,l.a,a.a,s.a,r.a]]}),e})()},p47V:function(e,t,n){"use strict";n.d(t,"a",(function(){return ee}));var i=n("mrSG"),r=n("8Y7J"),o=n("LvDl"),a=n("fTqC"),s=n("V0rs"),l=n("Fawd"),c=n("Jaf7"),p=n("Cnb3"),g=n("2Vo4"),u=n("itXk"),m=n("lJxs"),d=n("vkgz"),h=n("SxV6"),f=n("UCUv"),b=n("SVse"),v=n("iELJ"),C=n("lkjj"),x=n("Vwx4"),O=n("3qIc"),M=n("s7LF"),P=n("VDRc"),y=n("jMqV"),w=n("4avL"),_=n("bZiG"),S=n("WNdF"),k=n("Q2Ze"),I=n("i1AJ"),E=n("Fudl"),T=n("e6WT"),j=n("Kyc/"),G=n("T0RT"),F=n("tkC3"),L=n("9sQ6"),R=n("ura0"),N=n("iBVM"),B=n("ZTz/"),H=n("UhP/"),D=n("w8an"),A=n("Jkk8"),V=n("Tmav");const $=["form"];function U(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",32),r["\u0275\u0275element"](1,"span",33),r["\u0275\u0275pipe"](2,"mgSafeHtml"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("ngStyle",e.headlineStyle(e.groupName)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("innerHTML",r["\u0275\u0275pipeBind1"](2,2,e.groupName),r["\u0275\u0275sanitizeHtml"])}}function q(e,t){if(1&e&&(r["\u0275\u0275element"](0,"div",34),r["\u0275\u0275pipe"](1,"mgAssetUrl")),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275styleProp"]("background-image","url("+r["\u0275\u0275pipeBind1"](1,2,e.groupBannerAsset)+")")}}function z(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-file-upload",35),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).groupBannerAsset=t}))("previewUrlOutput",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).customImagePreviewUrl=t})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("previewAspectRatio",9/16)("previewSize",600)("file",e.customImage[0])("ngModel",e.groupBannerAsset)}}function J(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",28),r["\u0275\u0275template"](1,U,3,4,"div",29),r["\u0275\u0275template"](2,q,2,4,"div",30),r["\u0275\u0275template"](3,z,1,4,"mg-file-upload",31),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.groupBanner&&e.groupBanner.headlineOptions),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.groupBannerAsset&&(!e.customImage||0==e.customImage.length)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.customImage&&e.customImage.length>0)}}function Y(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",39),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function W(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",24),r["\u0275\u0275elementStart"](1,"mat-form-field",13),r["\u0275\u0275elementStart"](2,"mat-label"),r["\u0275\u0275text"](3,"School"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mat-select",37),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).parentGroup=t})),r["\u0275\u0275template"](5,Y,2,2,"mat-option",38),r["\u0275\u0275elementStart"](6,"mat-option",39),r["\u0275\u0275text"](7,"None"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("compareWith",e.groupIsSame)("ngModel",e.parentGroup),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.availableParentGroups)}}function Q(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,W,8,3,"div",36),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.automaticallyPickParentGroup)}}const Z=function(e){return[e]},K=function(){return{standalone:!0}},X={disabled:!0,name:"Group Owner",roleType:f.b,tooltip:""};let ee=(()=>{class e{constructor(e,t,n,i,o,a,s){this._location=e,this.changeDetectorRef=t,this.matDialog=n,this.elementRef=i,this.rolesService=o,this.permissions=a,this.mingaStore=s,this.Banner=l.Banner,this.groupBanner=null,this._intialBannerAsset="",this._rawBannerAsset="",this.allowOwnerSelect=!1,this.groupPrivate=!1,this.groupName="",this.groupDescription="",this.groupBannerAsset="",this.groupBannerHash="",this.groupCategoryId=0,this.allowedGroupRolesTypes=[],this.allowedCommentingRolesTypes=null,this.inputsSubmit=new r.EventEmitter,this.availableParentGroups=[],this.parentGroup=null,this.groupCategory=null,this.bannerSelectionActive=!1,this.customImage=[],this.commentRolesSubj=new g.a([]),this.group=null,this.dirtyCommentRoles=!1,this.groupIsSame=(e,t)=>null==e&&null==t||(null==e?void 0:e.hash)==(null==t?void 0:t.hash),this.rolesService.fetchIfNeeded(),this.districtFeatureEnabled$=s.observeDistrictFeatureEnabled(),this.postingRoles$=o.availableFeedPermitableRoles$.pipe(Object(m.a)(e=>{const t=e.map(e=>({disabled:e.immutableGroupFeedPermittable,name:e.name,roleType:e.roleType,get tooltip(){const t=e.capabilitiesDescription;return t&&t+" to the group feed"}}));return t.length&&t.unshift(X),t})),this.availableCommentRoles$=o.availableCommentPermitableRoles$.pipe(Object(m.a)(e=>e.map(e=>({disabled:e.immutableCommentPermittable,name:e.name,roleType:e.roleType,get tooltip(){return e.name+" will be allowed to comment on content in this group"}})))),this.defaultCommentRoles$=this.rolesService.commentPermitableRoles$.pipe(Object(m.a)(e=>e.map(e=>e.roleType))),this.commentRoles$=this.commentRolesSubj.asObservable(),this.selectedCommentRoles$=Object(u.b)(this.availableCommentRoles$,this.defaultCommentRoles$,this.commentRoles$).pipe(Object(m.a)(([e,t,n])=>n.length>0?n:t),Object(d.a)(e=>this.allowedCommentingRolesTypes=e))}cancel(){this.onOverlayClose()}onOverlayClose(){return Object(i.a)(this,void 0,void 0,(function*(){return this._location.back(),!0}))}get showBannerPreview(){return this.groupBannerAsset||this.customImage.length>0}get automaticallyPickParentGroup(){if(!this.groupCategory)return!0;if(this.groupCategory.autoParent)return!0;const e=this.permissions.hasPermission(p.MingaPermission.GROUP_ALLOW_ANY_PARENT_GROUP);return this.availableParentGroups.length<2&&!e}ngOnChanges(e){e.availableParentGroups&&this.initParentGroup()}reset(){this.form.control.reset()}initParentGroup(){var e;if(null===(e=this.group)||void 0===e?void 0:e.parentGroupHash){for(const e of this.availableParentGroups)if(this.group.parentGroupHash==e.hash){this.parentGroup=e;break}this.groupCategoryId=this.group.categoryId}}resetGroupFields(e){this.group=e,this.groupName=e.name,this.groupDescription=e.description,this.groupPrivate=e.isPrivate,this.groupCategoryId=e.categoryId,this.initParentGroup(),e.allowedRoleTypes&&(this.allowedGroupRolesTypes=e.allowedRoleTypes,this.allowedGroupRolesTypes.push(f.b)),e.allowedCommentingRoleTypes&&(this.commentRolesSubj.next(e.allowedCommentingRoleTypes),this.allowedCommentingRolesTypes=e.allowedCommentingRoleTypes),e.bannerHash&&(this.groupBannerHash=e.bannerHash),e.banner&&(this.groupBannerAsset=Object(s.c)(e.banner.toObject(),"cardbanner"),this._rawBannerAsset=Object(s.c)(e.banner.toObject(),"raw"),this._intialBannerAsset=this.groupBannerAsset),e.bannerObject&&(this.groupBanner=e.bannerObject.toObject(),this.groupBannerHash=this.groupBanner.bannerHash,e.bannerObject.hasImage()&&(this.groupBannerAsset=Object(s.c)(e.bannerObject.getImage().toObject(),"cardbanner"),this._rawBannerAsset=Object(s.c)(e.bannerObject.getImage().toObject(),"raw"),this._intialBannerAsset=this.groupBannerAsset)),this.changeDetectorRef.markForCheck(),requestAnimationFrame(()=>{this.form.control.markAsPristine()})}resetGroupDetailsFields(e){}onBannerAssetChange(e){this.groupBannerHash="",this.changeDetectorRef.detectChanges()}onSelectedBannerChange(e){if(e){const t=Object(s.c)(e.image,"raw");this.groupBannerAsset=t,this.groupBanner=e,this.groupBannerHash=e.bannerHash,this.customImage=[],this.customImagePreviewUrl="",this.bannerSelectionActive=!1}else this.groupBannerHash="";this.changeDetectorRef.detectChanges()}onSelectedRolesChange(e){this.allowedGroupRolesTypes=e}onSelectedCommentingRolesChange(e){this.allowedCommentingRolesTypes.includes(e)||(this.allowedCommentingRolesTypes.push(e),this.dirtyCommentRoles=!0)}onDeselectCommentRole(e){const t=this.allowedCommentingRolesTypes.indexOf(e);t>=0&&(this.allowedCommentingRolesTypes.splice(t,1),this.dirtyCommentRoles=!0)}onCustomImageChange(e){e&&e.length>0&&(this.bannerSelectionActive=!1,this.groupBannerAsset="",this.groupBanner=null,this.groupBannerHash="")}getOwnerName(){let e="";return this._ownerPersonView&&(e=this._ownerPersonView.displayName),e}headlineStyle(e){return this.groupBanner&&e&&this.elementRef.nativeElement.children.length&&this.groupBanner.headlineOptions?Object(a.a)(e,this.groupBanner.headlineOptions,{maxLength:46,containerWidth:this.elementRef.nativeElement.children[0].clientWidth}):""}onGroupNameChange(e){!this.bannerSelectionActive&&e.length>2&&!this.groupBannerAsset&&(this.bannerSelectionActive=!0)}onSubmit(){var e,t;return Object(i.a)(this,void 0,void 0,(function*(){const n=new c.GroupInputs;n.setName(this.groupName),n.setDescription(this.groupDescription),n.setPrivate(this.groupPrivate),n.setCategoryId(this.groupCategoryId);let i=!1;this.groupCategory&&this.groupCategory.autoParent&&(i=!0),(yield this.mingaStore.hasDistrictFeatureEnabled())&&!i&&n.setParentGroupHash(this.automaticallyPickParentGroup?(null===(e=this.availableParentGroups[0])||void 0===e?void 0:e.hash)||"":(null===(t=this.parentGroup)||void 0===t?void 0:t.hash)||""),this.allowedGroupRolesTypes.length&&n.setAllowedRoleTypesList(this.allowedGroupRolesTypes.filter(e=>e!=f.b));const r=yield this.defaultCommentRoles$.pipe(Object(h.a)()).toPromise();this.allowedCommentingRolesTypes&&(o.isEqual(r.sort(),this.allowedCommentingRolesTypes.sort())&&!this.dirtyCommentRoles||n.setAllowedCommentingRoleTypesList(this.allowedCommentingRolesTypes)),this.groupBannerHash?n.setBannerHash(this.groupBannerHash):(this.groupBannerAsset==this._intialBannerAsset&&(this.groupBannerAsset=this._rawBannerAsset),n.setBannerAsset(this.groupBannerAsset)),this.inputsSubmit.emit(n)}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](b.k),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](v.b),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](C.a),r["\u0275\u0275directiveInject"](x.c),r["\u0275\u0275directiveInject"](O.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-form"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"]($,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},inputs:{allowOwnerSelect:"allowOwnerSelect",groupPrivate:"groupPrivate",groupName:"groupName",groupDescription:"groupDescription",groupBannerAsset:"groupBannerAsset",groupBannerHash:"groupBannerHash",groupCategoryId:"groupCategoryId",allowedGroupRolesTypes:"allowedGroupRolesTypes",allowedCommentingRolesTypes:"allowedCommentingRolesTypes",availableParentGroups:"availableParentGroups",parentGroup:"parentGroup"},outputs:{inputsSubmit:"inputsSubmit"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:46,vars:41,consts:[["autocomplete","off",1,"mg-minicopy",3,"submit"],["form","ngForm"],["fxLayout","row","fxLayoutAlign","start center",1,"form-input-spacing"],[1,"private-toggle-text"],["name","groupPrivate",1,"no-mg",3,"ngModel","ngModelChange"],["fxFlex",""],["href","javascript:;",1,"cancel-btn",3,"click"],["type","outline",3,"disabled"],[1,"form-input-spacing","role-permissions"],[1,"mg-minicopy",3,"feedName","roles","selectedRoles","selectedRolesChange"],[3,"roles","selectedRoles","roleSelect","roleDeselect"],["class","file-input-wrap form-input-container-border",4,"ngIf"],[1,"form-input-container","group-name-input-wrap"],["mgFormField",""],["matSuffix","",1,"camera-icon",3,"click"],["matInput","","name","groupName","required","","minlength","3","maxlength","80","autocomplete","off","placeholder","Group name",3,"ngModel","ngModelChange"],[1,"banner-edit-wrap"],[1,"banner-select-wrap"],[1,"banner-select-fade-left"],["name","groupBanner",3,"categories","query","ngModel","ngModelOptions","ngModelChange","selectedBannerChange"],[1,"banner-select-fade-right"],["fxLayout","column",1,"mg-centered","user-content"],["customTitleText","Upload Custom Image","displayStyle","BUTTON",1,"mg-minicopy",3,"multiple","ngModelOptions","ngModel","ngModelChange"],["type","clear",1,"mg-minicopy",3,"click"],[1,"form-input-container"],["name","groupCategory","required","","categoryType","MINGA_GROUP","placeholder","Select a Group category",3,"ngModel","ngModelChange","categorySelected"],[4,"ngIf"],["placeholder","Say something about this group","name","groupDescription",3,"maxlength","richContent","ngModel","ngModelChange"],[1,"file-input-wrap","form-input-container-border"],["class","preview-banner-headline",3,"ngStyle",4,"ngIf"],["class","banner-preview-image",3,"backgroundImage",4,"ngIf"],["name","customImageUpload",3,"previewAspectRatio","previewSize","file","ngModel","ngModelChange","previewUrlOutput",4,"ngIf"],[1,"preview-banner-headline",3,"ngStyle"],[3,"innerHTML"],[1,"banner-preview-image"],["name","customImageUpload",3,"previewAspectRatio","previewSize","file","ngModel","ngModelChange","previewUrlOutput"],["class","form-input-container",4,"ngIf"],["name","parentGroup",3,"compareWith","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",0,1),r["\u0275\u0275listener"]("submit",(function(){return t.onSubmit()})),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275text"](4,"Private"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div"),r["\u0275\u0275elementStart"](6,"mat-slide-toggle",4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.groupPrivate=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](7,"div",5),r["\u0275\u0275elementStart"](8,"div"),r["\u0275\u0275elementStart"](9,"a",6),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275text"](10,"Cancel"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"mg-button",7),r["\u0275\u0275text"](12,"Save Group"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",8),r["\u0275\u0275elementStart"](14,"mg-feed-permittable-roles",9),r["\u0275\u0275listener"]("selectedRolesChange",(function(e){return t.onSelectedRolesChange(e)})),r["\u0275\u0275pipe"](15,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"div",8),r["\u0275\u0275elementStart"](17,"p"),r["\u0275\u0275text"](18,"Allow the following roles to comment on content in this group:"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"mg-multi-select-role",10),r["\u0275\u0275listener"]("roleSelect",(function(e){return t.onSelectedCommentingRolesChange(e)}))("roleDeselect",(function(e){return t.onDeselectCommentRole(e)})),r["\u0275\u0275pipe"](20,"async"),r["\u0275\u0275pipe"](21,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](22,J,4,3,"div",11),r["\u0275\u0275elementStart"](23,"div",12),r["\u0275\u0275elementStart"](24,"mat-form-field",13),r["\u0275\u0275elementStart"](25,"mg-icon",14),r["\u0275\u0275listener"]("click",(function(){return t.bannerSelectionActive=!t.bannerSelectionActive})),r["\u0275\u0275text"](26,"camera"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](27,"input",15),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.groupName=e}))("ngModelChange",(function(e){return t.onGroupNameChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](28,"div",16),r["\u0275\u0275elementStart"](29,"div",17),r["\u0275\u0275element"](30,"div",18),r["\u0275\u0275elementStart"](31,"mg-banner-select2",19),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.groupBannerHash=e}))("selectedBannerChange",(function(e){return t.onSelectedBannerChange(e)})),r["\u0275\u0275text"](32,"> "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](33,"div",20),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](34,"div",21),r["\u0275\u0275elementStart"](35,"mg-file-input",22),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.customImage=e}))("ngModelChange",(function(e){return t.onCustomImageChange(e)})),r["\u0275\u0275text"](36,"Upload Custom Image"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](37,"mg-button",23),r["\u0275\u0275listener"]("click",(function(){return t.bannerSelectionActive=!1})),r["\u0275\u0275text"](38,"Cancel"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](39,"div",24),r["\u0275\u0275elementStart"](40,"mg-category-select",25),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.groupCategoryId=e}))("categorySelected",(function(e){return t.groupCategory=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](41,Q,2,1,"ng-container",26),r["\u0275\u0275pipe"](42,"async"),r["\u0275\u0275elementStart"](43,"div",24),r["\u0275\u0275elementStart"](44,"mg-body-input",27),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.groupDescription=e})),r["\u0275\u0275pipe"](45,"hasPermission"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1);r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.groupPrivate),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("disabled",e.invalid||!t.groupBannerHash&&!t.groupBannerAsset),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("feedName","group")("roles",r["\u0275\u0275pipeBind1"](15,27,t.postingRoles$))("selectedRoles",t.allowedGroupRolesTypes),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("roles",r["\u0275\u0275pipeBind1"](20,29,t.availableCommentRoles$))("selectedRoles",r["\u0275\u0275pipeBind1"](21,31,t.selectedCommentRoles$)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.showBannerPreview),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("pad-input-top",t.showBannerPreview)("form-input-container-border",t.showBannerPreview),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngModel",t.groupName),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("banner-edit-hidden",!t.bannerSelectionActive),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("categories",r["\u0275\u0275pureFunction1"](37,Z,t.Banner.Category.GROUP))("query",t.groupName)("ngModel",t.groupBannerHash)("ngModelOptions",r["\u0275\u0275pureFunction0"](39,K)),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("multiple",!1)("ngModelOptions",r["\u0275\u0275pureFunction0"](40,K))("ngModel",t.customImage),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",t.groupCategoryId),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](42,33,t.districtFeatureEnabled$)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("maxlength",5e3)("richContent",r["\u0275\u0275pipeBind1"](45,35,"CONTENT_HTML_INCLUDE"))("ngModel",t.groupDescription)}},directives:[M.E,M.u,M.v,P.e,P.d,y.a,M.t,M.w,P.b,w.a,_.a,S.a,b.o,k.d,I.a,E.a,k.j,T.b,M.d,M.B,M.o,M.n,j.a,G.a,F.a,L.a,b.p,R.c,N.a,k.h,B.a,b.n,H.m],pipes:[b.b,D.a,A.a,V.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.role-permissions[_ngcontent-%COMP%], mat-checkbox[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{color:#737373;box-sizing:border-box}.role-permissions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#737373}.role-permissions[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px}.role-permissions[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:8px}.role-permissions[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{position:relative;flex-basis:50%}mg-file-input-upload[_ngcontent-%COMP%]{margin-bottom:16px}.owner-selection-wrap[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.camera-icon[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]{color:#93f;text-decoration:none}.preview-banner-headline[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;position:absolute;z-index:3}.cancel-btn[_ngcontent-%COMP%], .private-toggle-text[_ngcontent-%COMP%]{margin-right:8px}.file-input-wrap[_ngcontent-%COMP%]{overflow:hidden;--file-upload-bgcolor:transparent;background-color:#f5f5f5;position:relative}.pad-input-top[_ngcontent-%COMP%]{padding-top:16px}.form-input-container-border[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2}.form-input-spacing[_ngcontent-%COMP%]{margin:16px}.form-input-container[_ngcontent-%COMP%]{line-height:16px;padding-left:16px;padding-right:16px}.form-input-container[_ngcontent-%COMP%]:first-child{border-top:none}.banner-choice-msg[_ngcontent-%COMP%]{padding-top:8px}.banner-preview-image[_ngcontent-%COMP%]{overflow:hidden;position:relative;padding-bottom:56.25%;background-size:cover;background-position:50%}.group-name-input-wrap[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1}@media (orientation:landscape){.group-name-input-wrap[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:5.0724637681vh}}@media (orientation:portrait){.group-name-input-wrap[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:5.0724637681vw}}@media (orientation:landscape) and (max-height:414px){.group-name-input-wrap[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:21px}}@media (orientation:portrait) and (max-width:414px){.group-name-input-wrap[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:21px}}@media (min-width:433.7142857143px){.group-name-input-wrap[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:22px}}.banner-edit-hidden[_ngcontent-%COMP%]{display:none}.banner-edit-wrap[_ngcontent-%COMP%]{margin:0 16px}.banner-select-wrap[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-bottom:16px}.banner-select-wrap[_ngcontent-%COMP%]   mg-banner-select2[_ngcontent-%COMP%]{display:block}.banner-select-wrap[_ngcontent-%COMP%]   .banner-select-fade-left[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;bottom:0;width:20px;background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.banner-select-wrap[_ngcontent-%COMP%]   .banner-select-fade-right[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;right:0;bottom:0;width:20px;background:linear-gradient(270deg,#fff,hsla(0,0%,100%,0))}'],changeDetection:0}),e})()},p58v:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n("kxWE");var i=n("SVse"),r=n("8Y7J"),o=n("u9T3"),a=n("s7LF"),s=n("ZTz/"),l=n("cPHN"),c=n("DWt7"),p=n("HxU+"),g=n("ls3q");let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[s.b,c.a,p.a,g.a,l.a,i.c,o.a,a.m]]}),e})()},pnCU:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return y}));var i=n("mrSG"),r=(n("mmWe"),n("8Y7J")),o=n("LvDl"),a=n("DwZP"),s=n("Cnb3"),l=n("SxV6"),c=n("xs9W"),p=n("HSxi"),g=n("UWMR"),u=n("Vwx4"),m=n("TUjp"),d=n("uT/y"),h=n("vXul"),f=n("Q5WP"),b=n("SVse");function v(e,t){if(1&e&&(r["\u0275\u0275element"](0,"mg-search-content",3),r["\u0275\u0275pipe"](1,"async")),2&e){const e=r["\u0275\u0275nextContext"]();let t=null;r["\u0275\u0275property"]("groupHashes",null==(t=r["\u0275\u0275pipeBind1"](1,2,e.group$))?null:t.hash)("query",e.searchText)}}let C=(()=>{class e{constructor(e,t,n,i,o){this.groupsFacade=e,this.groupService=t,this.cdr=n,this.snackBar=i,this.permission=o,this.group$=this.groupsFacade.getCurrentGroup(),this.searchText="",this.groupFiles=[],this.canManage=!1,this.loadingFiles=!0,this.fileListStyle=a.b.CARDS,this.openImagebox=new r.EventEmitter,this.files=[],this.canManage=o.hasPermission(s.MingaPermission.CONTENT_GROUP_MANAGE)}ngOnInit(){this.groupSubscription=this.group$.subscribe(e=>{this.retrieveGroupFiles(e),this.canManage||(this.canManage=c.a.isOwner(e))})}ngOnDestroy(){this.groupSubscription&&this.groupSubscription.unsubscribe()}retrieveGroupFiles(e){return Object(i.a)(this,void 0,void 0,(function*(){if(!e)return console.error("retrieveGroupFiles() group undefined ",e),null;const t=e.hash,n=yield this.groupService.getGroupFiles(t);this.groupFiles=n,this.loadingFiles=!1,this.cdr.detectChanges()}))}_removeFile(e,t){return Object(i.a)(this,void 0,void 0,(function*(){this.groupFiles.splice(t,1),this.groupFiles=o.clone(this.groupFiles),this.cdr.detectChanges();const n=(yield this.group$.pipe(Object(l.a)()).toPromise()).hash;yield this.groupService.removeGroupFile(n,e.hash).then(e=>{this.groupFiles=e,this.cdr.detectChanges()}).catch(t=>{console.error("onFileIndexDelete() removeGroupFile error: ",t),this.groupFiles.push({file:e}),this.groupFiles=o.clone(this.groupFiles),this.cdr.detectChanges(),this.snackBar.open("uh oh, an error occurred, please try again later")})}))}onFileDelete(e){this._removeFile(e.file,e.index)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](p.b),r["\u0275\u0275directiveInject"](p.c),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](g.b),r["\u0275\u0275directiveInject"](u.c))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-view-group-files-page"]],inputs:{group$:"group$"},decls:5,vars:11,consts:[["mgSearchArea","",3,"placeholder","searchText"],[3,"files","enableFileManagement","enableCreateURL","listStyle","groupHash","fileDelete"],[3,"openLightbox"],["contentType","FILE",3,"groupHashes","query"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,v,2,4,"ng-template",0),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275listener"]("searchText",(function(e){return t.searchText=e})),r["\u0275\u0275elementStart"](2,"mg-file-list-container",1),r["\u0275\u0275listener"]("fileDelete",(function(e){return t.onFileDelete(e)})),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"mg-group-image-lightbox",2)),2&e){let e=null,n=null;r["\u0275\u0275property"]("placeholder","Search "+(null==(e=r["\u0275\u0275pipeBind1"](1,7,t.group$))?null:e.name)+" Files"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("files",t.groupFiles)("enableFileManagement",t.canManage)("enableCreateURL",t.canManage)("listStyle",t.fileListStyle)("groupHash",null==(n=r["\u0275\u0275pipeBind1"](3,9,t.group$))?null:n.hash),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("openLightbox",t.openImagebox)}},directives:[m.a,d.a,h.a,f.a],pipes:[b.b],styles:["mg-file-list[_ngcontent-%COMP%]{margin-bottom:16px;--mg-file-list-side-padding:0}@media (orientation:landscape){mg-file-list[_ngcontent-%COMP%]{margin-top:5.0724637681vh}}@media (orientation:portrait){mg-file-list[_ngcontent-%COMP%]{margin-top:5.0724637681vw}}@media (orientation:landscape) and (max-height:414px){mg-file-list[_ngcontent-%COMP%]{margin-top:21px}}@media (orientation:portrait) and (max-width:414px){mg-file-list[_ngcontent-%COMP%]{margin-top:21px}}@media (min-width:433.7142857143px){mg-file-list[_ngcontent-%COMP%]{margin-top:22px}}@media (max-width:599px){mg-file-list[_ngcontent-%COMP%]{--mg-file-list-side-padding:16px}}"]}),e})();var x=n("Z+Q6"),O=n("nB6J"),M=n("DjdL"),P=n("HDrY");let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[O.a,M.d,P.a,x.a,u.b,b.c]]}),e})()},qftF:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("8Y7J"),r=n("s7LF"),o=n("Tj54");const a=["pillCheckmark"],s=["*"],l={provide:r.r,useExisting:Object(i.forwardRef)(()=>c),multi:!0};let c=(()=>{class e{constructor(){this.tabindex="0",this.icon="check",this.disabled=!1,this._value=!1}get hasIcon(){return!!this.icon}get checked(){return this._value}get unchecked(){return!this._value}onClick(e){this.disabled||(this._value=!this._value,this._onChange&&this._onChange(this._value))}onKeypress(e){this.disabled||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this._value=!this._value,this._onChange&&this._onChange(this._value))}writeValue(e){this._value=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-pill-checkbox"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](a,3),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.pillCheckmark=e.first)}},hostVars:9,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(e){return t.onClick(e)}))("keypress",(function(e){return t.onKeypress(e)})),2&e&&(i["\u0275\u0275attribute"]("tabindex",t.tabindex),i["\u0275\u0275classProp"]("mg-pill-checkmark-disabled",t.disabled)("mg-pill-checkmark-has-icon",t.hasIcon)("mg-pill-checkmark-checked",t.checked)("mg-pill-checkmark-unchecked",t.unchecked))},inputs:{icon:"icon",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([l])],ngContentSelectors:s,decls:7,vars:1,consts:[[1,"mg-pill-checkbox"],[1,"mg-pill-checkbox-content"],[1,"mg-pill-checkbox-checkmark"],["pillCheckmark",""]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275projection"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",2,3),i["\u0275\u0275elementStart"](5,"mat-icon"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate"](t.icon))},directives:[o.a],styles:[".mg-pill-checkbox[_ngcontent-%COMP%]{min-height:1em;min-width:1em;overflow:hidden;border-width:1px;border-style:solid;position:relative;padding:var(--mg-pillcheckbox-padding,.35em .7em);border-radius:1.35em;transition:background-color .3s ease;margin:var(--mg-pillcheckbox-margin,0);font-size:var(--mg-pillcheckbox-font-size,16px)}.mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-content[_ngcontent-%COMP%]{padding-right:0;transition:padding-right .3s ease}.mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-checkmark[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;transform:translateX(100%);opacity:0;transition:transform .3s ease,opacity .3s ease}.mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-checkmark[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 .35em;position:relative;top:50%;transform:translateY(-50%);color:currentColor;width:1em;height:1em;line-height:1em;font-size:1em}[_nghost-%COMP%]{display:inline-block;cursor:pointer;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]:focus{outline:none}.mg-pill-checkmark-checked.mg-pill-checkmark-has-icon[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-checkmark[_ngcontent-%COMP%]{transform:translateX(0);opacity:1}.mg-pill-checkmark-checked.mg-pill-checkmark-has-icon[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]   .mg-pill-checkbox-content[_ngcontent-%COMP%]{padding-right:1em}.mg-pill-checkmark-disabled[_nghost-%COMP%]{pointer-events:none}.small[_nghost-%COMP%]{font-size:10px}.small[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]{padding-top:.05em;padding-bottom:.05em}.large[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]{padding-top:.7em;padding-bottom:.7em}.bold[_nghost-%COMP%]   .mg-pill-checkbox[_ngcontent-%COMP%]{font-weight:700;border-width:2px}"]}),e})()},rUp2:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return V}));var i=n("mrSG"),r=(n("mmWe"),n("8Y7J")),o=n("s7LF"),a=n("5km/"),s=n("B3cG"),l=n("Ggka"),c=n("SxV6"),p=n("HSxi"),g=n("JF7H"),u=n("SVse"),m=n("GFah"),d=n("iELJ"),h=n("WH00"),f=n("UWMR"),b=n("SYVq"),v=n("Q2Ze"),C=n("i1AJ"),x=n("e6WT"),O=n("/oii"),M=n("VsVn"),P=n("Fudl"),y=n("TSSN");const w=["form"];function _(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkUrl.error.maxlength")," "))}function S(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkUrl.error.pattern")," "))}function k(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkUrl.error.required")," "))}function I(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275elementContainerStart"](1,8),r["\u0275\u0275template"](2,_,3,3,"span",9),r["\u0275\u0275template"](3,S,3,3,"span",9),r["\u0275\u0275template"](4,k,3,3,"span",10),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitch",e.getLinkInputErrorKey()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","maxlength"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","pattern")}}function E(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",16),r["\u0275\u0275elementStart"](1,"mg-icon",17),r["\u0275\u0275listener"]("click",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).cancelTitleChange(t)})),r["\u0275\u0275text"](2,"close-thin"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function T(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.fileName.error.maxlength")," "))}function j(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.fileName.error.pattern")," "))}function G(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.fileName.error.required")," "))}function F(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275elementContainerStart"](1,8),r["\u0275\u0275template"](2,T,3,3,"span",9),r["\u0275\u0275template"](3,j,3,3,"span",9),r["\u0275\u0275template"](4,G,3,3,"span",10),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitch",e.getTitleInputErrorKey()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","maxlength"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","pattern")}}function L(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",18),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.linkTitleText.length," / 255")}}function R(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275elementStart"](1,"mat-form-field",12),r["\u0275\u0275template"](2,E,3,0,"div",13),r["\u0275\u0275elementStart"](3,"input",14),r["\u0275\u0275listener"]("focus",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onLinkTitleInputFocus()}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().linkTitleText=t}))("keydown",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onLinkTitleInputKeyDown(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](4,F,5,3,"mat-error",6),r["\u0275\u0275template"](5,L,2,1,"mat-hint",15),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("mgNoFloatTop",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.linkTitleEditing),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("pattern",e.linkTitlePattern)("ngModel",e.linkTitleText),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.getTitleInputHasError()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.linkTitleText)}}let N=(()=>{class e{constructor(e,t,n,i,r,o,a,c){this.groupsFacade=e,this.auth=t,this._location=n,this.rootService=i,this.groupService=r,this.dialog=o,this.contentEvents=a,this.snackBar=c,this.groupHash$=this.groupsFacade.getCurrentGroupHashObservable(),this.groupAsset="",this.FileUploadStatus=s.e,this.linkInputPattern=l.a.WebsiteUrlRegex,this.linkTitlePattern=l.a.NoSymbolsRegex,this.linkInputText="",this.linkInputFocussed=!1,this.linkTitleText="",this.linkTitleEditing=!1,this.submitting=!1}get spinnerDiameter(){return window.innerWidth>599?65:window.innerWidth>411?45:38}get linkInputPlaceholder(){return this.linkInputFocussed?"input.mingaLinkUrl.placeholderFocussed":"input.mingaLinkUrl.placeholderIdle"}ngAfterViewInit(){this.form.statusChanges.subscribe(e=>{this._checkNextDisabled()})}onOverlayClose(){return Object(i.a)(this,void 0,void 0,(function*(){return this._location.back(),!0}))}hasOverlayNext(){return{text:"Save",icon:"save-o"}}onOverlayNext(){return Object(i.a)(this,void 0,void 0,(function*(){this.onOverlayNextDisabled(!0),this.submit(),this.onOverlayNextDisabled(!1)}))}get overlayPrevious(){return{icon:"close",text:"Cancel"}}hasOverlayPrevious(){return this.overlayPrevious}onOverlayPrevious(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}_checkNextDisabled(){this.onOverlayNextDisabled&&this.form&&this.onOverlayNextDisabled("VALID"!==this.form.status)}registerOnOverlayNextDisabled(e){this.onOverlayNextDisabled=e,this._checkNextDisabled()}registerOnOverlayPreviousDisabled(e){this.onOverlayPreviousDisabled=e}_stopEvent(e){e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}onSaveLinkTitle(e){this._stopEvent(e),this.linkTitleEditing=!1,this._checkNextDisabled()}getLinkTitleFromUrl(e){const t=e.lastIndexOf(".");let n=e.lastIndexOf("/")+1,i=e.length;i==n&&i--;let r=e.length-1;for(;n==e.length&&(n=e.substr(0,r).lastIndexOf("/")+1,r=n,!(n<=0)););return t>n?e.substring(n,t):n<=0?e:e.substring(n,i)}cancelTitleChange(e=null){this._stopEvent(e),this.linkTitleText="",this.linkTitleEditing=!1,this._checkNextDisabled()}onLinkInputKeyDown(e){"Enter"===e.key&&(this._stopEvent(event),this.linkTitleText="")}onLinkTitleInputKeyDown(e){"Enter"===e.key&&this.onSaveLinkTitle(e)}onLinkTitleInputFocus(){this.linkTitleText||(this.linkTitleText=this.getLinkTitleFromUrl(this.linkInputText)),this.linkTitleEditing=!0}getLinkInputHasError(){return this._getInputErrorStatus("linkInput")}getTitleInputHasError(){return this._getInputErrorStatus("linkTitle")}_getInputErrorStatus(e){if(!this.form||!this.form.controls[e])return!1;const t=this.form.controls[e];return t.invalid&&(t.dirty||t.touched||this.form.submitted)}getLinkInputErrorKey(){return this._getInputErrorKey("linkInput")}getTitleInputErrorKey(){return this._getInputErrorKey("linkTitle")}_getInputErrorKey(e){if(!this.form||!this.form.controls[e])return"";const t=this.form.controls[e];return t&&t.errors?Object.keys(t.errors)[0]:""}submit(){this.rootService.addLoadingPromise(this._submit())}_submit(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.groupHash$.pipe(Object(c.a)()).toPromise(),t={title:this.linkTitleText||this.getLinkTitleFromUrl(this.linkInputText),url:this.linkInputText},n=yield this.groupService.addGroupFiles(e,[t]).catch(e=>{console.error("group url upload error: ",e),this.snackBar.open("an error occurred while saving URLs."),this.onOverlayNextDisabled(!1)});if(n)return this.dialog.open(a.k,{data:{text:"URL Successfully Saved"}}),this.contentEvents.emitFileUpdateEvent({groupHash:e,files:n.files}),new Promise((e,t)=>{setTimeout(()=>{this.onOverlayClose(),e(null)},1500)})}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](p.b),r["\u0275\u0275directiveInject"](g.a),r["\u0275\u0275directiveInject"](u.k),r["\u0275\u0275directiveInject"](m.a),r["\u0275\u0275directiveInject"](p.c),r["\u0275\u0275directiveInject"](d.b),r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](f.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-file-upload-overlay"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](w,3,o.v),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},decls:9,vars:9,consts:[[3,"component"],[1,"upload-group-file-form"],["form","ngForm"],[1,"input-wrapper","link-input"],["floatLabel","never","mgFormField","",1,"display-name-field","no-float-top","no-material","show-mat-error","no-required-asterisk",3,"mgNoFloatTop"],["name","linkInput","matInput","","mgFocusSelectText","","mgAutofocus","true","required","","maxlength","255","autocomplete","off","autocapitalize","none",3,"placeholder","pattern","ngModel","keydown","focus","ngModelChange"],[4,"ngIf"],["class","input-wrapper file-name",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"input-wrapper","file-name"],["floatLabel","never","mgFormField","",1,"display-name-field","no-float-top","no-material","show-mat-error",3,"mgNoFloatTop"],["matSuffix","","class","input-actions",4,"ngIf"],["name","linkTitle","matInput","","placeholder","Title (optional)","mgFocusSelectText","","maxlength","255","minlength","1","autocomplete","off",3,"pattern","ngModel","focus","ngModelChange","keydown"],["align","end",4,"ngIf"],["matSuffix","",1,"input-actions"],[1,"input-action",3,"click"],["align","end"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),r["\u0275\u0275elementStart"](1,"form",1,2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275elementStart"](4,"mat-form-field",4),r["\u0275\u0275elementStart"](5,"input",5),r["\u0275\u0275listener"]("keydown",(function(e){return t.onLinkInputKeyDown(e)}))("focus",(function(){return t.linkInputFocussed=!0}))("ngModelChange",(function(e){return t.linkInputText=e})),r["\u0275\u0275pipe"](6,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,I,5,3,"mat-error",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,R,6,6,"div",7),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("component",t),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("mgNoFloatTop",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](6,7,"input.mingaLinkUrl.placeholderFocussed")),r["\u0275\u0275property"]("pattern",t.linkInputPattern)("ngModel",t.linkInputText),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.getLinkInputHasError()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.linkInputText&&!t.getLinkInputHasError()))},directives:[b.a,o.E,o.u,o.v,v.d,C.a,x.b,O.a,o.d,M.a,o.B,o.n,o.z,o.t,o.w,u.o,v.c,u.q,u.r,u.s,o.o,v.j,P.a,v.g],pipes:[y.d],styles:["[_nghost-%COMP%]{display:block}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.title-input[_ngcontent-%COMP%]{border-top:none}.input-wrapper[_ngcontent-%COMP%], .title-input[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.input-wrapper[_ngcontent-%COMP%]{padding:10px 20px calc(16px - .5em)}.input-wrapper[_ngcontent-%COMP%]:first-child{padding-top:16px}@media (min-width:600px){.input-wrapper[_ngcontent-%COMP%]:last-child{border-bottom:none}}"]}),e})();var B=n("zkd0"),H=n("HxU+"),D=n("ls3q"),A=n("CL15");let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[B.a,D.a,H.a,A.a,u.c,o.m,v.f,x.c,y.c]]}),e})()},"t/nq":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("8Y7J"),r=n("YGJC"),o=n("2An8"),a=n("s7LF"),s=n("SLe5"),l=n("SVse");function c(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275text"](1," No results\n"),i["\u0275\u0275elementEnd"]())}function p(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275text"](1," End of results\n"),i["\u0275\u0275elementEnd"]())}const g=function(){return{standalone:!0}};let u=(()=>{class e{constructor(){this.filteredGroups=[],this.filterCategories=[],this.searchText="",this.groups=[],this.newContentNotifications=[],this.hasItems=new i.EventEmitter(!1)}_doSearch(e,t){const n={threshold:.4,isCaseSensitive:!1,shouldSort:!0,keys:["name","description"]},i=this.groups.filter(e=>!(t.length>0)||t.includes(e.categoryId));if(e){const t=new r.a(i,n);this.filteredGroups=t.search(e).map(e=>e.item)}else this.filteredGroups=t.length>0?i:[];this.hasItems.emit(this.filteredGroups.length>0)}ngOnChanges(e){(e.groups||e.searchText)&&this._doSearch(this.searchText,this.filterCategories)}onFilterCategoriesChange(){this._doSearch(this.searchText,this.filterCategories)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-list-search"]],inputs:{searchText:"searchText",groups:"groups",newContentNotifications:"newContentNotifications"},outputs:{hasItems:"hasItems"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:9,consts:[["categoryType","MINGA_GROUP",3,"multiple","ngModelOptions","ngModel","ngModelChange"],["categoryType","MINGA_GROUP",1,"placeholder",3,"multiple"],[3,"groups","newContentNotifications"],["class","mg-centered",4,"ngIf"],[1,"mg-centered"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mg-category-horizontal-select",0),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.filterCategories=e}))("ngModelChange",(function(){return t.onFilterCategoriesChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](1,"mg-category-horizontal-select",1),i["\u0275\u0275element"](2,"mg-group-list",2),i["\u0275\u0275template"](3,c,2,0,"div",3),i["\u0275\u0275template"](4,p,2,0,"div",3)),2&e&&(i["\u0275\u0275property"]("multiple",!0)("ngModelOptions",i["\u0275\u0275pureFunction0"](8,g))("ngModel",t.filterCategories),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("multiple",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("groups",t.filteredGroups)("newContentNotifications",t.newContentNotifications),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.searchText&&0==t.filteredGroups.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.filteredGroups.length>0))},directives:[o.a,a.t,a.w,s.a,l.o],styles:["@keyframes slide-down{0%{transform:translateY(-100%)}to{transform:transateY(0)}}mg-category-horizontal-select[_ngcontent-%COMP%]{display:block;position:fixed;top:var(--top-navbar-height);left:0;right:0;animation:slide-down .3s ease;margin-bottom:12px;background-color:#f5f5f5}mg-category-horizontal-select.placeholder[_ngcontent-%COMP%]{position:relative;opacity:0;-webkit-user-select:none;user-select:none}"],changeDetection:0}),e})()},u7X7:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return w}));var i=n("mrSG"),r=n("8Y7J"),o=n("PLeU"),a=n("Cnb3"),s=n("quSY"),l=n("itXk"),c=n("LRne"),p=n("lJxs"),g=n("eIep"),u=n("pLZG"),m=n("UCUv"),d=n("iInd"),h=n("GFah"),f=n("HSxi"),b=n("Vwx4"),v=n("SYVq"),C=n("p47V"),x=n("SVse");const O=["groupForm"];let M=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.route=t,this.rootService=n,this.groupsFacade=i,this.permissionsService=r,this.sub=new s.a,this.groupDetails=null,this.group=null,this.groupHash="",this.parentGroup=null,this.privateGroup=!0,this.allowedGroupRoleTypes=m.a,this.groupHash$=this.route.paramMap.pipe(Object(p.a)(e=>e.get("groupHash")||"")),this.group$=this.groupHash$.pipe(Object(g.a)(e=>this.groupsFacade.getGroup(e))),this.groupDetails$=this.groupHash$.pipe(Object(g.a)(e=>this.groupsFacade.getGroupDetails(e)));const o=this.permissionsService.observePermission(a.MingaPermission.GROUP_ALLOW_PARENT_GROUP),u=this.permissionsService.observePermission(a.MingaPermission.GROUP_ALLOW_ANY_PARENT_GROUP);this.availableParentGroups$=Object(l.b)([o,u]).pipe(Object(g.a)(([e,t])=>t?this.groupsFacade.getParentGroups():e?this.groupsFacade.getMyParentGroups():Object(c.a)([])))}onBeforeUnload(e){let t=this.preventNavigation();if(t)return e.returnValue=t,t}preventNavigation(){let e="";return this.groupForm.form.dirty&&(e="Are you sure you want to leave? Your changes will be lost."),e}ngOnInit(){this.groupDetails$.subscribe(e=>{this.groupDetails=e}),this.group$.pipe(Object(u.a)(e=>!!e)).subscribe(e=>{e&&(this.groupHash=e.hash,e.allowedRoleTypes&&(this.allowedGroupRoleTypes=e.allowedRoleTypes),this.privateGroup=e.isPrivate,this.groupForm.resetGroupFields(e))}),this.sub.add(this.rootService.addLoadingObservable(this.groupsFacade.groupFormLoading$))}onSubmit(e){return Object(i.a)(this,void 0,void 0,(function*(){this.groupForm.form.control.markAsPristine(),this.groupHash?this.groupsFacade.dispatchUpdateGroup(this.groupHash,e):(this.groupsFacade.dispatchCreateGroup(e),yield this.router.navigate(["groups",{outlets:{o:null}}]))}))}ngOnDestroy(){this.sub.unsubscribe()}ngAfterViewInit(){}onOverlayPrevious(){return Object(i.a)(this,void 0,void 0,(function*(){yield this._closeOverlay()}))}hasOverlayPrevious(){return{text:"Close",icon:"close"}}_closeOverlay(){return Object(i.a)(this,void 0,void 0,(function*(){return yield Object(o.a)(this.router),!0}))}onOverlayClose(){return!0}registerOnOverlayConfig(e){e({})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d.g),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](f.b),r["\u0275\u0275directiveInject"](b.c))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](O,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.groupForm=e.first)}},hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("beforeunload",(function(e){return t.onBeforeUnload(e)}),!1,r["\u0275\u0275resolveWindow"])},decls:4,vars:8,consts:[[3,"component"],[3,"parentGroup","availableParentGroups","allowOwnerSelect","groupPrivate","allowedGroupRolesTypes","parentGroupChange","inputsSubmit","overlayClose"],["groupForm",""]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),r["\u0275\u0275elementStart"](1,"mg-group-form",1,2),r["\u0275\u0275listener"]("parentGroupChange",(function(e){return t.parentGroup=e}))("inputsSubmit",(function(e){return t.onSubmit(e)}))("overlayClose",(function(){return t.onOverlayClose()})),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("component",t),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("parentGroup",t.parentGroup)("availableParentGroups",r["\u0275\u0275pipeBind1"](3,6,t.availableParentGroups$))("allowOwnerSelect",!!t.groupHash)("groupPrivate",t.privateGroup)("allowedGroupRolesTypes",t.allowedGroupRoleTypes))},directives:[v.a,C.a],pipes:[x.b],encapsulation:2}),e})();var P=n("CL15"),y=n("xjLp");let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[y.a,P.a,x.c]]}),e})()},urJB:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return G}));var i=n("mrSG"),r=n("8Y7J"),o=n("TxG7"),a=n("Cnb3"),s=n("lJxs"),l=n("xs9W"),c=n("HSxi"),p=n("Vwx4"),g=n("zeEq"),u=n("DO6O"),m=n("TUjp"),d=n("kxWE"),h=n("iInd"),f=n("Q5WP"),b=n("SVse");function v(e,t){if(1&e&&(r["\u0275\u0275element"](0,"mg-search-content",1),r["\u0275\u0275pipe"](1,"async")),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("groupHashes",r["\u0275\u0275pipeBind1"](1,2,e.groupHash$))("query",e.searchText)}}let C=(()=>{class e{constructor(e,t,n,i,r){this.groupsFacade=e,this.contentFeed=t,this.permissions=n,this.feedEventManager=i,this.eventCalendarService=r,this.ContentFeed=o.ContentFeed,this.calendarScheduleOptionsOpened=!1,this.searchText="",this.initializedSettings=!1,this.groupHash$=this.groupsFacade.getCurrentGroupHashObservable(),this.group$=this.groupsFacade.getCurrentGroup(),this.currentGroupHash="",this.settings$=r.settings$.pipe(Object(s.a)(e=>Object.assign({},e))),this.groupHashSub=this.groupHash$.subscribe(e=>{e&&(this.currentGroupHash=e,this.initializedSettings||this.initGroupCalendarSettings(e))})}ngOnDestroy(){this.groupHashSub.unsubscribe();const e=this.eventCalendarService.getCurrentSettingsValue(),t=Object.assign({},e);t.groupHashes=[],this.eventCalendarService.updateSettings(t,!1,!0)}getEmptyStateIcons(e){if(e){let t=l.a.isOwner(e)||this.permissions.hasPermission(a.MingaPermission.SUPERADMIN);if(!t&&l.a.isMember(e)&&e.allowedRoleTypes&&this.permissions.hasPermission(a.MingaPermission.GROUP_CONTENT_EVENTS_CREATE))for(let n of e.allowedRoleTypes)if(this.permissions.hasRoleType(n)){t=!0;break}if(t)return[{icon:"post",text:"Add"},{icon:"calendar",text:"Event"}]}return[]}initGroupCalendarSettings(e){return Object(i.a)(this,void 0,void 0,(function*(){const t=this.eventCalendarService.getCurrentSettingsValue(),n=Object.assign({},t);n.groupHashes=[e],yield this.eventCalendarService.updateSettings(n),this.initializedSettings=!0}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](c.b),r["\u0275\u0275directiveInject"](o.ContentFeed),r["\u0275\u0275directiveInject"](p.c),r["\u0275\u0275directiveInject"](g.FeedEventManager),r["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-view-group-events-page"]],decls:4,vars:3,consts:[["mgSearchArea","",3,"placeholder","searchText"],["contentType","EVENT",3,"groupHashes","query"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,v,2,4,"ng-template",0),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275listener"]("searchText",(function(e){return t.searchText=e})),r["\u0275\u0275element"](2,"mg-events-home"),r["\u0275\u0275element"](3,"router-outlet")),2&e){let e=null;r["\u0275\u0275property"]("placeholder","Search "+(null==(e=r["\u0275\u0275pipeBind1"](1,1,t.group$))?null:e.name)+" Events")}},directives:[m.a,d.a,h.l,f.a],pipes:[b.b],styles:["[_nghost-%COMP%]{display:block}.feed-items[_ngcontent-%COMP%]{margin-bottom:32px}.calendar-options-nav[_ngcontent-%COMP%]{display:flex;margin:8px;justify-content:flex-end}.calendar-schedule-options-container[_ngcontent-%COMP%]{overflow:hidden}@keyframes options-slide-in{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.calendar-schedule-options[_ngcontent-%COMP%]{max-width:350px;padding:8px;margin:8px auto;transform:translateY(-100%);animation:options-slide-in .15s ease;animation-iteration-count:1;animation-fill-mode:forwards}.calendar-schedule-options[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;column-gap:8px;align-items:center;justify-content:flex-start}.calendar-settings-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;text-align:center;margin:0 0 8px;color:#737373}"]}),e})();var x=n("u9T3"),O=n("s7LF"),M=n("pMoy"),P=n("Q2Ze"),y=n("TSSN"),w=n("CO6v"),_=n("cPHN"),S=n("DWt7"),k=n("NG9B"),I=n("p58v"),E=n("ls3q"),T=n("DjdL"),j=n("HDrY");let G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[j.a,T.d,k.a,S.a,E.a,w.a,_.a,I.a,b.c,h.k,x.a,y.c,P.f,O.m,M.b]]}),e})()},vXul:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("8Y7J"),r=n("jaBy"),o=n("+3nk"),a=n("YgQ7"),s=n("VDRc"),l=n("Fudl"),c=n("65ez"),p=n("ah9P"),g=n("Mjc8");const u=["imageLightBox"];function m(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",1),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275elementStart"](2,"mg-icon",3),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().closeLightBox()})),i["\u0275\u0275text"](3,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](4,"div",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"mg-swipe-container",5,6),i["\u0275\u0275elementStart"](7,"div",7),i["\u0275\u0275element"](8,"div",8),i["\u0275\u0275element"](9,"mg-progressive-image",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("spaceBetween",20),i["\u0275\u0275advance"](2),i["\u0275\u0275styleProp"]("background-image","url("+e.lightBoxImage.url+")")("width",e.lightBoxImageWidth(e.lightBoxImage),"px")("height",e.lightBoxImageHeight(e.lightBoxImage),"px"),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("background-image","url("+e.lightBoxImage.url+")"),i["\u0275\u0275classProp"]("img-loading",e.lightBoxImage.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("images",e.lightBoxImage.progressiveUrls)}}let d=(()=>{class e{constructor(e){this.modal=e}onResize(e){this._setLightBoxImageDimensions(null)}ngOnInit(){this.openLightbox&&this.openLightbox.subscribe(e=>{this.openImageLightBox(e)})}ngOnDestroy(){this.openLightbox&&this.openLightbox.unsubscribe()}_setLightBoxImageDimensions(e){if(!e&&this.lightBoxImageInfo&&(e=this.lightBoxImageInfo),!e)return;this.lightBoxImageInfo=e;const t={};e.sizeMap.forEach(e=>{t[e[0]]=e[1]});const n=[],i=t.longcardbanner||t.cardbanner||t.raw;t.blurloading1&&n.push(t.blurloading1.path),n.push(i.path),this.lightBoxImage={index:0,progressiveUrls:n.map(e=>Object(r.b)(e)),url:Object(r.b)(i.path),width:i.width,height:i.height,loading:!1}}_lightBoxContainerSize(){return{height:innerHeight-Math.max(100,.15*innerHeight),width:innerWidth-Math.max(50,.1*innerWidth)}}lightBoxImageWidth(e){return Object(o.a)(e,this._lightBoxContainerSize()).width}lightBoxImageHeight(e){return Object(o.a)(e,this._lightBoxContainerSize()).height}openImageLightBox(e){this._setLightBoxImageDimensions(e),this._lightBoxModal=this.modal.open(this.imageLightBox,{full:!0,animation:"fade",backgroundColor:"#000000"})}closeLightBox(){this._lightBoxModal&&this._lightBoxModal.close()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-group-image-lightbox"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](u,3),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.imageLightBox=e.first)}},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("resize",(function(e){return t.onResize(e)}),!1,i["\u0275\u0275resolveWindow"])},inputs:{openLightbox:"openLightbox"},decls:2,vars:0,consts:[["imageLightBox",""],["fxLayout","column",1,"image-light-box"],["fxLayout","row"],[3,"click"],["fxFlex",""],["fxFlex","",1,"images","image-light-box-swipe-container",3,"spaceBetween"],["lightBoxSwipeContainer","mgSwipeContainer"],["mgPinchZoom","",1,"img-src"],[1,"img-src-blurry"],["mode","sequential",3,"images"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,m,10,12,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"])},directives:[s.e,l.a,s.b,c.a,p.a,g.a],styles:[""]}),e})()},vcU5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),r=n("A75Z");function o(e){return Object(i.a)(this,void 0,void 0,(function*(){if(!e.fontFamily)return!1;let t=e.fontFamily;return e.fontWeight&&(t+=":"+e.fontWeight),Object(r.a)(t)}))}},xiiZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("8Y7J"),r=n("vcU5"),o=n("fTqC"),a=n("jcBT"),s=n("SVse"),l=n("StFh");function c(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275text"](1," Aa "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngStyle",e.headlineStyle(null==e.banner?null:e.banner.headlineOptions))}}const p=function(){return["blurloading1","bannerlibpreview"]};let g=(()=>{class e{constructor(){this.banner=null,this.disableBannerHeadlines=!1}headlineStyle(e){return e?(Object(r.a)(e),Object(o.a)("Aa",Object.assign(Object.assign({},e),{maxFontSize:18,minFontSize:18}),{maxLength:2,containerWidth:128})):{}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-banner-preview"]],inputs:{banner:"banner",disableBannerHeadlines:"disableBannerHeadlines"},decls:3,vars:6,consts:[[1,"mg-banner-preview",3,"srcs"],["class","mg-banner-headline-preview",3,"ngStyle",4,"ngIf"],[1,"mg-banner-headline-preview",3,"ngStyle"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mg-image",0),i["\u0275\u0275pipe"](1,"mgImageUrls"),i["\u0275\u0275template"](2,c,2,1,"div",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("srcs",i["\u0275\u0275pipeBind2"](1,2,null==t.banner?null:t.banner.image,i["\u0275\u0275pureFunction0"](5,p))),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==t.banner?null:t.banner.headlineOptions)&&!t.disableBannerHeadlines))},directives:[a.a,s.o,s.p],pipes:[l.a],styles:[".mg-banner-preview[_ngcontent-%COMP%], [_nghost-%COMP%]{display:inline-block}.mg-banner-preview[_ngcontent-%COMP%]{position:relative;width:128px;height:72px;background-color:#ccc;border:1px solid #ccc;box-shadow:0 0 2px rgba(0,0,0,.16);cursor:pointer;background-size:cover;background-position:50%}.mg-banner-headline-preview[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;user-select:none}[banner-selected][_nghost-%COMP%]   .mg-banner-preview[_ngcontent-%COMP%]{border:1px solid #3cf}[no-style][_nghost-%COMP%]   .mg-banner-preview[_ngcontent-%COMP%]{margin:0;border-radius:0;box-shadow:none;border:none}.ios-radius[_nghost-%COMP%]   .mg-banner-preview[_ngcontent-%COMP%]{border-radius:8px}.banner-selected.ios-radius[_nghost-%COMP%]   .mg-banner-preview[_ngcontent-%COMP%], [banner-selected].ios-radius[_nghost-%COMP%]   .mg-banner-preview[_ngcontent-%COMP%]{border-radius:4px}"],changeDetection:0}),e})()},xjLp:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n("p47V");var i=n("SVse"),r=n("8Y7J"),o=n("u9T3"),a=n("s7LF"),s=n("pMoy"),l=n("Q2Ze"),c=n("e6WT"),p=n("ZTz/"),g=n("jMqV"),u=n("CO6v"),m=n("07le"),d=n("5Ynh"),h=n("9F0b"),f=n("YcSX"),b=n("HxU+"),v=n("ls3q"),C=n("ppIK"),x=n("Vwx4"),O=n("Ogcz"),M=n("WmLq"),P=(n("bZiG"),n("TSSN")),y=n("7Tcv");let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[y.a,M.a,i.c,a.m,s.b,P.c]]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[u.a,v.a,O.b,b.a,C.a,m.a,d.a,h.c,f.b,x.b,M.a,w,i.c,a.m,o.a,l.f,c.c,p.b,g.b,s.b]]}),e})()},y8Ey:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n("J+65");var i=n("8Y7J"),r=n("SVse"),o=n("u9T3"),a=n("fHWq"),s=n("5VmK");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[a.a,s.a,r.c,o.a]]}),e})()}}]);
//# sourceMappingURL=default~minga-app-src-app-groups-groups-overlays-module~minga-app-src-app-groups-groups-routing-module-es2015.js.map