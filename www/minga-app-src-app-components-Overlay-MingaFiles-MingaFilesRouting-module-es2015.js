(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"5ih4":function(e,n,t){"use strict";t.r(n),t.d(n,"MingaFilesRoutingModule",(function(){return O}));var i=t("8Y7J"),a=t("iInd"),o=t("mrSG"),r=t("DwZP"),c=t("quSY"),l=t("SVse"),d=t("3qIc"),s=t("k/kw"),p=t("UWMR"),g=t("SYVq"),m=t("uT/y"),h=t("w8an");let v=(()=>{class e{constructor(e,n,t,i){this._location=e,this.mingaFacade=n,this.mingaManager=t,this.snackBar=i,this.mingaFiles=[],this.fileListStyle=r.b.LIST,this.cancelText="Cancel",this.mingaSubscription=new c.a,this.retrieveFiles(),this.mingaSubscription=this.mingaFacade.getMingaAsObservable().subscribe(e=>{this.cancelText=e.name||"Cancel"})}get overlayPrevious(){return{icon:"close",text:"Cancel"}}ngOnDestroy(){this.mingaSubscription&&this.mingaSubscription.unsubscribe()}hasOverlayPrevious(){return this.overlayPrevious}onOverlayPrevious(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}onOverlayClose(){return Object(o.a)(this,void 0,void 0,(function*(){return this._location.back(),!0}))}retrieveFiles(){return Object(o.a)(this,void 0,void 0,(function*(){this.mingaFiles=yield this.mingaManager.getFiles().catch(e=>(console.error("retrieve minga files error: ",e),this.snackBar.open("unable to retrieve files, please try again later."),[]))}))}onFileDelete(e){this._removeFile(e.file,e.index)}_removeFile(e,n){return Object(o.a)(this,void 0,void 0,(function*(){this.mingaFiles.splice(n,1),yield this.mingaManager.removeFile(e.hash).then(e=>{this.mingaFiles=e}).catch(n=>{console.error("onFileIndexDelete() removeGroupFile error: ",n),this.mingaFiles.push({file:e}),this.snackBar.open("uh oh, an error occurred, please try again later")})}))}}return e.\u0275fac=function(n){return new(n||e)(i["\u0275\u0275directiveInject"](l.k),i["\u0275\u0275directiveInject"](d.b),i["\u0275\u0275directiveInject"](s.a),i["\u0275\u0275directiveInject"](p.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-minga-files"]],decls:4,vars:6,consts:[[3,"component"],[1,"overlay-container"],[3,"files","listStyle","enableFileManagement","fileDelete"]],template:function(e,n){1&e&&(i["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"mg-file-list-container",2),i["\u0275\u0275listener"]("fileDelete",(function(e){return n.onFileDelete(e)})),i["\u0275\u0275pipe"](3,"hasPermission"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("component",n),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("files",n.mingaFiles)("listStyle",n.fileListStyle)("enableFileManagement",i["\u0275\u0275pipeBind1"](3,4,"MINGA_FILE_CREATE")))},directives:[g.a,m.a],pipes:[h.a],styles:[".overlay-container[_ngcontent-%COMP%]{padding:24px 16px}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-top:6.4vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-top:6.4vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-top:24px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-top:24px}}@media (min-width:500px){.overlay-container[_ngcontent-%COMP%]{padding-top:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-left:4.2666666667vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-left:4.2666666667vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:750px){.overlay-container[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-bottom:6.4vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-bottom:6.4vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:24px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:24px}}@media (min-width:500px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-right:4.2666666667vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-right:4.2666666667vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:750px){.overlay-container[_ngcontent-%COMP%]{padding-right:32px}}[_nghost-%COMP%]   .overlay-container[_ngcontent-%COMP%]{padding:8px 0}[_nghost-%COMP%]   mg-file-list[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-file-list-container[_ngcontent-%COMP%]{--mg-file-list-side-padding:16px}@media (min-width:600px){[_nghost-%COMP%]   mg-file-list[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-file-list-container[_ngcontent-%COMP%]{--mg-file-list-side-padding:32px}}@media (max-width:599px){[_nghost-%COMP%]   mg-file-list[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-file-list-container[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}"]}),e})();var u=t("Z+Q6"),y=t("B3cG"),x=t("Vwx4"),M=t("i13Z");let f=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[r.a,y.c,x.b,u.a,M.a,l.c]]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[f,a.k.forChild([{path:"",component:v}])]]}),e})()}}]);
//# sourceMappingURL=minga-app-src-app-components-Overlay-MingaFiles-MingaFilesRouting-module-es2015.js.map