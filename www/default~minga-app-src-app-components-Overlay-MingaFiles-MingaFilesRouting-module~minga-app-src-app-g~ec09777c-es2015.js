(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{DwZP:function(e,n,t){"use strict";t.d(n,"b",(function(){return i.b})),t.d(n,"a",(function(){return u}));var i=t("jfjg"),o=t("SVse"),l=t("8Y7J"),a=t("s7LF"),r=t("BTe0"),s=t("TSSN"),d=t("CO6v"),c=t("NG9B"),p=t("9F0b"),g=t("OVn1"),f=t("ls3q"),m=t("7Tcv");let u=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[d.a,f.a,m.a,g.a,p.c,c.a,o.c,a.m,r.b,s.c]]}),e})()},"Z+Q6":function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t("uT/y");var i=t("SVse"),o=t("8Y7J"),l=t("DwZP"),a=t("B3cG"),r=t("ls3q"),s=t("Vwx4");let d=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[l.a,a.c,s.b,r.a,i.c]]}),e})()},jfjg:function(e,n,t){"use strict";t.d(n,"b",(function(){return D})),t.d(n,"a",(function(){return E}));var i=t("8Y7J"),o=t("9F0b"),l=t("Wgwc"),a=t("Fudl"),r=t("SVse"),s=t("pzvA"),d=t("T0RT"),c=t("s7LF"),p=t("sj4O"),g=t("ZgR8"),f=t("Hp2Z"),m=t("BTe0"),u=t("05dM"),w=t("TSSN");const h=["inputEl"];function C(e,n){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-button-outline",8),i["\u0275\u0275listener"]("click",(function(n){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).uploadUrl.emit(n)})),i["\u0275\u0275text"](1,"Add URL"),i["\u0275\u0275elementEnd"]()}}function _(e,n){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-file-input",9),i["\u0275\u0275listener"]("ngModelChange",(function(n){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).pendingFiles=n}))("ngModelChange",(function(n){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).onFileChange(n)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("displayStyle",e.fileInputDisplayType)("ngModel",e.pendingFiles)("multiple",!0)}}function M(e,n){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275template"](1,C,2,0,"mg-button-outline",6),i["\u0275\u0275template"](2,_,1,3,"mg-file-input",7),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.enableCreateURL),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.enableCreateFile)}}function P(e,n){1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275element"](1,"mg-spinner"),i["\u0275\u0275elementEnd"]())}function O(e,n){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1," Link shared "),i["\u0275\u0275elementEnd"]())}function x(e,n){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1," File uploaded "),i["\u0275\u0275elementEnd"]())}function v(e,n){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",27),i["\u0275\u0275template"](1,O,2,0,"span",28),i["\u0275\u0275template"](2,x,2,0,"span",28),i["\u0275\u0275text"](3," by "),i["\u0275\u0275elementStart"](4,"span",29),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.file.url),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.file.url),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](e.file.authorPersonView.displayName)}}function b(e,n){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](2).deleteFileIndex.emit(n)})),i["\u0275\u0275elementStart"](1,"mg-icon"),i["\u0275\u0275text"](2,"delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function F(e,n){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275element"](1,"mat-progress-bar",32),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e.status.progress)}}function y(e,n){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"div",15),i["\u0275\u0275listener"]("mouseenter",(function(){i["\u0275\u0275restoreView"](e);const t=n.index;return i["\u0275\u0275nextContext"](2).hoverRow=t}))("mouseleave",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).hoverRow=-1})),i["\u0275\u0275elementStart"](2,"a",16),i["\u0275\u0275listener"]("click",(function(t){i["\u0275\u0275restoreView"](e);const o=n.$implicit;return i["\u0275\u0275nextContext"](2).onAnchorClick(t,o)})),i["\u0275\u0275element"](3,"mg-file-extension-box",17),i["\u0275\u0275elementStart"](4,"div",18),i["\u0275\u0275elementStart"](5,"div",19),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,v,6,3,"div",20),i["\u0275\u0275elementStart"](8,"div",21),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,b,3,0,"div",22),i["\u0275\u0275elementStart"](11,"div",23),i["\u0275\u0275elementStart"](12,"mg-button-icon",24),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=n.index;return i["\u0275\u0275nextContext"](2).abortDownloadFileIndex.emit(t)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",25),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const t=n.index;return i["\u0275\u0275nextContext"](2).openFileIndex.emit(t)})),i["\u0275\u0275elementStart"](14,"mg-button-outline"),i["\u0275\u0275text"](15,"Open"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,F,2,1,"div",26),i["\u0275\u0275elementEnd"]()}if(2&e){const e=n.$implicit,t=n.index,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("downloading",o.hasStatus(e)&&e.status.progress<100)("downloaded",o.hasStatus(e)&&e.status.complete),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("href",o.getHrefValue(e),i["\u0275\u0275sanitizeUrl"])("title",o.getTitleValue(e)),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("inverse",o.hoverRow==t),i["\u0275\u0275property"]("extension",e.file.fileExtension),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",e.file.name," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.file.authorPersonView),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" Uploaded ",o.getFileDateString(e.file.timestamp)," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.enableDelete),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",o.hasStatus(e)&&!e.status.complete)}}function S(e,n){if(1&e&&(i["\u0275\u0275element"](0,"mg-empty-state",33),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275pipe"](2,"translate")),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("title",i["\u0275\u0275pipeBind1"](1,2,"emptyState.mingaFilesTitle"))("subtitle",e.enableCreateFile?i["\u0275\u0275pipeBind1"](2,4,"emptyState.mingaFilesSubtitle"):"")}}function I(e,n){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275template"](1,y,17,14,"div",12),i["\u0275\u0275template"](2,S,3,6,"mg-empty-state",13),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("downloading",e.downloadingFile)("button-margin",e.enableCreateFile||e.enableCreateURL),i["\u0275\u0275property"]("ngClass",e.listStyle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.files),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.files||!e.files.length)}}var D=function(e){return e.CARDS="CARDS",e.LIST="LIST",e}({});let E=(()=>{class e{constructor(){this.pendingFiles=[],this.fileInputDisplayType=o.b.BUTTON,this.hasDownloadInProgress=!1,this.hoverRow=-1,this.enableDelete=!1,this.enableCreateFile=!1,this.enableCreateURL=!1,this.files=[],this.listStyle=D.LIST,this.loading=!0,this.downloadingFile=!1,this.uploadFile=new i.EventEmitter,this.uploadUrl=new i.EventEmitter,this.downloadFile=new i.EventEmitter,this.deleteFileIndex=new i.EventEmitter,this.abortDownloadFileIndex=new i.EventEmitter,this.openFileIndex=new i.EventEmitter}getFileDateString(e){return l(e).format("LLL")}onFileChange(e){this.uploadFile.emit(this.pendingFiles)}hasStatus(e){return e.status&&!e.status.canceled&&!e.status.error&&(e.status.complete||e.status.progress<100)}getGroupFilesString(){return JSON.stringify(this.files)}onAnchorClick(e,n){e&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()),this.downloadFile.emit(n.file)}getHrefValue(e){return window.MINGA_APP_BROWSER?e.file.url?e.file.url:e.file.filePath?e.file.filePath:"javascript:;":"javascript:;"}getTitleValue(e){const n=this.getHrefValue(e);return"javascript:;"==n?e.file.name:n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-file-list"]],viewQuery:function(e,n){if(1&e&&i["\u0275\u0275viewQuery"](h,3),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(n.inputEl=e.first)}},inputs:{enableDelete:"enableDelete",enableCreateFile:"enableCreateFile",enableCreateURL:"enableCreateURL",files:"files",listStyle:"listStyle",loading:"loading",downloadingFile:"downloadingFile"},outputs:{uploadFile:"uploadFile",uploadUrl:"uploadUrl",downloadFile:"downloadFile",deleteFileIndex:"deleteFileIndex",abortDownloadFileIndex:"abortDownloadFileIndex",openFileIndex:"openFileIndex"},decls:8,vars:3,consts:[[1,"user-content","title"],[1,"default-icon"],["class","upload-buttons-container",4,"ngIf"],["class","loader",4,"ngIf"],["class","files-list",3,"ngClass","downloading","button-margin",4,"ngIf"],[1,"upload-buttons-container"],[3,"click",4,"ngIf"],["customTitleText","Add File","accept","*/*",3,"displayStyle","ngModel","multiple","ngModelChange",4,"ngIf"],[3,"click"],["customTitleText","Add File","accept","*/*",3,"displayStyle","ngModel","multiple","ngModelChange"],[1,"loader"],[1,"files-list",3,"ngClass"],["class","file-row-container",3,"downloading","downloaded",4,"ngFor","ngForOf"],[3,"title","subtitle",4,"ngIf"],[1,"file-row-container"],[1,"file-row",3,"mouseenter","mouseleave"],[1,"file-row-anchor",3,"href","title","click"],[3,"extension"],[1,"file-name-wrapper"],[1,"file-name","mg-bodycopy-bold"],["class","author-name",4,"ngIf"],[1,"file-timestamp"],["class","icon-wrapper delete",3,"click",4,"ngIf"],[1,"icon-wrapper","close"],["icon","close",3,"click"],[1,"icon-wrapper","open",3,"click"],["class","file-status-container",4,"ngIf"],[1,"author-name"],[4,"ngIf"],[1,"author-display-name"],[1,"icon-wrapper","delete",3,"click"],[1,"file-status-container"],["mode","determinate",3,"value"],[3,"title","subtitle"]],template:function(e,n){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1"),i["\u0275\u0275elementStart"](2,"mg-icon",1),i["\u0275\u0275text"](3,"minga-files-o"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](4,"\xa0Files"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,M,3,2,"div",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,P,2,0,"div",3),i["\u0275\u0275template"](7,I,3,7,"div",4)),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",n.enableCreateFile||n.enableCreateURL),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.loading))},directives:[a.a,r.o,s.a,d.a,c.t,c.w,p.a,r.m,r.n,g.a,f.a,m.a,u.a],pipes:[w.d],styles:["[_nghost-%COMP%]{position:relative;z-index:1;display:block;--mg-file-list-side-padding:16px}.user-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-top:0}.user-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.user-content[_ngcontent-%COMP%]{position:relative}.user-content[_ngcontent-%COMP%]   .upload-buttons-container[_ngcontent-%COMP%]{position:absolute;right:var(--mg-file-list-side-padding);font-size:76%;top:50%;transform:translateY(-50%)}.user-content[_ngcontent-%COMP%]   .upload-buttons-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.user-content[_ngcontent-%COMP%]   .upload-buttons-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){margin-left:.5em}.user-content.title[_ngcontent-%COMP%]{padding:0 var(--mg-file-list-side-padding)}@media (orientation:landscape){.files-list[_ngcontent-%COMP%]{margin-top:6.4vh}}@media (orientation:portrait){.files-list[_ngcontent-%COMP%]{margin-top:6.4vw}}@media (orientation:landscape) and (max-height:375px){.files-list[_ngcontent-%COMP%]{margin-top:24px}}@media (orientation:portrait) and (max-width:375px){.files-list[_ngcontent-%COMP%]{margin-top:24px}}@media (min-width:500px){.files-list[_ngcontent-%COMP%]{margin-top:32px}}.files-list.downloading[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:not(.downloading){opacity:.4}.files-list.downloading[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:not(.downloading):hover{cursor:not-allowed}.files-list.downloading[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:not(.downloading)   .file-row[_ngcontent-%COMP%]{pointer-events:none}.files-list.LIST[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.files-list.LIST[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:first-child{border-top:1px solid #ccc}.files-list.LIST[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:last-child{border-bottom:none}.files-list.LIST[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding:0 var(--mg-file-list-side-padding)}.files-list.CARDS[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:6px;box-shadow:0 0 6px rgba(0,0,0,.16);margin-bottom:8px;margin-left:var(--mg-file-list-side-padding,0);margin-right:var(--mg-file-list-side-padding,0)}.files-list.CARDS[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding:0 8px}.files-list[_ngcontent-%COMP%]   mg-empty-state[_ngcontent-%COMP%]{margin:0 var(--mg-file-list-side-padding)}.files-list[_ngcontent-%COMP%]   .file-row-container.downloading[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{opacity:.6}.files-list[_ngcontent-%COMP%]   .file-row-container.downloading[_ngcontent-%COMP%]   .delete.icon-wrapper[_ngcontent-%COMP%]{display:none}.files-list[_ngcontent-%COMP%]   .file-row-container.downloading[_ngcontent-%COMP%]   .icon-wrapper.close[_ngcontent-%COMP%]{display:inline-block}.files-list[_ngcontent-%COMP%]   .file-row-container.downloading[_ngcontent-%COMP%]   .icon-wrapper.close[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{margin-right:-8.5px}.files-list[_ngcontent-%COMP%]   .file-row-container.downloaded[_ngcontent-%COMP%]   .delete.icon-wrapper[_ngcontent-%COMP%]{display:none}.files-list[_ngcontent-%COMP%]   .file-row-container.downloaded[_ngcontent-%COMP%]   .open.icon-wrapper[_ngcontent-%COMP%]{display:inline-block}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%], .files-list[_ngcontent-%COMP%]   .file-row-anchor[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding:0 var(--mg-file-list-side-padding)}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]:hover{cursor:pointer}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]:hover   .file-name[_ngcontent-%COMP%]{text-decoration:underline}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   a.file-row-anchor[_ngcontent-%COMP%]{text-decoration:none;width:100%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   mg-file-extension-box[_ngcontent-%COMP%]{margin-right:8px;padding:8px 0;height:39px;width:56px;height:56px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{flex-basis:75%;max-width:72%;color:#93f;align-items:center;display:flex;padding:8px 0;flex-direction:column;align-items:flex-start;justify-content:space-around}@media (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:54.6875vh}}@media (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:54.6875vw}}@media (orientation:landscape) and (max-height:320px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:175px}}@media (orientation:portrait) and (max-width:320px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:175px}}@media (min-width:414px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:272px}}@media (min-width:415px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:65.9420289855vh}}@media (min-width:415px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:65.9420289855vw}}@media (min-width:415px) and (orientation:landscape) and (max-height:414px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:273px}}@media (min-width:415px) and (orientation:portrait) and (max-width:414px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:273px}}@media (min-width:415px) and (min-width:550.25px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:54.4752385279vh}}@media (min-width:415px) and (min-width:550.25px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:54.4752385279vw}}@media (min-width:415px) and (min-width:599.3548790659px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:299.75px}}@media (min-width:415px) and (min-width:686.5px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:47.5600873999vh}}@media (min-width:415px) and (min-width:686.5px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:47.5600873999vw}}@media (min-width:415px) and (min-width:742.7446401225px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:326.5px}}@media (min-width:415px) and (min-width:822.75px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:42.935278031vh}}@media (min-width:415px) and (min-width:822.75px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:42.935278031vw}}@media (min-width:415px) and (min-width:885.0530785563px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:353.25px}}@media (min-width:415px) and (min-width:959px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:380px}}@media (min-width:960px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:350px}}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:#93f}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]   .file-timestamp[_ngcontent-%COMP%]{margin-bottom:.2em}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%], .files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-timestamp[_ngcontent-%COMP%]{color:#737373;font-size:60%;margin-top:4px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:2px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .author-display-name[_ngcontent-%COMP%]{color:#036;font-weight:700}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px 0;flex-basis:5%;flex:1 0 auto;justify-content:flex-end;text-align:right}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.close[_ngcontent-%COMP%]{display:none}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.open[_ngcontent-%COMP%]{display:none;font-size:70%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.delete[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:18px;width:18px;color:#737373}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.delete[_ngcontent-%COMP%]:hover{cursor:pointer}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.delete[_ngcontent-%COMP%]:hover   mg-icon[_ngcontent-%COMP%]{color:#de1717}"],changeDetection:0}),e})()},"uT/y":function(e,n,t){"use strict";t.d(n,"a",(function(){return w}));var i=t("mrSG"),o=t("8Y7J"),l=t("LvDl"),a=t("DwZP"),r=t("5km/"),s=t("quSY"),d=t("k/kw"),c=t("UWMR"),p=t("B3cG"),g=t("iInd"),f=t("iELJ"),m=t("WH00"),u=t("jfjg");let w=(()=>{class e{constructor(e,n,t,i,l,r,d,c){this.mingaManager=e,this.snackBar=n,this.fileDownloader=t,this.fileUploadManager=i,this.router=l,this.dialog=r,this.cdr=d,this.contentEvents=c,this.fileDownloadSubscription=new s.a,this.downloadingFile=!1,this.loadingFiles=!0,this._files=[],this.hasCreatePermission=!1,this.hasDeletePermission=!1,this.cancelText="Cancel",this.enableFileManagement=!1,this.enableCreateURL=!1,this.fileDelete=new o.EventEmitter,this.listStyle=a.b.LIST,this.fileDownloadSubscription=this.fileDownloader.onDownloadStatusUpdate.subscribe(e=>{this.onFileDownloadUpdate(e)}),this.fileUpdateSubscription=this.contentEvents.onFileUpdate.subscribe(e=>{this.onFileUpdate(e)})}set files(e){this._files=e,this.loadingFiles=!1,this.cdr.markForCheck()}get files(){return this._files}ngOnDestroy(){this.fileDownloadSubscription.unsubscribe(),this.fileUpdateSubscription.unsubscribe()}onFileChange(e){this.groupHash?(this.fileUploadManager.addPendingFiles(`groupFiles_${this.groupHash}`,e),this.router.navigate(["",{outlets:{o:["groups","file~upload",this.groupHash]}}])):(this.fileUploadManager.addPendingFiles("mingaFiles",e),this.router.navigate(["",{outlets:{o:["files~upload"]}}]))}onUploadUrl(){return Object(i.a)(this,void 0,void 0,(function*(){if(!this.groupHash)throw new Error("Minga url upload unimplemented");yield this.router.navigate(["",{outlets:{o:["groups","url~upload",this.groupHash]}}])}))}onFileUpdate(e){return Object(i.a)(this,void 0,void 0,(function*(){(this.groupHash&&this.groupHash==e.groupHash||!this.groupHash&&e.mingaFileUpdate)&&(this._files=e.files,this.cdr.detectChanges())}))}onFileDownload(e){return Object(i.a)(this,void 0,void 0,(function*(){this.fileDownloader.downloadFromFileDetails(e)}))}onFileDownloadUpdate(e){for(let n of this._files)if(n.status&&n.status.fileKey==e.fileKey){n.status=e,this.downloadingFile=!e.error&&!(!(e.progress&&e.progress<100)||e.complete),this._files=l.clone(this._files),this.cdr.detectChanges();break}}onFileOpen(e){const n=this._files[e].status;n&&n.fileKey&&this.fileDownloader.openDownload(n.fileKey)}onFileIndexDownloadAbort(e){this.fileDownloader.abortDownloads(),this._files[e]&&this._files[e].status&&(this._files[e].status.canceled=!0,this._files[e].status.progress=null,this._files[e].status.complete=!1,this._files[e].status.error=!1),this.downloadingFile=!1,this._files=l.clone(this._files),this.cdr.detectChanges()}_removeFile(e,n){return Object(i.a)(this,void 0,void 0,(function*(){this._files.splice(n,1),yield this.mingaManager.removeFile(e.hash).then(e=>{this._files=e}).catch(n=>{console.error("onFileIndexDelete() removeGroupFile error: ",n),this._files.push({file:e}),this.snackBar.open("uh oh, an error occurred, please try again later")})}))}onFileIndexDelete(e){return Object(i.a)(this,void 0,void 0,(function*(){const n=this._files[e].file;this.dialog.open(r.d,{data:{showSubTitle:!1,titleLocaleValue:`file "${n.name}"`}}).afterClosed().subscribe(t=>Object(i.a)(this,void 0,void 0,(function*(){!0===t&&(this.fileDelete.emit({file:n,index:e}),this._files.splice(e,1))})))}))}}return e.\u0275fac=function(n){return new(n||e)(o["\u0275\u0275directiveInject"](d.a),o["\u0275\u0275directiveInject"](c.b),o["\u0275\u0275directiveInject"](p.b),o["\u0275\u0275directiveInject"](p.d),o["\u0275\u0275directiveInject"](g.g),o["\u0275\u0275directiveInject"](f.b),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-file-list-container"]],inputs:{enableFileManagement:"enableFileManagement",enableCreateURL:"enableCreateURL",groupHash:"groupHash",listStyle:"listStyle",files:"files"},outputs:{fileDelete:"fileDelete"},decls:1,vars:7,consts:[[3,"enableCreateFile","enableDelete","enableCreateURL","files","loading","downloadingFile","listStyle","uploadFile","downloadFile","openFileIndex","abortDownloadFileIndex","deleteFileIndex","uploadUrl"]],template:function(e,n){1&e&&(o["\u0275\u0275elementStart"](0,"mg-file-list",0),o["\u0275\u0275listener"]("uploadFile",(function(e){return n.onFileChange(e)}))("downloadFile",(function(e){return n.onFileDownload(e)}))("openFileIndex",(function(e){return n.onFileOpen(e)}))("abortDownloadFileIndex",(function(e){return n.onFileIndexDownloadAbort(e)}))("deleteFileIndex",(function(e){return n.onFileIndexDelete(e)}))("uploadUrl",(function(){return n.onUploadUrl()})),o["\u0275\u0275elementEnd"]()),2&e&&o["\u0275\u0275property"]("enableCreateFile",n.enableFileManagement)("enableDelete",n.enableFileManagement)("enableCreateURL",n.enableCreateURL)("files",n.files)("loading",n.loadingFiles)("downloadingFile",n.downloadingFile)("listStyle",n.listStyle)},directives:[u.a],styles:["[_nghost-%COMP%]{--mg-file-list-side-padding:0;display:block}@media (orientation:landscape){[_nghost-%COMP%]{margin-top:5.0724637681vh}}@media (orientation:portrait){[_nghost-%COMP%]{margin-top:5.0724637681vw}}@media (orientation:landscape) and (max-height:414px){[_nghost-%COMP%]{margin-top:21px}}@media (orientation:portrait) and (max-width:414px){[_nghost-%COMP%]{margin-top:21px}}@media (min-width:433.7142857143px){[_nghost-%COMP%]{margin-top:22px}}@media (max-width:599px){[_nghost-%COMP%]{--mg-file-list-side-padding:16px}}"]}),e})()}}]);
//# sourceMappingURL=default~minga-app-src-app-components-Overlay-MingaFiles-MingaFilesRouting-module~minga-app-src-app-g~ec09777c-es2015.js.map