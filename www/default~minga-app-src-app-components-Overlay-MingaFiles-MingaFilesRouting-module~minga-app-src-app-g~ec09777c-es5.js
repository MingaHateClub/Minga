!function(){function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==i.return||i.return()}finally{if(s)throw a}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n=function(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof u?t:u,a=Object.create(r.prototype),l=new b(i||[]);return o(a,"_invoke",{value:O(e,n,l)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=d;var p={};function u(){}function g(){}function h(){}var m={};c(m,a,(function(){return this}));var w=Object.getPrototypeOf,v=w&&w(w(F([])));v&&v!==t&&i.call(v,a)&&(m=v);var C=h.prototype=u.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var n;o(this,"_invoke",{value:function(o,r){function a(){return new t((function(n,a){!function n(o,r,a,l){var s=f(e[o],e,r);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}(o,r,n,a)}))}return n=n?n.then(a,a):a()}})}function O(e,t,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return S()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var l=P(a,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=f(e,t,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}function P(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function F(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return g.prototype=h,o(C,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:g,configurable:!0}),g.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},x(_.prototype),c(_.prototype,l,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var a=new _(d(t,n,i,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(C),c(C,s,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=F,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var l=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(l&&s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?r:String(r)),i)}var o,r}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{DwZP:function(e,t,n){"use strict";n.d(t,"b",(function(){return a.b})),n.d(t,"a",(function(){return v}));var i,a=n("jfjg"),l=n("SVse"),s=n("8Y7J"),c=n("s7LF"),d=n("BTe0"),f=n("TSSN"),p=n("CO6v"),u=n("NG9B"),g=n("9F0b"),h=n("OVn1"),m=n("ls3q"),w=n("7Tcv"),v=((i=o((function e(){r(this,e)}))).\u0275fac=function(e){return new(e||i)},i.\u0275mod=s["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[p.a,m.a,w.a,h.a,g.c,u.a,l.c,c.m,d.b,f.c]]}),i)},"Z+Q6":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n("uT/y");var i,a=n("SVse"),l=n("8Y7J"),s=n("DwZP"),c=n("B3cG"),d=n("ls3q"),f=n("Vwx4"),p=((i=o((function e(){r(this,e)}))).\u0275fac=function(e){return new(e||i)},i.\u0275mod=l["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[s.a,c.c,f.b,d.a,a.c]]}),i)},jfjg:function(e,t,n){"use strict";n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return D}));var i=n("8Y7J"),a=n("9F0b"),l=n("Wgwc"),s=n("Fudl"),c=n("SVse"),d=n("pzvA"),f=n("T0RT"),p=n("s7LF"),u=n("sj4O"),g=n("ZgR8"),h=n("Hp2Z"),m=n("BTe0"),w=n("05dM"),v=n("TSSN"),C=["inputEl"];function x(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-button-outline",8),i["\u0275\u0275listener"]("click",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).uploadUrl.emit(e)})),i["\u0275\u0275text"](1,"Add URL"),i["\u0275\u0275elementEnd"]()}}function _(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mg-file-input",9),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).pendingFiles=e}))("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).onFileChange(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("displayStyle",o.fileInputDisplayType)("ngModel",o.pendingFiles)("multiple",!0)}}function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275template"](1,x,2,0,"mg-button-outline",6),i["\u0275\u0275template"](2,_,1,3,"mg-file-input",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.enableCreateURL),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.enableCreateFile)}}function P(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275element"](1,"mg-spinner"),i["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1," Link shared "),i["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1," File uploaded "),i["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",27),i["\u0275\u0275template"](1,y,2,0,"span",28),i["\u0275\u0275template"](2,M,2,0,"span",28),i["\u0275\u0275text"](3," by "),i["\u0275\u0275elementStart"](4,"span",29),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.file.url),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.file.url),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](n.file.authorPersonView.displayName)}}function F(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"]().index;return i["\u0275\u0275nextContext"](2).deleteFileIndex.emit(e)})),i["\u0275\u0275elementStart"](1,"mg-icon"),i["\u0275\u0275text"](2,"delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275element"](1,"mat-progress-bar",32),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",n.status.progress)}}function I(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"div",15),i["\u0275\u0275listener"]("mouseenter",(function(){i["\u0275\u0275restoreView"](n);var e=t.index;return i["\u0275\u0275nextContext"](2).hoverRow=e}))("mouseleave",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).hoverRow=-1})),i["\u0275\u0275elementStart"](2,"a",16),i["\u0275\u0275listener"]("click",(function(e){i["\u0275\u0275restoreView"](n);var o=t.$implicit;return i["\u0275\u0275nextContext"](2).onAnchorClick(e,o)})),i["\u0275\u0275element"](3,"mg-file-extension-box",17),i["\u0275\u0275elementStart"](4,"div",18),i["\u0275\u0275elementStart"](5,"div",19),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,b,6,3,"div",20),i["\u0275\u0275elementStart"](8,"div",21),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,F,3,0,"div",22),i["\u0275\u0275elementStart"](11,"div",23),i["\u0275\u0275elementStart"](12,"mg-button-icon",24),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.index;return i["\u0275\u0275nextContext"](2).abortDownloadFileIndex.emit(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",25),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.index;return i["\u0275\u0275nextContext"](2).openFileIndex.emit(e)})),i["\u0275\u0275elementStart"](14,"mg-button-outline"),i["\u0275\u0275text"](15,"Open"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](16,S,2,1,"div",26),i["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,r=t.index,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275classProp"]("downloading",a.hasStatus(o)&&o.status.progress<100)("downloaded",a.hasStatus(o)&&o.status.complete),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("href",a.getHrefValue(o),i["\u0275\u0275sanitizeUrl"])("title",a.getTitleValue(o)),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("inverse",a.hoverRow==r),i["\u0275\u0275property"]("extension",o.file.fileExtension),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",o.file.name," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o.file.authorPersonView),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" Uploaded ",a.getFileDateString(o.file.timestamp)," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",a.enableDelete),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",a.hasStatus(o)&&!o.status.complete)}}function E(e,t){if(1&e&&(i["\u0275\u0275element"](0,"mg-empty-state",33),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275pipe"](2,"translate")),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("title",i["\u0275\u0275pipeBind1"](1,2,"emptyState.mingaFilesTitle"))("subtitle",n.enableCreateFile?i["\u0275\u0275pipeBind1"](2,4,"emptyState.mingaFilesSubtitle"):"")}}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275template"](1,I,17,14,"div",12),i["\u0275\u0275template"](2,E,3,6,"mg-empty-state",13),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("downloading",n.downloadingFile)("button-margin",n.enableCreateFile||n.enableCreateURL),i["\u0275\u0275property"]("ngClass",n.listStyle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",n.files),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.files||!n.files.length)}}var L=function(e){return e.CARDS="CARDS",e.LIST="LIST",e}({}),D=function(){var e=function(){function e(){r(this,e),this.pendingFiles=[],this.fileInputDisplayType=a.b.BUTTON,this.hasDownloadInProgress=!1,this.hoverRow=-1,this.enableDelete=!1,this.enableCreateFile=!1,this.enableCreateURL=!1,this.files=[],this.listStyle=L.LIST,this.loading=!0,this.downloadingFile=!1,this.uploadFile=new i.EventEmitter,this.uploadUrl=new i.EventEmitter,this.downloadFile=new i.EventEmitter,this.deleteFileIndex=new i.EventEmitter,this.abortDownloadFileIndex=new i.EventEmitter,this.openFileIndex=new i.EventEmitter}return o(e,[{key:"getFileDateString",value:function(e){return l(e).format("LLL")}},{key:"onFileChange",value:function(e){this.uploadFile.emit(this.pendingFiles)}},{key:"hasStatus",value:function(e){return e.status&&!e.status.canceled&&!e.status.error&&(e.status.complete||e.status.progress<100)}},{key:"getGroupFilesString",value:function(){return JSON.stringify(this.files)}},{key:"onAnchorClick",value:function(e,t){e&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()),this.downloadFile.emit(t.file)}},{key:"getHrefValue",value:function(e){return window.MINGA_APP_BROWSER?e.file.url?e.file.url:e.file.filePath?e.file.filePath:"javascript:;":"javascript:;"}},{key:"getTitleValue",value:function(e){var t=this.getHrefValue(e);return"javascript:;"==t?e.file.name:t}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-file-list"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275viewQuery"](C,3),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.inputEl=n.first))},inputs:{enableDelete:"enableDelete",enableCreateFile:"enableCreateFile",enableCreateURL:"enableCreateURL",files:"files",listStyle:"listStyle",loading:"loading",downloadingFile:"downloadingFile"},outputs:{uploadFile:"uploadFile",uploadUrl:"uploadUrl",downloadFile:"downloadFile",deleteFileIndex:"deleteFileIndex",abortDownloadFileIndex:"abortDownloadFileIndex",openFileIndex:"openFileIndex"},decls:8,vars:3,consts:[[1,"user-content","title"],[1,"default-icon"],["class","upload-buttons-container",4,"ngIf"],["class","loader",4,"ngIf"],["class","files-list",3,"ngClass","downloading","button-margin",4,"ngIf"],[1,"upload-buttons-container"],[3,"click",4,"ngIf"],["customTitleText","Add File","accept","*/*",3,"displayStyle","ngModel","multiple","ngModelChange",4,"ngIf"],[3,"click"],["customTitleText","Add File","accept","*/*",3,"displayStyle","ngModel","multiple","ngModelChange"],[1,"loader"],[1,"files-list",3,"ngClass"],["class","file-row-container",3,"downloading","downloaded",4,"ngFor","ngForOf"],[3,"title","subtitle",4,"ngIf"],[1,"file-row-container"],[1,"file-row",3,"mouseenter","mouseleave"],[1,"file-row-anchor",3,"href","title","click"],[3,"extension"],[1,"file-name-wrapper"],[1,"file-name","mg-bodycopy-bold"],["class","author-name",4,"ngIf"],[1,"file-timestamp"],["class","icon-wrapper delete",3,"click",4,"ngIf"],[1,"icon-wrapper","close"],["icon","close",3,"click"],[1,"icon-wrapper","open",3,"click"],["class","file-status-container",4,"ngIf"],[1,"author-name"],[4,"ngIf"],[1,"author-display-name"],[1,"icon-wrapper","delete",3,"click"],[1,"file-status-container"],["mode","determinate",3,"value"],[3,"title","subtitle"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"h1"),i["\u0275\u0275elementStart"](2,"mg-icon",1),i["\u0275\u0275text"](3,"minga-files-o"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](4,"\xa0Files"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,O,3,2,"div",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,P,2,0,"div",3),i["\u0275\u0275template"](7,k,3,7,"div",4)),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.enableCreateFile||t.enableCreateURL),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.loading))},directives:[s.a,c.o,d.a,f.a,p.t,p.w,u.a,c.m,c.n,g.a,h.a,m.a,w.a],pipes:[v.d],styles:["[_nghost-%COMP%]{position:relative;z-index:1;display:block;--mg-file-list-side-padding:16px}.user-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-top:0}.user-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.user-content[_ngcontent-%COMP%]{position:relative}.user-content[_ngcontent-%COMP%]   .upload-buttons-container[_ngcontent-%COMP%]{position:absolute;right:var(--mg-file-list-side-padding);font-size:76%;top:50%;transform:translateY(-50%)}.user-content[_ngcontent-%COMP%]   .upload-buttons-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.user-content[_ngcontent-%COMP%]   .upload-buttons-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){margin-left:.5em}.user-content.title[_ngcontent-%COMP%]{padding:0 var(--mg-file-list-side-padding)}@media (orientation:landscape){.files-list[_ngcontent-%COMP%]{margin-top:6.4vh}}@media (orientation:portrait){.files-list[_ngcontent-%COMP%]{margin-top:6.4vw}}@media (orientation:landscape) and (max-height:375px){.files-list[_ngcontent-%COMP%]{margin-top:24px}}@media (orientation:portrait) and (max-width:375px){.files-list[_ngcontent-%COMP%]{margin-top:24px}}@media (min-width:500px){.files-list[_ngcontent-%COMP%]{margin-top:32px}}.files-list.downloading[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:not(.downloading){opacity:.4}.files-list.downloading[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:not(.downloading):hover{cursor:not-allowed}.files-list.downloading[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:not(.downloading)   .file-row[_ngcontent-%COMP%]{pointer-events:none}.files-list.LIST[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}.files-list.LIST[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:first-child{border-top:1px solid #ccc}.files-list.LIST[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]:last-child{border-bottom:none}.files-list.LIST[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding:0 var(--mg-file-list-side-padding)}.files-list.CARDS[_ngcontent-%COMP%]   .file-row-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:6px;box-shadow:0 0 6px rgba(0,0,0,.16);margin-bottom:8px;margin-left:var(--mg-file-list-side-padding,0);margin-right:var(--mg-file-list-side-padding,0)}.files-list.CARDS[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding:0 8px}.files-list[_ngcontent-%COMP%]   mg-empty-state[_ngcontent-%COMP%]{margin:0 var(--mg-file-list-side-padding)}.files-list[_ngcontent-%COMP%]   .file-row-container.downloading[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{opacity:.6}.files-list[_ngcontent-%COMP%]   .file-row-container.downloading[_ngcontent-%COMP%]   .delete.icon-wrapper[_ngcontent-%COMP%]{display:none}.files-list[_ngcontent-%COMP%]   .file-row-container.downloading[_ngcontent-%COMP%]   .icon-wrapper.close[_ngcontent-%COMP%]{display:inline-block}.files-list[_ngcontent-%COMP%]   .file-row-container.downloading[_ngcontent-%COMP%]   .icon-wrapper.close[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{margin-right:-8.5px}.files-list[_ngcontent-%COMP%]   .file-row-container.downloaded[_ngcontent-%COMP%]   .delete.icon-wrapper[_ngcontent-%COMP%]{display:none}.files-list[_ngcontent-%COMP%]   .file-row-container.downloaded[_ngcontent-%COMP%]   .open.icon-wrapper[_ngcontent-%COMP%]{display:inline-block}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%], .files-list[_ngcontent-%COMP%]   .file-row-anchor[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]{padding:0 var(--mg-file-list-side-padding)}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]:hover{cursor:pointer}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]:hover   .file-name[_ngcontent-%COMP%]{text-decoration:underline}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   a.file-row-anchor[_ngcontent-%COMP%]{text-decoration:none;width:100%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   mg-file-extension-box[_ngcontent-%COMP%]{margin-right:8px;padding:8px 0;height:39px;width:56px;height:56px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{flex-basis:75%;max-width:72%;color:#93f;align-items:center;display:flex;padding:8px 0;flex-direction:column;align-items:flex-start;justify-content:space-around}@media (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:54.6875vh}}@media (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:54.6875vw}}@media (orientation:landscape) and (max-height:320px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:175px}}@media (orientation:portrait) and (max-width:320px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:175px}}@media (min-width:414px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:272px}}@media (min-width:415px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:65.9420289855vh}}@media (min-width:415px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:65.9420289855vw}}@media (min-width:415px) and (orientation:landscape) and (max-height:414px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:273px}}@media (min-width:415px) and (orientation:portrait) and (max-width:414px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:273px}}@media (min-width:415px) and (min-width:550.25px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:54.4752385279vh}}@media (min-width:415px) and (min-width:550.25px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:54.4752385279vw}}@media (min-width:415px) and (min-width:599.3548790659px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:299.75px}}@media (min-width:415px) and (min-width:686.5px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:47.5600873999vh}}@media (min-width:415px) and (min-width:686.5px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:47.5600873999vw}}@media (min-width:415px) and (min-width:742.7446401225px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:326.5px}}@media (min-width:415px) and (min-width:822.75px) and (orientation:landscape){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:42.935278031vh}}@media (min-width:415px) and (min-width:822.75px) and (orientation:portrait){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:42.935278031vw}}@media (min-width:415px) and (min-width:885.0530785563px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:353.25px}}@media (min-width:415px) and (min-width:959px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:380px}}@media (min-width:960px){.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]{max-width:350px}}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:#93f}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name-wrapper[_ngcontent-%COMP%]   .file-timestamp[_ngcontent-%COMP%]{margin-bottom:.2em}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%], .files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-timestamp[_ngcontent-%COMP%]{color:#737373;font-size:60%;margin-top:4px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:2px}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .author-display-name[_ngcontent-%COMP%]{color:#036;font-weight:700}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px 0;flex-basis:5%;flex:1 0 auto;justify-content:flex-end;text-align:right}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.close[_ngcontent-%COMP%]{display:none}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.open[_ngcontent-%COMP%]{display:none;font-size:70%}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.delete[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:18px;width:18px;color:#737373}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.delete[_ngcontent-%COMP%]:hover{cursor:pointer}.files-list[_ngcontent-%COMP%]   .file-row[_ngcontent-%COMP%]   .icon-wrapper.delete[_ngcontent-%COMP%]:hover   mg-icon[_ngcontent-%COMP%]{color:#de1717}"],changeDetection:0}),e}()},"uT/y":function(t,i,a){"use strict";a.d(i,"a",(function(){return x}));var l=a("mrSG"),s=a("8Y7J"),c=a("LvDl"),d=a("DwZP"),f=a("5km/"),p=a("quSY"),u=a("k/kw"),g=a("UWMR"),h=a("B3cG"),m=a("iInd"),w=a("iELJ"),v=a("WH00"),C=a("jfjg"),x=function(){var t=function(){function t(e,n,i,o,a,l,c,f){var u=this;r(this,t),this.mingaManager=e,this.snackBar=n,this.fileDownloader=i,this.fileUploadManager=o,this.router=a,this.dialog=l,this.cdr=c,this.contentEvents=f,this.fileDownloadSubscription=new p.a,this.downloadingFile=!1,this.loadingFiles=!0,this._files=[],this.hasCreatePermission=!1,this.hasDeletePermission=!1,this.cancelText="Cancel",this.enableFileManagement=!1,this.enableCreateURL=!1,this.fileDelete=new s.EventEmitter,this.listStyle=d.b.LIST,this.fileDownloadSubscription=this.fileDownloader.onDownloadStatusUpdate.subscribe((function(e){u.onFileDownloadUpdate(e)})),this.fileUpdateSubscription=this.contentEvents.onFileUpdate.subscribe((function(e){u.onFileUpdate(e)}))}return o(t,[{key:"files",get:function(){return this._files},set:function(e){this._files=e,this.loadingFiles=!1,this.cdr.markForCheck()}},{key:"ngOnDestroy",value:function(){this.fileDownloadSubscription.unsubscribe(),this.fileUpdateSubscription.unsubscribe()}},{key:"onFileChange",value:function(e){this.groupHash?(this.fileUploadManager.addPendingFiles("groupFiles_".concat(this.groupHash),e),this.router.navigate(["",{outlets:{o:["groups","file~upload",this.groupHash]}}])):(this.fileUploadManager.addPendingFiles("mingaFiles",e),this.router.navigate(["",{outlets:{o:["files~upload"]}}]))}},{key:"onUploadUrl",value:function(){return Object(l.a)(this,void 0,void 0,n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.groupHash){e.next=2;break}throw new Error("Minga url upload unimplemented");case 2:return e.next=4,this.router.navigate(["",{outlets:{o:["groups","url~upload",this.groupHash]}}]);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onFileUpdate",value:function(e){return Object(l.a)(this,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(this.groupHash&&this.groupHash==e.groupHash||!this.groupHash&&e.mingaFileUpdate)&&(this._files=e.files,this.cdr.detectChanges());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"onFileDownload",value:function(e){return Object(l.a)(this,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.fileDownloader.downloadFromFileDetails(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"onFileDownloadUpdate",value:function(t){var n,i=e(this._files);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.status&&o.status.fileKey==t.fileKey){o.status=t,this.downloadingFile=!t.error&&!(!(t.progress&&t.progress<100)||t.complete),this._files=c.clone(this._files),this.cdr.detectChanges();break}}}catch(r){i.e(r)}finally{i.f()}}},{key:"onFileOpen",value:function(e){var t=this._files[e].status;t&&t.fileKey&&this.fileDownloader.openDownload(t.fileKey)}},{key:"onFileIndexDownloadAbort",value:function(e){this.fileDownloader.abortDownloads(),this._files[e]&&this._files[e].status&&(this._files[e].status.canceled=!0,this._files[e].status.progress=null,this._files[e].status.complete=!1,this._files[e].status.error=!1),this.downloadingFile=!1,this._files=c.clone(this._files),this.cdr.detectChanges()}},{key:"_removeFile",value:function(e,t){return Object(l.a)(this,void 0,void 0,n().mark((function i(){var o=this;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._files.splice(t,1),n.next=3,this.mingaManager.removeFile(e.hash).then((function(e){o._files=e})).catch((function(t){console.error("onFileIndexDelete() removeGroupFile error: ",t),o._files.push({file:e}),o.snackBar.open("uh oh, an error occurred, please try again later")}));case 3:case"end":return n.stop()}}),i,this)})))}},{key:"onFileIndexDelete",value:function(e){return Object(l.a)(this,void 0,void 0,n().mark((function t(){var i,o=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this._files[e].file,this.dialog.open(f.d,{data:{showSubTitle:!1,titleLocaleValue:'file "'.concat(i.name,'"')}}).afterClosed().subscribe((function(t){return Object(l.a)(o,void 0,void 0,n().mark((function o(){return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:!0===t&&(this.fileDelete.emit({file:i,index:e}),this._files.splice(e,1));case 1:case"end":return n.stop()}}),o,this)})))}));case 2:case"end":return t.stop()}}),t,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](u.a),s["\u0275\u0275directiveInject"](g.b),s["\u0275\u0275directiveInject"](h.b),s["\u0275\u0275directiveInject"](h.d),s["\u0275\u0275directiveInject"](m.g),s["\u0275\u0275directiveInject"](w.b),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef),s["\u0275\u0275directiveInject"](v.a))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["mg-file-list-container"]],inputs:{enableFileManagement:"enableFileManagement",enableCreateURL:"enableCreateURL",groupHash:"groupHash",listStyle:"listStyle",files:"files"},outputs:{fileDelete:"fileDelete"},decls:1,vars:7,consts:[[3,"enableCreateFile","enableDelete","enableCreateURL","files","loading","downloadingFile","listStyle","uploadFile","downloadFile","openFileIndex","abortDownloadFileIndex","deleteFileIndex","uploadUrl"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mg-file-list",0),s["\u0275\u0275listener"]("uploadFile",(function(e){return t.onFileChange(e)}))("downloadFile",(function(e){return t.onFileDownload(e)}))("openFileIndex",(function(e){return t.onFileOpen(e)}))("abortDownloadFileIndex",(function(e){return t.onFileIndexDownloadAbort(e)}))("deleteFileIndex",(function(e){return t.onFileIndexDelete(e)}))("uploadUrl",(function(){return t.onUploadUrl()})),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("enableCreateFile",t.enableFileManagement)("enableDelete",t.enableFileManagement)("enableCreateURL",t.enableCreateURL)("files",t.files)("loading",t.loadingFiles)("downloadingFile",t.downloadingFile)("listStyle",t.listStyle)},directives:[C.a],styles:["[_nghost-%COMP%]{--mg-file-list-side-padding:0;display:block}@media (orientation:landscape){[_nghost-%COMP%]{margin-top:5.0724637681vh}}@media (orientation:portrait){[_nghost-%COMP%]{margin-top:5.0724637681vw}}@media (orientation:landscape) and (max-height:414px){[_nghost-%COMP%]{margin-top:21px}}@media (orientation:portrait) and (max-width:414px){[_nghost-%COMP%]{margin-top:21px}}@media (min-width:433.7142857143px){[_nghost-%COMP%]{margin-top:22px}}@media (max-width:599px){[_nghost-%COMP%]{--mg-file-list-side-padding:16px}}"]}),t}()}}])}();
//# sourceMappingURL=default~minga-app-src-app-components-Overlay-MingaFiles-MingaFilesRouting-module~minga-app-src-app-g~ec09777c-es5.js.map