!function(){function e(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==i.return||i.return()}finally{if(c)throw r}}}}function t(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(k){s=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var a=t&&t.prototype instanceof g?t:g,r=Object.create(a.prototype),l=new _(o||[]);return i(r,"_invoke",{value:w(e,n,l)}),r}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=d;var p={};function g(){}function h(){}function m(){}var f={};s(f,r,(function(){return this}));var v=Object.getPrototypeOf,C=v&&v(v(I([])));C&&C!==t&&n.call(C,r)&&(f=C);var x=m.prototype=g.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var o;i(this,"_invoke",{value:function(i,a){function r(){return new t((function(o,r){!function i(o,a,r,l){var c=u(e[o],e,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,r,l)}),(function(e){i("throw",e,r,l)})):t.resolve(d).then((function(e){s.value=e,r(s)}),(function(e){return i("throw",e,r,l)}))}l(c.arg)}(i,a,o,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var i="suspendedStart";return function(o,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var r=n.delegate;if(r){var l=P(r,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function P(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=u(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m,i(x,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},b(y.prototype),s(y.prototype,l,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,i,o,a){void 0===a&&(a=Promise);var r=new y(d(t,n,i,o),a);return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},b(x),s(x,c,"Generator"),s(x,r,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],r=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?a:String(a)),i)}var o,a}function u(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{LTfw:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n("Nxoj");var i,o=n("SVse"),a=n("8Y7J"),r=n("u9T3"),l=n("zkd0"),c=n("ls3q"),s=n("E4Uz"),d=((i=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||i)},i.\u0275mod=a["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[c.a,l.a,r.a,o.c,s.b]]}),i)},Nxoj:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("8Y7J"),o=n("SVse"),a=n("VDRc"),r=n("E4Uz"),l=n("Fudl");function c(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",3),i["\u0275\u0275elementStart"](1,"div",4),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit;return i["\u0275\u0275nextContext"](2).selectColor(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var o=t.$implicit,a=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("background-color",o),i["\u0275\u0275classProp"]("color-option-selected",!a.customColorSelected_&&o==a.color)}}function s(e,t){1&e&&i["\u0275\u0275template"](0,c,2,4,"div",2),2&e&&i["\u0275\u0275property"]("ngForOf",t.$implicit)}function d(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}var g=function(){return[]};function h(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"div",6),i["\u0275\u0275listener"]("colorPickerChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().selectColor(e)})),i["\u0275\u0275elementStart"](3,"mg-icon"),i["\u0275\u0275text"](4,"color-picker"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,d,1,0,"ng-container",7),i["\u0275\u0275elementEnd"]()}if(2&e){var o=i["\u0275\u0275nextContext"](),a=i["\u0275\u0275reference"](1);i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("color-option-selected",o.customColorSelected_),i["\u0275\u0275property"]("colorPicker",o.color)("cpPresetColors",i["\u0275\u0275pureFunction0"](9,g))("cpCloseClickOutside",!1)("cpOKButton",!0)("cpOKButtonText","Close"),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngTemplateOutlet",a)("ngTemplateOutletContext",o.presetsRow1)}}function m(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}function f(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275template"](1,m,1,0,"ng-container",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](),o=i["\u0275\u0275reference"](1);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",o)("ngTemplateOutletContext",n.presetsRow2)}}function v(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275template"](1,v,1,0,"ng-container",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](),o=i["\u0275\u0275reference"](1);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",o)("ngTemplateOutletContext",n.presetsRow3)}}function x(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",5),i["\u0275\u0275template"](1,x,1,0,"ng-container",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](),o=i["\u0275\u0275reference"](1);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",o)("ngTemplateOutletContext",n.customColorList)}}var y=function(){var e=function(){function e(){p(this,e),this.customColorSelected_=!1,this.presetsRow1={$implicit:["#e3752b","#fdcb69","#41a96d","#2999ab","#22b7ec"]},this.presetsRow2={$implicit:["#31318d","#635ca7","#c75fa4","#efdc12","#ab3283","#f56365"]},this.presetsRow3={$implicit:["#ffffff","#d6d6d6","#b2b2b2","#898989","#414141","#000000"]},this.color="",this.customColorList=null,this.colorChange=new i.EventEmitter}return u(e,[{key:"selectColor",value:function(e){this.color=e,this.colorChange.emit(this.color),this.customColorSelected_=!(this.presetsRow1.$implicit.includes(e)||this.presetsRow2.$implicit.includes(e)||this.presetsRow3.$implicit.includes(e)||this.customColorList)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-color-select"]],inputs:{color:"color",customColorList:"customColorList"},outputs:{colorChange:"colorChange"},decls:6,vars:4,consts:[["presetColorsTpl",""],["class","color-options-row","fxLayout","row","fxLayoutGap","12px",4,"ngIf"],["fxFlex","auto",4,"ngFor","ngForOf"],["fxFlex","auto"],[1,"color-option",3,"click"],["fxLayout","row","fxLayoutGap","12px",1,"color-options-row"],["cpOutputFormat","hex",1,"color-option",3,"colorPicker","cpPresetColors","cpCloseClickOutside","cpOKButton","cpOKButtonText","colorPickerChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,s,1,1,"ng-template",null,0,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](2,h,6,10,"div",1),i["\u0275\u0275template"](3,f,2,2,"div",1),i["\u0275\u0275template"](4,C,2,2,"div",1),i["\u0275\u0275template"](5,b,2,2,"div",1)),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.customColorList),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.customColorList),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.customColorList),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.customColorList))},directives:[o.o,o.n,a.b,a.e,a.f,r.a,l.a,o.t],styles:[".color-options-row[_ngcontent-%COMP%]{margin:12px}.color-option[_ngcontent-%COMP%]{padding-top:100%;position:relative;cursor:pointer;text-align:center;border-radius:3px;box-shadow:0 2px 6px rgba(0,0,0,.3);transform:scale(1);transition:transform .1s ease;border:2px solid transparent}.color-option.color-option-selected[_ngcontent-%COMP%]{transform:scale(1.1);border-color:#036}.color-option[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"],changeDetection:0}),e}()},V5YL:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n("eQq5");var i,o=n("SVse"),a=n("8Y7J"),r=n("u9T3"),l=((i=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||i)},i.\u0275mod=a["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[o.c,r.a]]}),i)},eQq5:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("8Y7J"),o=["*"],a=[[["mg-tab-group-header-item"]]],r=["mg-tab-group-header-item"],l=function(){var e=function(){function e(){p(this,e),this.active=!1,this.activeChange=new i.EventEmitter}return u(e,[{key:"onClick",value:function(e){this.active=!0,this.activeChange.emit(this.active)}},{key:"selectTab",value:function(){this.active=!0,this.activeChange.emit(this.active)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-tab-group-header-item"]],hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(e){return t.onClick(e)})),2&e&&i["\u0275\u0275classProp"]("mg-tab-group-header-item-active",t.active)},outputs:{activeChange:"activeChange"},ngContentSelectors:o,decls:1,vars:0,template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275projection"](0))},encapsulation:2}),e}(),c=function(){var e=function(){function e(){p(this,e),this._headerItemSubscriptions=[],this._activeTab=null,this.activeTabChange=new i.EventEmitter}return u(e,[{key:"activeTab",get:function(){return this._activeTab},set:function(e){this._activeTab=e||null,e&&this.setActiveTabGroupHeaderItem(e,!0)}},{key:"ngAfterContentInit",value:function(){var e=this;this.tabGroupHeaderItems.changes.subscribe((function(t){e.onHeaderItemsChange()})),this.headerItemsCheck()}},{key:"ngOnDestroy",value:function(){this._headerItemSubscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"onHeaderItemsChange",value:function(){this.headerItemsCheck()}},{key:"headerItemsCheck",value:function(){var e=this;this._headerItemSubscriptions.forEach((function(e){return e.unsubscribe()})),this._headerItemSubscriptions=[],this.tabGroupHeaderItems.forEach((function(t,n){var i=t.activeChange.subscribe((function(){e.onTabActiveChange(t)}));e._headerItemSubscriptions.push(i)})),this._activeTab||this.setActiveTabGroupHeaderItem(this.tabGroupHeaderItems.first)}},{key:"onTabActiveChange",value:function(e){e.active&&this.setActiveTabGroupHeaderItem(e)}},{key:"setActiveTabGroupHeaderItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.activeTab){if(this.activeTab===e)return;this.activeTab.active=!1}this.activeTab=e,this.activeTab.active=!0,t||this.activeTabChange.emit(this.activeTab)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-tab-group-header"]],contentQueries:function(e,t,n){var o;(1&e&&i["\u0275\u0275contentQuery"](n,l,0),2&e)&&(i["\u0275\u0275queryRefresh"](o=i["\u0275\u0275loadQuery"]())&&(t.tabGroupHeaderItems=o))},inputs:{activeTab:"activeTab"},outputs:{activeTabChange:"activeTabChange"},ngContentSelectors:r,decls:2,vars:0,consts:[[1,"tab-group-header"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](a),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275projection"](1),i["\u0275\u0275elementEnd"]())},styles:[""],changeDetection:0}),e}()},pmxV:function(n,i,r){"use strict";r.r(i),r.d(i,"challengeRoute",(function(){return qi})),r.d(i,"challengeRoutes",(function(){return Gi})),r.d(i,"ChallengeRoutesModule",(function(){return Yi}));var s=r("8Y7J"),d=r("iInd"),g=r("mrSG");function h(e){if(!e)throw new Error("Cannot get challenge route data for non-challenge content");return e}var m,f=function(e){a(n,e);var t=l(n);function n(e,i,o){var a;return p(this,n),(a=t.call(this,e,i)).snapshot=e,a.injector=i,a.contentInfoService=o,a}return u(n,[{key:"getContentInfo",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contentInfoService.getContentInfo(this.contentHash).then(h).then((function(e){return Object(g.a)(t,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.challengeInfo=e,this.challengeType=e.type;case 1:case"end":return t.stop()}}),t,this)})))}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getAdditionalRouteData",value:function(){this.challengeType||(this.challengeType=this.snapshot.data.type)}}]),n}(r("/Hrl").a),v=r("egeQ"),C=((m=function(){function e(t,n){p(this,e),this.studioContentInfoService=t,this.injector=n}return u(e,[{key:"resolve",value:function(e,t){return Object(g.a)(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new f(e,this.injector,this.studioContentInfoService),t.next=3,n.initDataFromRoute();case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||m)(s["\u0275\u0275inject"](v.a),s["\u0275\u0275inject"](s.Injector))},m.\u0275prov=s["\u0275\u0275defineInjectable"]({token:m,factory:m.\u0275fac,providedIn:"root"}),m),x=r("+lWm"),b=r("GaEU"),y=r("em/2"),w=r("6GgV"),P=(r("rS4c"),r("f14+")),O=(r("jxTo"),r("kG1N"),r("OKSY")),M=(r("8hsd"),r("lJxs")),_=function(){function e(t,n,i){if(p(this,e),this.draftService=i,!n.snapshot.data.routeData)throw new Error("ChallngeRouteDataResolver missing routeData. Please use the challengeRouteConfig() function when declaring your route");this.routeData=n.snapshot.data.routeData,//! not guaranteed to get correct challenge type past the photo page
this.challengeType=n.snapshot.data.routeData.challengeType,this._router=t}return u(e,[{key:"getDraft",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.draftService.getDraftDefaulted(this.routeData.contentHash,(function(){return n.routeData.challengeInfo?n.routeData.challengeInfo:n.getDefaultChallenge()}));case 2:if((t=e.sent).type===this.challengeType||!this.challengeType){e.next=9;break}return e.next=6,this.draftService.clearDraft();case 6:e.t0=this.getDefaultChallenge(),e.next=10;break;case 9:e.t0=t;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this)})))}},{key:"getDefaultChallenge",value:function(){return{body:"",commentsAllowed:!0,privacy:w.ChallengePrivacy.PUBLIC,title:"",type:this.challengeType||w.ChallengeType.TEXT,color:w.ChallengeColor.RED,points:0,allowedRoles:[],requiresApproval:!1}}},{key:"navigatePrevious",value:function(){return this._router.navigate(["challenge"].concat(t(this.routeData.previousPath)))}},{key:"navigateNext",value:function(){return this._router.navigate(["challenge"].concat(t(this.routeData.nextPath)))}}]),e}(),I=r("Dy4O"),S=r("LvDl"),k=r("5km/"),E=r("orC8"),D=r("iELJ");function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return S.merge.apply(S,[e].concat(n))}var R,j,A,B,H,V,L=((R=function(){function e(t,n){p(this,e),this.userStorage=t,this.matDialog=n,this._pendingDraft={}}return u(e,[{key:"cancelDraft",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.matDialog.open(k.g),e.next=3,t.beforeClosed().toPromise();case 3:if("keep"!==(n=e.sent)){e.next=6;break}return e.abrupt("return","");case 6:if("discard"!==n){e.next=10;break}return e.next=9,this.clearDraft();case 9:return e.abrupt("return","");case 10:throw new Error("User abort");case 11:case"end":return e.stop()}}),e,this)})))}},{key:"getDraftType",value:function(e){return Object(g.a)(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=7;break}return t.next=3,this.getDraft();case 3:if(n=t.sent){t.next=6;break}throw new Error("No Challenge Draft found for draft type!");case 6:e=n;case 7:return t.abrupt("return",e.type);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"clearDraft",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userStorage.setItem("MingaChallengeDraft",null);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getDraft",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userStorage.getItem("MingaChallengeDraft");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=null;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getDraftDefaulted",value:function(e,t){return Object(g.a)(this,void 0,void 0,o().mark((function n(){var i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getDraft();case 2:if(i=n.sent,n.t0=!i||e&&i.contentHash!=e,!n.t0){n.next=10;break}return n.next=7,t();case 7:return i=n.sent,n.next=10,this.storeDraft(i);case 10:return n.abrupt("return",i);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"getDraftAssert",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDraft();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"saveDraft",value:function(e){return Object(g.a)(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object.assign({},this._pendingDraft)).allowedRoles=[],this._pendingDraft=T(n,e),t.next=5,this.savePendingDraft();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"saveDraftDelayed",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=Object.assign({},this._pendingDraft);i.allowedRoles=[],this._pendingDraft=T(i,e),clearTimeout(this.draftSaveTimeout),this.draftSaveTimeout=setTimeout((function(){return t.savePendingDraft()}),n)}},{key:"savePendingDraft",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(this.draftSaveTimeout),t=Object.assign({},this._pendingDraft),this._pendingDraft={},e.next=5,this.getDraftAssert();case 5:return"allowedRoles"in(n=e.sent)&&(n.allowedRoles=[]),i=T(n,t),!t.banner&&t.uploadedImage&&(i.banner=void 0),!t.badge&&t.uploadedBadge&&(i.badge=void 0),e.next=12,this.storeDraft(i);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"storeDraft",value:function(e){return Object(g.a)(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userStorage.setItem("MingaChallengeDraft",e);case 2:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||R)(s["\u0275\u0275inject"](E.a),s["\u0275\u0275inject"](D.b))},R.\u0275prov=s["\u0275\u0275defineInjectable"]({token:R,factory:R.\u0275fac,providedIn:"root"}),R),z=r("vaq4"),F=r("lkjj"),N=r("xLF2"),U=r("UCUv"),q=r("V3cZ"),G=r("+/Hu"),$=((j=function(){function e(t,n){var i=this;p(this,e),this.mentionsService=t,this.router=n,this.overlayClose=new s.EventEmitter,this.mentionsSub=N.a.onMentionClicked.subscribe((function(e){i.mentionsService.getMentionable(e.hash).subscribe((function(e){e&&"group"===e.type?i.router.navigate([{outlets:{o:null}}]).then((function(){return Object(U.c)(i.router,e.hash)})):"person"==(null==e?void 0:e.type)&&i.router.navigate(["",{outlets:{o:null}}]).then((function(){return Object(g.a)(i,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.router.navigate(["/profile",e.hash]);case 2:case"end":return t.stop()}}),t,this)})))}))})).unsubscribe()}))}return u(e,[{key:"ngOnInit",value:function(){q.a.hide()}},{key:"close",value:function(){this.overlayClose.emit()}},{key:"ngOnDestroy",value:function(){this.mentionsSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||j)(s["\u0275\u0275directiveInject"](G.b),s["\u0275\u0275directiveInject"](d.g))},j.\u0275dir=s["\u0275\u0275defineDirective"]({type:j,outputs:{overlayClose:"overlayClose"}}),j),Q=r("Fudl"),Y=r("olC0"),J=["*"],W=[[["mg-challenge-overlay-title"]],"*",[["mg-challenge-overlay-footer"]]],K=["mg-challenge-overlay-title","*","mg-challenge-overlay-footer"],X=((V=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||V)},V.\u0275cmp=s["\u0275\u0275defineComponent"]({type:V,selectors:[["mg-challenge-overlay-title"]],ngContentSelectors:J,decls:1,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275projection"](0))},styles:[""],changeDetection:0}),V),Z=((H=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||H)},H.\u0275cmp=s["\u0275\u0275defineComponent"]({type:H,selectors:[["mg-challenge-overlay-footer"]],ngContentSelectors:J,decls:1,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275projection"](0))},styles:["[_nghost-%COMP%]{border-top:1px solid #707070;padding:8px 10%;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center}@media (max-width:1140px){[_nghost-%COMP%]{width:100%;padding:8px 16px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{height:100%}}"],changeDetection:0}),H),ee=((B=function(e){a(n,e);var t=l(n);function n(e,i){var o;return p(this,n),(o=t.call(this,e,i)).mentionsService=e,o.router=i,o}return u(n)}($)).\u0275fac=function(e){return new(e||B)(s["\u0275\u0275directiveInject"](G.b),s["\u0275\u0275directiveInject"](d.g))},B.\u0275cmp=s["\u0275\u0275defineComponent"]({type:B,selectors:[["mg-challenge-overlay"]],features:[s["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:K,decls:11,vars:1,consts:[[1,"overlay-container"],[1,"overlay"],[1,"header"],[1,"close-icon",3,"click"],[1,"end-fill"],[1,"content-wrap",3,"mgScrollTarget"],[1,"footer"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](W),s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"mg-icon",3),s["\u0275\u0275listener"]("click",(function(){return t.close()})),s["\u0275\u0275text"](4,"close"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275projection"](5),s["\u0275\u0275element"](6,"div",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",5),s["\u0275\u0275projection"](8,1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",6),s["\u0275\u0275projection"](10,2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("mgScrollTarget",!0))},directives:[Q.a,Y.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;background-color:#1c2f59;color:#fff;height:100vh;width:100%;--overlay-border-radius:20px}.overlay-container[_ngcontent-%COMP%]{height:90vh;width:90vw;margin:0 auto;padding:32px 0;position:relative}.overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{height:100%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:stretch}.overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;z-index:1000;top:4px;background-color:#c66b83;border-radius:var(--overlay-border-radius,6px) var(--overlay-border-radius,6px) 0 0;color:#fff;display:flex;align-items:center;justify-content:space-between;padding:12px}.overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{padding:10px 22px;cursor:pointer}.overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]{flex-grow:1;height:100%;background:#f4f4f4;color:#036;display:flex;flex-direction:column;justify-content:space-between;overflow-y:auto;overflow-x:hidden}.overlay-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{background:#f4f4f4;color:#036;width:100%;z-index:1000;border-radius:0 0 var(--overlay-border-radius,6px) var(--overlay-border-radius,6px)}@media (max-width:1140px){.overlay-container[_ngcontent-%COMP%]{height:100%;width:100%;padding:0;--overlay-border-radius:0}.overlay-container[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]{padding:0 8px;overflow-y:inherit}}@media (max-height:900px) and (min-width:1140px){.overlay-container[_ngcontent-%COMP%]{height:100%;width:100%;padding:0;--overlay-border-radius:0}.overlay-container[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]{padding:0 8px;overflow-y:inherit}}"]}),B),te=((A=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||A)},A.\u0275cmp=s["\u0275\u0275defineComponent"]({type:A,selectors:[["mg-challenge-logo"]],decls:1,vars:0,consts:[[1,"logo"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0)},styles:["[_nghost-%COMP%]{display:inline-block;height:39px;width:216px}.logo[_ngcontent-%COMP%]{background-image:url(/assets/challenges/CC-logo.png);background-repeat:no-repeat;background-size:contain;height:inherit;width:inherit}"]}),A),ne=r("SVse"),ie=r("s7LF"),oe=r("Q2Ze"),ae=r("i1AJ"),re=r("8p1t"),le=r("QSFu"),ce=r("9sQ6"),se=r("ifhk"),de=r("pMoy"),ue=r("WNdF"),pe=r("VDRc"),ge=r("eQq5"),he=r("Hp2Z"),me=r("rs8O"),fe=r("o1f5"),ve=r("nbn/"),Ce=r("tcBv"),xe=r("w8an"),be=r("TSSN"),ye=["form"],we=["uploadTab"],Pe=["bannersTab"],Oe=["uploadBadgeTab"],Me=["badgeTab"],_e=["fileInputUpload"],Ie=["badgeInputUpload"];function Se(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",40),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" Create a new ",n.challengeTypeString," challenge ")}}function ke(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",40),s["\u0275\u0275text"](1," Edit challenge "),s["\u0275\u0275elementEnd"]())}function Ee(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-hint",41),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.challengeTitle.length," / 150 ")}}var De=function(){return{value:"A headline"}};function Te(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind2"](2,1,"input.generic.error.required",s["\u0275\u0275pureFunction0"](4,De))," "))}var Re=function(){return{value:"Headline"}};function je(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind2"](2,1,"input.generic.error.maxlength",s["\u0275\u0275pureFunction0"](4,Re))," "))}function Ae(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-points-selector",42),s["\u0275\u0275listener"]("pointsClick",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onPointsChange(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("title","Points awarded to people who respond to this challenge")("selectedPoints",i.points)}}function Be(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mg-file-input-upload",43,44),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onFileUpload(e)}))("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().uploadedImage=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("file-uploaded",!!i.uploadedImage),s["\u0275\u0275property"]("showFileDetails",!1)("fallback",i.uploadedImage)("ngModel",i.uploadedImage)}}var He=function(){return{standalone:!0}};function Ve(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mg-banner-category-select",45),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().bannerCategories=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"mg-challenge-banner-library-stream",46),s["\u0275\u0275listener"]("selectedBannerChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onBannerSelected(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("allowDeselect",!0)("ngModelOptions",s["\u0275\u0275pureFunction0"](6,He))("ngModel",i.bannerCategories),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("categories",i.bannerCategories)("selectedAssetId",i.selectedBanner)("initialBannerAsset",i.initialBanner)}}function Le(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mg-file-input-upload",47,48),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onBadgeUpload(e)}))("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().uploadedBadge=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("badge-uploaded",!!i.uploadedBadge),s["\u0275\u0275property"]("showFileDetails",!1)("fallback",i.uploadedBadge)("ngModel",i.uploadedBadge)}}function ze(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mg-challenge-banner-library-stream",49),s["\u0275\u0275listener"]("selectedBannerChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onBadgeSelected(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("selectedAssetId",i.selectedBadge)("initialBannerAsset",i.initialBadge)}}var Fe,Ne,Ue,qe,Ge=((Fe=function(e){a(n,e);var t=l(n);function n(e,i,o,a,r,l){var c;return p(this,n),(c=t.call(this,e,i,a)).router=e,c.challengesRouteService=o,c.challengeDraftService=a,c.pointsManager=r,c.rolesService=l,c.bannerCategories=[],c.challengeTitle="",c.challengeBody="",c.dueDate=null,c.uploadedImage="",c.selectedBanner=null,c.initialBanner=null,c.uploadedBadge="",c.selectedBadge=null,c.initialBadge=null,c.points=0,c.isApprovalRequired=!1,c.public=!1,c.semiPrivate=!1,c.contentHash="",c.private=!1,c.allowComments=!1,c.availableResponseRoles=[],c.allowedRoles=[],c.initialAllowedRoles=[],c.allResponseRolesSelected=!1,c.isLoadingRoles=!0,c.initRoles(),c.initDraft(),c.availableResponseRoles$=c.rolesService.availableCommentPermitableRoles$.pipe(Object(M.a)((function(e){var t=e.map((function(e){return{disabled:e.immutableCommentPermittable,name:e.name,roleType:e.roleType,get tooltip(){return""}}}));return c.availableResponseRoles=t,t}))),c.canAllocateContentPoints$=c.pointsManager.getCanCurrentUserAllocatePointsObs(),c}return u(n,[{key:"challengeTypeString",get:function(){switch(this.challengeType){case w.ChallengeType.TEXT:return"written";case w.ChallengeType.IMAGE:return"photo";case w.ChallengeType.VIDEO:return"video"}return""}},{key:"ngOnInit",value:function(){this.initialAllowedRoles.length&&(this.isLoadingRoles=!1,this.initSelectedRoles())}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.availableResponseRolesSub)||void 0===e||e.unsubscribe()}},{key:"initDraft",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDraft();case 2:(t=e.sent)&&(this.challengeTitle=t.title,this.challengeBody=t.body,this.allowComments=t.commentsAllowed,this.dueDate=t.dueDate||null,this.uploadedImage=t.uploadedImage||"",this.selectedBanner=t.banner||null,this.initialBanner=t.banner||null,this.uploadedBadge=t.uploadedBadge||"",this.selectedBadge=t.badge||null,this.initialBadge=t.badge||null,this.allResponseRolesSelected=t.allRolesSelected||!1,this.isApprovalRequired=t.requiresApproval||!1,this.initialAllowedRoles=t.allowedRoles||[],this.uploadTab&&this.uploadedImage?this.uploadTab.selectTab():this.bannersTab&&this.bannersTab.selectTab(),this.uploadBadgeTab&&this.uploadedBadge?this.uploadBadgeTab.selectTab():this.badgeTab&&this.badgeTab.selectTab(),this.contentHash=t.contentHash||"",t.privacy&&(t.privacy==w.ChallengePrivacy.PRIVATE?this.private=!0:t.privacy==w.ChallengePrivacy.SEMIPRIVATE?this.semiPrivate=!0:this.public=!0),this.challengeType=t.type,this.points=t.points,this.isLoadingRoles&&this.initSelectedRoles());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"initRoles",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rolesService.fetchIfNeeded();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initSelectedRoles",value:function(){var e=this;this.availableResponseRolesSub=this.availableResponseRoles$.subscribe((function(t){e.availableResponseRoles=t,e.allowedRoles=e.initialAllowedRoles.length?e.initialAllowedRoles:["STUDENT","STUDENT_LEADER","OWNER","MANAGER","DISTRICT_MANAGER"]}))}},{key:"onFileUpload",value:function(e){this.uploadedImage=window.MINGA_ASSET_URL_PREFIX+e,this.selectedBanner=null,this.updateDraft()}},{key:"onBannerSelected",value:function(e){e&&(this.selectedBanner=e,this.uploadedImage="",this.updateDraft())}},{key:"onBadgeUpload",value:function(e){this.uploadedBadge=window.MINGA_ASSET_URL_PREFIX+e,this.selectedBadge=null,this.updateDraft()}},{key:"onBadgeSelected",value:function(e){e&&(this.selectedBadge=e,this.uploadedBadge="",this.updateDraft())}},{key:"onOverlayClose",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.challengeDraftService.cancelDraft();case 2:if(!this.contentHash){e.next=7;break}return e.next=5,this.router.navigateByUrl("");case 5:e.next=8;break;case 7:this.challengesRouteService.returnFromChallenges();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"goBack",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.challengeDraftService.cancelDraft();case 2:if(!this.contentHash){e.next=7;break}return e.next=5,this.router.navigateByUrl("");case 5:e.next=9;break;case 7:return e.next=9,this.navigatePrevious();case 9:case"end":return e.stop()}}),e,this)})))}},{key:"nextButtonEnabled",value:function(){var e;return!(null===(e=this.form)||void 0===e?void 0:e.invalid)&&(this.private||this.semiPrivate||this.public)}},{key:"onPublicChange",value:function(){this.semiPrivate=!1,this.private=!1,this.updateDraft()}},{key:"onSemiPrivateChange",value:function(){this.public=!1,this.private=!1,this.updateDraft()}},{key:"onPrivateChange",value:function(){this.public=!1,this.semiPrivate=!1,this.updateDraft()}},{key:"onPointsChange",value:function(e){this.points=e,this.updateDraft()}},{key:"onApprovalChange",value:function(){this.updateDraft()}},{key:"onToggleAll",value:function(e){var t=this;this.availableResponseRoles&&(this.availableResponseRoles.forEach((function(n){if(e&&!t.allowedRoles.includes(n.roleType))t.allowedRoles.push(n.roleType),t.allowedRoles=t.allowedRoles.slice();else if(!e&&t.allowedRoles.includes(n.roleType)){if(n.disabled)return;t.allowedRoles=t.allowedRoles.filter((function(e){return e!==n.roleType}))}})),this.updateDraft())}},{key:"onSelectedRolesChange",value:function(e){e.length&&(this.allowedRoles=e,this.allResponseRolesSelected=e.length===this.availableResponseRoles.length,this.updateDraft())}},{key:"_getPendingDraft",value:function(){var e=w.ChallengePrivacy.PUBLIC;this.private?e=w.ChallengePrivacy.PRIVATE:this.semiPrivate&&(e=w.ChallengePrivacy.SEMIPRIVATE);var t={title:this.challengeTitle,body:this.challengeBody,privacy:e,commentsAllowed:this.allowComments,type:this.challengeType,points:this.points,allowedRoles:this.allowedRoles||[],allRolesSelected:this.allResponseRolesSelected,requiresApproval:this.isApprovalRequired};return this.dueDate&&(t.dueDate=this.dueDate),this.uploadedImage&&(t.uploadedImage=this.uploadedImage),this.selectedBanner&&(t.banner=this.selectedBanner),this.uploadedBadge&&(t.uploadedBadge=this.uploadedBadge),this.selectedBadge&&(t.badge=this.selectedBadge),t}},{key:"updateDraft",value:function(){var e=this._getPendingDraft();this.challengeDraftService.saveDraftDelayed(e)}},{key:"onNextClick",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getPendingDraft(),e.next=3,this.challengeDraftService.saveDraft(t);case 3:return e.next=5,this.navigateNext();case 5:case"end":return e.stop()}}),e,this)})))}}]),n}(_)).\u0275fac=function(e){return new(e||Fe)(s["\u0275\u0275directiveInject"](d.g),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](I.a),s["\u0275\u0275directiveInject"](L),s["\u0275\u0275directiveInject"](z.b),s["\u0275\u0275directiveInject"](F.a))},Fe.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Fe,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&(s["\u0275\u0275viewQuery"](ye,3),s["\u0275\u0275viewQuery"](we,3),s["\u0275\u0275viewQuery"](Pe,3),s["\u0275\u0275viewQuery"](Oe,3),s["\u0275\u0275viewQuery"](Me,3),s["\u0275\u0275viewQuery"](_e,1),s["\u0275\u0275viewQuery"](Ie,1)),2&e&&(s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.form=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.uploadTab=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.bannersTab=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.uploadBadgeTab=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.badgeTab=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.fileInputUpload=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.badgeInputUpload=n.first))},features:[s["\u0275\u0275InheritDefinitionFeature"]],decls:74,vars:31,consts:[[3,"overlayClose"],[1,"content"],[1,"header-content"],["class","title-text",4,"ngIf"],[1,"divider"],[1,"mg-bodycopy"],["form","ngForm"],[1,"left-col"],["mgFormField","","floatLabel","always"],["mgMentionable2","inline","allowedTags","mg-mention","name","challengeTitle","autocomplete","off","required","true",1,"headline",3,"required","multiline","maxlength","ngModel","ngModelChange"],["challengeHeadlineInput","ngModel"],["align","end",4,"ngIf"],[4,"ngIf"],["name","challengeBody","placeholder","Description","float","always","required","true","requiredMessage","A description is required","align","flex-start","minHeight","100px",1,"form-input-hpadding",3,"richContent","maxlength","ngModel","ngModelChange"],["name","dueDate","datePlaceholder","Due Date","dateOnly","true","required","true",1,"span-two",3,"hideOptionalMarker","canReset","ngModel","ngModelChange"],[3,"title","selectedPoints","pointsClick",4,"ngIf"],[1,"component-divider"],[1,"role-select-header"],[1,"role-select-title"],["name","toggleAllRoles",3,"ngModel","ngModelChange","change"],["reduceFlexBasis","true",3,"roles","selectedRoles","selectedRolesChange"],[1,"approval-setting"],[1,"approval-title"],["name","approvalRequired",3,"ngModel","ngModelChange","change"],[1,"right-col"],[1,"form-section"],["fxLayout","row","fxLayoutAlign","start center"],[1,"file-input-title"],[3,"activeTab","activeTabChange"],["challengePhotoTabs",""],["uploadTab",""],["bannersTab",""],["challengeBadgeTabs",""],["uploadBadgeTab",""],["badgeTab",""],[1,"left-footer-container",3,"click"],["icon","back"],[1,"back-btn"],[1,"right-footer-container"],["mgBubbleBtn","",1,"mg-bodycopy","next-button",3,"disabled","click"],[1,"title-text"],["align","end"],[3,"title","selectedPoints","pointsClick"],["accept","image/*","customTitleText","Upload A Photo","previewAspectRatio","2:1","name","bannerUpload",3,"showFileDetails","fallback","ngModel","ngModelChange"],["fileInputUpload",""],["disableStatCount","true",3,"allowDeselect","ngModelOptions","ngModel","ngModelChange"],["type","CHALLENGE_HEADER",3,"categories","selectedAssetId","initialBannerAsset","selectedBannerChange"],["accept","image/*","customTitleText","Upload A Badge Photo","customBottomText","Design Tip: Use a png with a transparent background for the best badges!","previewAspectRatio","2:1","name","badgeUpload",3,"showFileDetails","fallback","ngModel","ngModelChange"],["badgeInputUpload",""],["type","BADGE",3,"selectedAssetId","initialBannerAsset","selectedBannerChange"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mg-challenge-overlay",0),s["\u0275\u0275listener"]("overlayClose",(function(){return t.onOverlayClose()})),s["\u0275\u0275elementStart"](1,"mg-challenge-overlay-title"),s["\u0275\u0275element"](2,"mg-challenge-logo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"div",2),s["\u0275\u0275template"](5,Se,2,1,"div",3),s["\u0275\u0275template"](6,ke,2,0,"div",3),s["\u0275\u0275element"](7,"div",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"form",5,6),s["\u0275\u0275elementStart"](10,"div",7),s["\u0275\u0275elementStart"](11,"mat-form-field",8),s["\u0275\u0275elementStart"](12,"mat-label"),s["\u0275\u0275text"](13,"Headline"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"mg-textarea",9,10),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.challengeTitle=e}))("ngModelChange",(function(){return t.updateDraft()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](16,Ee,2,1,"mat-hint",11),s["\u0275\u0275template"](17,Te,3,5,"mat-error",12),s["\u0275\u0275template"](18,je,3,5,"mat-error",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"mg-body-input",13),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.challengeBody=e}))("ngModelChange",(function(){return t.updateDraft()})),s["\u0275\u0275pipe"](20,"hasPermission"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"mg-date-time-picker",14),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.dueDate=e}))("ngModelChange",(function(){return t.updateDraft()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](22,Ae,1,2,"mg-points-selector",15),s["\u0275\u0275pipe"](23,"async"),s["\u0275\u0275element"](24,"hr",16),s["\u0275\u0275elementStart"](25,"div",17),s["\u0275\u0275elementStart"](26,"p",18),s["\u0275\u0275text"](27,"Who can respond to this challenge"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"mat-checkbox",19),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.allResponseRolesSelected=e}))("change",(function(e){return t.onToggleAll(e.checked)})),s["\u0275\u0275text"](29," All "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"mg-multi-select-role",20),s["\u0275\u0275listener"]("selectedRolesChange",(function(e){return t.onSelectedRolesChange(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](31,"hr",16),s["\u0275\u0275elementStart"](32,"div",21),s["\u0275\u0275elementStart"](33,"div",22),s["\u0275\u0275text"](34,"Responses require approval"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"mat-checkbox",23),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.isApprovalRequired=e}))("change",(function(){return t.onApprovalChange()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"div",24),s["\u0275\u0275elementStart"](37,"div",25),s["\u0275\u0275elementStart"](38,"div",26),s["\u0275\u0275elementStart"](39,"div",27),s["\u0275\u0275text"](40,"Pick a Challenge Image"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](41,"mg-tab-group-header",28,29),s["\u0275\u0275listener"]("activeTabChange",(function(e){return t.activeTab=e})),s["\u0275\u0275elementStart"](43,"mg-tab-group-header-item",null,30),s["\u0275\u0275text"](45," Upload "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](46,"mg-tab-group-header-item",null,31),s["\u0275\u0275text"](48," Stock "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](49,Be,3,5,"ng-container",12),s["\u0275\u0275template"](50,Ve,3,7,"ng-container",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](51,"hr",16),s["\u0275\u0275elementStart"](52,"div",25),s["\u0275\u0275elementStart"](53,"div",26),s["\u0275\u0275elementStart"](54,"div",27),s["\u0275\u0275text"](55,"Add A Badge"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](56,"mg-tab-group-header",28,32),s["\u0275\u0275listener"]("activeTabChange",(function(e){return t.activeBadgeTab=e})),s["\u0275\u0275elementStart"](58,"mg-tab-group-header-item",null,33),s["\u0275\u0275text"](60," Upload "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](61,"mg-tab-group-header-item",null,34),s["\u0275\u0275text"](63," Stock "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](64,Le,3,5,"ng-container",12),s["\u0275\u0275template"](65,ze,2,2,"ng-container",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](66,"mg-challenge-overlay-footer"),s["\u0275\u0275elementStart"](67,"div",35),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementStart"](68,"mg-button-icon",36),s["\u0275\u0275elementStart"](69,"span",37),s["\u0275\u0275text"](70,"Back"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](71,"div",38),s["\u0275\u0275elementStart"](72,"button",39),s["\u0275\u0275listener"]("click",(function(){return t.onNextClick()})),s["\u0275\u0275text"](73," Next "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275reference"](15),i=s["\u0275\u0275reference"](44),o=s["\u0275\u0275reference"](47),a=s["\u0275\u0275reference"](59),r=s["\u0275\u0275reference"](62);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",!t.contentHash),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.contentHash),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("required",!0)("multiline",!1)("maxlength",150)("ngModel",t.challengeTitle),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.challengeTitle),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.control||null==n.control.errors?null:n.control.errors.required),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.control||null==n.control.errors?null:n.control.errors.maxlength),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("richContent",s["\u0275\u0275pipeBind1"](20,27,"CONTENT_HTML_INCLUDE"))("maxlength",5e3)("ngModel",t.challengeBody),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("hideOptionalMarker",!0)("canReset",!0)("ngModel",t.dueDate),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](23,29,t.canAllocateContentPoints$)),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.allResponseRolesSelected),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("roles",t.availableResponseRoles)("selectedRoles",t.allowedRoles),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.isApprovalRequired),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("activeTab",t.activeTab),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",t.activeTab===i),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.activeTab===o||!t.activeTab),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("activeTab",t.activeBadgeTab),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",t.activeBadgeTab===a),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.activeBadgeTab===r||!t.activeBadgeTab),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("disabled",!t.nextButtonEnabled())}},directives:[ee,X,te,ne.o,ie.E,ie.u,ie.v,oe.d,ae.a,oe.h,re.a,le.a,ie.B,ie.n,ie.t,ie.w,ce.a,se.a,de.a,ue.a,pe.e,pe.d,ge.a,ge.b,Z,he.a,oe.g,oe.c,me.a,fe.a,ve.a,Ce.a],pipes:[xe.a,ne.b,be.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.title-text[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Muli,sans-serif;line-height:1.35;margin-top:32px}@media (orientation:landscape){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vh}}@media (orientation:portrait){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vw}}@media (orientation:landscape) and (max-height:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (orientation:portrait) and (max-width:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (min-width:439.875px){.title-text[_ngcontent-%COMP%]{font-size:29.92px}}@media (max-width:1140px){.title-text[_ngcontent-%COMP%]{margin-top:16px}}.divider[_ngcontent-%COMP%]{width:165px;border-top:6px solid #b2b2b2;margin:auto}[_nghost-%COMP%]{--mg-form-input-border-width:1px}.padded-center-content[_ngcontent-%COMP%]{padding:0 10%}@media (max-width:1140px){.padded-center-content[_ngcontent-%COMP%]{padding:0}}.content[_ngcontent-%COMP%]{flex-direction:column;position:relative;text-align:center}form[_ngcontent-%COMP%]{text-align:left;display:flex;flex-direction:row;justify-content:center;row-gap:16px}form[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .right-col[_ngcontent-%COMP%]{flex-basis:40%;max-width:40%;margin-left:20px;margin-right:20px}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:22px}@media (max-width:1140px){form[_ngcontent-%COMP%]{flex-direction:column}form[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .right-col[_ngcontent-%COMP%]{max-width:none}}.headline[_ngcontent-%COMP%]{font-size:26px}.challenge-options-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(-webkit-min-content,1fr));grid-template-columns:repeat(2,minmax(min-content,1fr));column-gap:22px;align-items:start}.challenge-options-container[_ngcontent-%COMP%]   .span-two[_ngcontent-%COMP%]{grid-column:1/span 2}.challenge-options-container[_ngcontent-%COMP%]   .slide-toggle-section[_ngcontent-%COMP%]{min-width:200px}@media (max-width:599px){.challenge-options-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.challenge-options-container[_ngcontent-%COMP%]   .span-two[_ngcontent-%COMP%]{grid-column:1}}mg-button-icon[_ngcontent-%COMP%]     button{display:flex;align-items:center}mg-button-icon[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-left:8px}mg-points-selector[_ngcontent-%COMP%]{margin-bottom:15px}.next-button[_ngcontent-%COMP%]{padding:1em 4.1em;cursor:pointer;border-radius:2.5em}@media (max-width:599px){.next-button[_ngcontent-%COMP%]{font-size:14px;padding:1.2em 3em}}.header-content[_ngcontent-%COMP%]{margin-bottom:2em}@media (max-width:1140px){.header-content[_ngcontent-%COMP%]{margin-bottom:16px}}mg-banner-category-select[_ngcontent-%COMP%]{font-size:10px}mg-tab-group-header[_ngcontent-%COMP%]{justify-content:flex-start}mg-file-input-upload[_ngcontent-%COMP%]{overflow:hidden;height:7em;margin-top:5px;--mg-file-input-drop-info-height:10em;--mg-file-input-drop-info-display:flex;--mg-file-input-drop-info-align:center;--mg-file-input-drop-info-icon-margin:0 20px 0 0;--mg-file-input-icon-size-desktop:5em;--mg-file-input-icon-size-mobile:4em;--mg-file-input-sub-text-align:left;--mg-file-progress-spinner-position-top:30%}.file-uploaded[_ngcontent-%COMP%]{height:16em}.badge-uploaded[_ngcontent-%COMP%]{height:12em}.component-divider[_ngcontent-%COMP%]{color:#707070;margin:15px 0}.file-input-title[_ngcontent-%COMP%]{margin-right:10px}.role-select-header[_ngcontent-%COMP%]{display:flex;margin:10px 0}.role-select-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin:0 15px 0 0}mg-multi-select-role[_ngcontent-%COMP%]{--mg-multi-select-role-font-size:15px;--mg-multi-select-role-layout-flex:0 1 25%}.approval-setting[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin:15px 0}.approval-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin-right:15px}']}),Fe),$e=r("u9T3"),Qe=r("jMqV"),Ye=r("CO6v"),Je=r("mP6D"),We=((Ne=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||Ne)},Ne.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Ne}),Ne.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[ne.c]]}),Ne),Ke=r("rJgo"),Xe=r("ls3q"),Ze=r("c4Ft"),et=((Ue=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||Ue)},Ue.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Ue}),Ue.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Ye.a,Xe.a,Ze.a,ne.c,d.k,Ke.c]]}),Ue),tt=r("+0Zl"),nt=r("p+4T"),it=r("pu9B"),ot=r("V5YL"),at=r("EBcp"),rt=r("SOT1"),lt=r("HxU+"),ct=r("ppIK"),st=r("Vwx4"),dt=r("Ogcz"),ut=r("WmLq"),pt=r("37Vl"),gt=((qe=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||qe)},qe.\u0275mod=s["\u0275\u0275defineNgModule"]({type:qe}),qe.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Ye.a,st.b,Xe.a,et,We,ct.a,at.a,dt.b,lt.a,G.a,rt.a,Je.a,tt.a,nt.a,ot.a,it.a,ut.a,pt.a,ne.c,d.k,oe.f,de.b,Qe.b,ie.m,$e.a,be.c]]}),qe),ht=r("+dib"),mt=r("zTy+"),ft=r("4doY"),vt=r("5Jf8"),Ct=r("4Zvv"),xt=r("WH00"),bt=r("9szt"),yt=r("G1e9"),wt=r("YgQ7"),Pt=r("M4qg"),Ot=r("4avL"),Mt=["challengeSuccessOverlayTemplate"];function _t(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",1),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().closeInner()})),s["\u0275\u0275elementStart"](1,"div",2),s["\u0275\u0275elementStart"](2,"mg-icon"),s["\u0275\u0275text"](3,"challenges-o"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"div",3),s["\u0275\u0275elementStart"](5,"div",4),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().gotoChallengeInvites()})),s["\u0275\u0275elementStart"](6,"mg-button",5),s["\u0275\u0275text"](7,"Invite"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("innerHTML",i.text,s["\u0275\u0275sanitizeHtml"])}}var It,St,kt=((St=function(){function e(t,n,i,o,a){p(this,e),this.dialogRef=t,this.data=n,this.modalService=i,this.router=o,this._peopleSelector=a,this.text="Challenge Created!",n.text&&(this.text=n.text),n.challengeId?this.challengeId=n.challengeId:(console.error("[ChallengeSuccessDialog] missing required challenge context id!"),this.close(),this.closeInner())}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.dialogRef.afterClosed().subscribe((function(){e.showDialog()})),this.close()}},{key:"showDialog",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.challengeSuccessOverlayTemplate){e.next=2;break}throw new Error("this.challengeSuccessOverlayTemplate unset");case 2:this.innerDialogRef=this.modalService.open(this.challengeSuccessOverlayTemplate,{full:!0,animation:"fade",backgroundColor:"rgba(28, 47, 89,0.95)"}),setTimeout((function(){return t.closeInner()}),5e3);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"close",value:function(){this.dialogRef.close()}},{key:"closeInner",value:function(){this.innerDialogRef&&this.innerDialogRef.close()}},{key:"gotoChallengeInvites",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._peopleSelector.open("Challenge","invite",{data:{contextHash:this.challengeId}});case 2:this.closeInner();case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||St)(s["\u0275\u0275directiveInject"](D.g),s["\u0275\u0275directiveInject"](D.a),s["\u0275\u0275directiveInject"](wt.b),s["\u0275\u0275directiveInject"](d.g),s["\u0275\u0275directiveInject"](Pt.PeopleSelectorService))},St.\u0275cmp=s["\u0275\u0275defineComponent"]({type:St,selectors:[["mg-pending-invitations-dialog"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275viewQuery"](Mt,3),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.challengeSuccessOverlayTemplate=n.first)},decls:2,vars:0,consts:[["challengeSuccessOverlayTemplate",""],[1,"success-overlay",3,"click"],[1,"content-wrap"],[1,"text","mg-headline",3,"innerHTML"],[1,"button-wrap",3,"click"],["mgBubbleBtn","",1,"mg-headline"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,_t,8,1,"ng-template",null,0,s["\u0275\u0275templateRefExtractor"])},directives:[Q.a,Ot.a],styles:["[_nghost-%COMP%]{display:block;width:100%;text-align:center}.success-overlay[_ngcontent-%COMP%]{height:100%;text-align:center;position:relative;cursor:pointer}.success-overlay[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:104px;color:#c66b83}.success-overlay[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]{position:absolute;top:25%;left:50%;transform:translateY(-50%) translateX(-50%)}.invite-icon[_ngcontent-%COMP%]{background-image:url(/assets/event/event-invited.svg);background-repeat:no-repeat;width:75px;height:75px;margin:0 auto 13px}.text[_ngcontent-%COMP%]{color:#fff;margin:39px auto 0}.button-wrap[_ngcontent-%COMP%]{--mg-button-border-radius:2em;--mg-button-padding-horz:3em;padding:39px 20px 20px}mg-button[_ngcontent-%COMP%]{--mg-button-color:#c66b83;--mg-button-padding-horz:4em}"]}),St),Et=((It=function(){function e(t){p(this,e),this.matDialog=t}return u(e,[{key:"open",value:function(e){return this.matDialog.open(kt,Object.assign({},e))}}]),e}()).\u0275fac=function(e){return new(e||It)(s["\u0275\u0275inject"](D.b))},It.\u0275prov=s["\u0275\u0275defineInjectable"]({token:It,factory:It.\u0275fac,providedIn:"root"}),It),Dt=r("GFah"),Tt=r("Nxoj"),Rt=r("o4Yh"),jt=r("MAbt"),At=r("A2eb"),Bt=r("chTD");function Ht(e,t){if(1&e&&s["\u0275\u0275element"](0,"mg-challenge-short-card",15),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("content",n.previewContent)("color",n.previewContent.color)}}var Vt,Lt,zt,Ft,Nt=((Vt=function(n){a(r,n);var i=l(r);function r(e,t,n,o,a,l,s,d,u,g){var h,m;if(p(this,r),(h=i.call(this,n,o,t)).challengesRouteService=e,h.challengeDraftService=t,h.router=n,h.contentEvents=a,h._cdr=l,h.challengeProto=s,h.contentModerationInterstitial=d,h.challengeSuccessDialog=u,h.rootService=g,h.loaded=!1,h.previewContent={title:"",body:"",challengeType:"photo",color:w.ChallengeColor.RED,likeCount:0,commentCount:0,commentList:[],ownerGroupHash:"",contentHash:"",totalCommentCount:0,pinned:!1,timestamp:0,unpublishTimestamp:0,cloudflareVideoUrl:"",cloudflareUid:"",cloudflareReady:!1,allowedCommentingRoleTypesList:[],commentsAllowed:!0,hasResponded:!1,privacy:w.ChallengePrivacy.PUBLIC,respondedPeopleCount:0,responsesSummaryList:[],points:0,allowedRolesList:[],invitePeopleCount:0,inviteResponseCount:0,requiresApproval:!1,hasLiked:!1},h._publishInfo={},h.publishDate=null,h.unpublishDate=null,h.pinned=!1,h.pinDays=1,h.endPinDate=null,h.selectedColor="",h.publishInfoEditComponents=[],h.colorList={$implicit:["#cf244e","#dc924b","#d1ae16","#47b3a9","#335ebc","#6248b5"]},h.hexToChallengeClr=new Map([["#cf244e",w.ChallengeColor.RED],["#dc924b",w.ChallengeColor.ORANGE],["#d1ae16",w.ChallengeColor.YELLOW],["#47b3a9",w.ChallengeColor.GREEN],["#335ebc",w.ChallengeColor.BLUE],["#6248b5",w.ChallengeColor.PURPLE]]),h.challengeClrToHex=new Map([[w.ChallengeColor.RED,"#cf244e"],[w.ChallengeColor.ORANGE,"#dc924b"],[w.ChallengeColor.YELLOW,"#d1ae16"],[w.ChallengeColor.GREEN,"#47b3a9"],[w.ChallengeColor.BLUE,"#335ebc"],[w.ChallengeColor.PURPLE,"#6248b5"]]),!o.snapshot.data.routeData)throw new Error("No route data");return h.routeData=o.snapshot.data.routeData,h.contentHash=h.routeData.contentHash,h.publishInfoEditComponentType=null===(m=h.routeData.contentManager)||void 0===m?void 0:m.getPublishInfoEditComponent(),h.initDraft(),c(h)}return u(r,[{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){return e.initPublishInfo()}),0)}},{key:"initPublishInfo",value:function(){var e;return Object(g.a)(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.routeData.contentHash){t.next=5;break}return t.next=3,null===(e=this.routeData.contentManager)||void 0===e?void 0:e.getPublishInfo(this.routeData.contentHash);case 3:(n=t.sent)&&this.setPublishInfo(n),this._cdr.markForCheck();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"initDraft",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t,n,i,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDraft();case 2:(t=e.sent)&&(this.draft=t,this.previewContent.title=t.title,this.previewContent.body=t.body,this.previewContent.challengeType=t.type,this.previewContent.color=t.color||w.ChallengeColor.RED,this.previewContent.allowedRolesList=t.allowedRoles,this.selectedColor=this.challengeClrToHex.get(t.color)||"#cf244e",t.dueDate&&t.dueDate.getFullYear&&(//! This line errors out occasionally and the user must hard refresh
this.previewContent.dueDate=Object(ht.c)(t.dueDate).toObject()),t.banner?this.previewContent.featuredImage=t.banner.image:t.uploadedImage&&(n=new vt.ImageInfo,i=n.getSizeMap(),(a=new vt.ImageSize).setPath(t.uploadedImage),a.setHeight(400),a.setWidth(700),i.set("raw",a),this.previewContent.featuredImage=n.toObject()),r=!1,void 0!==t.publishDate&&(this._publishInfo.publishDate=t.publishDate,r=!0),void 0!==t.unpublishDate&&(this._publishInfo.unpublishDate=t.unpublishDate,r=!0),void 0!==t.endPinDate&&(this._publishInfo.endPinDate=t.endPinDate,r=!0),r&&this.setPublishInfo(this._publishInfo),this.loaded=!0,this._cdr.markForCheck());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onClickBack",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.draft){e.next=14;break}return e.next=3,this.challengeDraftService.getDraftType(this.draft);case 3:if(n=e.sent,i=n.toLowerCase(),a=this.routeData.previousPath,n==w.ChallengeType.IMAGE&&(i="photo"),!this.draft.contentHash){e.next=12;break}return e.next=10,this.router.navigate(["challenge"].concat(t(a)));case 10:e.next=14;break;case 12:return e.next=14,this.router.navigate(["challenge"].concat(t(a),[i]));case 14:case"end":return e.stop()}}),e,this)})))}},{key:"onOverlayClose",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.challengeDraftService.cancelDraft();case 2:this.challengesRouteService.returnFromChallenges();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_save",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.contentHash){e.next=7;break}return e.next=3,this._update();case 3:t=e.sent,this.contentEvents.emitPostUpdateSuccess({typeString:"challenge",date:this.publishDate||void 0,endDate:this.unpublishDate||void 0,color:this.hexToChallengeClr.get(this.selectedColor)||w.ChallengeColor.RED}),e.next=11;break;case 7:return e.next=9,this._create();case 9:t=e.sent,this.contentEvents.emitPostCreateSuccess({typeString:"challenge",date:this.publishDate||void 0,endDate:this.unpublishDate||void 0,color:this.hexToChallengeClr.get(this.selectedColor)||w.ChallengeColor.RED});case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"_create",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t,n,i,a,r,l,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.draft){e.next=2;break}throw new Error("no draft to save");case 2:return(t=new mt.ChallengeInfo).setBody(this.draft.body),this.draft.dueDate&&t.setDueDate(Object(ht.g)(this.draft.dueDate)),t.setTitle(this.draft.title),t.setType(this.draft.type),t.setPrivacy(this.draft.privacy),t.setCommentsAllowed(this.draft.commentsAllowed),t.setColor(this.hexToChallengeClr.get(this.selectedColor)||w.ChallengeColor.RED),t.setPointValue(this.draft.points),t.setAllowedRolesList(this.draft.allowedRoles),t.setRequiresApproval(this.draft.requiresApproval),n=this.draft.banner,i=this.draft.uploadedImage,n?t.setBannerHash(n.bannerHash):i&&t.setBannerAsset(i),a=this.draft.badge,r=this.draft.uploadedBadge,a?t.setBadgeHash(a.bannerHash):r&&t.setBadgeAsset(r),e.next=10,this.challengeProto.new(t);case 10:return l=e.sent.getContentHash(),c=this.hasPublishInfoEditComponents()?this.getPublishInfo():this.routeData.contentManager.getDefaultPublishInfo(),e.next=14,this.routeData.contentManager.addContent(l,c);case 14:return s=e.sent,e.abrupt("return",(this.challengeSuccessDialog.open({data:{challengeId:s.contentContextHash}}),s));case 16:case"end":return e.stop()}}),e,this)})))}},{key:"_update",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t,n,i,a,r,l,c,s,d,u,p,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getChallengeInfo();case 2:return t=e.sent,e.next=5,this.getDraft();case 5:if(n=e.sent,i=new mt.ChallengeInfo,n.contentHash&&i.setContentHash(n.contentHash),a=null,!this.hasPublishInfoEditComponents()){e.next=16;break}if(r=this.getPartialPublishInfo(),e.t0=Object.keys(r).length>0,!e.t0){e.next=16;break}return e.next=15,this.routeData.contentManager.moveContent(this.routeData.contentHash,r);case 15:a=e.sent;case 16:return i.setBody(n.body),n.dueDate&&i.setDueDate(Object(ht.g)(n.dueDate)),i.setTitle(n.title),i.setType(n.type),i.setPrivacy(n.privacy),i.setCommentsAllowed(n.commentsAllowed),i.setColor(this.hexToChallengeClr.get(this.selectedColor)||w.ChallengeColor.RED),i.setPointValue(n.points),i.setAllowedRolesList(n.allowedRoles),i.setRequiresApproval(n.requiresApproval),l=n.banner,c=n.uploadedImage,l?i.setBannerHash(l.bannerHash):c&&c!=(null==t?void 0:t.getBannerAsset())&&i.setBannerAsset(c),s=n.badge,d=n.uploadedBadge,s?i.setBadgeHash(s.bannerHash):d&&d!=(null==t?void 0:t.getBadgeAsset())&&i.setBadgeAsset(d),e.next=23,this.challengeProto.update(i);case 23:return u=e.sent,a?p=a:(g=u.hasModerationResult()?Ct.ModerationResultMapper.toIModerationResult(u.getModerationResult()):null,p={contentContextHash:u.getContentContextHash(),moderationResult:g}),e.abrupt("return",p);case 26:case"end":return e.stop()}}),e,this)})))}},{key:"_getChallengeInfo",value:function(){if(this.contentHash){var e=new ft.ContentInfoQuery;return e.setContentHash(this.contentHash),this.challengeProto.getInfo(e)}}},{key:"hasPublishInfoEditComponents",value:function(){return this.publishInfoEditComponents.length>0}},{key:"setPublishInfo",value:function(e){this._publishInfo=e,this.publishInfoEditComponents.forEach((function(t){return t.setPublishInfo(e)}))}},{key:"getPublishInfo",value:function(){return this.getLastPublishInfoEditComponent().getPublishInfo()}},{key:"getLastPublishInfoEditComponent",value:function(){return this.publishInfoEditComponents[this.publishInfoEditComponents.length-1]}},{key:"getPartialPublishInfo",value:function(){var t,n=0,i={},o=e(this.publishInfoEditComponents);try{for(o.s();!(t=o.n()).done;){var a=t.value.getPartialPublishInfo(),r=Object.keys(a).length;r>n&&(i=a,n=r)}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"onColorChange",value:function(e){var t=this.hexToChallengeClr.get(e)||w.ChallengeColor.RED;this.selectedColor=e,this.previewContent.color=t,this.draft&&(this.draft.color=t)}},{key:"onPublishInfoEditComponentReady",value:function(e){this.publishInfoEditComponents.push(e),e.setPublishInfo(this._publishInfo)}},{key:"onPublishInfoChange",value:function(t,n){var i,o=e(this.publishInfoEditComponents);try{for(o.s();!(i=o.n()).done;){var a=i.value;a!==n.publishInfoEditComponent&&a.setPublishInfo(t)}}catch(r){o.e(r)}finally{o.f()}this.setPublishInfo(t),void 0!==t.publishDate&&(this.publishDate=t.publishDate,this.draft&&(this.draft.publishDate=t.publishDate)),void 0!==t.unpublishDate&&(this.unpublishDate=t.unpublishDate,this.draft&&(this.draft.unpublishDate=t.unpublishDate)),void 0!==t.endPinDate&&(this.endPinDate=t.endPinDate,this.draft&&(this.draft.endPinDate=t.endPinDate)),this.draft&&this.challengeDraftService.saveDraftDelayed(this.draft)}},{key:"_nextStep",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._save();case 2:if(t=e.sent,e.t0=t.moderationResult,!e.t0){e.next=7;break}return e.next=7,this.contentModerationInterstitial.trigger(this.routeData.contentHash,t.contentContextHash,t.moderationResult);case 7:return e.next=9,this.challengeDraftService.clearDraft();case 9:this.contentEvents.emitContentFeedsUpdate(),this.challengesRouteService.returnFromChallenges();case 11:case"end":return e.stop()}}),e,this)})))}},{key:"nextStep",value:function(e){e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),this.rootService.addLoadingPromise(this._nextStep())}}]),r}(_)).\u0275fac=function(e){return new(e||Vt)(s["\u0275\u0275directiveInject"](I.a),s["\u0275\u0275directiveInject"](L),s["\u0275\u0275directiveInject"](d.g),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](xt.a),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef),s["\u0275\u0275directiveInject"](bt.Challenge),s["\u0275\u0275directiveInject"](yt.a),s["\u0275\u0275directiveInject"](Et),s["\u0275\u0275directiveInject"](Dt.a))},Vt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Vt,selectors:[["ng-component"]],features:[s["\u0275\u0275InheritDefinitionFeature"]],decls:25,vars:4,consts:[[3,"overlayClose"],[1,"content"],[1,"publish-controls-container"],[1,"color-selector-title"],[3,"customColorList","color","colorChange"],["mgExpansionPanel","","expanded",""],[1,"mg-headline2"],[3,"publishInfoEditorComponentType","publishInfoEditComponentReady","publishInfoChange"],["publishInfoEditor",""],[3,"content","color",4,"ngIf"],[1,"left-footer-container",3,"click"],["icon","back"],[1,"back-btn"],[1,"right-footer-container"],["mgBubbleBtn","",1,"mg-bodycopy","next-button",3,"click"],[3,"content","color"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-challenge-overlay",0),s["\u0275\u0275listener"]("overlayClose",(function(){return t.onOverlayClose()})),s["\u0275\u0275elementStart"](1,"mg-challenge-overlay-title"),s["\u0275\u0275element"](2,"mg-challenge-logo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"div",2),s["\u0275\u0275elementStart"](5,"p",3),s["\u0275\u0275text"](6,"Choose Your Challenge Color:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"mg-color-select",4),s["\u0275\u0275listener"]("colorChange",(function(e){return t.onColorChange(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"mat-expansion-panel",5),s["\u0275\u0275elementStart"](9,"mat-expansion-panel-header"),s["\u0275\u0275elementStart"](10,"mat-panel-title",6),s["\u0275\u0275text"](11," Additional Publish Settings "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"mg-content-manager-publish-info-editor",7,8),s["\u0275\u0275listener"]("publishInfoEditComponentReady",(function(e){return t.onPublishInfoEditComponentReady(e)}))("publishInfoChange",(function(e){s["\u0275\u0275restoreView"](n);var i=s["\u0275\u0275reference"](13);return t.onPublishInfoChange(e,i)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](14,Ht,1,2,"mg-challenge-short-card",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"mg-challenge-overlay-footer"),s["\u0275\u0275elementStart"](16,"div",10),s["\u0275\u0275listener"]("click",(function(){return t.onClickBack()})),s["\u0275\u0275elementStart"](17,"mg-button-icon",11),s["\u0275\u0275elementStart"](18,"span",12),s["\u0275\u0275text"](19,"Back"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",13),s["\u0275\u0275elementStart"](21,"button",14),s["\u0275\u0275listener"]("click",(function(e){return t.nextStep(e)})),s["\u0275\u0275text"](22," Publish "),s["\u0275\u0275elementStart"](23,"mg-icon"),s["\u0275\u0275text"](24,"right-arrow-active"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("customColorList",t.colorList)("color",t.selectedColor),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("publishInfoEditorComponentType",t.publishInfoEditComponentType),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.loaded))},directives:[ee,X,te,Tt.a,Rt.c,jt.a,Rt.f,Rt.g,At.a,ne.o,Z,he.a,Q.a,Bt.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.title-text[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Muli,sans-serif;line-height:1.35;margin-top:32px}@media (orientation:landscape){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vh}}@media (orientation:portrait){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vw}}@media (orientation:landscape) and (max-height:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (orientation:portrait) and (max-width:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (min-width:439.875px){.title-text[_ngcontent-%COMP%]{font-size:29.92px}}@media (max-width:1140px){.title-text[_ngcontent-%COMP%]{margin-top:16px}}.divider[_ngcontent-%COMP%]{width:165px;border-top:6px solid #b2b2b2;margin:auto}[_nghost-%COMP%]{--mg-form-input-border-width:1px}.padded-center-content[_ngcontent-%COMP%]{padding:0 10%}@media (max-width:1140px){.padded-center-content[_ngcontent-%COMP%]{padding:0}}.content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-direction:row;flex-wrap:wrap;position:relative;text-align:center}.content[_ngcontent-%COMP%]   mg-challenge-short-card[_ngcontent-%COMP%]{max-width:510px;min-width:510px;margin:20px}@media (max-width:959px){.content[_ngcontent-%COMP%]   mg-challenge-short-card[_ngcontent-%COMP%]{min-width:unset}}@media (max-width:959px){.content[_ngcontent-%COMP%]{overflow-y:auto}}.publish-controls-container[_ngcontent-%COMP%]{height:100%;width:350px;overflow-y:auto;text-align:left}.publish-controls-container[_ngcontent-%COMP%]   .color-selector-title[_ngcontent-%COMP%]{font-weight:700;margin-left:10px}.publish-controls-container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{padding:0 16px;background:transparent}@media (max-width:1140px){.publish-controls-container[_ngcontent-%COMP%]{width:100%}}.next-button[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.8em 2.8em;border-radius:2.5em;cursor:pointer}@media (max-width:599px){.next-button[_ngcontent-%COMP%]{padding:.9em 1.5em;font-size:14px}}mg-button-icon[_ngcontent-%COMP%]     button{display:flex;align-items:center}mg-button-icon[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-left:8px}'],changeDetection:0}),Vt),Ut=r("Ji8J"),qt=r("LTfw"),Gt=r("fy1K"),$t=r("cOAp"),Qt=r("vjAc"),Yt=((Ft=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||Ft)},Ft.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Ft}),Ft.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Xe.a,et,We,Qt.a,Ut.a,Gt.a,$t.a,qt.a,Ye.a,ne.c,d.k,Rt.b]]}),Ft),Jt=((zt=function(e){a(i,e);var n=l(i);function i(e,t,o,a){var r;return p(this,i),(r=n.call(this,e,t,a)).router=e,r.route=t,r.challengesRouteService=o,r.challengeDraftService=a,r}return u(i,[{key:"onOverlayClose",value:function(){this.challengesRouteService.returnFromChallenges()}},{key:"createPhotoChallenge",value:function(){return this.router.navigate(["challenge"].concat(t(this.routeData.nextPath),["photo"]))}},{key:"createTextChallenge",value:function(){return this.router.navigate(["challenge"].concat(t(this.routeData.nextPath),["text"]))}},{key:"createVideoChallenge",value:function(){return this.router.navigate(["challenge"].concat(t(this.routeData.nextPath),["video"]))}}]),i}(_)).\u0275fac=function(e){return new(e||zt)(s["\u0275\u0275directiveInject"](d.g),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](I.a),s["\u0275\u0275directiveInject"](L))},zt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:zt,selectors:[["ng-component"]],features:[s["\u0275\u0275InheritDefinitionFeature"]],decls:43,vars:0,consts:[[3,"overlayClose"],[1,"content"],[1,"header"],[1,"title-text"],[1,"divider"],[1,"challenge-type-container"],[1,"challenge-type",3,"click"],[1,"image-container"],[1,"image","photo"],[1,"challenge-content"],[1,"challenge-icon","photo"],[1,"challenge-type-title","mg-headline2"],[1,"challenge-type-text","mg-smallcopy"],[1,"image","written"],[1,"challenge-icon","written"],[1,"challenge-type","disabled"],[1,"image","video"],[1,"challenge-icon","video"],[1,"left-footer-container",3,"click"],["icon","back"],[1,"back-btn"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mg-challenge-overlay",0),s["\u0275\u0275listener"]("overlayClose",(function(){return t.onOverlayClose()})),s["\u0275\u0275elementStart"](1,"mg-challenge-overlay-title"),s["\u0275\u0275element"](2,"mg-challenge-logo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275elementStart"](4,"div",2),s["\u0275\u0275elementStart"](5,"div",3),s["\u0275\u0275text"](6,"Choose a challenge type to get started."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](7,"div",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275elementStart"](9,"div",6),s["\u0275\u0275listener"]("click",(function(){return t.createPhotoChallenge()})),s["\u0275\u0275elementStart"](10,"div",7),s["\u0275\u0275element"](11,"div",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275element"](13,"div",10),s["\u0275\u0275elementStart"](14,"div",11),s["\u0275\u0275text"](15,"Photo Challenge"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",12),s["\u0275\u0275text"](17," Challenge your students to submit a photo in their answer to your challenge. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"div",6),s["\u0275\u0275listener"]("click",(function(){return t.createTextChallenge()})),s["\u0275\u0275elementStart"](19,"div",7),s["\u0275\u0275element"](20,"div",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",9),s["\u0275\u0275element"](22,"div",14),s["\u0275\u0275elementStart"](23,"div",11),s["\u0275\u0275text"](24,"Written Challenge"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",12),s["\u0275\u0275text"](26," Your students will write their response. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](27,"div",15),s["\u0275\u0275elementStart"](28,"div",7),s["\u0275\u0275element"](29,"div",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",9),s["\u0275\u0275element"](31,"div",17),s["\u0275\u0275elementStart"](32,"div",11),s["\u0275\u0275text"](33,"Video Challenge"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](34,"div",12),s["\u0275\u0275text"](35," Your students will answer this challenge with a video response. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"p",12),s["\u0275\u0275text"](37,"COMING SOON..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"mg-challenge-overlay-footer"),s["\u0275\u0275elementStart"](39,"div",18),s["\u0275\u0275listener"]("click",(function(){return t.onOverlayClose()})),s["\u0275\u0275elementStart"](40,"mg-button-icon",19),s["\u0275\u0275elementStart"](41,"span",20),s["\u0275\u0275text"](42,"Back"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},directives:[ee,X,te,Z,he.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.title-text[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Muli,sans-serif;line-height:1.35;margin-top:32px}@media (orientation:landscape){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vh}}@media (orientation:portrait){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vw}}@media (orientation:landscape) and (max-height:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (orientation:portrait) and (max-width:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (min-width:439.875px){.title-text[_ngcontent-%COMP%]{font-size:29.92px}}@media (max-width:1140px){.title-text[_ngcontent-%COMP%]{margin-top:16px}}.divider[_ngcontent-%COMP%]{width:165px;border-top:6px solid #b2b2b2;margin:auto}[_nghost-%COMP%]{--mg-form-input-border-width:1px}.padded-center-content[_ngcontent-%COMP%]{padding:0 10%}@media (max-width:1140px){.padded-center-content[_ngcontent-%COMP%]{padding:0}}.content[_ngcontent-%COMP%]{height:100%;position:relative;text-align:center}.header[_ngcontent-%COMP%]{margin-bottom:40px}.header[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{font-size:22px}@media (max-width:599px){.header[_ngcontent-%COMP%]{margin-bottom:20px}}.challenge-type-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;overflow-x:auto;max-width:100%;padding:0 16px 30px;box-sizing:border-box;justify-content:center}.challenge-type[_ngcontent-%COMP%]{width:308px;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);flex-shrink:0;cursor:pointer;margin:15px 10px}.challenge-type[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{position:relative}.challenge-type[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:after{content:"";background-color:#c66b83;opacity:.5;position:absolute;top:0;right:0;bottom:0;left:0}.challenge-type[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;height:310px;width:100%}.challenge-type[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image.photo[_ngcontent-%COMP%]{background-image:url(/assets/challenges/cc-photo.jpg)}.challenge-type[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image.written[_ngcontent-%COMP%]{background-image:url(/assets/challenges/cc-written.jpg)}.challenge-type[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image.video[_ngcontent-%COMP%]{background-image:url(/assets/challenges/cc-video.jpg)}.challenge-type[_ngcontent-%COMP%]   .challenge-content[_ngcontent-%COMP%]{position:relative;padding:50px 34px 34px;box-sizing:border-box}.challenge-type[_ngcontent-%COMP%]   .challenge-content[_ngcontent-%COMP%]   .challenge-icon[_ngcontent-%COMP%]{position:absolute;top:-22%;margin:auto;left:0;right:0}.challenge-type[_ngcontent-%COMP%]   .challenge-content[_ngcontent-%COMP%]   .challenge-type-text[_ngcontent-%COMP%]{color:#888;margin-top:10px}.challenge-type[_ngcontent-%COMP%]   .challenge-icon[_ngcontent-%COMP%]{width:84px;height:76px;background-repeat:no-repeat;background-size:contain}.challenge-type[_ngcontent-%COMP%]   .challenge-icon.photo[_ngcontent-%COMP%]{background-image:url(/assets/challenges/CC-Categories-Photo.png)}.challenge-type[_ngcontent-%COMP%]   .challenge-icon.written[_ngcontent-%COMP%]{background-image:url(/assets/challenges/CC-Categories-text.png)}.challenge-type[_ngcontent-%COMP%]   .challenge-icon.video[_ngcontent-%COMP%]{background-image:url(/assets/challenges/CC-Categories-Video.png)}.disabled[_ngcontent-%COMP%]{filter:brightness(50%)}mg-button-icon[_ngcontent-%COMP%]     button{display:flex;align-items:center}mg-button-icon[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-left:8px}']}),zt),Wt=((Lt=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||Lt)},Lt.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Lt}),Lt.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Xe.a,et,We,Ye.a,ne.c,d.k]]}),Lt),Kt=r("jtHE"),Xt=r("1G5W"),Zt=r("zc8W"),en=r("lNAY"),tn=r("BxgO"),nn=r("uplL"),on=r("gjtd"),an=r("DobJ"),rn=r("qftF"),ln=r("sj4O");function cn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",3),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onClose()})),s["\u0275\u0275text"](2," Who has answered your challenge: "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function sn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mg-pill-checkbox",11),s["\u0275\u0275text"](1,"You"),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("disabled",!0)}function dn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mg-pill-checkbox",11),s["\u0275\u0275text"](1,"Owner"),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("disabled",!0)}function un(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",6),s["\u0275\u0275element"](1,"mg-avatar",7),s["\u0275\u0275elementStart"](2,"div",8),s["\u0275\u0275element"](3,"mg-person-minimal",9),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275template"](5,sn,2,1,"mg-pill-checkbox",10),s["\u0275\u0275pipe"](6,"async"),s["\u0275\u0275template"](7,dn,2,1,"mg-pill-checkbox",10),s["\u0275\u0275pipe"](8,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("src",n.profileImageUrl)("color",n.badgeIconColor),s["\u0275\u0275advance"](2),s["\u0275\u0275classProp"]("has-pill",n.hash==s["\u0275\u0275pipeBind1"](4,7,i.currentUserHash$)),s["\u0275\u0275property"]("person",n),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.hash==s["\u0275\u0275pipeBind1"](6,9,i.currentUserHash$)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.hash==s["\u0275\u0275pipeBind1"](8,11,i.ownerUserHash$))}}function pn(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"div",4),s["\u0275\u0275template"](2,un,9,13,"div",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf;s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",n)}}function gn(e,t){1&e&&s["\u0275\u0275element"](0,"mg-spinner")}var hn,mn,fn,vn=((hn=function(){function e(t,n,i,o){p(this,e),this.route=t,this._location=n,this.authInfo=i,this.peopleFacade=o,this._destroyed$=new Kt.a(1),t.params.pipe(Object(M.a)((function(e){return parseInt(e.id)}))),this.currentUserHash$=this.authInfo.authInfo$.pipe(Object(Xt.a)(this._destroyed$),Object(M.a)((function(e){return e&&e.person?e.person.personHash:""})))}return u(e,[{key:"onClose",value:function(){this._location.back()}},{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}}]),e}()).\u0275fac=function(e){return new(e||hn)(s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](ne.k),s["\u0275\u0275directiveInject"](Zt.a),s["\u0275\u0275directiveInject"](en.a))},hn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:hn,selectors:[["mg-challenge-people-overlay"]],decls:5,vars:6,consts:[[4,"mgOverlayStructure","mgOverlayStructureRegion"],[4,"ngIf","ngIfElse"],["loadingTpl",""],["icon","close",1,"mg-align-left",3,"click"],[1,"person-list"],["fxLayout","row","fxLayoutAlign","start center","class","member-info",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"member-info"],[3,"src","color"],[1,"person-wrap"],[1,"no-wrap",3,"person"],["icon","","class","small self",3,"disabled",4,"ngIf"],["icon","",1,"small","self",3,"disabled"]],template:function(e,t){if(1&e&&(s["\u0275\u0275template"](0,cn,3,0,"div",0),s["\u0275\u0275template"](1,pn,3,1,"ng-container",1),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275template"](3,gn,1,0,"ng-template",null,2,s["\u0275\u0275templateRefExtractor"])),2&e){var n=s["\u0275\u0275reference"](4);s["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","top"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](2,4,t.participants$))("ngIfElse",n)}},directives:[tn.a,ne.o,nn.a,ne.n,pe.e,pe.d,on.a,an.a,rn.a,ln.a],pipes:[ne.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{background-color:#fff;display:block}.title[_ngcontent-%COMP%]{margin:24px 16px 16px;font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.title[_ngcontent-%COMP%]{font-size:3.3816425121vh}}@media (orientation:portrait){.title[_ngcontent-%COMP%]{font-size:3.3816425121vw}}@media (orientation:landscape) and (max-height:414px){.title[_ngcontent-%COMP%]{font-size:14px}}@media (orientation:portrait) and (max-width:414px){.title[_ngcontent-%COMP%]{font-size:14px}}@media (min-width:439.875px){.title[_ngcontent-%COMP%]{font-size:14.875px}}@media (min-width:600px){.title[_ngcontent-%COMP%]{margin:32px 32px 16px}}.person-list[_ngcontent-%COMP%]{display:block;padding-bottom:32px;overflow:hidden}.member-info[_ngcontent-%COMP%]{--mg-avatar-size:30px;flex:1 1 90%;border-bottom:1px solid #ccc;margin:12px 0;display:flex;justify-content:space-between;align-items:center;padding-bottom:12px}@media (orientation:landscape){.member-info[_ngcontent-%COMP%]{padding-right:3.125vh}}@media (orientation:portrait){.member-info[_ngcontent-%COMP%]{padding-right:3.125vw}}@media (orientation:landscape) and (max-height:320px){.member-info[_ngcontent-%COMP%]{padding-right:10px}}@media (orientation:portrait) and (max-width:320px){.member-info[_ngcontent-%COMP%]{padding-right:10px}}@media (min-width:640px){.member-info[_ngcontent-%COMP%]{padding-right:20px}}@media (orientation:landscape){.member-info[_ngcontent-%COMP%]{padding-left:3.125vh}}@media (orientation:portrait){.member-info[_ngcontent-%COMP%]{padding-left:3.125vw}}@media (orientation:landscape) and (max-height:320px){.member-info[_ngcontent-%COMP%]{padding-left:10px}}@media (orientation:portrait) and (max-width:320px){.member-info[_ngcontent-%COMP%]{padding-left:10px}}@media (min-width:640px){.member-info[_ngcontent-%COMP%]{padding-left:20px}}.member-info[_ngcontent-%COMP%]   mg-avatar[_ngcontent-%COMP%]{margin-right:8px}.member-info[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{display:inline-flex;align-items:center;max-width:100%}.member-info[_ngcontent-%COMP%]   mg-person-minimal.has-pill[_ngcontent-%COMP%]{max-width:82%}.member-info[_ngcontent-%COMP%]   mg-pill-checkbox[_ngcontent-%COMP%]{margin-left:8px}.member-info[_ngcontent-%COMP%]   .person-wrap[_ngcontent-%COMP%]{flex:1;flex-direction:row;display:flex;justify-content:flex-start;align-items:center;max-width:calc(100% - var(--mg-avatar-size))}']}),hn),Cn=r("gtkb"),xn=r("fHWq"),bn=r("5VmK"),yn=r("CL15"),wn=r("7Tcv"),Pn=((mn=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||mn)},mn.\u0275mod=s["\u0275\u0275defineNgModule"]({type:mn}),mn.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[yn.a,wn.a,xn.a,bn.a,Cn.a,ne.c,$e.a]]}),mn),On=r("gEWx"),Mn=r("EPnd"),_n=r("ThxV"),In=r("cUpR"),Sn=r("F7jZ"),kn=r("2nPA"),En=r("HQAS"),Dn=r("0cKA"),Tn=((fn=function(){function e(){p(this,e),this.setOuterContentVisibility=new s.EventEmitter,this.onCreateChallengeClick=new s.EventEmitter,this.onOverlayCloseClick=new s.EventEmitter}return u(e,[{key:"ngOnInit",value:function(){this.setOuterContentVisibility.emit(!1)}},{key:"onOverlayClose",value:function(){this.onOverlayCloseClick.emit()}},{key:"onNext",value:function(){this.onCreateChallengeClick.emit()}}]),e}()).\u0275fac=function(e){return new(e||fn)},fn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:fn,selectors:[["mg-challenge-responses-empty-state"]],outputs:{setOuterContentVisibility:"setOuterContentVisibility",onCreateChallengeClick:"onCreateChallengeClick",onOverlayCloseClick:"onOverlayCloseClick"},decls:9,vars:0,consts:[[1,"content"],[1,"challenge-icon-container"],[1,"challenge-icon","photo"],[1,"challenge-icon","written"],[1,"challenge-icon","video"],[1,"heading"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275element"](2,"div",2),s["\u0275\u0275element"](3,"div",3),s["\u0275\u0275element"](4,"div",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",5),s["\u0275\u0275text"](6," Come back here to review the "),s["\u0275\u0275element"](7,"br"),s["\u0275\u0275text"](8," results from your challenges! "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.title-text[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Muli,sans-serif;line-height:1.35;margin-top:32px}@media (orientation:landscape){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vh}}@media (orientation:portrait){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vw}}@media (orientation:landscape) and (max-height:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (orientation:portrait) and (max-width:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (min-width:439.875px){.title-text[_ngcontent-%COMP%]{font-size:29.92px}}@media (max-width:1140px){.title-text[_ngcontent-%COMP%]{margin-top:16px}}.divider[_ngcontent-%COMP%]{width:165px;border-top:6px solid #b2b2b2;margin:auto}[_nghost-%COMP%]{--mg-form-input-border-width:1px}.padded-center-content[_ngcontent-%COMP%]{padding:0 10%}@media (max-width:1140px){.padded-center-content[_ngcontent-%COMP%]{padding:0}}.content[_ngcontent-%COMP%]{margin-top:200px;display:flex;align-items:center;justify-content:center;flex-direction:column}.content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:26px;text-align:center}.content[_ngcontent-%COMP%]   .challenge-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:30px}.content[_ngcontent-%COMP%]   .challenge-icon-container[_ngcontent-%COMP%]   .challenge-icon[_ngcontent-%COMP%]{width:84px;height:76px;background-repeat:no-repeat;background-size:contain;margin-left:10px;margin-right:10px}.content[_ngcontent-%COMP%]   .challenge-icon-container[_ngcontent-%COMP%]   .challenge-icon.photo[_ngcontent-%COMP%]{background-image:url(/assets/challenges/CC-Categories-Photo.png)}.content[_ngcontent-%COMP%]   .challenge-icon-container[_ngcontent-%COMP%]   .challenge-icon.written[_ngcontent-%COMP%]{background-image:url(/assets/challenges/CC-Categories-text.png)}.content[_ngcontent-%COMP%]   .challenge-icon-container[_ngcontent-%COMP%]   .challenge-icon.video[_ngcontent-%COMP%]{background-image:url(/assets/challenges/CC-Categories-Video.png)}']}),fn),Rn=r("cXmD"),jn=r("vJwY"),An=r("IheW"),Bn=r("fA8H"),Hn=r("jcBT"),Vn=r("kCL4"),Ln=r("rKY/"),zn=r("Jkk8"),Fn=r("StFh");function Nn(e,t){1&e&&s["\u0275\u0275element"](0,"div",21)}function Un(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mg-generic-button",22),s["\u0275\u0275listener"]("onClick",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().downloadChallengePhoto()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("isRounded",!1))}function qn(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275element"](1,"mg-challenge-approval-controls",23),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("currentState",n.responseItem.approved)("contextHash",n.responseItem.contextHash)}}function Gn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",2),s["\u0275\u0275element"](1,"mg-challenge-approval-controls",23),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("currentState",n.responseItem.approved)("contextHash",n.responseItem.contextHash)}}var $n,Qn=(($n=function(){function e(t){p(this,e),this.httpService=t,this.responseItem={contentHash:"",contextHash:"",body:"",ownerContextHash:"",grade:"",likeCount:0,commentCount:0,approved:w.ChallengeApprovalState.PENDING},this.hideApprovalButtons=!1,this.setOuterContentVisibility=new s.EventEmitter,this.responseClicked=new s.EventEmitter,this.approved=new s.EventEmitter,this.declined=new s.EventEmitter,this.imageSizes=["cardbanner"]}return u(e,[{key:"ngOnInit",value:function(){this.setOuterContentVisibility.emit(!0)}},{key:"isPending",value:function(){return this.responseItem.approved==w.ChallengeApprovalState.PENDING}},{key:"getResponsedDate",value:function(e){return e?new Date(e.year,e.month-1,e.day).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}},{key:"onApproved",value:function(e){this.approved.emit(e)}},{key:"onDeclined",value:function(e){this.declined.emit(e)}},{key:"downloadChallengePhoto",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.responseItem.featuredImage.sizeMap[this.responseItem.featuredImage.sizeMap.length-1][1].path,n=window.MINGA_ASSET_URL_PREFIX+t,e.next=3,this.httpService.get(n,{responseType:"arraybuffer"}).subscribe((function(e){var i=n.indexOf("."),o=n.substring(i+1),a=new Blob([e],{type:"image/"+o});Object(jn.a)(a,t.substring(4))}));case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||$n)(s["\u0275\u0275directiveInject"](An.a))},$n.\u0275cmp=s["\u0275\u0275defineComponent"]({type:$n,selectors:[["mg-challenge-responses-admin-page-item"]],inputs:{responseItem:"responseItem",hideApprovalButtons:"hideApprovalButtons"},outputs:{setOuterContentVisibility:"setOuterContentVisibility",responseClicked:"responseClicked",approved:"approved",declined:"declined"},decls:37,vars:24,consts:[[1,"item",3,"mgContentContextMenu"],["class","pending-indicator",4,"ngIf"],[1,"item-mobile"],[1,"author-avatar",3,"src","color"],[1,"info-container"],[1,"light-text","response-text",3,"innerHTML"],[1,"inline-items"],[1,"column-item","short-item"],[1,"response-preview",3,"srcs"],[4,"ngIf"],[1,"column-item","long-item","item-desktop"],[1,"person-name"],[1,"response-text",3,"innerHTML"],[1,"column-item","short-item","date-text"],[1,"column-item","short-item","like-comment"],["fxLayout","row"],[1,"like-icon"],[1,"like-count"],[1,"comment-icon"],[1,"comment-count"],["class","item-mobile",4,"ngIf"],[1,"pending-indicator"],["colorTheme","navy","paddingSize","none","size","large","variant","clear","iconLeft","download-o",3,"isRounded","onClick"],[3,"currentState","contextHash"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275template"](1,Nn,1,0,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275element"](3,"mg-avatar",3),s["\u0275\u0275elementStart"](4,"div",4),s["\u0275\u0275elementStart"](5,"div"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](7,"div",5),s["\u0275\u0275pipe"](8,"mgSafeHtml"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",6),s["\u0275\u0275elementStart"](10,"div",7),s["\u0275\u0275element"](11,"mg-image",8),s["\u0275\u0275pipe"](12,"mgImageUrls"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](13,Un,2,1,"ng-container",9),s["\u0275\u0275elementStart"](14,"div",10),s["\u0275\u0275element"](15,"mg-avatar",3),s["\u0275\u0275elementStart"](16,"div",4),s["\u0275\u0275elementStart"](17,"div",11),s["\u0275\u0275text"](18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](19,"div",12),s["\u0275\u0275pipe"](20,"mgSafeHtml"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",13),s["\u0275\u0275text"](22),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",14),s["\u0275\u0275elementStart"](24,"div",15),s["\u0275\u0275elementStart"](25,"mg-icon",16),s["\u0275\u0275text"](26,"like-active"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](27,"div",17),s["\u0275\u0275text"](28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",15),s["\u0275\u0275elementStart"](30,"mg-icon",18),s["\u0275\u0275text"](31,"comment-active"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"div",19),s["\u0275\u0275text"](33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](34,"div",10),s["\u0275\u0275template"](35,qn,2,2,"ng-container",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](36,Gn,2,2,"div",20),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("mgContentContextMenu",t.responseItem.contextHash),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isPending()),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("src",null==t.responseItem.authorPersonView?null:t.responseItem.authorPersonView.profileImageUrl)("color",null==t.responseItem.authorPersonView?null:t.responseItem.authorPersonView.badgeIconColor),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](null==t.responseItem.authorPersonView?null:t.responseItem.authorPersonView.displayName),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("innerHTML",s["\u0275\u0275pipeBind1"](8,17,t.responseItem.body),s["\u0275\u0275sanitizeHtml"]),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("srcs",s["\u0275\u0275pipeBind2"](12,19,t.responseItem.featuredImage,t.imageSizes)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.responseItem.featuredImage),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("src",null==t.responseItem.authorPersonView?null:t.responseItem.authorPersonView.profileImageUrl)("color",null==t.responseItem.authorPersonView?null:t.responseItem.authorPersonView.badgeIconColor),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",null==t.responseItem.authorPersonView?null:t.responseItem.authorPersonView.displayName," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("innerHTML",s["\u0275\u0275pipeBind1"](20,22,t.responseItem.body),s["\u0275\u0275sanitizeHtml"]),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",t.getResponsedDate(t.responseItem.publishDate)," "),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](t.responseItem.likeCount),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](t.responseItem.commentCount),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!t.hideApprovalButtons),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.hideApprovalButtons))},directives:[Bn.a,ne.o,on.a,Hn.a,pe.e,Q.a,Vn.a,Ln.a],pipes:[zn.a,Fn.a],styles:[".item[_ngcontent-%COMP%]{width:100%;background-color:#fff;border:none;box-shadow:3px 3px 10px #ccc;border-radius:5px}@media (min-width:740px){.item[_ngcontent-%COMP%]{border-radius:5px;padding:8px}}.pending-indicator[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:1em;background-color:#c66b6b;position:relative;left:98%;top:-12px}@media (min-width:1140px){.pending-indicator[_ngcontent-%COMP%]{left:100%}}.inline-items[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:center}@media (max-width:740px){.inline-items[_ngcontent-%COMP%]{margin:15px 0}}.column-item[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 5px}.short-item[_ngcontent-%COMP%]{width:14%}@media (max-width:740px){.short-item[_ngcontent-%COMP%]{width:33.3%}}.long-item[_ngcontent-%COMP%]{width:29%}.author-avatar[_ngcontent-%COMP%]{--mg-avatar-size:35px;margin:0 10px}@media (max-width:740px){.author-avatar[_ngcontent-%COMP%]{--mg-avatar-size:50px;margin:5px}}.item-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 0}@media (min-width:741px){.item-mobile[_ngcontent-%COMP%]{display:none}}@media (max-width:740px){.item-desktop[_ngcontent-%COMP%]{display:none}}.response-preview[_ngcontent-%COMP%]{height:65px;width:90px}.info-container[_ngcontent-%COMP%]{width:80%;margin:auto 0;text-align:left}.person-name[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.response-text[_ngcontent-%COMP%]{font-size:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:grey}.date-text[_ngcontent-%COMP%]{font-size:15px;font-weight:600}.like-comment[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;margin-left:5px}.like-icon[_ngcontent-%COMP%]{color:#c66b83}.comment-icon[_ngcontent-%COMP%], .like-icon[_ngcontent-%COMP%]{font-weight:600;margin:0 4px}.comment-icon[_ngcontent-%COMP%]{color:#1c2f59}.like-count[_ngcontent-%COMP%]{color:#c66b83}.comment-count[_ngcontent-%COMP%]{color:#1c2f59}.assess-button[_ngcontent-%COMP%]{width:110px;border-radius:2em;padding:0 10px;margin:0 2px;--mg-button-color:transparent;--mg-button-padding-vert:9px}.assess-button-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:15px;color:#fff}.assess-button-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.approve-button[_ngcontent-%COMP%]{background:linear-gradient(#92bdad,#619e85)}.decline-button[_ngcontent-%COMP%]{background:linear-gradient(#c75f5f,#9b4141)}"],changeDetection:0}),$n);function Yn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",14),s["\u0275\u0275elementStart"](1,"div",15),s["\u0275\u0275text"](2,"Challenge Responses"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"div",16),s["\u0275\u0275elementEnd"]())}function Jn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-button-clear",19),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"](2).setFilter(e.state)})),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,o=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classProp"]("selected-filter",i.state===o.filterToState),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",i.label," ")}}function Wn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",17),s["\u0275\u0275template"](1,Jn,2,3,"mg-button-clear",18),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",n.filterOptions)}}function Kn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n," ")}}function Xn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",20),s["\u0275\u0275template"](1,Kn,2,1,"div",21),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",n.headerLabels)}}function Zn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",23),s["\u0275\u0275elementStart"](1,"mg-challenge-responses-admin-page-item",24),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.itemId;return s["\u0275\u0275nextContext"]().onClickResponse(e)}))("setOuterContentVisibility",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().setOuterContentVisibility(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,o=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("responseItem",i)("hideApprovalButtons",!o.requiresApproval)}}function ei(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",25),s["\u0275\u0275elementStart"](1,"div",26),s["\u0275\u0275text"](2," Engage your Minga Community!"),s["\u0275\u0275element"](3,"br"),s["\u0275\u0275text"](4,"Create a new challenge for your students. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",27),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onCreateChallengeClick()})),s["\u0275\u0275text"](6," Create a Challenge "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}var ti,ni,ii,oi,ai,ri=((ti=function(){function t(e,n,i,o,a,r,l,c){var s=this;p(this,t),this.challengesRouteService=e,this.contentInfoService=n,this.route=i,this.responseProto=o,this.router=a,this.sanitizer=r,this.contentState=l,this._cdr=c,this.contentContextHash="",this.responses=[],this.isVisible=!0,this.requiresApproval=!1,this.filterToState=w.ChallengeApprovalState.PENDING,this.filterOptions=[{label:"All",state:null},{label:"Approved",state:w.ChallengeApprovalState.APPROVED},{label:"Declined",state:w.ChallengeApprovalState.DENIED},{label:"Pending",state:w.ChallengeApprovalState.PENDING}],this.headerLabels=["Respond Date","Likes/Comments"],this._routeParamSub=i.params.subscribe((function(e){s.contentContextHash=e.id,s.getChallenge()}))}return u(t,[{key:"feedFilter",get:function(){return this.requiresApproval?{"templateData.authorPersonView.personHash":"",contentType:"CHALLENGE",ownerContextHash:this.contentContextHash,approved:this.filterToState}:{"templateData.authorPersonView.personHash":"",contentType:"CHALLENGE",ownerContextHash:this.contentContextHash}}},{key:"ngOnDestroy",value:function(){this._routeParamSub&&(this._routeParamSub.unsubscribe(),delete this._routeParamSub)}},{key:"getSafeStyle",value:function(e,t){return this.sanitizer.bypassSecurityTrustStyle("".concat(e,": ")+t)}},{key:"onCreateChallengeClick",value:function(){this.challengesRouteService.gotoCreate("m",null,!1)}},{key:"getChallenge",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.feedFilter.ownerContextHash=this.contentContextHash,e.next=3,this.contentInfoService.getContentInfoByContext(this.contentContextHash);case 3:this.challenge=e.sent,this.challenge.requiresApproval&&(this.requiresApproval=this.challenge.requiresApproval,this._cdr.detectChanges());case 5:case"end":return e.stop()}}),e,this)})))}},{key:"onOverlayClose",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.challengesRouteService.returnFromChallenges();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onClickResponse",value:function(e){return Object(g.a)(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.contentState.setStateValue(this.contentContextHash,"responseContextHash",e),this.contentState.setStateValue(this.contentContextHash,"responseStreamState",this.filterToState?Object(On.$enum)(w.ChallengeApprovalState).asValueOrDefault(this.filterToState,w.ChallengeApprovalState.PENDING):"ALL"),t.next=4,this.router.navigate(["",{outlets:{o:["view",this.contentContextHash]}}]);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"onClickBack",value:function(){this.challengesRouteService.gotoAdminSummary()}},{key:"getAvatarClutsterItems",value:function(t){var n,i=[],o=e(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(i.push({src:a.author_person_view.profileImageUrl,color:a.author_person_view.badgeIconColor}),3==i.length)break}}catch(r){o.e(r)}finally{o.f()}return i}},{key:"getPeopleResponsesText",value:function(e){for(var t="",n=0;n<e.length&&3!=n;n++)t+=e[n].personView.displayName,n+2<e.length?t+=", ":n+1<e.length&&(t+=" and ");return t+=" have answered"}},{key:"setFilter",value:function(e){this.filterToState=e||null}},{key:"setOuterContentVisibility",value:function(e){this.isVisible=e}}]),t}()).\u0275fac=function(e){return new(e||ti)(s["\u0275\u0275directiveInject"](I.a),s["\u0275\u0275directiveInject"](Mn.a),s["\u0275\u0275directiveInject"](d.a),s["\u0275\u0275directiveInject"](_n.ChallengeResponse),s["\u0275\u0275directiveInject"](d.g),s["\u0275\u0275directiveInject"](In.b),s["\u0275\u0275directiveInject"](Sn.a),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},ti.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ti,selectors:[["ng-component"]],decls:18,vars:7,consts:[[3,"overlayClose"],[1,"content","padded-center-content"],["class","header-content",4,"ngIf"],["class","filter-options",4,"ngIf"],["class","response-list-header",4,"ngIf"],[1,"body-content"],["mgStreamControl","challengesAdminResponsesFeed","rpcStream","streamResponsesAdmin","rpcControl","streamResponsesAdminControl",3,"filter","service","mgTrimmed"],["streamScroller",""],["mgStreamItem",""],["mg-stream-empty","",3,"setOuterContentVisibility","onCreateChallengeClick","onOverlayCloseClick"],[1,"left-footer-container",3,"click"],["icon","back"],[1,"back-btn"],["class","right-footer-container",4,"ngIf"],[1,"header-content"],[1,"title-text"],[1,"divider"],[1,"filter-options"],[3,"selected-filter","click",4,"ngFor","ngForOf"],[3,"click"],[1,"response-list-header"],["class","response-list-label",4,"ngFor","ngForOf"],[1,"response-list-label"],[1,"challenge"],[3,"responseItem","hideApprovalButtons","click","setOuterContentVisibility"],[1,"right-footer-container"],[1,"footer-title"],["mgBubbleBtn","",1,"mg-bodycopy","next-button",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mg-challenge-overlay",0),s["\u0275\u0275listener"]("overlayClose",(function(){return t.onOverlayClose()})),s["\u0275\u0275elementStart"](1,"mg-challenge-overlay-title"),s["\u0275\u0275element"](2,"mg-challenge-logo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275template"](4,Yn,4,0,"div",2),s["\u0275\u0275template"](5,Wn,2,1,"div",3),s["\u0275\u0275template"](6,Xn,2,1,"div",4),s["\u0275\u0275elementStart"](7,"div",5),s["\u0275\u0275elementStart"](8,"mg-stream-scroller",6,7),s["\u0275\u0275template"](10,Zn,2,2,"ng-template",8),s["\u0275\u0275elementStart"](11,"mg-challenge-responses-empty-state",9),s["\u0275\u0275listener"]("setOuterContentVisibility",(function(e){return t.setOuterContentVisibility(e)}))("onCreateChallengeClick",(function(){return t.onCreateChallengeClick()}))("onOverlayCloseClick",(function(){return t.onOverlayClose()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"mg-challenge-overlay-footer"),s["\u0275\u0275elementStart"](13,"div",10),s["\u0275\u0275listener"]("click",(function(){return t.onClickBack()})),s["\u0275\u0275elementStart"](14,"mg-button-icon",11),s["\u0275\u0275elementStart"](15,"span",12),s["\u0275\u0275text"](16,"Back"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,ei,7,0,"div",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",t.isVisible),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.requiresApproval),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isVisible),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("filter",t.feedFilter)("service",t.responseProto)("mgTrimmed",!0),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngIf",!t.isVisible))},directives:[ee,X,te,ne.o,kn.a,En.a,Dn.a,Tn,Z,he.a,ne.n,Rn.a,Qn],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.title-text[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Muli,sans-serif;line-height:1.35;margin-top:32px}@media (orientation:landscape){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vh}}@media (orientation:portrait){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vw}}@media (orientation:landscape) and (max-height:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (orientation:portrait) and (max-width:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (min-width:439.875px){.title-text[_ngcontent-%COMP%]{font-size:29.92px}}@media (max-width:1140px){.title-text[_ngcontent-%COMP%]{margin-top:16px}}.divider[_ngcontent-%COMP%]{width:165px;border-top:6px solid #b2b2b2;margin:auto}[_nghost-%COMP%]{--mg-form-input-border-width:1px}.padded-center-content[_ngcontent-%COMP%]{padding:0 10%}@media (max-width:1140px){.padded-center-content[_ngcontent-%COMP%]{padding:0}}.content[_ngcontent-%COMP%]{height:85%;flex-direction:column;position:relative;text-align:center}.header-content[_ngcontent-%COMP%]{margin-bottom:20px}@media (max-width:1140px){.header-content[_ngcontent-%COMP%]{margin-bottom:16px}}.filter-options[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;color:#1c2f59;margin-bottom:15px}.filter-options[_ngcontent-%COMP%]   mg-button-clear[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{--mg-button-padding-vert:5px}@media (max-width:599px){.filter-options[_ngcontent-%COMP%]{justify-content:center}}.selected-filter[_ngcontent-%COMP%]{font-weight:600;border-bottom:4px solid #1c2f59}.response-list-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;margin-left:45%}@media (max-width:599px){.response-list-header[_ngcontent-%COMP%]{margin-left:35%}}.response-list-label[_ngcontent-%COMP%]{width:20%;font-size:14px;margin:0 8px}@media (max-width:599px){.response-list-label[_ngcontent-%COMP%]{width:35%;font-size:12px}}.body-content[_ngcontent-%COMP%]{display:block}mg-button-icon[_ngcontent-%COMP%]     button{display:flex;align-items:center}mg-button-icon[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin-left:8px}.right-footer-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap}.right-footer-container[_ngcontent-%COMP%]   .footer-title[_ngcontent-%COMP%]{text-align:center;margin-right:10px}@media (max-width:599px){.right-footer-container[_ngcontent-%COMP%]   .footer-title[_ngcontent-%COMP%]{font-size:11px}}.right-footer-container[_ngcontent-%COMP%]   .next-button[_ngcontent-%COMP%]{padding:1em;border-radius:2.5em}@media (max-width:599px){.right-footer-container[_ngcontent-%COMP%]   .next-button[_ngcontent-%COMP%]{padding:0 1em;font-size:14px}}'],changeDetection:0}),ti),li=r("Tj54"),ci=r("OLhe"),si=r("NjBC"),di=r("ugqS"),ui=r("PRFu"),pi=r("gU2t"),gi=((ni=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||ni)},ni.\u0275mod=s["\u0275\u0275defineNgModule"]({type:ni}),ni.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[di.a,dt.b,pi.a,ui.a,xn.a,Ye.a,Xe.a,si.a,at.a,ci.a,ne.c,li.b,$e.a]]}),ni),hi=r("oQsg"),mi=((ii=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||ii)},ii.\u0275mod=s["\u0275\u0275defineNgModule"]({type:ii}),ii.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Ye.a,hi.b,st.b,Xe.a,et,We,ne.c,d.k]]}),ii),fi=r("CuZz"),vi=r("NG9B"),Ci=r("m9yI"),xi=((oi=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||oi)},oi.\u0275mod=s["\u0275\u0275defineNgModule"]({type:oi}),oi.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Ye.a,st.b,Xe.a,et,dt.b,We,ot.a,Ci.b,fi.a,vi.a,gi,Ze.a,mi,ne.c,d.k,be.c]]}),oi),bi=r("TxG7"),yi=((ai=function(){function e(){p(this,e),this.setOuterContentVisibility=new s.EventEmitter,this.onCreateChallengeClick=new s.EventEmitter,this.onOverlayCloseClick=new s.EventEmitter}return u(e,[{key:"ngOnInit",value:function(){this.setOuterContentVisibility.emit(!1)}},{key:"onOverlayClose",value:function(){this.onOverlayCloseClick.emit()}},{key:"onNext",value:function(){this.onCreateChallengeClick.emit()}}]),e}()).\u0275fac=function(e){return new(e||ai)},ai.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ai,selectors:[["mg-challenges-summary-empty-state"]],outputs:{setOuterContentVisibility:"setOuterContentVisibility",onCreateChallengeClick:"onCreateChallengeClick",onOverlayCloseClick:"onOverlayCloseClick"},decls:9,vars:0,consts:[[1,"content"],[1,"title-text","mg-cta"],["mgBubbleBtn","",1,"mg-headline",3,"click"],[1,"flag"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275text"](2," Engage your Minga Community!"),s["\u0275\u0275element"](3,"br"),s["\u0275\u0275text"](4,"Create a new challenge for your students. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",2),s["\u0275\u0275listener"]("click",(function(){return t.onNext()})),s["\u0275\u0275text"](6," Create Your First Challenge "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"mg-icon",3),s["\u0275\u0275text"](8,"flag-icon"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},directives:[Q.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.title-text[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Muli,sans-serif;line-height:1.35;margin-top:32px}@media (orientation:landscape){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vh}}@media (orientation:portrait){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vw}}@media (orientation:landscape) and (max-height:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (orientation:portrait) and (max-width:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (min-width:439.875px){.title-text[_ngcontent-%COMP%]{font-size:29.92px}}@media (max-width:1140px){.title-text[_ngcontent-%COMP%]{margin-top:16px}}.divider[_ngcontent-%COMP%]{width:165px;border-top:6px solid #b2b2b2;margin:auto}[_nghost-%COMP%]{--mg-form-input-border-width:1px}.padded-center-content[_ngcontent-%COMP%]{padding:0 10%}@media (max-width:1140px){.padded-center-content[_ngcontent-%COMP%]{padding:0}}.content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;flex-direction:column;position:relative;text-align:center}.content[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{margin-bottom:36px}.content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.flag-img){position:relative;z-index:1}.content[_ngcontent-%COMP%]   button[mgBubbleBtn][_ngcontent-%COMP%]{font-weight:400}.content[_ngcontent-%COMP%]   mg-icon.flag[_ngcontent-%COMP%]{position:absolute;left:50%;right:0;top:25%;color:#ecdde1;z-index:0;--mg-icon-size:400px}@media (min-width:959px){.content[_ngcontent-%COMP%]{margin-top:100px}}']}),ai),wi=r("tfgo");function Pi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mg-icon",11),s["\u0275\u0275text"](1,"star-active"),s["\u0275\u0275elementEnd"]())}function Oi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span",12),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" /",null==n.challengeItem?null:n.challengeItem.invitePeopleCount," ")}}function Mi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",1),s["\u0275\u0275element"](1,"div",2),s["\u0275\u0275pipe"](2,"mgSafeHtml"),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275element"](4,"mg-image",4),s["\u0275\u0275pipe"](5,"mgImageUrls"),s["\u0275\u0275element"](6,"div",5),s["\u0275\u0275pipe"](7,"mgSafeHtml"),s["\u0275\u0275elementStart"](8,"div",6),s["\u0275\u0275text"](9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",6),s["\u0275\u0275text"](11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",6),s["\u0275\u0275template"](13,Pi,2,0,"mg-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",8),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().invitesClick.emit(e)})),s["\u0275\u0275elementStart"](15,"span",9),s["\u0275\u0275text"](16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,Oi,2,1,"span",10),s["\u0275\u0275elementStart"](18,"div"),s["\u0275\u0275text"](19),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("innerHTML",s["\u0275\u0275pipeBind1"](2,9,i.challengeItem.title),s["\u0275\u0275sanitizeHtml"]),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("srcs",s["\u0275\u0275pipeBind2"](5,11,i.challengeItem.featuredImage,i.imageSizes)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("innerHTML",s["\u0275\u0275pipeBind1"](7,14,i.challengeItem.title),s["\u0275\u0275sanitizeHtml"]),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",i.challengeItem.respondedPeopleCount," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",i.getChallengeDueDate(i.challengeItem.dueDate)," "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",i.dueDate.getTime()>=i.currentDate.getTime()),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",i.challengeItem.inviteResponseCount||0," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.challengeItem.invitePeopleCount),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",i.challengeItem.invitePeopleCount?"Responded":"Invited"," ")}}var _i,Ii=((_i=function(){function e(t){var n=this;p(this,e),this.challengeInvitesService=t,this._challengeItem=null,this.challengeContextHash="",this.setOuterContentVisibility=new s.EventEmitter,this.invitesClick=new s.EventEmitter,this.imageSizes=["cardbanner"],this.currentDate=new Date,this.dueDate=new Date,this._challengeInviteEventSub=this.challengeInvitesService.onChallengeInviteSuccess.subscribe((function(e){e.challengeContextHash==n.challengeContextHash&&n._challengeItem&&(void 0!==e.inviteResponseCount&&(n._challengeItem.inviteResponseCount=e.inviteResponseCount),void 0!==e.invitePeopleCount&&(n._challengeItem.invitePeopleCount=e.invitePeopleCount))}))}return u(e,[{key:"challengeItem",get:function(){return this._challengeItem},set:function(e){e&&(this._challengeItem={featuredImage:e.featuredImage,title:e.title,respondedPeopleCount:e.respondedPeopleCount,dueDate:e.dueDate,inviteResponseCount:e.inviteResponseCount||0,invitePeopleCount:e.invitePeopleCount||0},this._challengeItem.dueDate&&(this.dueDate=Object(ht.a)(this._challengeItem.dueDate)),this.setOuterContentVisibility.emit(!0))}},{key:"ngOnDestroy",value:function(){this._challengeInviteEventSub.unsubscribe()}},{key:"getChallengeDueDate",value:function(e){return e?new Date(e.year,e.month-1,e.day).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"}).toUpperCase():""}}]),e}()).\u0275fac=function(e){return new(e||_i)(s["\u0275\u0275directiveInject"](wi.a))},_i.\u0275cmp=s["\u0275\u0275defineComponent"]({type:_i,selectors:[["mg-challenges-summary-admin-page-item"]],inputs:{challengeContextHash:"challengeContextHash",challengeItem:"challengeItem"},outputs:{setOuterContentVisibility:"setOuterContentVisibility",invitesClick:"invitesClick"},decls:1,vars:1,consts:[["class","item",4,"ngIf"],[1,"item"],[1,"title-mobile",3,"innerHTML"],[1,"inline-items"],[1,"image",3,"srcs"],[1,"item-column","item-desktop","title-text",3,"innerHTML"],[1,"item-column"],["class","active-star",4,"ngIf"],[1,"item-column",3,"click"],[1,"invite-response-count"],["class","invite-total-count",4,"ngIf"],[1,"active-star"],[1,"invite-total-count"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,Mi,20,16,"div",0),2&e&&s["\u0275\u0275property"]("ngIf",t.challengeItem)},directives:[ne.o,Hn.a,Q.a],pipes:[zn.a,Fn.a],styles:[".item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d8d8d8;border-radius:5px;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.2)}@media (max-width:599px){.item[_ngcontent-%COMP%]{border-radius:5px}}.inline-items[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center}.item-column[_ngcontent-%COMP%]{flex:1 0 15%;font-weight:700}@media (max-width:599px){.item-column[_ngcontent-%COMP%]{font-size:14px;margin-right:2px;font-weight:400}}.image[_ngcontent-%COMP%]{flex:1 0 22%;height:60px;margin:5px 20px 5px 5px;border-radius:5px}@media (max-width:599px){.image[_ngcontent-%COMP%]{margin:1px 2px 1px 1px;border-radius:2px}}.title-mobile[_ngcontent-%COMP%]{text-align:left;padding-left:20px;border-bottom:1px solid grey}@media (min-width:600px){.title-mobile[_ngcontent-%COMP%]{display:none}}@media (max-width:599px){.item-desktop[_ngcontent-%COMP%]{display:none}}.title-mobile[_ngcontent-%COMP%], .title-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}@media (min-width:599px){.title-mobile[_ngcontent-%COMP%], .title-text[_ngcontent-%COMP%]{width:250px}}.active-star[_ngcontent-%COMP%]{--mg-icon-size:30px;color:#70b2d7}"],changeDetection:0}),_i);function Si(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",9),s["\u0275\u0275elementStart"](1,"div",10),s["\u0275\u0275text"](2,"Your Challenges"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"div",11),s["\u0275\u0275elementEnd"]())}function ki(e,t){1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275element"](1,"img",17),s["\u0275\u0275elementContainerEnd"]())}function Ei(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275text"](1),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]().$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n," ")}}function Di(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",16),s["\u0275\u0275template"](1,ki,2,0,"ng-container",8),s["\u0275\u0275template"](2,Ei,2,1,"ng-container",8),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","invite-image"==n),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","invite-image"!=n)}}function Ti(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",12),s["\u0275\u0275element"](1,"div",13),s["\u0275\u0275element"](2,"div",14),s["\u0275\u0275template"](3,Di,3,2,"div",15),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",n.headerLabels)}}function Ri(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-challenges-summary-admin-page-item",20),s["\u0275\u0275listener"]("setOuterContentVisibility",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).setOuterContentVisibility(e)}))("invitesClick",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275nextContext"]().itemId;return s["\u0275\u0275nextContext"]().onInvitesClick(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](),o=i.$implicit;s["\u0275\u0275property"]("challengeContextHash",i.itemId)("challengeItem",o.shortChallengeCard)}}function ji(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",18),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.itemId;return s["\u0275\u0275nextContext"]().onClickChallenge(e)})),s["\u0275\u0275template"](1,Ri,1,2,"mg-challenges-summary-admin-page-item",19),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.shortChallengeCard)}}function Ai(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-challenge-overlay-footer"),s["\u0275\u0275element"](1,"div",21),s["\u0275\u0275elementStart"](2,"div",22),s["\u0275\u0275elementStart"](3,"p"),s["\u0275\u0275text"](4," Engage your Minga Community! Create a new challenge for your school. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",23),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onCreateChallengeClick()})),s["\u0275\u0275text"](6," Create New "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}var Bi,Hi,Vi,Li,zi=((Li=function(){function e(t,n,i,o,a){p(this,e),this.challengesRouteService=t,this.contentFeed=n,this.sanitizer=i,this.router=o,this._peopleSelector=a,this.selectedChallengeId="",this.emptyStateIcons=[{icon:"post",text:"Add"},{icon:"challenges-o",text:"Challenge"}],this.feedFilter={filterByCurrentUser:!0,contentType:"CHALLENGE"},this.headerLabels=["Responses","Date","Active","invite-image"],this.isVisible=!0}return u(e,[{key:"onCreateChallengeClick",value:function(){this.challengesRouteService.gotoCreate("m",null,!1)}},{key:"onOverlayClose",value:function(){return Object(g.a)(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.challengesRouteService.returnFromChallenges();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onClickChallenge",value:function(e){this.selectedChallengeId=e,this.challengesRouteService.gotoAdminResponses(e)}},{key:"setOuterContentVisibility",value:function(e){this.isVisible=e}},{key:"onInvitesClick",value:function(e){this._peopleSelector.open("Challenge","invited",{title:"Challenge Invites",data:{contextHash:e}})}}]),e}()).\u0275fac=function(e){return new(e||Li)(s["\u0275\u0275directiveInject"](I.a),s["\u0275\u0275directiveInject"](bi.ContentFeed),s["\u0275\u0275directiveInject"](In.b),s["\u0275\u0275directiveInject"](d.g),s["\u0275\u0275directiveInject"](Pt.PeopleSelectorService))},Li.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Li,selectors:[["ng-component"]],decls:11,vars:6,consts:[[3,"overlayClose"],[1,"content","padded-center-content"],["class","header-content",4,"ngIf"],["class","challenge-list-header",4,"ngIf"],[1,"body-content"],["mgStreamControl","challengesPersonalFeed","rpcStream","streamContentFeed","rpcControl","streamContentFeedControl",3,"filter","service","mgTrimmed"],["mgStreamItem",""],["mg-stream-empty","",3,"setOuterContentVisibility","onCreateChallengeClick","onOverlayCloseClick"],[4,"ngIf"],[1,"header-content"],[1,"title-text"],[1,"divider"],[1,"challenge-list-header"],[1,"challenge-list-label-image-fill"],[1,"challenge-list-label","title"],["class","challenge-list-label",4,"ngFor","ngForOf"],[1,"challenge-list-label"],["src","assets/event/event-invited.svg",1,"invite-icon-header"],[1,"challenge",3,"click"],[3,"challengeContextHash","challengeItem","setOuterContentVisibility","invitesClick",4,"ngIf"],[3,"challengeContextHash","challengeItem","setOuterContentVisibility","invitesClick"],[1,"left-footer-container"],[1,"right-footer-container"],["mgBubbleBtn","",1,"next-button",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mg-challenge-overlay",0),s["\u0275\u0275listener"]("overlayClose",(function(){return t.onOverlayClose()})),s["\u0275\u0275elementStart"](1,"mg-challenge-overlay-title"),s["\u0275\u0275element"](2,"mg-challenge-logo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275template"](4,Si,4,0,"div",2),s["\u0275\u0275template"](5,Ti,4,1,"div",3),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275elementStart"](7,"mg-stream-scroller",5),s["\u0275\u0275template"](8,ji,2,1,"ng-template",6),s["\u0275\u0275elementStart"](9,"mg-challenges-summary-empty-state",7),s["\u0275\u0275listener"]("setOuterContentVisibility",(function(e){return t.setOuterContentVisibility(e)}))("onCreateChallengeClick",(function(){return t.onCreateChallengeClick()}))("onOverlayCloseClick",(function(){return t.onOverlayClose()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](10,Ai,7,0,"mg-challenge-overlay-footer",8),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",t.isVisible),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isVisible),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("filter",t.feedFilter)("service",t.contentFeed)("mgTrimmed",!0),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",t.isVisible))},directives:[ee,X,te,ne.o,kn.a,En.a,Dn.a,yi,ne.n,Ii,Z],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.title-text[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Muli,sans-serif;line-height:1.35;margin-top:32px}@media (orientation:landscape){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vh}}@media (orientation:portrait){.title-text[_ngcontent-%COMP%]{font-size:6.8019323671vw}}@media (orientation:landscape) and (max-height:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (orientation:portrait) and (max-width:414px){.title-text[_ngcontent-%COMP%]{font-size:28.16px}}@media (min-width:439.875px){.title-text[_ngcontent-%COMP%]{font-size:29.92px}}@media (max-width:1140px){.title-text[_ngcontent-%COMP%]{margin-top:16px}}.divider[_ngcontent-%COMP%]{width:165px;border-top:6px solid #b2b2b2;margin:auto}[_nghost-%COMP%]{--mg-form-input-border-width:1px}.padded-center-content[_ngcontent-%COMP%]{padding:0 10%}@media (max-width:1140px){.padded-center-content[_ngcontent-%COMP%]{padding:0}}.content[_ngcontent-%COMP%]{flex-direction:column;position:relative;text-align:center}.next-button[_ngcontent-%COMP%]{padding:0 2.5em;border-radius:2.5em;margin-left:10px;cursor:pointer;font-size:17px}@media (max-width:599px){.next-button[_ngcontent-%COMP%]{font-size:14px}}.header-content[_ngcontent-%COMP%]{margin-bottom:30px}@media (max-width:1140px){.header-content[_ngcontent-%COMP%]{margin-bottom:16px}}.body-content[_ngcontent-%COMP%]{display:block;height:80%}@media (max-width:1140px){.body-content[_ngcontent-%COMP%]{height:90%}}.challenge-list-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;margin-bottom:6px;align-items:center}.challenge-list-label-image-fill[_ngcontent-%COMP%]{flex:1 0 22%;margin-left:5px;margin-right:20px}@media (max-width:599px){.challenge-list-label-image-fill[_ngcontent-%COMP%]{margin-left:1px;margin-right:2px}}.challenge-list-label[_ngcontent-%COMP%]{color:#b2b2b2;flex:1 0 15%}@media (max-width:599px){.challenge-list-label[_ngcontent-%COMP%]{font-size:12px}.challenge-list-label.title[_ngcontent-%COMP%]{display:none}}.right-footer-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width:599px){.right-footer-container[_ngcontent-%COMP%]{font-size:11px}}.invite-icon-header[_ngcontent-%COMP%]{width:28px}']}),Li),Fi=((Vi=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||Vi)},Vi.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Vi}),Vi.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[di.a,dt.b,Xe.a,ne.c]]}),Vi),Ni=((Hi=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||Hi)},Hi.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Hi}),Hi.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Ye.a,hi.b,st.b,Xe.a,et,We,ne.c,d.k]]}),Hi),Ui=((Bi=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||Bi)},Bi.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Bi}),Bi.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Ye.a,st.b,Xe.a,et,dt.b,We,ot.a,Ci.b,vi.a,Ni,Fi,Ze.a,ne.c,d.k,be.c]]}),Bi);function qi(e){return{path:e.path,component:e.component,resolve:{routeData:C},data:{nextPath:e.nextPath,previousPath:e.previousPath,contentManagerType:e.contentManager,title:e.title,type:e.type}}}function Gi(e,t){return[{path:"".concat(e),children:[qi({path:"create/type",component:Jt,contentManager:t,previousPath:"",nextPath:"create",title:"Create A Challenge"}),qi({path:"create/photo",component:Ge,contentManager:t,previousPath:"create/type",nextPath:"create/preview",title:"Create a Photo Challenge",type:w.ChallengeType.IMAGE}),qi({path:"create/video",component:Ge,contentManager:t,previousPath:"create/type",nextPath:"create/preview",title:"Create a Video Challenge",type:w.ChallengeType.VIDEO}),qi({path:"create/text",component:Ge,contentManager:t,previousPath:"create/type",nextPath:"create/preview",title:"Create a Text Challenge",type:w.ChallengeType.TEXT}),qi({path:"create/preview",component:Nt,contentManager:t,previousPath:"create",nextPath:"",title:"Preview your changes"}),qi({path:"edit/content/:contentHash",component:Ge,contentManager:t,previousPath:"",nextPath:"edit/preview/:contentHash",title:"Edit Your Challenge"}),qi({path:"edit/preview/:contentHash",component:Nt,contentManager:t,previousPath:"edit/content/:contentHash",nextPath:"",title:"Preview your changes"}),qi({path:"edit/content/:contentHash/:contextHash",component:Ge,contentManager:t,previousPath:"",nextPath:"edit/preview/:contentHash/:contextHash"}),qi({path:"edit/preview/:contentHash/:contextHash",component:Nt,contentManager:t,previousPath:"edit/content/:contentHash/:contextHash"})]}]}var $i,Qi=[{path:"",pathMatch:"full",redirectTo:"m/create/landing"},{path:"admin/summary",component:zi},{outlet:"o",path:"challenge~people/:id",component:vn},{path:"admin/responses/:id",component:ri}].concat(t(Gi("m",b.a)),t(Gi("g/:groupHash",x.a)),t(Gi("p/:programHash",y.a))),Yi=(($i=u((function e(){p(this,e)}))).\u0275fac=function(e){return new(e||$i)},$i.\u0275mod=s["\u0275\u0275defineNgModule"]({type:$i}),$i.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[Wt,gt,b.b,x.b,Yt,Ui,Pn,xi,P.a,Fi,gi,Ni,O.a,mi,d.k.forChild(Qi)]]}),$i)}}])}();
//# sourceMappingURL=minga-app-src-app-challenge-route-ChallengeRoutes-module-es5.js.map