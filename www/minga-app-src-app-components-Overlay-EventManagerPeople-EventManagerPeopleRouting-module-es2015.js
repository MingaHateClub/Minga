(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{IPaV:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("mrSG"),o=n("8Y7J"),i=n("QPZY"),s=n("mI3D"),c=n("ypKM"),a=n("Tcc+");let l=(()=>{class e{constructor(e,t){this.errorReporter=e,this.analytics=t}sendErrorReport(e,t,n=0){return Object(r.a)(this,void 0,void 0,(function*(){let r=new s.ErrorReportRequest,o=new s.ErrorReportResponse;console.log("GRPCErrorReportRequest: ",r),console.log("GRPCErrorReportResponse: ",o),this.analytics.sendException(`[${e}]: ${t}`,n),r.setErrorPriority(n),r.setErrorMessage(t),r.setErrorContext(e),o=yield this.errorReporter.sendErrorReport(r).catch(e=>{console.error("[ErrorReporter] sendErrorReport error",e);let t=new s.ErrorReportResponse;return t.setStatus(i.StatusCode.ERROR),t}),console.log("Error Response Status:",o.getStatus()),console.log("Error Response error_handler_override:",o.getErrorHandlerOverride())}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](c.ErrorReporter),o["\u0275\u0275inject"](a.a))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ZRb1:function(e,t,n){"use strict";n.r(t),n.d(t,"EventManagerPeopleRoutingModule",(function(){return b}));var r=n("8Y7J"),o=n("iInd"),i=n("mrSG"),s=n("QPZY"),c=n("oFih"),a=n("/4+J"),l=n("IPaV"),p=n("zeEq"),d=n("SVse"),u=n("M2HC"),g=n("ZnCC"),h=n("fC9k"),v=n("SYVq"),f=n("wIoi");function m(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mg-membership-list-table",2),r["\u0275\u0275listener"]("listUpdated",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().reloadLists()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("hideHeader",!0)("lists",e.lists)("autoCreate",!0)}}let C=(()=>{class e{constructor(e,t,n,r,o,i,s,c){this.errorReporting=e,this.feedEventManager=t,this._route=n,this._location=r,this._eventContentService=o,this._contentViewsService=i,this._listService=s,this._cdr=c,this.lists=[],this.setupRouterListener()}get contentFilter(){return!!this.contextHash&&{contextHash:this.contextHash}}registerOnOverlayPreviousUpdate(e){this._onRegisterOnOverlayPreviousUpdate=e}setupRouterListener(){this._route.params.subscribe(e=>Object(i.a)(this,void 0,void 0,(function*(){"hash"in e?(this.contextHash=e.hash,this.content=this._eventContentService.getContentForPeopleGoing(this.contextHash),this.content?yield this.initEventManagerList():yield this.getContent()):(console.error("[EventManagerPeopleComponent] no hash available to get content!"),this._location.back())})))}getContent(){return Object(i.a)(this,void 0,void 0,(function*(){const e=new c.LoadContentRequest,t=new s.UniqueHash;t.setValue(this.contextHash),e.addContentContextHash(t);const n=yield this._contentViewsService.loadContent(e).catch(e=>Object(i.a)(this,void 0,void 0,(function*(){const e=new c.LoadContentResponse;return e.setStatus(s.StatusCode.ERROR),e})));if(n.getStatus()===s.StatusCode.OK){const e=n.getContentList();if(e.length){const t=e[0];t.hasLongEventCard()&&(this.content=t.getLongEventCard().toObject(),this._onRegisterOnOverlayPreviousUpdate(this.overlayPrevious),yield this.initEventManagerList())}}}))}initEventManagerList(){return Object(i.a)(this,void 0,void 0,(function*(){this.contextHash&&(this.lists=[{contextHash:this.contextHash,type:a.MembershipListType.CONTENT_MANAGER}],this._cdr.detectChanges())}))}reloadLists(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.initEventManagerList()}))}get overlayPrevious(){return{icon:"back",text:this.content&&this.content.title||"Back"}}hasOverlayPrevious(){return this.overlayPrevious}onOverlayPrevious(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}onOverlayClose(){return Object(i.a)(this,void 0,void 0,(function*(){return this._location.back(),!0}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](p.FeedEventManager),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](d.k),r["\u0275\u0275directiveInject"](u.b),r["\u0275\u0275directiveInject"](g.ContentViews),r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-event-manager-people"]],decls:2,vars:2,consts:[[3,"component"],[4,"ngIf"],[3,"hideHeader","lists","autoCreate","listUpdated"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),r["\u0275\u0275template"](1,m,2,3,"ng-container",1)),2&e&&(r["\u0275\u0275property"]("component",t),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",0!==t.lists.length))},directives:[v.a,d.o,f.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{--feed-item-margin-vert:0px;--feed-item-margin-side:0px}membership-list-view[_ngcontent-%COMP%]{--mg-membership-list-view-margin-bottom:0}']}),e})();var y=n("CO6v"),R=n("m9yI"),E=n("T0Jv"),_=n("CL15"),w=n("zJTi");let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[R.b,E.a,_.a,y.a,w.a,d.c]]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[S,o.k.forChild([{path:"",component:C}])]]}),e})()},dfi4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReporterClient=t.LocaleSyncClient=t.AppConfigClient=t.ErrorReporter=t.LocaleSync=t.AppConfig=void 0;const r=n("mI3D");class o{}t.AppConfig=o,o.serviceName="AppConfig",o.getAppConfig={methodName:"getAppConfig",service:o,requestStream:!1,responseStream:!1,requestType:r.AppConfigRequest,responseType:r.AppConfigResponse};class i{}t.LocaleSync=i,i.serviceName="LocaleSync",i.getLocaleSync={methodName:"getLocaleSync",service:i,requestStream:!1,responseStream:!1,requestType:r.LocaleSyncRequest,responseType:r.LocaleSyncResponse};class s{}t.ErrorReporter=s,s.serviceName="ErrorReporter",s.sendErrorReport={methodName:"sendErrorReport",service:s,requestStream:!1,responseStream:!1,requestType:r.ErrorReportRequest,responseType:r.ErrorReportResponse},t.AppConfigClient=class{getAppConfig(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},t.LocaleSyncClient=class{getLocaleSync(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},t.ErrorReporterClient=class{sendErrorReport(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},ypKM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReporter=t.LocaleSync=t.AppConfig=void 0,n("8Y7J");const r=n("+6wJ"),o=n("dfi4"),i=n("8Y7J");class s{constructor(e){this._ngZone=e}getAppConfig(e,t,n){let i,s,c;"function"==typeof t?s=t:(c=t,s=n),s||(i=new Promise((e,t)=>{s=(n,r)=>{n?t(n):e(r)}}));let a=null,l=r.grpc.invoke(o.AppConfig.getAppConfig,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onHeaders:e=>a=e,onMessage:e=>this._ngZone.run(()=>{s(null,e,a||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,s(n)}})});return i.cancel=()=>l.close(),i}}t.AppConfig=s,s.\u0275fac=function(e){return new(e||s)(i.\u0275\u0275inject(i.NgZone))},s.\u0275prov=i.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"});class c{constructor(e){this._ngZone=e}getLocaleSync(e,t,n){let i,s,c;"function"==typeof t?s=t:(c=t,s=n),s||(i=new Promise((e,t)=>{s=(n,r)=>{n?t(n):e(r)}}));let a=null,l=r.grpc.invoke(o.LocaleSync.getLocaleSync,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onHeaders:e=>a=e,onMessage:e=>this._ngZone.run(()=>{s(null,e,a||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,s(n)}})});return i.cancel=()=>l.close(),i}}t.LocaleSync=c,c.\u0275fac=function(e){return new(e||c)(i.\u0275\u0275inject(i.NgZone))},c.\u0275prov=i.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"});class a{constructor(e){this._ngZone=e}sendErrorReport(e,t,n){let i,s,c;"function"==typeof t?s=t:(c=t,s=n),s||(i=new Promise((e,t)=>{s=(n,r)=>{n?t(n):e(r)}}));let a=null,l=r.grpc.invoke(o.ErrorReporter.sendErrorReport,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onHeaders:e=>a=e,onMessage:e=>this._ngZone.run(()=>{s(null,e,a||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,s(n)}})});return i.cancel=()=>l.close(),i}}t.ErrorReporter=a,a.\u0275fac=function(e){return new(e||a)(i.\u0275\u0275inject(i.NgZone))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})}}]);
//# sourceMappingURL=minga-app-src-app-components-Overlay-EventManagerPeople-EventManagerPeopleRouting-module-es2015.js.map