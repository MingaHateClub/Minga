(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"9QcJ":function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var i=e("8Y7J"),o=e("s7LF"),a=e("Ggka");let r=(()=>{class n{validate(n){const t=n.value;return t&&!a.a.EmailRegex.test(t)?{invalidEmail:!0}:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i["\u0275\u0275defineDirective"]({type:n,selectors:[["","mgEmailValidator",""]],features:[i["\u0275\u0275ProvidersFeature"]([{provide:o.q,useExisting:n,multi:!0}])]}),n})()},GNGV:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var i=e("8Y7J"),o=e("s7LF");e("9QcJ");let a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[o.m]]}),n})()},GNNB:function(n,t,e){"use strict";e.d(t,"a",(function(){return I}));var i=e("8Y7J"),o=e("s7LF"),a=e("pgOG"),r=e("PqYM"),d=e("eIep"),g=e("EyMp"),l=e("Q2Ze"),m=e("i1AJ"),c=e("SVse"),p=e("e6WT"),s=e("Tj54"),u=e("sj4O"),h=e("TSSN");const f=["pinInput"];function x(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"mat-icon"),i["\u0275\u0275text"](1,"done"),i["\u0275\u0275elementEnd"]())}function C(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"mat-icon"),i["\u0275\u0275text"](1,"error_outline"),i["\u0275\u0275elementEnd"]())}function M(n,t){1&n&&i["\u0275\u0275element"](0,"mg-spinner",6)}function O(n,t){if(1&n&&(i["\u0275\u0275elementStart"](0,"mat-hint"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&n){const n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,n.hint)," ")}}function _(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&n&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.pin.error.pattern")," "))}function P(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&n&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.pin.error.pinTaken")," "))}function v(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&n&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.pin.error.max")," "))}function b(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&n&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.pin.error.incorrect")," "))}function w(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&n&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.pin.error.required")," "))}function y(n,t){if(1&n&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275elementContainerStart"](1,7),i["\u0275\u0275template"](2,_,3,3,"span",8),i["\u0275\u0275template"](3,P,3,3,"span",8),i["\u0275\u0275template"](4,v,3,3,"span",8),i["\u0275\u0275template"](5,b,3,3,"span",8),i["\u0275\u0275template"](6,w,3,3,"span",9),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275elementEnd"]()),2&n){const n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitch",n.inputControlErrorKey),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","pattern"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","pinTaken"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","max"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","incorrect")}}const S=function(n){return{"hidden-required":n}},k={provide:o.r,useExisting:Object(i.forwardRef)(()=>I),multi:!0},E={provide:o.q,useExisting:Object(i.forwardRef)(()=>I),multi:!0};let I=(()=>{class n{constructor(n,t){this.personValidation=n,this.inj=t,this.disabled=!1,this.required=!1,this.unique=!1,this.error="",this.hint="",this.hiddenRequired=!1,this.readonly=!0,this.mgNoHintMargin=!1,this.outerControl=new o.h,this._setupUniqueValidator()}validate(n){return this.inputControl.errors}ngOnInit(){this.inputControl=new o.h({value:this.innerValue,disabled:this.disabled},[o.D.pattern(/^[0-9]*$/),o.D.max(2147483647)],this._getAsyncValidators()),this._formGroup=new o.k({inputControl:this.inputControl}),this._initOuterControl(),this.inputControl.statusChanges.subscribe(n=>{"function"==typeof this.onChange&&(this.onChange(this.innerValue),this.onTouched())})}ngOnChanges(n){if(n.unique&&this._formGroup){let n=this._getAsyncValidators();this.inputControl.setAsyncValidators(n)}n.error&&this._showCustomError()}_showCustomError(){if(this.error&&this.inputControl){let n={};n[this.error]=!0,this.inputControl.setErrors(n)}}_initOuterControl(){let n=this.inj.get(o.s);n&&n.control&&(this.outerControl=n.control),this.outerControl.statusChanges.subscribe(n=>{this.outerControl.errors&&0==!!this.inputControl.errors?this.outerErrors=this.outerControl.errors:!this.outerControl.errors&&this.outerErrors&&(this.outerErrors=null)})}get inputRequired(){return this.required}get inputControlErrorKey(){let n=this.inputControl.errors?Object.keys(this.inputControl.errors)[0]:"",t=this.outerControl.errors?Object.keys(this.outerControl.errors)[0]:"";return n||t}get statusDone(){return this.inputControl.dirty&&this.inputControl.valid&&(!this.outerControl||this.outerControl.dirty&&this.outerControl.valid)}get statusInvalid(){return this.inputControl.dirty&&this.inputControl.invalid||!this.outerControl||this.outerControl.dirty&&this.outerControl.invalid}get statusTouched(){return this.inputControl.invalid&&(this.inputControl.dirty||this.inputControl.touched)||this.outerControl.invalid&&(this.outerControl.dirty||this.outerControl.touched)}get statusPending(){return this.inputControl.pending||this.outerControl.pending}wantsUnique(){return this.unique||"number"==typeof this.unique}_getAsyncValidators(n=this.wantsUnique()){let t=[];return n&&t.push(this._uniqueValidator),t}_setupUniqueValidator(){this._uniqueValidator=n=>{const t=n.value;let e=new a.PinUniqueRequest;return e.setPin(t),"number"==typeof this.unique&&(console.log("gonna return as value is: "+t),this.unique==t||t>=2147483648)?Promise.resolve(null):Object(r.a)(1e3).pipe(Object(d.a)(()=>this.personValidation.pinUnique(e).then(n=>n.getUnique()?null:{pinTaken:!0})))}}writeValue(n){"number"==typeof n&&(this.innerValue=n,this.inputControl.setValue(this.innerValue))}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}change(n){n=this.ensureNumeric(n),this.innerValue=n,this.onChange&&this.onChange(this.innerValue)}ensureNumeric(n){return String(n).replace(/\D/g,"")}}return n.\u0275fac=function(t){return new(t||n)(i["\u0275\u0275directiveInject"](g.PersonValidation),i["\u0275\u0275directiveInject"](i.Injector))},n.\u0275cmp=i["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-pin"]],viewQuery:function(n,t){if(1&n&&i["\u0275\u0275viewQuery"](f,3),2&n){let n;i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.pinInput=n.first)}},inputs:{disabled:"disabled",required:"required",unique:"unique",error:"error",hint:"hint",placeholder:"placeholder",hiddenRequired:"hiddenRequired",readonly:"readonly",mgNoHintMargin:"mgNoHintMargin"},features:[i["\u0275\u0275ProvidersFeature"]([k,E]),i["\u0275\u0275NgOnChangesFeature"]],decls:11,vars:14,consts:[["mgFormField","",1,"mg-pin",3,"ngClass","mgReadOnly","mgNoHintMargin"],["matInput","","type","text","min","0","inputmode","numeric","pattern","[0-9]*",3,"formControl","required","readonly","ngModelChange"],["pinInput",""],["mat-icon-button","","matSuffix","",1,"input-icon"],[4,"ngIf"],["color","primary","mode","indeterminate","diameter","25",4,"ngIf"],["color","primary","mode","indeterminate","diameter","25"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",1,2),i["\u0275\u0275listener"]("ngModelChange",(function(n){return t.change(n)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",3),i["\u0275\u0275template"](6,x,2,0,"mat-icon",4),i["\u0275\u0275template"](7,C,2,0,"mat-icon",4),i["\u0275\u0275template"](8,M,1,0,"mg-spinner",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,O,3,3,"mat-hint",4),i["\u0275\u0275template"](10,y,7,5,"mat-error",4),i["\u0275\u0275elementEnd"]()),2&n&&(i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](12,S,t.hiddenRequired))("mgReadOnly",t.readonly)("mgNoHintMargin",t.mgNoHintMargin),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.placeholder||"PIN"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formControl",t.outerErrors?t.outerControl:t.inputControl)("required",t.inputRequired)("readonly",t.readonly),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.statusDone&&t.outerControl.asyncValidator),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.statusInvalid&&t.outerControl.asyncValidator),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.statusPending),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.hint),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.statusTouched))},directives:[l.d,m.a,c.m,l.h,p.b,o.d,o.z,o.t,o.i,o.B,l.j,c.o,s.a,u.a,l.g,l.c,c.q,c.r,c.s],pipes:[h.d],styles:[""]}),n})()},JYnX:function(n,t,e){"use strict";e.r(t),e.d(t,"LandingModule",(function(){return Xn}));var i=e("SVse"),o=e("8Y7J"),a=e("u9T3"),r=e("s7LF"),d=e("o4Yh"),g=e("Q2Ze"),l=e("Tj54"),m=e("e6WT"),c=e("iInd"),p=e("TSSN"),s=e("CO6v"),u=e("vFTH"),h=e("03q0");const f={provide:r.r,useExisting:Object(o.forwardRef)(()=>x),multi:!0};let x=(()=>{class n{constructor(){this.value=""}triggerOnChange(){this._onChange&&this._onChange(this.value)}triggerOnTouched(){this._onTouched&&this._onTouched()}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}writeValue(n){null===n?this.value="":"string"==typeof n&&(this.value=n)}_setValue(n){this.writeValue(n),this.triggerOnChange(),this.triggerOnTouched()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-country-selector"]],features:[o["\u0275\u0275ProvidersFeature"]([f])],decls:4,vars:3,consts:[[1,"mg-country-selector"],["country","CAN",3,"active","click"],["country","USA",3,"active","click"],["country","INTL",3,"active","click"]],template:function(n,t){1&n&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"mg-country",1),o["\u0275\u0275listener"]("click",(function(){return t._setValue("CAN")})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"mg-country",2),o["\u0275\u0275listener"]("click",(function(){return t._setValue("USA")})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mg-country",3),o["\u0275\u0275listener"]("click",(function(){return t._setValue("INTL")})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("active","CAN"==t.value),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("active","USA"==t.value),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("active","INTL"==t.value))},directives:[h.a],styles:["[_nghost-%COMP%]{display:block;text-align:center;border-color:#ccc}[_nghost-%COMP%]   .mg-country-selector[_ngcontent-%COMP%]{color:inherit;display:flex;justify-content:space-between;border-color:inherit}[_nghost-%COMP%]   .mg-country-selector[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:inherit}"]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[r.m,i.c,u.b]]}),n})();var M=e("n09W"),O=e("LGJD"),_=e("kvmc"),P=e("6Bu3"),v=e("eJkR"),b=e("zkd0"),w=e("fHWq"),y=e("5VmK"),S=e("HxU+"),k=e("ls3q"),E=e("GNGV"),I=e("GBap"),j=e("JJzG"),L=e("XMmb"),T=e("7Tcv"),N=e("V3cZ"),q=e("2Vo4"),V=e("5lxJ");let z=(()=>{class n{constructor(n){this.email="",this.pin="",this.mingaName="",this.personName="",this.mingaLogo="",this.passwordToken="",this.country$=n.countrySubject.asObservable(),this._onLandingContentExpandHeight=new q.a(!1)}emitLandingContentExpandHeight(n){this._onLandingContentExpandHeight.next(n)}get onLandingContentExpandHeight(){return this._onLandingContentExpandHeight.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275inject"](V.a))},n.\u0275prov=o["\u0275\u0275defineInjectable"]({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var B=e("GYl7");function F(n,t){1&n&&o["\u0275\u0275element"](0,"div",5)}let G=(()=>{class n{constructor(n,t,e){this.router=n,this.route=t,this.landing=e,this.title="",this.slogan="",this.logo=!0,this.extraTopMargin=!1,this.routesSubscription=this.router.events.subscribe(n=>{n instanceof c.c&&this.navDataHandler()})}navDataHandler(){let n=this.route;for(;n;){if(n&&n.snapshot){let t=n.snapshot.data;"landingTitle"in t&&(this.title=t.landingTitle),"landingSlogan"in t&&(this.slogan=t.landingSlogan),"landingLogo"in t&&(this.logo=t.landingLogo),"extraTopMargin"in t&&(this.extraTopMargin=!!t.extraTopMargin)}n=n.firstChild}}ngOnInit(){N.a.hide()}ngOnDestroy(){this.routesSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](z))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing"]],decls:7,vars:1,consts:[[1,"landing"],["class","extra-top-margin",4,"ngIf"],[1,"landing-content"],[1,"landing-content-bg"],[1,"landing-content-routes"],[1,"extra-top-margin"]],template:function(n,t){1&n&&(o["\u0275\u0275elementStart"](0,"mg-silh-landing-layout"),o["\u0275\u0275elementStart"](1,"div",0),o["\u0275\u0275template"](2,F,1,0,"div",1),o["\u0275\u0275elementStart"](3,"div",2),o["\u0275\u0275element"](4,"div",3),o["\u0275\u0275elementStart"](5,"div",4),o["\u0275\u0275element"](6,"router-outlet"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.extraTopMargin))},directives:[B.a,i.o,c.l],styles:[".extra-top-margin[_ngcontent-%COMP%]{padding-bottom:80px}.landing-footer.user-content-page[_ngcontent-%COMP%]{padding-top:50px}@media (orientation:landscape){.landing-footer.user-content-page[_ngcontent-%COMP%]{padding-top:4.375vh}}@media (orientation:portrait){.landing-footer.user-content-page[_ngcontent-%COMP%]{padding-top:4.375vw}}@media (orientation:landscape) and (max-height:320px){.landing-footer.user-content-page[_ngcontent-%COMP%]{padding-top:14px}}@media (orientation:portrait) and (max-width:320px){.landing-footer.user-content-page[_ngcontent-%COMP%]{padding-top:14px}}@media (min-width:1142.8571428571px){.landing-footer.user-content-page[_ngcontent-%COMP%]{padding-top:50px}}.landing-footer.user-content-page[_ngcontent-%COMP%], .landing-footer.user-content-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.landing[_ngcontent-%COMP%]{margin-top:32px}@media (orientation:landscape){.landing[_ngcontent-%COMP%]{margin-top:5vh}}@media (orientation:portrait){.landing[_ngcontent-%COMP%]{margin-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing[_ngcontent-%COMP%]{margin-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing[_ngcontent-%COMP%]{margin-top:16px}}@media (min-width:1000px){.landing[_ngcontent-%COMP%]{margin-top:50px}}.landing-content[_ngcontent-%COMP%]{position:relative;max-width:455px;margin:0 auto;box-sizing:border-box;transition:height .3s cubic-bezier(.55,0,.55,.2)}@media (orientation:landscape){.landing-content[_ngcontent-%COMP%]{padding-top:2.5vh}}@media (orientation:portrait){.landing-content[_ngcontent-%COMP%]{padding-top:2.5vw}}@media (orientation:landscape) and (max-height:320px){.landing-content[_ngcontent-%COMP%]{padding-top:8px}}@media (orientation:portrait) and (max-width:320px){.landing-content[_ngcontent-%COMP%]{padding-top:8px}}@media (min-width:640px){.landing-content[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:landscape){.landing-content[_ngcontent-%COMP%]{padding-bottom:2.5vh}}@media (orientation:portrait){.landing-content[_ngcontent-%COMP%]{padding-bottom:2.5vw}}@media (orientation:landscape) and (max-height:320px){.landing-content[_ngcontent-%COMP%]{padding-bottom:8px}}@media (orientation:portrait) and (max-width:320px){.landing-content[_ngcontent-%COMP%]{padding-bottom:8px}}@media (min-width:640px){.landing-content[_ngcontent-%COMP%]{padding-bottom:16px}}@media (max-width:487px){.landing-content[_ngcontent-%COMP%]{margin:0 16px}}.landing-content[_ngcontent-%COMP%]   .landing-content-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:8px}.landing-content[_ngcontent-%COMP%]   .landing-content-routes[_ngcontent-%COMP%]{position:relative;z-index:1;height:100%}"]}),n})();function A(n,t){return class{constructor(n,t){this.landing=n,this.router=t}canActivate(e,i){let o=!!this.landing[n];return o||this.router.navigate(t),o}}}let H=(()=>{class n extends(A("pin",["/landing/email"])){constructor(n,t){super(n,t)}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275inject"](z),o["\u0275\u0275inject"](c.g))},n.\u0275prov=o["\u0275\u0275defineInjectable"]({token:n,factory:n.\u0275fac}),n})(),R=(()=>{class n extends(A("email",["/landing/email"])){constructor(n,t){super(n,t)}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275inject"](z),o["\u0275\u0275inject"](c.g))},n.\u0275prov=o["\u0275\u0275defineInjectable"]({token:n,factory:n.\u0275fac}),n})(),Q=(()=>{class n extends(function(n,t){return class{constructor(n,t){this.landing=n,this.router=t}canActivate(e,i){for(let o of n){let n=!!this.landing[o];return n||this.router.navigate(t),n}return!1}}}(["email","pin"],["/landing/email"])){constructor(n,t){super(n,t)}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275inject"](z),o["\u0275\u0275inject"](c.g))},n.\u0275prov=o["\u0275\u0275defineInjectable"]({token:n,factory:n.\u0275fac}),n})();var U=e("mrSG"),J=e("GFah"),D=e("VDRc"),$=e("4avL");let W=(()=>{class n{constructor(n,t,e,i,o){this.route=n,this.router=t,this.landing=e,this.appConfigService=i,this.rootService=o,this._redirect="",this.formGroup=new r.k({country:new r.h("",[r.D.required])}),this.route.queryParams.subscribe(n=>{try{this._redirect=atob(n.redirect)}catch(t){console.error(t)}})}onSubmit(){return Object(U.a)(this,void 0,void 0,(function*(){if(this.formGroup.invalid)return;const n=this.formGroup.controls.country.value;yield this.appConfigService.setAppCountry(n);try{this._redirect?yield this.router.navigateByUrl(this._redirect):this.landing.passwordToken?yield this.router.navigate(["/landing/reset/"+this.landing.passwordToken]):yield this.router.navigate(["/landing"])}catch(t){location.pathname="/"}}))}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](z),o["\u0275\u0275directiveInject"](V.a),o["\u0275\u0275directiveInject"](J.a))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing-country"]],decls:8,vars:2,consts:[["fxLayout","column",1,"landing-form","flex-spaced-content",3,"formGroup","submit"],[1,"mg-centered","landing-title1"],[1,"landing-subtitle","mg-smallcopy"],["formControlName","country","name","country"],["type","outline",1,"large",3,"disabled"]],template:function(n,t){1&n&&(o["\u0275\u0275elementStart"](0,"form",0),o["\u0275\u0275listener"]("submit",(function(){return t.onSubmit()})),o["\u0275\u0275elementStart"](1,"h1",1),o["\u0275\u0275text"](2,"Let's get started!"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",2),o["\u0275\u0275text"](4,"Where is your Minga?"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"mg-country-selector",3),o["\u0275\u0275elementStart"](6,"mg-button",4),o["\u0275\u0275text"](7,"Next"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275property"]("formGroup",t.formGroup),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("disabled",t.formGroup.invalid))},directives:[r.E,r.u,D.e,r.l,x,r.t,r.j,$.a],styles:['@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");form.landing-form[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%;--mg-form-input-margin-bottom:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-right:32px}}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-email[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-password[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-pin[_ngcontent-%COMP%]{width:100%}.landing-title1[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:49px;color:#707070;padding-top:0;margin:0 0 8px}.landing-title2[_ngcontent-%COMP%]{font-size:16px;margin:0;padding-top:41px;padding-bottom:16px}@media (orientation:landscape){.landing-title2[_ngcontent-%COMP%]{padding-top:5vh}}@media (orientation:portrait){.landing-title2[_ngcontent-%COMP%]{padding-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (min-width:820px){.landing-title2[_ngcontent-%COMP%]{padding-top:41px}}mg-button-icon.top[_ngcontent-%COMP%]{padding-top:0;margin-top:-.2em}@media (orientation:landscape){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:32px}}p.landing-subtitle[_ngcontent-%COMP%]{margin-bottom:4px}.input-padding[_ngcontent-%COMP%]{display:block}.flex-spaced-content[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;height:100%}.or-divider[_ngcontent-%COMP%]{margin:8px}a[_ngcontent-%COMP%]{color:#4ba0cd}form[_ngcontent-%COMP%]{display:block;margin:0 auto}mg-button[_ngcontent-%COMP%]{width:100%}.landing-subtitle[_ngcontent-%COMP%]{opacity:.7;margin:0}mg-country-selector[_ngcontent-%COMP%]{width:90%;margin-top:8px;margin-bottom:8px}.welcome-back[_ngcontent-%COMP%]{cursor:pointer;border-radius:6px;background-color:hsla(0,0%,100%,.5);padding:16px}.welcome-back[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{padding-left:8px}']}),n})();var Y=e("JF7H"),K=e("UWMR"),Z=e("dhKc"),X=e("VsVn");let nn=(()=>{class n{constructor(n,t,e,i,o,a){this.landing=n,this.router=t,this.route=e,this.rootService=i,this.authService=o,this.snackbar=a,this._destroyed=!1,this.success=!1,this.resetToken="",this.formGroup=new r.k({password:new r.h}),this.route.params.subscribe(n=>{this.resetToken=n.resetToken||""})}onSubmit(){return Object(U.a)(this,void 0,void 0,(function*(){let n=null;n=this.resetToken?this.authService.createAccountWithResetToken(this.landing.email,this.formGroup.controls.password.value,this.resetToken):this.authService.createAccountWithPin(this.landing.email,this.formGroup.controls.password.value,this.landing.pin);let t=yield this.rootService.addLoadingPromise(n);t.mingaLogo&&(this.landing.mingaLogo=t.mingaLogo),t.mingaName&&(this.landing.mingaName=t.mingaName),t.personName&&(this.landing.personName=t.personName),t.success?this._destroyed||(yield this.router.navigate(["/landing/joining"],{skipLocationChange:!0})):this.snackbar.open(t.reason||"Could not create account at this time")}))}ngOnDestroy(){this._destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](z),o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](J.a),o["\u0275\u0275directiveInject"](Y.a),o["\u0275\u0275directiveInject"](K.b))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing-create"]],decls:8,vars:6,consts:[["fxLayout","column",1,"landing-form","flex-spaced-content",3,"formGroup","submit"],[1,"mg-centered","landing-title1"],["mgAutofocus.gt-xs","","name","password","formControlName","password","mgNoHintMargin","true","placeholder","Enter your password",1,"input-padding","mg-minicopy","bottom-margin",3,"required"],["type","outline",1,"large",3,"disabled"]],template:function(n,t){1&n&&(o["\u0275\u0275elementStart"](0,"form",0),o["\u0275\u0275listener"]("submit",(function(){return t.onSubmit()})),o["\u0275\u0275elementStart"](1,"div"),o["\u0275\u0275elementStart"](2,"h1",1),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"mg-password",2),o["\u0275\u0275elementStart"](6,"mg-button",3),o["\u0275\u0275text"](7,"Next"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275property"]("formGroup",t.formGroup),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](4,4,"landing.password.createTitle")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("required",!0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("disabled",t.formGroup.invalid))},directives:[r.E,r.u,D.e,r.l,Z.b,X.a,r.t,r.j,r.B,$.a],pipes:[p.d],styles:['@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");form.landing-form[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%;--mg-form-input-margin-bottom:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-right:32px}}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-email[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-password[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-pin[_ngcontent-%COMP%]{width:100%}.landing-title1[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:49px;color:#707070;padding-top:0;margin:0 0 8px}.landing-title2[_ngcontent-%COMP%]{font-size:16px;margin:0;padding-top:41px;padding-bottom:16px}@media (orientation:landscape){.landing-title2[_ngcontent-%COMP%]{padding-top:5vh}}@media (orientation:portrait){.landing-title2[_ngcontent-%COMP%]{padding-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (min-width:820px){.landing-title2[_ngcontent-%COMP%]{padding-top:41px}}mg-button-icon.top[_ngcontent-%COMP%]{padding-top:0;margin-top:-.2em}@media (orientation:landscape){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:32px}}p.landing-subtitle[_ngcontent-%COMP%]{margin-bottom:4px}.input-padding[_ngcontent-%COMP%]{display:block}.flex-spaced-content[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;height:100%}.or-divider[_ngcontent-%COMP%]{margin:8px}a[_ngcontent-%COMP%]{color:#4ba0cd}mg-button[_ngcontent-%COMP%]{width:100%;margin-top:50px}.landing-title1[_ngcontent-%COMP%]{padding-bottom:0}@media (orientation:landscape){.landing-subtitle[_ngcontent-%COMP%]{margin-top:.9661835749vh}}@media (orientation:portrait){.landing-subtitle[_ngcontent-%COMP%]{margin-top:.9661835749vw}}@media (orientation:landscape) and (max-height:414px){.landing-subtitle[_ngcontent-%COMP%]{margin-top:4px}}@media (orientation:portrait) and (max-width:414px){.landing-subtitle[_ngcontent-%COMP%]{margin-top:4px}}@media (min-width:768px){.landing-subtitle[_ngcontent-%COMP%]{margin-top:17px}}.bottom-margin[_ngcontent-%COMP%]{margin-bottom:13px}']}),n})();var tn=e("6YuD"),en=e("lJxs"),on=e("fzyM"),an=e("Tcc+"),rn=e("zc8W"),dn=e("SFBQ"),gn=e("dUir"),ln=e("i1AJ"),mn=e("9QcJ"),cn=e("gjtd"),pn=e("DobJ");const sn=["form"],un=["emailMatInputEl"];function hn(n,t){1&n&&o["\u0275\u0275element"](0,"div",6)}function fn(n,t){if(1&n&&(o["\u0275\u0275elementStart"](0,"mg-message-box-content"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&n){const n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,n.errorLocaleKey)," ")}}function xn(n,t){if(1&n&&(o["\u0275\u0275elementStart"](0,"mg-message-box-content"),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&n){const n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",n.showError," ")}}function Cn(n,t){1&n&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.email.error.email")," "))}function Mn(n,t){if(1&n){const n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"form",7,8),o["\u0275\u0275listener"]("submit",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().onSubmit()})),o["\u0275\u0275elementStart"](2,"h1",9),o["\u0275\u0275text"](3,"Sign in"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](4,"mg-sso-ui"),o["\u0275\u0275element"](5,"hr",10),o["\u0275\u0275elementStart"](6,"mat-expansion-panel",11),o["\u0275\u0275elementStart"](7,"mat-expansion-panel-header"),o["\u0275\u0275elementStart"](8,"mat-panel-title"),o["\u0275\u0275text"](9," Login with username and password "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"mg-message-box"),o["\u0275\u0275template"](11,fn,3,3,"mg-message-box-content",12),o["\u0275\u0275template"](12,xn,2,1,"mg-message-box-content",12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"mat-form-field",13),o["\u0275\u0275elementStart"](14,"mat-label"),o["\u0275\u0275text"](15,"Email Address"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"input",14,15),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().landing.email=t}))("ngModelChange",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().resetErrorState()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](18,Cn,3,3,"mat-error",12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"mg-password",16,17),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().password=t}))("ngModelChange",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().resetErrorState()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"mg-button",18),o["\u0275\u0275text"](22,"Next"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"div",19),o["\u0275\u0275elementStart"](24,"a",20),o["\u0275\u0275text"](25,"Forgot Password?"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](26,"hr",21),o["\u0275\u0275elementEnd"]()}if(2&n){const n=o["\u0275\u0275reference"](1),t=o["\u0275\u0275reference"](17),e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](11),o["\u0275\u0275property"]("ngIf",e.errorLocaleKey),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.showError),o["\u0275\u0275advance"](1),o["\u0275\u0275classProp"]("showing-error",e.errorLocaleKey),o["\u0275\u0275property"]("mgHideOptionalMarker",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("errorStateMatcher",e.matcher)("ngModel",e.landing.email),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null==t||null==t.ngControl||null==t.ngControl.control||null==t.ngControl.control.errors?null:t.ngControl.control.errors.invalidEmail),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",e.password)("required",!0)("validation",!1)("hints",!1)("errorStateMatcher",e.matcher),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("disabled",n.invalid||!e.landing.email)}}function On(n,t){if(1&n){const n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"form",22),o["\u0275\u0275elementStart"](1,"h1",9),o["\u0275\u0275text"](2,"Welcome Back!"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",23),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().gotoMain()})),o["\u0275\u0275elementStart"](4,"div",24),o["\u0275\u0275element"](5,"mg-avatar",25),o["\u0275\u0275pipe"](6,"async"),o["\u0275\u0275pipe"](7,"async"),o["\u0275\u0275element"](8,"mg-person-minimal",26),o["\u0275\u0275pipe"](9,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"mat-icon",27),o["\u0275\u0275text"](11,"arrow_right_alt"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"mg-button",28),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().signout()})),o["\u0275\u0275elementStart"](13,"p",29),o["\u0275\u0275text"](14,"Logout"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&n){const n=o["\u0275\u0275nextContext"]();let t=null;o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("src",o["\u0275\u0275pipeBind1"](6,3,n.profileImageUrl$))("color",null==(t=o["\u0275\u0275pipeBind1"](7,5,n.person$))?null:t.badgeIconColor),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("person",o["\u0275\u0275pipeBind1"](9,7,n.person$))}}function _n(n,t){if(1&n){const n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-country",30),o["\u0275\u0275listener"]("mousedown",(function(t){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().gotoCountrySelector(t)})),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275elementEnd"]()}if(2&n){const n=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("country",o["\u0275\u0275pipeBind1"](1,2,n.country$))("hideText",!0)}}const Pn=function(){return["page","tos"]},vn=function(n){return{o:n}},bn=function(n){return{outlets:n}},wn=function(n){return["",n]},yn=function(){return["page","privacy-policy"]};let Sn=(()=>{class n{constructor(n,t,e,i,o,a,r,d,g,l){this.rootService=n,this.router=t,this.landing=e,this.authService=i,this.appConfigService=o,this.mobileAccountManager=a,this.snackBar=r,this.analytics=d,this.authInfo=g,this.mingaSnack=l,this._destroyed=!1,this.password="",this.badCredentials=!1,this.matcher=null,this.newSignIn=!1,this.logo=!0,this.showError="",this.hasNetworkError=!1,this.person$=this.authInfo.authPerson$,this.profileImageUrl$=this.person$.pipe(Object(en.a)(n=>n&&n.avatarUrl||"")),this.getMobileCredentials(),this.detachedSub=g.detachedSsoProviderInfo$.subscribe(n=>{n&&(this.authService.discardCurrentUser(),this.mingaSnack.open(`Uh oh! The email, ${n.email}, doesn't seem to belong to a Minga.`))})}get country$(){return this.landing.country$}get errorLocaleKey(){return this.hasNetworkError?"landing.error.networkError":this.badCredentials?"landing.error.credentials":""}getMobileCredentials(){return Object(U.a)(this,void 0,void 0,(function*(){yield this.authService.getLoginCredentials().then(n=>{n&&(this.landing.email=n.email,this.password=n.password)},n=>{console.error("[LandingEmail] unable to get mobile credentials: ",n)})}))}signout(){this.authService.logout()}gotoMain(){this.router.navigateByUrl("/")}gotoCountrySelector(n){n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),this.router.navigate(["/landing/country"],{queryParams:{redirect:btoa("/landing/email")}})}resetErrorState(){this.matcher=null,this.showError=""}_submit(){return Object(U.a)(this,void 0,void 0,(function*(){if(this.form&&this.form.invalid)return;this.hasNetworkError=!1,this.badCredentials=!1,this.newSignIn=!0;const n=yield this.authService.login(this.landing.email,this.password).catch(n=>(console.error("[LandingEmail] login error occurred: ",n),this.analytics.logEvent("LandingEmail",{error:n}),this.hasNetworkError=!0,this.landing.emitLandingContentExpandHeight(!0),null));return n?n.success?(n.mingaName&&(this.landing.mingaName=n.mingaName),n.mingaLogo&&(this.landing.mingaLogo=n.mingaLogo),n.personName&&(this.landing.personName=n.personName),this.landing.emitLandingContentExpandHeight(!1),void(this._destroyed||(yield this.router.navigate(["/landing/joining"],{skipLocationChange:!0})))):(this.hasNetworkError||(this.showError=n.reason,this.landing.emitLandingContentExpandHeight(!0)),this.matcher=new tn.b,this.matcher.errorState=!0,n):void 0}))}onSubmit(){return Object(U.a)(this,void 0,void 0,(function*(){yield this.rootService.addLoadingPromise(this._submit())}))}ngOnDestroy(){this._destroyed=!0,this.detachedSub&&this.detachedSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](J.a),o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](z),o["\u0275\u0275directiveInject"](Y.a),o["\u0275\u0275directiveInject"](V.a),o["\u0275\u0275directiveInject"](on.a),o["\u0275\u0275directiveInject"](K.b),o["\u0275\u0275directiveInject"](an.a),o["\u0275\u0275directiveInject"](rn.a),o["\u0275\u0275directiveInject"](K.b))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing-email"]],viewQuery:function(n,t){if(1&n&&(o["\u0275\u0275viewQuery"](sn,3),o["\u0275\u0275viewQuery"](un,1)),2&n){let n;o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.form=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.emailInputEl=n.first)}},inputs:{hasNetworkError:"hasNetworkError"},decls:13,vars:26,consts:[["class","logo","routerLink","/landing/email",4,"ngIf"],["autocomplete","off","class","landing-form flex-spaced-content","fxLayout","column",3,"submit",4,"ngIf"],["fxLayout","column","class","landing-form flex-spaced-content welcome-back-form",4,"ngIf"],[1,"policy-links","user-content-page"],[3,"country","hideText","mousedown",4,"ngIf"],[3,"routerLink"],["routerLink","/landing/email",1,"logo"],["autocomplete","off","fxLayout","column",1,"landing-form","flex-spaced-content",3,"submit"],["form","ngForm"],[1,"mg-centered","landing-title1"],[1,"divider-top"],[1,"mg-minicopy"],[4,"ngIf"],["mgFormField","","mgAutofocus.gt-xs","","floatLabel","always",1,"email-form-field",3,"mgHideOptionalMarker"],["matInput","","type","email","name","email","maxlength","50","mgEmailValidator","",3,"errorStateMatcher","ngModel","ngModelChange"],["emailMatInputEl","matInput"],["name","password","placeholder","Enter your password",1,"input-padding","mg-minicopy",3,"ngModel","required","validation","hints","errorStateMatcher","ngModelChange"],["passwordNgModel","ngModel"],["type","outline",1,"large","next-button",3,"disabled"],[1,"bottom-links-row","user-content-page"],["routerLink","/landing/forgot",1,"mg-minicopy"],[1,"divider-bottom"],["fxLayout","column",1,"landing-form","flex-spaced-content","welcome-back-form"],[1,"welcome-back",3,"click"],[1,"welcome-back-person"],[3,"src","color"],[3,"person"],[1,"link-icon"],["type","text",3,"click"],[1,"logout-button-text"],[3,"country","hideText","mousedown"]],template:function(n,t){1&n&&(o["\u0275\u0275template"](0,hn,1,0,"div",0),o["\u0275\u0275template"](1,Mn,27,14,"form",1),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275template"](3,On,15,9,"form",2),o["\u0275\u0275pipe"](4,"async"),o["\u0275\u0275elementStart"](5,"div",3),o["\u0275\u0275template"](6,_n,2,4,"mg-country",4),o["\u0275\u0275pipe"](7,"async"),o["\u0275\u0275elementStart"](8,"a",5),o["\u0275\u0275text"](9,"Terms & Conditions"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](10,"\xa0|\xa0"),o["\u0275\u0275elementStart"](11,"a",5),o["\u0275\u0275text"](12,"Privacy Policy"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275property"]("ngIf",t.logo),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.newSignIn||!o["\u0275\u0275pipeBind1"](2,6,t.person$)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!t.newSignIn&&o["\u0275\u0275pipeBind1"](4,8,t.person$)),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",t.newSignIn||!o["\u0275\u0275pipeBind1"](7,10,t.person$)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](17,wn,o["\u0275\u0275pureFunction1"](15,bn,o["\u0275\u0275pureFunction1"](13,vn,o["\u0275\u0275pureFunction0"](12,Pn))))),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](24,wn,o["\u0275\u0275pureFunction1"](22,bn,o["\u0275\u0275pureFunction1"](20,vn,o["\u0275\u0275pureFunction0"](19,yn))))))},directives:[i.o,c.j,c.h,r.E,r.u,r.v,D.e,dn.a,d.c,d.f,d.g,gn.a,g.d,ln.a,X.a,g.h,m.b,r.d,r.n,mn.a,r.t,r.w,Z.b,r.B,$.a,gn.b,g.c,cn.a,pn.a,l.a,h.a],pipes:[i.b,p.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");form.landing-form[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%;--mg-form-input-margin-bottom:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-right:32px}}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-email[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-password[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-pin[_ngcontent-%COMP%]{width:100%}.landing-title1[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:49px;color:#707070;padding-top:0;margin:0 0 8px}.landing-title2[_ngcontent-%COMP%]{font-size:16px;margin:0;padding-top:41px;padding-bottom:16px}@media (orientation:landscape){.landing-title2[_ngcontent-%COMP%]{padding-top:5vh}}@media (orientation:portrait){.landing-title2[_ngcontent-%COMP%]{padding-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (min-width:820px){.landing-title2[_ngcontent-%COMP%]{padding-top:41px}}mg-button-icon.top[_ngcontent-%COMP%]{padding-top:0;margin-top:-.2em}@media (orientation:landscape){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:32px}}p.landing-subtitle[_ngcontent-%COMP%]{margin-bottom:4px}.input-padding[_ngcontent-%COMP%]{display:block}.flex-spaced-content[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;height:100%}.or-divider[_ngcontent-%COMP%]{margin:8px}a[_ngcontent-%COMP%]{color:#4ba0cd}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:35px;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}@media (max-width:599px){mat-expansion-panel[_ngcontent-%COMP%]{width:280px}}mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{font-size:12px}hr[_ngcontent-%COMP%]{width:80%;margin:auto}mg-message-box[_ngcontent-%COMP%]{margin-bottom:10px;width:250px}.divider-top[_ngcontent-%COMP%]{margin-top:40px}.divider-bottom[_ngcontent-%COMP%]{margin-bottom:20px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], mg-button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px;margin-top:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], mg-button[_ngcontent-%COMP%]{margin-bottom:2.5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], mg-button[_ngcontent-%COMP%]{margin-bottom:2.5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], mg-button[_ngcontent-%COMP%]{margin-bottom:8px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], mg-button[_ngcontent-%COMP%]{margin-bottom:8px}}@media (min-width:480px){form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], mg-button[_ngcontent-%COMP%]{margin-bottom:12px}}.email-form-field[_ngcontent-%COMP%]{transition:margin-top .3s cubic-bezier(.55,0,.55,.2);margin-top:0}.email-form-field.showing-error[_ngcontent-%COMP%]{margin-top:16px}form[_ngcontent-%COMP%]{margin:0 auto;text-align:center;justify-content:space-between;display:flex}.welcome-back-form[_ngcontent-%COMP%]{height:100%;align-items:center}.welcome-back[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:130px;width:295px;cursor:pointer;border-radius:8px;background-color:#fdfdfd;padding:16px;margin:20px 0;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);position:relative}.welcome-back[_ngcontent-%COMP%]   .welcome-back-person[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.welcome-back[_ngcontent-%COMP%]   mg-person-minimal[_ngcontent-%COMP%]{padding-left:8px}.welcome-back[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;right:0;height:45px;width:45px;font-size:45px;font-weight:700;color:#1c2f59}.next-button[_ngcontent-%COMP%]{margin-bottom:5px}mg-country[_ngcontent-%COMP%]{--mg-country-size:16px;margin-right:10px}mg-country[_ngcontent-%COMP%]:hover{opacity:.5;border:1px solid #ccc;border-radius:12px}.bottom-links-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;margin-top:10px}.bottom-links-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;margin-left:5px;margin-right:5px}@media (orientation:landscape){.bottom-links-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.bottom-links-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.bottom-links-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.bottom-links-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.bottom-links-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px}}.bottom-links-row[_ngcontent-%COMP%]   mg-country[_ngcontent-%COMP%]{margin-right:10px}.logout-button-text[_ngcontent-%COMP%]{font-size:16px;color:#4ba0cd;margin:0}.policy-links[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;color:#4ba0cd}@media (orientation:landscape){.policy-links[_ngcontent-%COMP%]{padding-top:4.375vh}}@media (orientation:portrait){.policy-links[_ngcontent-%COMP%]{padding-top:4.375vw}}@media (orientation:landscape) and (max-height:320px){.policy-links[_ngcontent-%COMP%]{padding-top:14px}}@media (orientation:portrait) and (max-width:320px){.policy-links[_ngcontent-%COMP%]{padding-top:14px}}@media (min-width:685.7142857143px){.policy-links[_ngcontent-%COMP%]{padding-top:30px}}.policy-links[_ngcontent-%COMP%], .policy-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}mg-avatar[_ngcontent-%COMP%]{--mg-avatar-size:55px;padding-bottom:10px}']}),n})();var kn=e("QPZY"),En=e("Hp2Z");const In=["form"];function jn(n,t){1&n&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.email.error.email")," "))}let Ln=(()=>{class n{constructor(n,t,e,i,o,a){this.landing=n,this.router=t,this.rootService=e,this.snackbar=i,this.location=o,this.authService=a,this.formGroup=new r.k({email:new r.h})}goBack(){this.location.back()}onSubmit(){return Object(U.a)(this,void 0,void 0,(function*(){const n=this.landing.email,t=Promise.resolve().then(()=>this.authService.forgotPassword(n)).then(n=>Object(U.a)(this,void 0,void 0,(function*(){if(n.getStatus()!=kn.StatusCode.OK)throw this.snackbar.open("Failed to reset password. Try again later."),new Error("Could not send email")}))).then(()=>this.router.navigateByUrl("/landing"));yield this.rootService.addLoadingPromise(t),this.snackbar.open(`Email sent to ${n}`)}))}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](z),o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](J.a),o["\u0275\u0275directiveInject"](K.b),o["\u0275\u0275directiveInject"](i.k),o["\u0275\u0275directiveInject"](Y.a))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing-forgot"]],viewQuery:function(n,t){if(1&n&&o["\u0275\u0275viewQuery"](In,3,r.v),2&n){let n;o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.form=n.first)}},decls:13,vars:4,consts:[["icon","back",1,"top","left",3,"click"],["fxLayout","column",1,"landing-form","flex-spaced-content",3,"submit"],["form","ngForm"],[1,"mg-centered","landing-title1"],["mgFormField","","mgAutofocus.gt-xs","",3,"mgHideOptionalMarker"],["matInput","","type","email","name","email","maxlength","50","mgEmailValidator","",3,"ngModel","ngModelChange"],["emailNgModel","ngModel"],[4,"ngIf"],["type","outline",1,"large",3,"disabled"]],template:function(n,t){if(1&n&&(o["\u0275\u0275elementStart"](0,"mg-button-icon",0),o["\u0275\u0275listener"]("click",(function(){return t.goBack()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](1,"form",1,2),o["\u0275\u0275listener"]("submit",(function(){return t.onSubmit()})),o["\u0275\u0275elementStart"](3,"h1",3),o["\u0275\u0275text"](4,"Forgot Password"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"mat-form-field",4),o["\u0275\u0275elementStart"](6,"mat-label"),o["\u0275\u0275text"](7,"Email Address"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"input",5,6),o["\u0275\u0275listener"]("ngModelChange",(function(n){return t.landing.email=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](10,jn,3,3,"mat-error",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"mg-button",8),o["\u0275\u0275text"](12," Reset Password "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&n){const n=o["\u0275\u0275reference"](2),e=o["\u0275\u0275reference"](9);o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("mgHideOptionalMarker",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",t.landing.email),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null==e||null==e.errors?null:e.errors.invalidEmail),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("disabled",n.invalid||!t.landing.email)}},directives:[En.a,r.E,r.u,r.v,D.e,g.d,ln.a,X.a,g.h,m.b,r.d,r.n,mn.a,r.t,r.w,i.o,$.a,g.c],pipes:[p.d],styles:['@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");form.landing-form[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%;--mg-form-input-margin-bottom:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-right:32px}}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-email[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-password[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-pin[_ngcontent-%COMP%]{width:100%}.landing-title1[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:49px;color:#707070;padding-top:0;margin:0 0 8px}.landing-title2[_ngcontent-%COMP%]{font-size:16px;margin:0;padding-top:41px;padding-bottom:16px}@media (orientation:landscape){.landing-title2[_ngcontent-%COMP%]{padding-top:5vh}}@media (orientation:portrait){.landing-title2[_ngcontent-%COMP%]{padding-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (min-width:820px){.landing-title2[_ngcontent-%COMP%]{padding-top:41px}}mg-button-icon.top[_ngcontent-%COMP%]{padding-top:0;margin-top:-.2em}@media (orientation:landscape){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:32px}}p.landing-subtitle[_ngcontent-%COMP%]{margin-bottom:4px}.input-padding[_ngcontent-%COMP%]{display:block}.flex-spaced-content[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;height:100%}.or-divider[_ngcontent-%COMP%]{margin:8px}a[_ngcontent-%COMP%]{color:#4ba0cd}']}),n})();var Tn=e("7qHI"),Nn=e("PqYM"),qn=e("1G5W"),Vn=e("tqRt"),zn=e("sj4O");let Bn=(()=>{class n{constructor(n,t,e){this.landing=n,this.router=t,this.store$=e,this.personName=n.personName,this.mingaName=n.mingaName,this.mingaLogo="url("+(n.mingaLogo||"assets/Minga_icon.svg")+")"}ngOnInit(){this._authSub=this.store$.select(Tn.d).pipe(Object(qn.a)(Object(Nn.a)(1500))).subscribe(n=>{n&&this.router.navigate(["/"])})}ngOnDestroy(){this._authSub&&this._authSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](z),o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](Vn.i))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing-joining"]],decls:14,vars:4,consts:[[1,"profile-image"],[1,"minga-logo-container"],[1,"minga-logo","landing-content-bg"],[1,"image"],["fxLayout","column",1,"joining-content","mg-centered"],[1,"mg-headline"],[1,"mg-centered"]],template:function(n,t){1&n&&(o["\u0275\u0275element"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275element"](3,"div",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",4),o["\u0275\u0275elementStart"](5,"h1",5),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"p"),o["\u0275\u0275text"](8," You are joining the"),o["\u0275\u0275element"](9,"br"),o["\u0275\u0275elementStart"](10,"strong"),o["\u0275\u0275text"](11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",6),o["\u0275\u0275element"](13,"mg-spinner"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275advance"](3),o["\u0275\u0275styleProp"]("background-image",t.mingaLogo),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"]("Hi, ",t.personName,""),o["\u0275\u0275advance"](5),o["\u0275\u0275textInterpolate"](t.landing.mingaName))},directives:[D.e,zn.a],styles:['@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");form.landing-form[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%;--mg-form-input-margin-bottom:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-right:32px}}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-email[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-password[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-pin[_ngcontent-%COMP%]{width:100%}.landing-title1[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:49px;color:#707070;padding-top:0;margin:0 0 8px}.landing-title2[_ngcontent-%COMP%]{font-size:16px;margin:0;padding-top:41px;padding-bottom:16px}@media (orientation:landscape){.landing-title2[_ngcontent-%COMP%]{padding-top:5vh}}@media (orientation:portrait){.landing-title2[_ngcontent-%COMP%]{padding-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (min-width:820px){.landing-title2[_ngcontent-%COMP%]{padding-top:41px}}mg-button-icon.top[_ngcontent-%COMP%]{padding-top:0;margin-top:-.2em}@media (orientation:landscape){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:32px}}p.landing-subtitle[_ngcontent-%COMP%]{margin-bottom:4px}.input-padding[_ngcontent-%COMP%]{display:block}.flex-spaced-content[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;height:100%}.or-divider[_ngcontent-%COMP%]{margin:8px}a[_ngcontent-%COMP%]{color:#4ba0cd}mg-landing-joining[_ngcontent-%COMP%]{display:block;height:100%}.joining-content[_ngcontent-%COMP%]{height:95%;justify-content:space-evenly;align-items:center;padding-top:12%}.minga-logo-container[_ngcontent-%COMP%]{position:relative}.minga-logo-container[_ngcontent-%COMP%]   .minga-logo[_ngcontent-%COMP%]{position:absolute;transform:translateX(-50%) translateY(50%);left:50%;bottom:0}.minga-logo[_ngcontent-%COMP%]{padding:10px;border-radius:35%;overflow:hidden}@media (orientation:landscape){.minga-logo[_ngcontent-%COMP%]{width:16.875vh}}@media (orientation:portrait){.minga-logo[_ngcontent-%COMP%]{width:16.875vw}}@media (orientation:landscape) and (max-height:320px){.minga-logo[_ngcontent-%COMP%]{width:54px}}@media (orientation:portrait) and (max-width:320px){.minga-logo[_ngcontent-%COMP%]{width:54px}}@media (min-width:533.3333333333px){.minga-logo[_ngcontent-%COMP%]{width:90px}}@media (orientation:landscape){.minga-logo[_ngcontent-%COMP%]{height:16.875vh}}@media (orientation:portrait){.minga-logo[_ngcontent-%COMP%]{height:16.875vw}}@media (orientation:landscape) and (max-height:320px){.minga-logo[_ngcontent-%COMP%]{height:54px}}@media (orientation:portrait) and (max-width:320px){.minga-logo[_ngcontent-%COMP%]{height:54px}}@media (min-width:533.3333333333px){.minga-logo[_ngcontent-%COMP%]{height:90px}}.minga-logo[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%]{width:100%;height:100%;background-repeat:no-repeat;background-position:50%;background-size:cover}']}),n})();var Fn=e("iELJ");const Gn=function(){return{standalone:!0}};let An=(()=>{class n{constructor(n,t,e,i,o,a,d){this.snackBar=n,this.landing=t,this.router=e,this.auth=i,this.rootService=o,this.location=a,this.matDialog=d,this._destroyed=!1,this.passwordFormControl=new r.h,this.formGroup=new r.k({password:this.passwordFormControl}),this.landing.email||this.router.navigate([".."])}onSubmit(){return Object(U.a)(this,void 0,void 0,(function*(){if(this.formGroup.invalid)return;const n=this.auth.login(this.landing.email,this.formGroup.controls.password.value),t=yield this.rootService.addLoadingPromise(n).catch(n=>{throw this.snackMessage("Something went wrong. Please try again later"),n});if(!t.success)return this.snackMessage(t.reason),t;t.mingaName&&(this.landing.mingaName=t.mingaName),t.mingaLogo&&(this.landing.mingaLogo=t.mingaLogo),t.personName&&(this.landing.personName=t.personName),this._destroyed||(yield this.router.navigate(["/landing/joining"],{skipLocationChange:!0}))}))}snackMessage(n){return this.snackBar.open(n)}onForgotPassword(){return Object(U.a)(this,void 0,void 0,(function*(){}))}goBack(){this.location.back()}ngOnDestroy(){this._destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](K.b),o["\u0275\u0275directiveInject"](z),o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](Y.a),o["\u0275\u0275directiveInject"](J.a),o["\u0275\u0275directiveInject"](i.k),o["\u0275\u0275directiveInject"](Fn.b))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing-password"]],decls:11,vars:10,consts:[["icon","back",1,"top","left",3,"click"],["fxLayout","column","autocomplete","on",1,"landing-form","flex-spaced-content",3,"formGroup","submit"],[1,"mg-centered","landing-title1"],["tabindex","-1","aria-hidden","","type","email","name","email",1,"mg-hidden-no-flow",3,"ngModel","ngModelOptions","ngModelChange"],["mgAutofocus.gt-xs","","name","password","placeholder","Enter your password",1,"input-padding","mg-minicopy",3,"formControl","required","validation","mgNoHintMargin","hints"],[1,"bottom-links-container"],["type","outline",3,"disabled"],["routerLink","/landing/forgot",1,"textLinkCentered","mg-minicopy"]],template:function(n,t){1&n&&(o["\u0275\u0275elementStart"](0,"mg-button-icon",0),o["\u0275\u0275listener"]("click",(function(){return t.goBack()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](1,"form",1),o["\u0275\u0275listener"]("submit",(function(){return t.onSubmit()})),o["\u0275\u0275elementStart"](2,"h1",2),o["\u0275\u0275text"](3,"Hello again!"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"input",3),o["\u0275\u0275listener"]("ngModelChange",(function(n){return t.landing.email=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"mg-password",4),o["\u0275\u0275elementStart"](6,"div",5),o["\u0275\u0275elementStart"](7,"mg-button",6),o["\u0275\u0275text"](8,"Next"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"span",7),o["\u0275\u0275text"](10,"Forgot Password?"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&n&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("formGroup",t.formGroup),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",t.landing.email)("ngModelOptions",o["\u0275\u0275pureFunction0"](9,Gn)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("formControl",t.passwordFormControl)("required",!0)("validation",!1)("mgNoHintMargin",!0)("hints",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("disabled",t.formGroup.invalid))},directives:[En.a,r.E,r.u,D.e,r.l,r.d,r.t,r.w,Z.b,X.a,r.i,r.B,$.a,c.h],styles:['@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");form.landing-form[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%;--mg-form-input-margin-bottom:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-right:32px}}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-email[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-password[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-pin[_ngcontent-%COMP%]{width:100%}.landing-title1[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:49px;color:#707070;padding-top:0;margin:0 0 8px}.landing-title2[_ngcontent-%COMP%]{font-size:16px;margin:0;padding-top:41px;padding-bottom:16px}@media (orientation:landscape){.landing-title2[_ngcontent-%COMP%]{padding-top:5vh}}@media (orientation:portrait){.landing-title2[_ngcontent-%COMP%]{padding-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (min-width:820px){.landing-title2[_ngcontent-%COMP%]{padding-top:41px}}mg-button-icon.top[_ngcontent-%COMP%]{padding-top:0;margin-top:-.2em}@media (orientation:landscape){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:32px}}p.landing-subtitle[_ngcontent-%COMP%]{margin-bottom:4px}.input-padding[_ngcontent-%COMP%]{display:block}.flex-spaced-content[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;height:100%}.or-divider[_ngcontent-%COMP%]{margin:8px}a[_ngcontent-%COMP%]{color:#4ba0cd}form[_ngcontent-%COMP%]{display:block;margin:0 auto}.textLinkCentered[_ngcontent-%COMP%]{cursor:pointer;margin-top:14px;display:block;text-align:center}@media (orientation:landscape){.textLinkCentered[_ngcontent-%COMP%]{margin-top:2.1875vh}}@media (orientation:portrait){.textLinkCentered[_ngcontent-%COMP%]{margin-top:2.1875vw}}@media (orientation:landscape) and (max-height:320px){.textLinkCentered[_ngcontent-%COMP%]{margin-top:7px}}@media (orientation:portrait) and (max-width:320px){.textLinkCentered[_ngcontent-%COMP%]{margin-top:7px}}@media (min-width:375px){.textLinkCentered[_ngcontent-%COMP%]{margin-top:14px}}form.landing-form[_ngcontent-%COMP%]   .bottom-links-container[_ngcontent-%COMP%]{width:100%}form.landing-form[_ngcontent-%COMP%]   .bottom-links-container[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:1px}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]   .bottom-links-container[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:.3125vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]   .bottom-links-container[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:.3125vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]   .bottom-links-container[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:1px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]   .bottom-links-container[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:1px}}@media (min-width:375px){form.landing-form[_ngcontent-%COMP%]   .bottom-links-container[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}}']}),n})();var Hn=e("Q+Jy"),Rn=e("+R4k"),Qn=e("YgQ7"),Un=e("GNNB"),Jn=e("cRkC");const Dn=["form"],$n=["successOverlayTemplate"];function Wn(n,t){1&n&&(o["\u0275\u0275elementStart"](0,"div",8),o["\u0275\u0275elementStart"](1,"div",9),o["\u0275\u0275element"](2,"mg-success-checkmark"),o["\u0275\u0275elementStart"](3,"div",10),o["\u0275\u0275text"](4,"Success!"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}let Yn=(()=>{class n{constructor(n,t,e,i,o,a,r){this.router=n,this.route=t,this.landing=e,this.loginManager=i,this._location=o,this.rootService=a,this.mgModal=r,this.errorKey="",this.resetToken="",this.route.params.subscribe(n=>{this.resetToken=n.resetToken||""})}goBack(){this._location.back()}onSubmit(){return Object(U.a)(this,void 0,void 0,(function*(){if(!this.form)return;if(!this.form.valid)return void console.log("pin in invalid format");let n=new Hn.PinRequest;n.setPin(this.landing.pin),this.resetToken?n.setResetToken(this.resetToken):n.setEmail(this.landing.email);let t=this.loginManager.pin(n),e=yield this.rootService.addLoadingPromise(t);if(e.getValid()){let n=e.getPersonName(),t=e.getMingaName(),i=e.getEmail();if(this.landing.personName=n,this.landing.mingaName=t,this.landing.email=i,this.successOverlayTemplate){let n=this.mgModal.open(this.successOverlayTemplate,{full:!0,animation:"fade"});setTimeout(()=>n.close(),2e3),yield new Promise(n=>setTimeout(n,1e3))}yield this.router.navigate(["/landing","create"])}else this.errorKey="incorrect"}))}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](z),o["\u0275\u0275directiveInject"](Rn.LoginManager),o["\u0275\u0275directiveInject"](i.k),o["\u0275\u0275directiveInject"](J.a),o["\u0275\u0275directiveInject"](Qn.b))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing-pin"]],viewQuery:function(n,t){if(1&n&&(o["\u0275\u0275viewQuery"](Dn,3,r.v),o["\u0275\u0275viewQuery"]($n,3)),2&n){let n;o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.form=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.successOverlayTemplate=n.first)}},decls:12,vars:10,consts:[["icon","back",1,"top","left",3,"click"],["fxLayout","column",1,"landing-form","flex-spaced-content",3,"submit"],["form","ngForm"],[1,"mg-centered","landing-title1"],["mgAutofocus.gt-xs","","name","pin","mgNoHintMargin","true","placeholder","Provide your PIN to join",1,"input-padding","mg-minicopy",3,"ngModel","required","error","hint","hiddenRequired","readonly","ngModelChange"],["pin","ngModel"],["type","outline",1,"large",3,"disabled"],["successOverlayTemplate",""],[1,"success-overlay"],[1,"checkmark-wrap"],[1,"mg-bodycopy"]],template:function(n,t){if(1&n&&(o["\u0275\u0275elementStart"](0,"mg-button-icon",0),o["\u0275\u0275listener"]("click",(function(){return t.goBack()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](1,"form",1,2),o["\u0275\u0275listener"]("submit",(function(){return t.onSubmit()})),o["\u0275\u0275elementStart"](3,"h1",3),o["\u0275\u0275text"](4),o["\u0275\u0275pipe"](5,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"mg-pin",4,5),o["\u0275\u0275listener"]("ngModelChange",(function(n){return t.landing.pin=n})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"mg-button",6),o["\u0275\u0275text"](9,"Next"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](10,Wn,5,0,"ng-template",null,7,o["\u0275\u0275templateRefExtractor"])),2&n){const n=o["\u0275\u0275reference"](2);o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](5,8,"landing.pin.enterTitle")," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",t.landing.pin)("required",!0)("error",t.errorKey)("hint","landing.pin.hint")("hiddenRequired",!0)("readonly",!1),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("disabled",n.invalid)}},directives:[En.a,r.E,r.u,r.v,D.e,Un.a,X.a,r.t,r.w,r.B,$.a,Jn.a],pipes:[p.d],styles:['@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");form.landing-form[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%;--mg-form-input-margin-bottom:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-right:32px}}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-email[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-password[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-pin[_ngcontent-%COMP%]{width:100%}.landing-title1[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:49px;color:#707070;padding-top:0;margin:0 0 8px}.landing-title2[_ngcontent-%COMP%]{font-size:16px;margin:0;padding-top:41px;padding-bottom:16px}@media (orientation:landscape){.landing-title2[_ngcontent-%COMP%]{padding-top:5vh}}@media (orientation:portrait){.landing-title2[_ngcontent-%COMP%]{padding-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (min-width:820px){.landing-title2[_ngcontent-%COMP%]{padding-top:41px}}mg-button-icon.top[_ngcontent-%COMP%]{padding-top:0;margin-top:-.2em}@media (orientation:landscape){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:32px}}p.landing-subtitle[_ngcontent-%COMP%]{margin-bottom:4px}.input-padding[_ngcontent-%COMP%]{display:block}.flex-spaced-content[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;height:100%}.or-divider[_ngcontent-%COMP%]{margin:8px}a[_ngcontent-%COMP%]{color:#4ba0cd}.success-overlay[_ngcontent-%COMP%]{height:100%;text-align:center;position:relative}.success-overlay[_ngcontent-%COMP%]   .checkmark-wrap[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}']}),n})();function Kn(n,t){if(1&n){const n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"form",1),o["\u0275\u0275elementStart"](1,"h1",2),o["\u0275\u0275text"](2,"Sorry! Something went wrong"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",3),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"div",4),o["\u0275\u0275elementStart"](6,"p",3),o["\u0275\u0275elementStart"](7,"mg-button",5),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().clickExit()})),o["\u0275\u0275text"](8,"Exit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&n){const n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](n.error)}}const Zn=[{path:"",component:G,data:{landingTitle:"Welcome to",landingSlogan:"Creating Amazing Schools.",landingLogo:!0},children:[{path:"",pathMatch:"full",redirectTo:"email"},{path:"country",component:W,data:{landingTitle:"Welcome to",landingSlogan:"Creating Amazing Schools.",landingLogo:!0}},{path:"email",component:Sn,canActivate:[j.a],data:{landingTitle:"Welcome to",landingSlogan:"Creating Amazing Schools.",landingLogo:!0}},{path:"clever",component:Sn,canActivate:[j.a],data:{landingTitle:"Welcome to",landingSlogan:"Creating Amazing Schools.",landingLogo:!0}},{path:"pin",canActivate:[R],component:Yn,data:{landingTitle:"Welcome to",landingSlogan:"Creating Amazing Schools.",landingLogo:!0}},{path:"pin/:resetToken",component:Yn,data:{landingTitle:"Welcome to",landingSlogan:"Creating Amazing Schools.",landingLogo:!0}},{path:"joining",component:Bn,data:{landingTitle:"",landingSlogan:"",landingLogo:!1,extraTopMargin:!0}},{path:"password",component:An,canActivate:[R],data:{landingTitle:""}},{path:"create",component:nn,canActivate:[H,R],data:{landingTitle:""}},{path:"create/:resetToken",component:nn,data:{landingTitle:""}},{path:"forgot",component:Ln,data:{landingTitle:"Welcome to",landingSlogan:"Creating Amazing Schools.",landingLogo:!0}},{path:"reset/:resetToken",component:(()=>{class n{constructor(n,t,e,i,o,a,r){this.route=n,this.router=t,this.snackbar=e,this.rootService=i,this.authService=o,this.appConfigService=a,this.landingService=r,this.error="",this.route.params.subscribe(n=>Object(U.a)(this,void 0,void 0,(function*(){const t=this.handleToken(n.resetToken||"").catch(n=>{this.error="Unable to reset password. Try again later."});yield this.rootService.addLoadingPromise(t)})))}handleToken(n){return Object(U.a)(this,void 0,void 0,(function*(){return n?(this.landingService.passwordToken=n,yield this.appConfigService.ensureCountrySet(),(yield this.authService.resetPassword(n)).getStatus()===kn.StatusCode.OK?(this.snackbar.open("Password reset successfully"),this.router.navigate(["/landing","create",n],{replaceUrl:!0})):void(this.error="Invalid or expired reset token.")):(this.snackbar.open("Empty reset token"),this.router.navigateByUrl("/landing"))}))}clickExit(){this.landingService.passwordToken="",window.history&&window.history.length>1?history.back():window.close()}}return n.\u0275fac=function(t){return new(t||n)(o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](K.b),o["\u0275\u0275directiveInject"](J.a),o["\u0275\u0275directiveInject"](Y.a),o["\u0275\u0275directiveInject"](V.a),o["\u0275\u0275directiveInject"](z))},n.\u0275cmp=o["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-landing-reset"]],decls:1,vars:1,consts:[["class","landing-form","fxLayout","column",4,"ngIf"],["fxLayout","column",1,"landing-form"],[1,"mg-centered","landing-title1"],[1,"mg-centered"],["fxFlex",""],["type","outline",1,"large",3,"click"]],template:function(n,t){1&n&&o["\u0275\u0275template"](0,Kn,9,1,"form",0),2&n&&o["\u0275\u0275property"]("ngIf",t.error)},directives:[i.o,r.E,r.u,r.v,D.e,D.b,$.a],styles:['@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");form.landing-form[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%;--mg-form-input-margin-bottom:0}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){form.landing-form[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){form.landing-form[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){form.landing-form[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){form.landing-form[_ngcontent-%COMP%]{padding-right:32px}}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-top:8px}form.landing-form[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-email[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-password[_ngcontent-%COMP%], form.landing-form[_ngcontent-%COMP%]   mg-pin[_ngcontent-%COMP%]{width:100%}.landing-title1[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:49px;color:#707070;padding-top:0;margin:0 0 8px}.landing-title2[_ngcontent-%COMP%]{font-size:16px;margin:0;padding-top:41px;padding-bottom:16px}@media (orientation:landscape){.landing-title2[_ngcontent-%COMP%]{padding-top:5vh}}@media (orientation:portrait){.landing-title2[_ngcontent-%COMP%]{padding-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing-title2[_ngcontent-%COMP%]{padding-top:16px}}@media (min-width:820px){.landing-title2[_ngcontent-%COMP%]{padding-top:41px}}mg-button-icon.top[_ngcontent-%COMP%]{padding-top:0;margin-top:-.2em}@media (orientation:landscape){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:640px){mg-button-icon.top[_ngcontent-%COMP%]{padding-right:32px}}p.landing-subtitle[_ngcontent-%COMP%]{margin-bottom:4px}.input-padding[_ngcontent-%COMP%]{display:block}.flex-spaced-content[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;height:100%}.or-divider[_ngcontent-%COMP%]{margin:8px}a[_ngcontent-%COMP%]{color:#4ba0cd}']}),n})(),data:{landingTitle:"",landingSlogan:"",landingLogo:!0}}]}];let Xn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=o["\u0275\u0275defineInjector"]({providers:[R,H,Q],imports:[[T.a,k.a,s.a,M.a,L.b,w.a,y.a,v.a,S.a,b.a,O.a,I.a,E.a,u.b,_.a,P.a,p.c.forChild(),c.k.forChild(Zn),r.m,r.A,i.c,a.a,l.b,g.f,m.c,d.b,C]]}),n})()},LGJD:function(n,t,e){"use strict";e.d(t,"a",(function(){return p})),e("GNNB");var i=e("SVse"),o=e("8Y7J"),a=e("s7LF"),r=e("Q2Ze"),d=e("e6WT"),g=e("Tj54"),l=e("TSSN"),m=e("HxU+"),c=e("7Tcv");let p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[m.a,c.a,i.c,a.m,a.A,r.f,d.c,g.b,l.c]]}),n})()}}]);
//# sourceMappingURL=minga-app-src-app-landing-Landing-module-es2015.js.map