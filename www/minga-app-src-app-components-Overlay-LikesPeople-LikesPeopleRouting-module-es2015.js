(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{IPaV:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("mrSG"),o=n("8Y7J"),s=n("QPZY"),i=n("mI3D"),a=n("ypKM"),c=n("Tcc+");let l=(()=>{class e{constructor(e,t){this.errorReporter=e,this.analytics=t}sendErrorReport(e,t,n=0){return Object(r.a)(this,void 0,void 0,(function*(){let r=new i.ErrorReportRequest,o=new i.ErrorReportResponse;console.log("GRPCErrorReportRequest: ",r),console.log("GRPCErrorReportResponse: ",o),this.analytics.sendException(`[${e}]: ${t}`,n),r.setErrorPriority(n),r.setErrorMessage(t),r.setErrorContext(e),o=yield this.errorReporter.sendErrorReport(r).catch(e=>{console.error("[ErrorReporter] sendErrorReport error",e);let t=new i.ErrorReportResponse;return t.setStatus(s.StatusCode.ERROR),t}),console.log("Error Response Status:",o.getStatus()),console.log("Error Response error_handler_override:",o.getErrorHandlerOverride())}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.ErrorReporter),o["\u0275\u0275inject"](c.a))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Uhko:function(e,t,n){"use strict";n.r(t),n.d(t,"LikesPeopleRoutingModule",(function(){return L}));var r=n("8Y7J"),o=n("iInd"),s=n("mrSG"),i=n("QPZY"),a=n("oFih"),c=n("IPaV"),l=n("SVse"),p=n("ZnCC"),d=n("F7jZ"),m=n("ZBgG"),u=n("SYVq"),g=n("2nPA"),h=n("0cKA"),f=n("ZnzJ");function v(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"p",3),r["\u0275\u0275elementStart"](1,"span",4),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("",e.content.likeCount," Likes")}}function C(e,t){1&e&&r["\u0275\u0275element"](0,"mg-person-list-element",9),2&e&&r["\u0275\u0275property"]("person",t.$implicit)}function y(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.content.title,".")}}function _(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"this post."),r["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mg-stream-scroller",5),r["\u0275\u0275template"](1,C,1,1,"ng-template",6),r["\u0275\u0275elementStart"](2,"p",7),r["\u0275\u0275text"](3," Nobody has liked "),r["\u0275\u0275template"](4,y,2,1,"span",8),r["\u0275\u0275template"](5,_,2,0,"span",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("filter",e.contentFilter)("service",e.likesManager),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",e.content&&e.content.title),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!e.content||!e.content.title)}}let w=(()=>{class e{constructor(e,t,n,r,o,s){this.route=e,this.errorReporting=t,this._location=n,this.contentViewsService=r,this.contentState=o,this.likesManager=s,this.setupRouterListener()}get contentFilter(){return!!this.contextHash&&{contextHash:this.contextHash}}registerOnOverlayPreviousUpdate(e){this.onRegisterOnOverlayPreviousUpdate=e}registerOnOverlayNextUpdate(e){this.onRegisterOnOverlayNextUpdate=e}setupRouterListener(){this.route.params.subscribe(e=>{"hash"in e?(this.contextHash=e.hash,this.content||this.getContent()):(console.error("[LikesPeopleComponent] no hash available to get content!"),this._location.back())})}getContent(){return Object(s.a)(this,void 0,void 0,(function*(){let e=new a.LoadContentRequest,t=new i.UniqueHash;t.setValue(this.contextHash),e.addContentContextHash(t);const n=yield this.contentViewsService.loadContent(e).catch(e=>Object(s.a)(this,void 0,void 0,(function*(){let e=new a.LoadContentResponse;return e.setStatus(i.StatusCode.ERROR),e})));if(n.getStatus()==i.StatusCode.OK){const e=n.getContentList();if(e.length){const t=e[0];t.hasLongEventCard()?this.content=t.getLongEventCard().toObject():t.hasLongCard()?this.content=t.getLongCard().toObject():t.hasLongBirthdayCard()?this.content=t.getLongBirthdayCard().toObject():t.hasLongInspirationCard()&&(this.content=t.getLongInspirationCard().toObject()),this.onRegisterOnOverlayPreviousUpdate(this.overlayPrevious)}}}))}streamItemClick(e){console.log("[LikesPeopleComponent] streamItemClick")}get overlayPrevious(){return{icon:"back",text:this.content&&this.content.title||"Back"}}hasOverlayPrevious(){return this.overlayPrevious}onOverlayPrevious(){return Object(s.a)(this,void 0,void 0,(function*(){this.contentState.clearContentForPeopleLikes(),yield this.onOverlayClose()}))}onOverlayClose(){return Object(s.a)(this,void 0,void 0,(function*(){return this._location.back(),!0}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](l.k),r["\u0275\u0275directiveInject"](p.ContentViews),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](m.LikesManager))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-likes-people"]],decls:3,vars:3,consts:[[3,"component"],["class","likes-count",4,"ngIf"],["class","likes-person-list","rpcStream","streamLikesPeople","rpcControl","streamLikesPeopleControl",3,"filter","service",4,"ngIf"],[1,"likes-count"],[1,"likes-count-text"],["rpcStream","streamLikesPeople","rpcControl","streamLikesPeopleControl",1,"likes-person-list",3,"filter","service"],["mgStreamItem",""],["mg-stream-empty","",1,"mg-centered","mg-minicopy"],[4,"ngIf"],[3,"person"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),r["\u0275\u0275template"](1,v,3,1,"p",1),r["\u0275\u0275template"](2,k,6,4,"mg-stream-scroller",2)),2&e&&(r["\u0275\u0275property"]("component",t),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.content),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.contentFilter))},directives:[u.a,l.o,g.a,h.a,f.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.likes-count[_ngcontent-%COMP%]{margin:24px 16px 16px}@media (min-width:600px){.likes-count[_ngcontent-%COMP%]{margin:32px 32px 16px}}.likes-count[_ngcontent-%COMP%]   .likes-count-text[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.likes-count[_ngcontent-%COMP%]   .likes-count-text[_ngcontent-%COMP%]{font-size:3.3816425121vh}}@media (orientation:portrait){.likes-count[_ngcontent-%COMP%]   .likes-count-text[_ngcontent-%COMP%]{font-size:3.3816425121vw}}@media (orientation:landscape) and (max-height:414px){.likes-count[_ngcontent-%COMP%]   .likes-count-text[_ngcontent-%COMP%]{font-size:14px}}@media (orientation:portrait) and (max-width:414px){.likes-count[_ngcontent-%COMP%]   .likes-count-text[_ngcontent-%COMP%]{font-size:14px}}@media (min-width:439.875px){.likes-count[_ngcontent-%COMP%]   .likes-count-text[_ngcontent-%COMP%]{font-size:14.875px}}.likes-person-list[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #ccc;margin-bottom:32px}']}),e})();var M=n("m9yI"),R=n("T0Jv"),P=n("CL15");let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[R.a,M.b,P.a,l.c]]}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[S,o.k.forChild([{path:"",component:w}])]]}),e})()},ZBgG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LikesManager=void 0,n("8Y7J");const r=n("qCKp"),o=n("+6wJ"),s=n("mbq2"),i=n("8Y7J");class a{constructor(e){this._ngZone=e}streamLikesPeople(e,t,n,i,a){let c,l,p,d,m;if("function"==typeof t?(p=t,d=n,m=i):"function"==typeof n?(l=t,p=n,d=i,m=a):l=t,p)d||(d=e=>console.error(e)),m||(m=(e,t,n)=>{});else{let e=new r.Subject;c=e.asObservable(),p=t=>{e.next(t)},d=t=>{e.error(t)},m=(t,n,r)=>{e.complete()}}let u=o.grpc.invoke(s.LikesManager.StreamLikesPeople,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:l,onMessage:e=>this._ngZone.run(()=>{p(e)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e==o.grpc.Code.OK)m(e,t,n);else{let n=new Error(e+" "+(t||""));n.code=e,d(n)}})});return c.close=()=>(console.warn("[Angular Grpc] .close() is deprecated use .cancel() instead"),u.close()),c.cancel=()=>u.close(),c}streamLikesPeopleControl(e,t,n){let r,i,a;"function"==typeof t?i=t:(a=t,i=n),i||(r=new Promise((e,t)=>{i=(n,r)=>{n?t(n):e(r)}}));let c=null,l=o.grpc.invoke(s.LikesManager.StreamLikesPeopleControl,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:a,onHeaders:e=>c=e,onMessage:e=>this._ngZone.run(()=>{i(null,e,c||new o.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=o.grpc.Code.OK){let n=new Error(t);n.code=e,i(n)}})});return r.cancel=()=>l.close(),r}}t.LikesManager=a,a.\u0275fac=function(e){return new(e||a)(i.\u0275\u0275inject(i.NgZone))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})},dfi4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReporterClient=t.LocaleSyncClient=t.AppConfigClient=t.ErrorReporter=t.LocaleSync=t.AppConfig=void 0;const r=n("mI3D");class o{}t.AppConfig=o,o.serviceName="AppConfig",o.getAppConfig={methodName:"getAppConfig",service:o,requestStream:!1,responseStream:!1,requestType:r.AppConfigRequest,responseType:r.AppConfigResponse};class s{}t.LocaleSync=s,s.serviceName="LocaleSync",s.getLocaleSync={methodName:"getLocaleSync",service:s,requestStream:!1,responseStream:!1,requestType:r.LocaleSyncRequest,responseType:r.LocaleSyncResponse};class i{}t.ErrorReporter=i,i.serviceName="ErrorReporter",i.sendErrorReport={methodName:"sendErrorReport",service:i,requestStream:!1,responseStream:!1,requestType:r.ErrorReportRequest,responseType:r.ErrorReportResponse},t.AppConfigClient=class{getAppConfig(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},t.LocaleSyncClient=class{getLocaleSync(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},t.ErrorReporterClient=class{sendErrorReport(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},mbq2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LikesManagerClient=t.LikesManager=void 0;const r=n("wu1j"),o=n("PYFZ");class s{}t.LikesManager=s,s.serviceName="minga.likes.LikesManager",s.StreamLikesPeople={methodName:"StreamLikesPeople",service:s,requestStream:!1,responseStream:!0,requestType:o.StreamID,responseType:r.StreamLikesPeopleFeedResponse},s.StreamLikesPeopleControl={methodName:"StreamLikesPeopleControl",service:s,requestStream:!1,responseStream:!1,requestType:o.StreamControl,responseType:o.StreamControlResponse},t.LikesManagerClient=class{streamLikesPeople(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}streamLikesPeopleControl(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},wu1j:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamLikesPeopleFeedResponse=void 0;const r=n("hRO2"),o=n("PYFZ"),s=n("A4/Q");class i extends r.Message{constructor(e){super(),r.Message.initialize(this,e,0,-1,null,null)}toObject(e){return i.toObject(e||!1,this)}static toObject(e,t){var n,r={itemMetadata:(n=t.getItemMetadata())&&o.StreamItemMetadata.toObject(e,n),item:(n=t.getItem())&&s.PersonViewMinimal.toObject(e,n)};return e&&(r.$jspbMessageInstance=t),r}static deserializeBinary(e){var t=new r.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new o.StreamItemMetadata;t.readMessage(n,o.StreamItemMetadata.deserializeBinaryFromReader),e.setItemMetadata(n);break;case 2:var r=new s.PersonViewMinimal;t.readMessage(r,s.PersonViewMinimal.deserializeBinaryFromReader),e.setItem(r);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;null!=(n=e.getItemMetadata())&&t.writeMessage(1,n,o.StreamItemMetadata.serializeBinaryToWriter),null!=(n=e.getItem())&&t.writeMessage(2,n,s.PersonViewMinimal.serializeBinaryToWriter)}serializeBinary(){var e=new r.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}getItemMetadata(){return r.Message.getWrapperField(this,o.StreamItemMetadata,1)}setItemMetadata(e){r.Message.setWrapperField(this,1,e)}clearItemMetadata(){this.setItemMetadata(void 0)}hasItemMetadata(){return null!=r.Message.getField(this,1)}getItem(){return r.Message.getWrapperField(this,s.PersonViewMinimal,2)}setItem(e){r.Message.setWrapperField(this,2,e)}clearItem(){this.setItem(void 0)}hasItem(){return null!=r.Message.getField(this,2)}}t.StreamLikesPeopleFeedResponse=i,i.displayName="StreamLikesPeopleFeedResponse"},ypKM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReporter=t.LocaleSync=t.AppConfig=void 0,n("8Y7J");const r=n("+6wJ"),o=n("dfi4"),s=n("8Y7J");class i{constructor(e){this._ngZone=e}getAppConfig(e,t,n){let s,i,a;"function"==typeof t?i=t:(a=t,i=n),i||(s=new Promise((e,t)=>{i=(n,r)=>{n?t(n):e(r)}}));let c=null,l=r.grpc.invoke(o.AppConfig.getAppConfig,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:a,onHeaders:e=>c=e,onMessage:e=>this._ngZone.run(()=>{i(null,e,c||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,i(n)}})});return s.cancel=()=>l.close(),s}}t.AppConfig=i,i.\u0275fac=function(e){return new(e||i)(s.\u0275\u0275inject(s.NgZone))},i.\u0275prov=s.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});class a{constructor(e){this._ngZone=e}getLocaleSync(e,t,n){let s,i,a;"function"==typeof t?i=t:(a=t,i=n),i||(s=new Promise((e,t)=>{i=(n,r)=>{n?t(n):e(r)}}));let c=null,l=r.grpc.invoke(o.LocaleSync.getLocaleSync,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:a,onHeaders:e=>c=e,onMessage:e=>this._ngZone.run(()=>{i(null,e,c||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,i(n)}})});return s.cancel=()=>l.close(),s}}t.LocaleSync=a,a.\u0275fac=function(e){return new(e||a)(s.\u0275\u0275inject(s.NgZone))},a.\u0275prov=s.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"});class c{constructor(e){this._ngZone=e}sendErrorReport(e,t,n){let s,i,a;"function"==typeof t?i=t:(a=t,i=n),i||(s=new Promise((e,t)=>{i=(n,r)=>{n?t(n):e(r)}}));let c=null,l=r.grpc.invoke(o.ErrorReporter.sendErrorReport,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:a,onHeaders:e=>c=e,onMessage:e=>this._ngZone.run(()=>{i(null,e,c||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,i(n)}})});return s.cancel=()=>l.close(),s}}t.ErrorReporter=c,c.\u0275fac=function(e){return new(e||c)(s.\u0275\u0275inject(s.NgZone))},c.\u0275prov=s.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}}]);
//# sourceMappingURL=minga-app-src-app-components-Overlay-LikesPeople-LikesPeopleRouting-module-es2015.js.map