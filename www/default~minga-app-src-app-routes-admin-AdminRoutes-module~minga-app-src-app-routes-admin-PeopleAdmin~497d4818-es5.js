!function(){function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,r){var i=t(e,n);if(i){var a=Object.getOwnPropertyDescriptor(i,n);return a.get?a.get.call(arguments.length<3?e:r):a.value}}).apply(this,arguments)}function t(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function r(e){var t=l();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}function s(e,t,n){return(s=l()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),s=new _(i||[]);return r(o,"_invoke",{value:P(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=c;var d={};function m(){}function g(){}function p(){}var f={};l(f,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,a)&&(f=y);var C=p.prototype=m.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t((function(i,o){!function r(i,a,o,s){var l=u(e[i],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}(r,a,i,o)}))}return i=i?i.then(o,o):o()}})}function P(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=M(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function M(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,M(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:w}}function w(){return{value:void 0,done:!0}}return g.prototype=p,r(C,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:g,configurable:!0}),g.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},b(x.prototype),l(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(C),l(C,s,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"5xcx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("8Y7J"),i=n("s7LF"),a=n("NW4y"),o=function(){var e=function(){function e(){f(this,e)}return y(e,[{key:"validate",value:function(e){return Object(a.a)(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mgPhoneNumberValidator",""]],features:[r["\u0275\u0275ProvidersFeature"]([{provide:i.q,useExisting:e,multi:!0}])]}),e}()},"7jcR":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramContextStreamManagerClient=t.ProgramContextStreamManager=void 0;var r=n("xVyk"),i=n("PYFZ"),a=y((function e(){f(this,e)}));t.ProgramContextStreamManager=a,a.serviceName="minga.content.ProgramContextStreamManager",a.StreamProgramContexts={methodName:"StreamProgramContexts",service:a,requestStream:!1,responseStream:!0,requestType:i.StreamID,responseType:r.StreamProgramContextInfo},a.StreamProgramContextsControl={methodName:"StreamProgramContextsControl",service:a,requestStream:!1,responseStream:!1,requestType:i.StreamControl,responseType:i.StreamControlResponse},a.StreamProgramContextContent={methodName:"StreamProgramContextContent",service:a,requestStream:!1,responseStream:!0,requestType:i.StreamID,responseType:r.StreamProgramContextContentInfo},a.StreamProgramContextContentControl={methodName:"StreamProgramContextContentControl",service:a,requestStream:!1,responseStream:!1,requestType:i.StreamControl,responseType:i.StreamControlResponse},t.ProgramContextStreamManagerClient=function(){function e(){f(this,e)}return y(e,[{key:"streamProgramContexts",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"streamProgramContextsControl",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"streamProgramContextContent",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"streamProgramContextContentControl",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}()},"85oS":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("8Y7J"),i=n("s7LF"),a=n("Cnb3"),o=n("Q2Ze"),s=n("i1AJ"),l=n("e6WT"),c=n("SVse"),u=n("sj4O"),d=n("pMoy"),m=n("TSSN"),g=["matInputEl"];function p(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",6),r["\u0275\u0275element"](1,"mg-spinner",7),r["\u0275\u0275elementEnd"]())}var h=function(){return{standalone:!0}};function v(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-checkbox",8),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().customDisplayName=e}))("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().customDisplayNameChange(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngModel",i.customDisplayName)("ngModelOptions",r["\u0275\u0275pureFunction0"](2,h))}}function C(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.minlength")," "))}function b(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.maxlength")," "))}function x(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.required")," "))}function P(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275elementContainerStart"](1,9),r["\u0275\u0275template"](2,C,3,3,"span",10),r["\u0275\u0275template"](3,b,3,3,"span",10),r["\u0275\u0275template"](4,x,3,3,"span",11),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitch",n.inputControlError),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","minlength"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","maxlength")}}var M={provide:i.r,useExisting:Object(r.forwardRef)((function(){return O})),multi:!0},O=function(){var e=function(){function e(){f(this,e),this.value="",this.defaultValue="",this.inputCustom=!1,this.firstName="",this.lastName="",this.alwaysDefaultValue=!1,this.required=!1,this.customChange=new r.EventEmitter,this.statusPending=!1,this.statusTouched=!1,this.inputControlError="",this.instantErrors=!0,this.minlength=4,this.maxlength=25,this.showOnlyWithRole=!1,this.hasRole=!1}return y(e,[{key:"custom",set:function(e){this.inputCustom=e,this.customDisplayName=e}},{key:"hint",get:function(){return this.customDisplayName?"":"Check the box to create a custom display name"}},{key:"inputMaxLength",get:function(){return parseInt("".concat(this.maxlength))+1}},{key:"inputMinLength",get:function(){return this.minlength>0?this.minlength-1:0}},{key:"setupDefault",value:function(){this.defaultValue=a.DisplayNameFormat.format(this.firstName||"",this.lastName||"",this.displayNameFormat),this.customDisplayName?!this.inputCustom&&this.customDisplayName&&this.value==this.defaultValue&&(this.customDisplayName=!1):this.value=!this.showOnlyWithRole||this.showOnlyWithRole&&this.hasRole?this.defaultValue:""}},{key:"_handleDisplayNameChange",value:function(){this.customDisplayName?(this.value=this.defaultValue,this.focusInput()):(this.setupDefault(),this.onChange(this.showOnlyWithRole&&!this.hasRole?"":this.value)),this.triggerOnTouched(),this.triggerOnChange()}},{key:"customDisplayNameChange",value:function(e){this.customDisplayName=e,this.customChange.emit(this.customDisplayName),this._handleDisplayNameChange()}},{key:"focusInput",value:function(){var e=this;if(this.matInputEl){var t=this.matInputEl,n=!1;if(t.disabled)return this.value||(this.value=" ",n=!0),new Promise((function(r){var i=setInterval((function(){e.matInputEl.disabled||(t.focus(),n&&(e.value=""),clearInterval(i),r())}),100)}));t.focus()}}},{key:"ngOnChanges",value:function(e){var t=this;(e.firstName||e.lastName||e.displayNameFormat)&&(this.setupDefault(),this._checkIfCustom()),e.inputControlError&&setTimeout((function(){t.inputControlError&&(t.matInputEl.errorState=!0,t.matInputEl.ngControl.control.setErrors({errorKey:!0}))}))}},{key:"ngOnInit",value:function(){}},{key:"change",value:function(e){"string"==typeof e&&this.onChange(e),this.onTouched()}},{key:"triggerOnChange",value:function(){this._onChange&&this._onChange(this.value)}},{key:"triggerOnTouched",value:function(){this._onTouched&&this._onTouched()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"writeValue",value:function(e){null===e||this.showOnlyWithRole&&!this.hasRole?this.value="":"string"==typeof e&&(this.value=e,this.setupDefault())}},{key:"_checkIfCustom",value:function(){var e=this.defaultValue.trim(),t=this.value.trim();(this.inputCustom||e&&t&&t!=e)&&(this.customDisplayName=!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-display-name"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275viewQuery"](g,3),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.matInputEl=n.first))},inputs:{firstName:"firstName",lastName:"lastName",alwaysDefaultValue:"alwaysDefaultValue",displayNameFormat:"displayNameFormat",required:"required",custom:"custom",statusPending:"statusPending",statusTouched:"statusTouched",inputControlError:"inputControlError",instantErrors:"instantErrors",minlength:"minlength",maxlength:"maxlength",showOnlyWithRole:"showOnlyWithRole",hasRole:"hasRole"},outputs:{customChange:"customChange"},features:[r["\u0275\u0275ProvidersFeature"]([M]),r["\u0275\u0275NgOnChangesFeature"]],decls:9,vars:10,consts:[["hideRequiredMarker","","mgFormField","",1,"mg-display-name",3,"hintLabel","mgNoDisabledText"],["matInput","","ngDefaultControl","","name","displayName","autocomplete","off",3,"maxlength","minlength","ngModel","disabled","required","ngModelChange"],["inputEl","","matInputEl","matInput"],["class","input-icon","mat-icon-button","","matSuffix","",4,"ngIf"],["matSuffix","","ngDefaultControl","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","matSuffix","",1,"input-icon"],["color","primary","diameter","25"],["matSuffix","","ngDefaultControl","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0),r["\u0275\u0275elementStart"](1,"mat-label"),r["\u0275\u0275text"](2,"Display Name"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"input",1,2),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(e){return t.change(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,p,2,0,"div",3),r["\u0275\u0275template"](7,v,1,3,"mat-checkbox",4),r["\u0275\u0275template"](8,P,5,3,"mat-error",5),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("hintLabel",t.hint)("mgNoDisabledText",!t.value&&!t.customDisplayName),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("maxlength",t.inputMaxLength)("minlength",t.inputMinLength)("ngModel",t.value)("disabled",!t.customDisplayName)("required",t.customDisplayName),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.statusPending),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.statusPending),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.statusTouched))},directives:[o.d,s.a,o.h,l.b,i.d,i.n,i.o,i.t,i.w,i.B,c.o,o.j,u.a,d.a,o.c,c.q,c.r,c.s],pipes:[m.d],styles:[""]}),e}()},"9QcJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("8Y7J"),i=n("s7LF"),a=n("Ggka"),o=function(){var e=function(){function e(){f(this,e)}return y(e,[{key:"validate",value:function(e){var t=e.value;return t&&!a.a.EmailRegex.test(t)?{invalidEmail:!0}:null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","mgEmailValidator",""]],features:[r["\u0275\u0275ProvidersFeature"]([{provide:i.q,useExisting:e,multi:!0}])]}),e}()},"9XEq":function(t,i,a){"use strict";a.r(i),a.d(i,"AdminRoutesModule",(function(){return fi}));var s,l,c=a("8Y7J"),g=a("iInd"),p=a("TSSN"),v=a("oTGS"),C=a("CslP"),b=a("M9ds"),x=a("NGeL"),P=((s=y((function e(t){f(this,e),this.router=t,this.canCreateGroups=!1}))).\u0275fac=function(e){return new(e||s)(c["\u0275\u0275directiveInject"](g.g))},s.\u0275cmp=c["\u0275\u0275defineComponent"]({type:s,selectors:[["mg-challenge-poll-list-page"]],decls:8,vars:4,consts:[["mat-tab-nav-bar","",1,"no-inactive-tab"],["mat-tab-link","","routerLink","/admin/challenge~polls/challenges","routerLinkActive","active"],["rlaChallenges","routerLinkActive"],["value","Challenges",3,"strong"],["mat-tab-link","","routerLink","/admin/challenge~polls/polls","routerLinkActive","active"],["rlaPolls","routerLinkActive"],["value","Polls",3,"strong"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"nav",0),c["\u0275\u0275elementStart"](1,"a",1,2),c["\u0275\u0275element"](3,"mg-toggle-strong",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"a",4,5),c["\u0275\u0275element"](6,"mg-toggle-strong",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](7,"router-outlet")),2&e){var n=c["\u0275\u0275reference"](2),r=c["\u0275\u0275reference"](5);c["\u0275\u0275classProp"]("enable-create",t.canCreateGroups),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("strong",n.isActive),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("strong",r.isActive)}},directives:[b.f,g.j,b.e,g.i,x.a,g.l],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:block}.mat-tab-link[_ngcontent-%COMP%]{min-width:calc(100% / var(--mg-tab-count, 2));max-width:calc(100% / var(--mg-tab-count, 2));background-color:#fff;border-top:1px solid #ccc;border-bottom:1px solid #ccc;border-top-right-radius:0;border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-right:1px solid #ccc;opacity:1;font-family:Muli,sans-serif;line-height:1.35;color:#036;height:48px;font-weight:400}@media (orientation:landscape){.mat-tab-link[_ngcontent-%COMP%]{font-size:3.3913043478vh}}@media (orientation:portrait){.mat-tab-link[_ngcontent-%COMP%]{font-size:3.3913043478vw}}@media (orientation:landscape) and (max-height:414px){.mat-tab-link[_ngcontent-%COMP%]{font-size:14.04px}}@media (orientation:portrait) and (max-width:414px){.mat-tab-link[_ngcontent-%COMP%]{font-size:14.04px}}@media (min-width:448.5px){.mat-tab-link[_ngcontent-%COMP%]{font-size:15.21px}}.mat-tab-link.tab-fill[_ngcontent-%COMP%]{background-color:#fff;border-top:none;pointer-events:none}.mat-tab-link.tab-fill[_ngcontent-%COMP%]:hover{cursor:default}.mat-tab-link[_ngcontent-%COMP%]:focus{background-color:#fff!important}.mat-tab-link[_ngcontent-%COMP%]:first-child{border-right:1px solid #ccc;min-width:calc(100% / (var(--mg-tab-count, 2) + 1));margin-left:0;border-top-right-radius:0;border-top-left-radius:0;border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-left:none}.mat-tab-link[_ngcontent-%COMP%]:first-child.active + .mat-tab-link[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]:first-child:focus.active + .mat-tab-link[_ngcontent-%COMP%]{border-bottom-left-radius:8px;border-bottom-right-radius:0;border-left:1px solid #ccc;border-right:1px solid #ccc}.mat-tab-link[_ngcontent-%COMP%]:first-child.active + .mat-tab-link[_ngcontent-%COMP%] + .mat-tab-link[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]:first-child:focus.active + .mat-tab-link[_ngcontent-%COMP%] + .mat-tab-link[_ngcontent-%COMP%]{border-left:none;border-bottom-left-radius:0}@media (min-width:511px){.mat-tab-link[_ngcontent-%COMP%]:first-child{border-left:1px solid #ccc}.mat-tab-link[_ngcontent-%COMP%]:first-child.active, .mat-tab-link[_ngcontent-%COMP%]:first-child:focus.active{border-left:none}}.mat-tab-link[_ngcontent-%COMP%]:last-of-type{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-right:1px solid #ccc}.mat-tab-link.active[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]:focus.active{background-color:#f5f5f5!important;border-bottom:1px solid #f5f5f5;font-weight:700;border-bottom-left-radius:0;border-bottom-right-radius:0;border-right:none}.mat-tab-link.active[_ngcontent-%COMP%] + .mat-tab-link[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]:focus.active + .mat-tab-link[_ngcontent-%COMP%]{border-left:1px solid #ccc}nav[_ngcontent-%COMP%]{border-bottom:none;margin-top:0}@media (min-width:511px){nav[_ngcontent-%COMP%]:not(.no-inactive-tab){border-right:1px solid #ccc}}nav.no-inactive-tab[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:first-child{min-width:calc(100% / var(--mg-tab-count, 2));max-width:calc(100% / var(--mg-tab-count, 2))}@media (min-width:511px){nav.no-inactive-tab[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:last-of-type{min-width:calc((100% / var(--mg-tab-count, 2)) - 1px);max-width:calc((100% / var(--mg-tab-count, 2)) - 1px)}}[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{width:60%;margin-left:auto;--mg-tab-count:2}@media (orientation:landscape){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:4.2666666667vh}}@media (orientation:portrait){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:4.2666666667vw}}@media (orientation:landscape) and (max-height:375px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:16px}}@media (orientation:portrait) and (max-width:375px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:16px}}@media (min-width:562.5px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{--mg-icon-size:24px}}[_nghost-%COMP%]   nav[mat-tab-nav-bar].enable-create[_ngcontent-%COMP%]{--mg-tab-count:3}@media (orientation:landscape){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:480px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-left:24px}}@media (orientation:landscape){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:5vh}}@media (orientation:portrait){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:5vw}}@media (orientation:landscape) and (max-height:320px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:320px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:480px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{padding-right:24px}}[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .group-text[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{display:inline-block;margin-left:-.3em}@media (min-width:390px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]   .group-text[_ngcontent-%COMP%]{display:inline}}@media (max-width:599px){[_nghost-%COMP%]   nav[mat-tab-nav-bar][_ngcontent-%COMP%]{width:100%}}']}),s),M=a("SVse"),O=a("CO6v"),k=a("0hYQ"),_=((l=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||l)},l.\u0275mod=c["\u0275\u0275defineNgModule"]({type:l}),l.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[k.a,O.a,M.c,g.k,b.g]]}),l);a("8Vb0");var S=a("LM9v"),w=(a("sETV"),a("Cnb3")),I=a("PfYm"),E=a("WH00"),F=a("HSxi"),T=a("F7jZ"),R=a("Vwx4"),j=a("TxG7"),D=a("Fudl"),N=a("2nPA"),L=a("HQAS"),B=a("0cKA"),A=a("05dM"),z=a("chTD");function H(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-challenge-short-card",8),c["\u0275\u0275listener"]("challengeClick",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChallengeClick(e)}))("challengeResponseClick",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onChallengeResponseClick(e)})),c["\u0275\u0275elementEnd"]()}if(2&e){var r=t.itemId;c["\u0275\u0275property"]("content",t.$implicit.shortChallengeCard)("context",r)}}var V,W,G,q=function(){return[]},U=((V=function(){function e(t,n,r,i,a,o){f(this,e),this.pollAnswerService=t,this.contentEvents=n,this.groupsFacade=r,this.contentState=i,this.permissions=a,this.contentFeed=o,this.emptyStateIcons=[],this.canCreateChallenges=!1,this.feedFilter={contentType:"CHALLENGE"},r.dispatchLoadAll(),this.emptyStateIcons=[{icon:"post",text:"Add"},{icon:"challenges-o",text:"Challenge"}],this.canCreateChallenges=this.permissions.hasPermission(w.MingaPermission.CONTENT_CHALLENGE_CREATE)}return y(e,[{key:"onChallengeClick",value:function(e){this.contentEvents.emitContentOpen({contentContextHash:e.challengeContextHash})}},{key:"onChallengeResponseClick",value:function(e){this.contentEvents.emitContentOpen({contentContextHash:e.responseContextHash})}}]),e}()).\u0275fac=function(e){return new(e||V)(c["\u0275\u0275directiveInject"](I.a),c["\u0275\u0275directiveInject"](E.a),c["\u0275\u0275directiveInject"](F.b),c["\u0275\u0275directiveInject"](T.a),c["\u0275\u0275directiveInject"](R.c),c["\u0275\u0275directiveInject"](j.ContentFeed))},V.\u0275cmp=c["\u0275\u0275defineComponent"]({type:V,selectors:[["mg-challenge-admin-list"]],decls:13,vars:11,consts:[[1,"mg-headline","page-header"],[1,"default-icon"],[1,"mg-smallcopy"],[1,"divider"],[1,"feed-items"],["mgStreamControl","challengesMingaFeed","rpcStream","streamContentFeed","rpcControl","streamContentFeedControl",3,"filter","service","mgTrimmed"],["mgStreamItem",""],["mg-stream-empty","",3,"title","subtitle","icons"],[3,"content","context","challengeClick","challengeResponseClick"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",0),c["\u0275\u0275elementStart"](1,"mg-icon",1),c["\u0275\u0275text"](2,"flag-icon"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3," Challenges\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"p",2),c["\u0275\u0275text"](5,"Here are your weekly challenges."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](6,"div",3),c["\u0275\u0275elementStart"](7,"div",4),c["\u0275\u0275elementStart"](8,"mg-stream-scroller",5),c["\u0275\u0275template"](9,H,1,2,"ng-template",6),c["\u0275\u0275element"](10,"mg-empty-state",7),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("filter",t.feedFilter)("service",t.contentFeed)("mgTrimmed",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("title",c["\u0275\u0275pipeBind1"](11,6,"emptyState.manageChallengesTitle"))("subtitle",t.canCreateChallenges?c["\u0275\u0275pipeBind1"](12,8,"emptyState.manageChallengesSubtitle"):"")("icons",t.canCreateChallenges?t.emptyStateIcons:c["\u0275\u0275pureFunction0"](10,q)))},directives:[D.a,N.a,L.a,B.a,A.a,z.a],pipes:[p.d],styles:[".page-header[_ngcontent-%COMP%]{position:relative}@media (max-width:599px){.page-header[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}}.page-header[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{position:absolute;right:0;--mg-icon-size:141px;color:#ecdde1;z-index:0}.feed-items[_ngcontent-%COMP%]{margin-bottom:32px}.divider[_ngcontent-%COMP%]{border-top:1px solid #707070;width:100%;margin-bottom:14px;position:relative;z-index:1}"]}),V),Y=a("NG9B"),$=a("m9yI"),Q=a("PRFu"),Z=(a("vjAc"),a("ls3q")),J=a("Ogcz"),K=a("iELJ"),X=a("4avL"),ee=((G=function(){function e(t){f(this,e),this.dialogRef=t}return y(e,[{key:"addPerson",value:function(){this.dialogRef.close("single")}},{key:"addMultiplePeople",value:function(){this.dialogRef.close("multiple")}}]),e}()).\u0275fac=function(e){return new(e||G)(c["\u0275\u0275directiveInject"](K.g))},G.\u0275cmp=c["\u0275\u0275defineComponent"]({type:G,selectors:[["mg-add-people-dialog"]],decls:4,vars:0,consts:[["type","outline",3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mg-button",0),c["\u0275\u0275listener"]("click",(function(){return t.addPerson()})),c["\u0275\u0275text"](1,"Add Person"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"mg-button",0),c["\u0275\u0275listener"]("click",(function(){return t.addMultiplePeople()})),c["\u0275\u0275text"](3,"Add Multiple People"),c["\u0275\u0275elementEnd"]())},directives:[X.a],styles:["mg-button[_ngcontent-%COMP%]{width:100%;display:block;margin:16px 0}"]}),G),te=((W=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||W)},W.\u0275mod=c["\u0275\u0275defineNgModule"]({type:W}),W.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[O.a,K.f]]}),W),ne=a("mrSG"),re=a("7bNT"),ie=a("jtHE"),ae=a("1G5W"),oe=a("vAI6"),se=a("WFJ2"),le=a("vJwY"),ce=a("PYFZ"),ue=a("pgOG"),de=a("HHVM"),me=a("orC8"),ge=a("EyMp"),pe=a("GFah"),he=a("DjdL"),fe=a("UWMR"),ve=a("cUpR"),ye=a("mEol"),Ce=a("3qIc"),be=a("Cgve"),xe=a("VDRc"),Pe=a("cKGL"),Me=a("FlXp"),Oe=a("hrfs"),ke=a("YgQ7"),_e=a("cRkC"),Se=["successOverlayTemplate"];function we(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",1),c["\u0275\u0275elementStart"](1,"div",2),c["\u0275\u0275element"](2,"mg-success-checkmark"),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275projection"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}var Ie,Ee=["*"],Fe=((Ie=function(){function e(t){f(this,e),this.mgModal=t,this.autoClose=!1,this.closed=new c.EventEmitter}return y(e,[{key:"open",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.successOverlayTemplate){e.next=2;break}return e.abrupt("return",void console.error("successOverlayTemplate unset!"));case 2:return t=this.mgModal.open(this.successOverlayTemplate,{full:!0,animation:"fade"}),this.dialogRef=t,this.autoClose&&(this.getAutoCloseDelay(),setTimeout((function(){return t.close()}),this.getAutoCloseDelay())),e.next=7,new Promise((function(e){var r=t.onClosed.subscribe((function(i){e(),t===n.dialogRef&&(delete n.dialogRef,n.closed.emit(i)),r.unsubscribe()}))}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"close",value:function(e){this.dialogRef&&this.dialogRef.close(e)}},{key:"getAutoCloseDelay",value:function(){return"number"==typeof this.autoClose?this.autoClose:2e3}}]),e}()).\u0275fac=function(e){return new(e||Ie)(c["\u0275\u0275directiveInject"](ke.b))},Ie.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Ie,selectors:[["mg-success-modal"]],viewQuery:function(e,t){var n;1&e&&c["\u0275\u0275viewQuery"](Se,3),2&e&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.successOverlayTemplate=n.first)},inputs:{autoClose:"autoClose"},outputs:{closed:"closed"},ngContentSelectors:Ee,decls:2,vars:0,consts:[["successOverlayTemplate",""],[1,"success-overlay"],[1,"checkmark-wrap"],[1,"mg-bodycopy"]],template:function(e,t){1&e&&(c["\u0275\u0275projectionDef"](),c["\u0275\u0275template"](0,we,5,0,"ng-template",null,0,c["\u0275\u0275templateRefExtractor"]))},directives:[_e.a],styles:["[_nghost-%COMP%]{display:block;width:100%;text-align:center}.success-overlay[_ngcontent-%COMP%]{height:100%;text-align:center;position:relative}.success-overlay[_ngcontent-%COMP%]   .checkmark-wrap[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}"],changeDetection:0}),Ie),Te=a("h4xe"),Re=a("ura0"),je=a("itXk"),De=a("pLZG"),Ne=a("lJxs"),Le=a("o4Yh"),Be=a("SLe5"),Ae=a("sj4O"),ze=["groupPanel"];function He(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button",6),c["\u0275\u0275listener"]("click",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](3).onGroupSelect(null,e)})),c["\u0275\u0275text"](1,"Reset"),c["\u0275\u0275elementEnd"]()}}function Ve(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mat-expansion-panel",null,3),c["\u0275\u0275elementStart"](3,"mat-expansion-panel-header"),c["\u0275\u0275elementStart"](4,"mat-panel-title"),c["\u0275\u0275text"](5),c["\u0275\u0275template"](6,He,2,0,"mg-button",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"mg-group-list",5),c["\u0275\u0275listener"]("groupSelect",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onGroupSelect(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().ngIf,i=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",i.selectedGroup?"Selected: "+i.selectedGroup.name:"Select a school"," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",i.selectedGroup),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("groups",r)("clickMode","SELECT")}}function We(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p"),c["\u0275\u0275text"](1,"No schools to select."),c["\u0275\u0275elementEnd"]())}function Ge(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Ve,8,4,"ng-container",0),c["\u0275\u0275template"](2,We,2,0,"ng-template",null,2,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf,r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.length>0)("ngIfElse",r)}}function qe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",7),c["\u0275\u0275element"](1,"mg-spinner",8),c["\u0275\u0275elementEnd"]())}var Ue,Ye=((Ue=function(){function e(t){f(this,e),this.groupsFacade=t,this.selectedGroup=null,this.groupSelect=new c.EventEmitter,this.loadedParentGroups$=Object(je.b)([this.groupsFacade.getGroupsLoaded(),this.groupsFacade.getParentGroups()]).pipe(Object(De.a)((function(e){return m(e,1)[0]})),Object(Ne.a)((function(e){return m(e,2)[1]})))}return y(e,[{key:"onGroupSelect",value:function(e,t){t&&!e&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()),this.selectedGroup=e,this.groupSelect.emit(e),this.expansionPanel&&this.expansionPanel.close()}}]),e}()).\u0275fac=function(e){return new(e||Ue)(c["\u0275\u0275directiveInject"](F.b))},Ue.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Ue,selectors:[["mg-parent-group-select-expansion-panel"]],viewQuery:function(e,t){var n;1&e&&c["\u0275\u0275viewQuery"](ze,1),2&e&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.expansionPanel=n.first)},outputs:{groupSelect:"groupSelect"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loadingTpl",""],["noGroups",""],["groupPanel",""],["class","small","type","outline",3,"click",4,"ngIf"],[3,"groups","clickMode","groupSelect"],["type","outline",1,"small",3,"click"],[1,"mg-centered"],["diameter","30","thickness","4"]],template:function(e,t){if(1&e&&(c["\u0275\u0275template"](0,Ge,4,2,"ng-container",0),c["\u0275\u0275pipe"](1,"async"),c["\u0275\u0275template"](2,qe,2,0,"ng-template",null,1,c["\u0275\u0275templateRefExtractor"])),2&e){var n=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](1,2,t.loadedParentGroups$))("ngIfElse",n)}},directives:[M.o,Le.c,Le.f,Le.g,Be.a,X.a,Ae.a],pipes:[M.b],styles:["mat-expansion-panel[_ngcontent-%COMP%]{background-color:initial}mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{justify-content:space-between}"],changeDetection:0}),Ue),$e=a("UhP/"),Qe=a("pMoy"),Ze=a("f44v"),Je=a("Tj54"),Ke=a("Hp2Z"),Xe=a("O4Bs"),et=a("VoSn"),tt=a("gjtd"),nt=a("DobJ"),rt=["confirmResendEmailsTpl"],it=["confirmResendSuccessModal"];function at(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",29),c["\u0275\u0275elementStart"](1,"div",30),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",31),c["\u0275\u0275element"](4,"mg-odometer",32),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=t.statType,r=t.statTitle,i=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](r),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",i.getActivityStats(n,!0))}}var ot=function(){return["people","add"]},st=function(e){return{o:e}},lt=function(e){return{outlets:e}},ct=function(e){return["",e]};function ut(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mg-button",33),c["\u0275\u0275elementStart"](1,"div",34),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"post"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"Add Person"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngClass.xs","small")("ngClass.gt-sm","normal")("routerLink",c["\u0275\u0275pureFunction1"](8,ct,c["\u0275\u0275pureFunction1"](6,lt,c["\u0275\u0275pureFunction1"](4,st,c["\u0275\u0275pureFunction0"](3,ot)))))}var dt=function(){return["people","import"]};function mt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mg-button",33),c["\u0275\u0275elementStart"](1,"div",34),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"upload-o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"Upload List"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngClass.xs","small")("ngClass.gt-sm","normal")("routerLink",c["\u0275\u0275pureFunction1"](8,ct,c["\u0275\u0275pureFunction1"](6,lt,c["\u0275\u0275pureFunction1"](4,st,c["\u0275\u0275pureFunction0"](3,dt)))))}var gt=function(){return["people","delete-many"]};function pt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mg-button",33),c["\u0275\u0275elementStart"](1,"div",34),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"warning-o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"Delete Multiple "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngClass.xs","small")("ngClass.gt-sm","normal")("routerLink",c["\u0275\u0275pureFunction1"](8,ct,c["\u0275\u0275pureFunction1"](6,lt,c["\u0275\u0275pureFunction1"](4,st,c["\u0275\u0275pureFunction0"](3,gt)))))}function ht(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"div",14),c["\u0275\u0275elementStart"](2,"div",8),c["\u0275\u0275text"](3,"District School Select"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",9),c["\u0275\u0275text"](5,"Filter by School"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"mg-parent-group-select-expansion-panel",36),c["\u0275\u0275listener"]("groupSelect",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onGroupSelect(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function ft(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,ht,7,0,"div",35),c["\u0275\u0275elementContainerEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","GROUP_ALLOW_ANY_PARENT_GROUP"))}function vt(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function yt(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Ct(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function bt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",39),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().toggleFilter(e)})),c["\u0275\u0275elementStart"](1,"div",40),c["\u0275\u0275element"](2,"mat-checkbox",41),c["\u0275\u0275elementStart"](3,"div"),c["\u0275\u0275elementStart"](4,"div",42),c["\u0275\u0275text"](5,"PEOPLE"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",40),c["\u0275\u0275element"](7,"span",43),c["\u0275\u0275elementStart"](8,"span",44),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275classProp"]("has-filter",r.searchFilter)("active",r.filterActive),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("checked",r.filterActive),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](r.total)}}function xt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",45),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().toggleFilter(e)})),c["\u0275\u0275elementStart"](1,"div",46),c["\u0275\u0275elementStart"](2,"div",40),c["\u0275\u0275element"](3,"mat-checkbox",41),c["\u0275\u0275elementStart"](4,"div"),c["\u0275\u0275elementStart"](5,"div",42),c["\u0275\u0275text"](6,"PENDING INVITES"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",40),c["\u0275\u0275element"](8,"span",47),c["\u0275\u0275elementStart"](9,"span",48),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",49),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).resendAllInviteEmails()})),c["\u0275\u0275elementStart"](12,"mg-icon"),c["\u0275\u0275text"](13,"publish-o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](14," Resend"),c["\u0275\u0275element"](15,"br"),c["\u0275\u0275text"](16,"Invites "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().$implicit,i=c["\u0275\u0275nextContext"]();c["\u0275\u0275classProp"]("has-filter",r.searchFilter)("active",r.filterActive),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("checked",r.filterActive),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](i.unregisteredCount)}}function Pt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,bt,10,6,"div",37),c["\u0275\u0275template"](2,xt,17,6,"div",38),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.title===r.StatCategories.REGISTERED),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.title===r.StatCategories.UNREGISTERED)}}function Mt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"div",52),c["\u0275\u0275element"](2,"mat-checkbox",53),c["\u0275\u0275elementStart"](3,"strong",54),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"strong",55),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"strong",56),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](9),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().$implicit,r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("style",r.getRoleCircleGradient(n.statColor),c["\u0275\u0275sanitizeStyle"]),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("checked",n.filterActive),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.total-(n.registered||n.total)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.registered),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.countText),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" \xa0",n.title," ")}}function Ot(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",57),c["\u0275\u0275text"](1," Total:\xa0 "),c["\u0275\u0275elementStart"](2,"strong",54),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"strong",55),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"strong",56),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](n.total-(n.registered||n.total)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.registered),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.countText)}}function kt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",50),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().toggleFilter(e)})),c["\u0275\u0275template"](1,Mt,10,6,"ng-container",5),c["\u0275\u0275template"](2,Ot,8,3,"div",51),c["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,i=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.title!=i.StatCategories.TOTAL&&r.title!=i.StatCategories.SADMIN),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.title==i.StatCategories.TOTAL)}}function _t(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mat-chip",60),c["\u0275\u0275listener"]("removed",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](2).toggleFilter(e)})),c["\u0275\u0275text"](1),c["\u0275\u0275elementStart"](2,"mat-icon",61),c["\u0275\u0275text"](3,"cancel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275property"]("removable",!0)("disableRipple",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.title," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matRippleUnbounded",!0)}}function St(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,_t,4,4,"mat-chip",59),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.filterActive)}}function wt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mat-chip",60),c["\u0275\u0275listener"]("removed",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](2).toggleFilter(e)})),c["\u0275\u0275text"](1),c["\u0275\u0275elementStart"](2,"mat-icon",61),c["\u0275\u0275text"](3,"cancel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275property"]("removable",!0)("disableRipple",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.title," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matRippleUnbounded",!0)}}function It(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,wt,4,4,"mat-chip",59),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.filterActive&&n.title!==r.StatCategories.TOTAL)}}function Et(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"p",58),c["\u0275\u0275elementStart"](2,"strong"),c["\u0275\u0275text"](3,"Your active selections"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mat-chip-list"),c["\u0275\u0275template"](5,St,2,1,"ng-container",16),c["\u0275\u0275template"](6,It,2,1,"ng-container",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",n.primaryStatFilters),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n.secondaryStatFilters)}}function Ft(e,t){1&e&&(c["\u0275\u0275element"](0,"mg-empty-state",62),c["\u0275\u0275pipe"](1,"translate"),c["\u0275\u0275pipe"](2,"translate")),2&e&&c["\u0275\u0275property"]("title",c["\u0275\u0275pipeBind1"](1,2,"emptyState.nothingSelected"))("subtitle",c["\u0275\u0275pipeBind1"](2,4,"emptyState.nothingSelectedPeopleSubtitle"))}function Tt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",63),c["\u0275\u0275element"](1,"mg-button-icon",64),c["\u0275\u0275elementStart"](2,"h1",65),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"p"),c["\u0275\u0275elementStart"](5,"strong"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](7," will receive the invite email with their PIN and a link to register. "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",66),c["\u0275\u0275element"](9,"div",67),c["\u0275\u0275elementStart"](10,"mg-button",68),c["\u0275\u0275text"](11,"Cancel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"mg-button",69),c["\u0275\u0275text"](13,"Proceed"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matDialogClose",null),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" Resend Invite Email",1!=n.unregisteredCount?"s":""," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate2"]("",n.unregisteredCount," ",1!=n.unregisteredCount?"people":"person",""),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("matDialogClose",!1),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("matDialogClose",!0)}}function Rt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button",70),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().submit()})),c["\u0275\u0275text"](1," List Selected People\n"),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275classProp"]("unsubmitted",!r.submitted),c["\u0275\u0275property"]("disabled",r.submitted||!r.hasActiveFilters())}}function jt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",78),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](3).export()})),c["\u0275\u0275text"](1," Export list "),c["\u0275\u0275elementEnd"]()}}function Dt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"th",76),c["\u0275\u0275text"](1," Member Details "),c["\u0275\u0275template"](2,jt,2,0,"button",77),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"th"),c["\u0275\u0275text"](4,"Role"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"th"),c["\u0275\u0275text"](6,"Last Login"),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!n.searchText)}}function Nt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",86),c["\u0275\u0275text"](1,"--"),c["\u0275\u0275elementEnd"]())}function Lt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().$implicit,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.lastLoginFormat(n.lastLogin)," ")}}var Bt=function(e){return["people","update",e]};function At(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275element"](1,"mg-avatar",79),c["\u0275\u0275elementStart"](2,"div",80),c["\u0275\u0275elementStart"](3,"div"),c["\u0275\u0275element"](4,"mg-person-minimal",81),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div"),c["\u0275\u0275elementStart"](6,"a",82),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td",83),c["\u0275\u0275elementStart"](9,"strong",84),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",83),c["\u0275\u0275template"](12,Nt,2,0,"span",85),c["\u0275\u0275template"](13,Lt,2,1,"span",5),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275styleProp"]("opacity",n.archived?"0.5":1),c["\u0275\u0275property"]("src",n.profileImageUrl)("color",n.badgeIconColor)("personHash",n.personHash),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("person",r.personMinimalData(n))("routerLink",c["\u0275\u0275pureFunction1"](21,ct,c["\u0275\u0275pureFunction1"](19,lt,c["\u0275\u0275pureFunction1"](17,st,c["\u0275\u0275pureFunction1"](15,Bt,n.personHash))))),c["\u0275\u0275advance"](1),c["\u0275\u0275styleProp"]("opacity",n.archived?"0.5":1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("href","mailto:"+n.email,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](n.email),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("title",r.roleTitle(n)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",r.roleInitial(n.badgeRoleName)," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!n.lastLogin),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.lastLogin)}}function zt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mg-table-stream-scroller",71),c["\u0275\u0275elementStart"](1,"p",72),c["\u0275\u0275text"](2," No results "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"p",73),c["\u0275\u0275text"](4," No more results "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,Dt,7,1,"ng-template",74),c["\u0275\u0275template"](6,At,14,23,"ng-template",75),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("service",n.mingaPeopleManager)("filter",n.getStreamFilter())}}var Ht,Vt,Wt,Gt,qt=function(e){return{statType:e,statTitle:"Today"}},Ut=function(e){return{statType:e,statTitle:"Last 7 Days"}},Yt=function(e){return{statType:e,statTitle:"Last 30 Days"}},$t=function(e){return e.REGISTERED="Registered",e.TOTAL="Total",e.DAILY="daily",e.WEEKLY="weekly",e.MONTHLY="monthly",e.SADMIN="Super Admin",e.UNREGISTERED="Unregistered",e}({}),Qt=((Ht=function(){function e(t,n,r,i,a,o,s,l,c,u,d,m,g,p,h){var v=this;f(this,e),this.userStorage=t,this.peopleManager=n,this.peopleAdminManager=r,this.mingaPeopleManager=i,this.router=a,this.dialog=o,this.permissions=s,this.rootService=l,this.actions$=c,this.search=u,this.snackbar=d,this.cdr=m,this.sanitizer=g,this.rootNav=p,this._settingService=h,this._destroyed$=new ie.a(1),this.items=[],this.people=null,this.StatCategories=$t,this.primaryStatFilters=[],this.secondaryStatFilters=[],this.activityStats=[],this.streamFilter={query:""},this.submitted=!1,this.tableLabel="",this.searchText="",this.unregisteredCount="--",this.registeredCount="--",this.currentGroup=null,this.selectedGroup=null,this.doughnutChartData=[],this.doughnutChartType="doughnut",this.doughnutChartLabels=[],this.doughnutChartColours=[],this.rootNav.currentGroup$.pipe(Object(ae.a)(this._destroyed$)).subscribe((function(e){v.currentGroup=e,v._initMingaPeopleInfo()})),this.isDistrictEnabled$=this._settingService.getSettingValueObs(w.mingaSettingTypes.FEATURE_DISTRICT_ENABLED),this._initMingaPeopleInfo()}return y(e,[{key:"onGroupSelect",value:function(e){this.selectedGroup=e||null,this._initMingaPeopleInfo(),this.submitted=!1}},{key:"hasActiveFilters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)for(var t=0;t<this.primaryStatFilters.length;t++)if(this.primaryStatFilters[t].filterActive)return!0;for(var n=0;n<this.secondaryStatFilters.length;n++)if(this.secondaryStatFilters[n].filterActive&&this.secondaryStatFilters[n].title!==$t.TOTAL)return!0;return!1}},{key:"_doResendAllInviteEmails",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new ue.ResendAllInvitesRequest).setSendInviteEmail(!0),n=!1,e.prev=3,e.next=6,this.peopleAdminManager.resendAllInvites(t);case 6:n=!0,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0),this.snackbar.open("Something went wrong, please try again later");case 12:if(e.t1=n&&this.confirmResendSuccessModal,!e.t1){e.next=16;break}return e.next=16,this.confirmResendSuccessModal.open().then((function(){}));case 16:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"resendAllInviteEmails",value:function(){var e=this;this.confirmResendEmailsTpl&&this.dialog.open(this.confirmResendEmailsTpl,{panelClass:"mg-normal-padding-dialog"}).beforeClosed().subscribe((function(t){t&&e.rootService.addLoadingPromise(e._doResendAllInviteEmails())}))}},{key:"export",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rootService.addLoadingPromise(this._doExport()));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_doExport",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t,n,r,i,a,o,s,l,c,u,m;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new ue.ExportPeopleRequest,n=null,r=d(this.primaryStatFilters);try{for(r.s();!(i=r.n()).done;)(a=i.value).searchFilter&&a.filterActive&&(n=n?null:a.searchFilter["searchData.registered"])}catch(g){r.e(g)}finally{r.f()}!0!==n&&!1!==n||t.setRegistered(n?ue.ExportPeopleRequest.FilterRegistered.REGISTERED:ue.ExportPeopleRequest.FilterRegistered.NOT_REGISTERED),o=d(this.secondaryStatFilters);try{for(o.s();!(s=o.n()).done;)(l=s.value).searchFilter&&l.filterActive&&l.searchFilter["searchData.roleType"]&&t.addRoleTypeFilter(l.searchFilter["searchData.roleType"])}catch(g){o.e(g)}finally{o.f()}return c=this.mingaPeopleManager.exportPeople(t),u="",m=new Uint8Array(0),e.next=11,new Promise((function(e,t){c.subscribe((function(e){if(e.hasChunk()){var t=e.getChunk_asU8(),n=new Uint8Array(m.length+t.length);n.set(m),n.set(t,m.length),m=n}else e.hasFilename()&&(u=e.getFilename())}),t,e)}));case 11:Object(le.a)(m,u);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"_initChart",value:function(){for(var e=[],t=[],n=[],r=this.hasActiveFilters(!0),i=this.isOnlyUnregisteredFilterActive(),a=this.isRegisteredFilterActive(),o=0;o<this.secondaryStatFilters.length;o++){var s=this.secondaryStatFilters[o];s.title===$t.TOTAL||!s.total||r&&!s.filterActive||(e.push(i?s.total-(s.registered||s.total):a&&s.registered?s.registered:s.total),t.push(s.title),n.push(s.statColor||"#1DCE4D"))}this.doughnutChartColours=[{backgroundColor:n}],this.doughnutChartData=[e],this.doughnutChartLabels=t}},{key:"_fillInStatInfo",value:function(e,t,n){for(var r=0,i=function(){var i=e[a],o=i.getStatTitle(),s={title:o,countText:"--",total:i.getStatTotal()||i.getStatCount(),primary:n,daily:i.getDaily(),weekly:i.getWeekly(),monthly:i.getMonthly(),registered:i.getRegistered(),statColor:i.getStatColor()};if(o!==$t.REGISTERED&&o!==$t.TOTAL||(s.filterActive=!0,r=a),i.hasStatPercent()?s.countText=(100*i.getStatPercent()).toFixed(0)+"%":i.hasStatCount()&&(s.countText=""+i.getStatCount()),i.hasStatSearchFilter()){var l=i.getStatSearchFilter().getKeyValuesMap();s.searchFilter={},l.forEach((function(e,t){var n;switch(e.getValuesCase()){case ce.StreamFilterType.ValuesCase.BOOL_VALUE:n=e.getBoolValue();break;case ce.StreamFilterType.ValuesCase.FLOAT_VALUE:n=e.getFloatValue();break;case ce.StreamFilterType.ValuesCase.DOUBLE_VALUE:n=e.getDoubleValue();break;case ce.StreamFilterType.ValuesCase.UINT32_VALUE:n=e.getUint32Value();break;case ce.StreamFilterType.ValuesCase.INT32_VALUE:n=e.getInt32Value();break;case ce.StreamFilterType.ValuesCase.STRING_VALUE:n=e.getStringValue();break;case ce.StreamFilterType.ValuesCase.OP:n=e.getOp();break;default:return}s.searchFilter[t]=n}))}t.push(s)},a=0;e.length>a;a++)i();if(!n&&(this._initChart(),r<t.length-1)){var o=t.splice(r)[0];t.push(o)}}},{key:"getRoleCircleGradient",value:function(e){var t=e||"#1DCE4D",n=Object(se.a)(t).darken(.25);return this.sanitizer.bypassSecurityTrustStyle("--circle-gradient-color1: ".concat(t,"; --circle-gradient-color2: ").concat(n,";"))}},{key:"_loadMingaPeopleInfoCache",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t,n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userStorage.getItem("minga_people_info_cache");case 2:if(t=e.sent){for(this.primaryStatFilters.length>t.primary_count&&(this.primaryStatFilters=this.primaryStatFilters.slice(0,t.primary_count)),this.secondaryStatFilters.length>t.secondary_count&&(this.secondaryStatFilters=this.secondaryStatFilters.slice(0,t.secondary_count)),n=0;t.primary_count>n;n++)this.primaryStatFilters[n]||(this.primaryStatFilters[n]={title:"",countText:"--",total:0,cached:!0,primary:!0});for(r=0;t.secondary_count>r;r++)this.secondaryStatFilters[r]||(this.secondaryStatFilters[r]={title:"",countText:"--",total:0,cached:!0,primary:!1})}case 4:case"end":return e.stop()}}),e,this)})))}},{key:"lastLoginFormat",value:function(e){if(!e)return"--";var t=new Date;t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0);var n=new Date(Date.UTC(e.year,e.month-1,e.day)),r=t.getTime()-n.getTime();return r<864e5?"today":de.day.duration(-r).humanize(!0)}},{key:"getTableLabel",value:function(){var e=[];if(this.searchText)e.push('"'.concat(this.searchText,'"'));else{var t,n=d(this.primaryStatFilters);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.filterActive&&e.push(r.title)}}catch(s){n.e(s)}finally{n.f()}var i,a=d(this.secondaryStatFilters);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.filterActive&&o.title!==$t.TOTAL&&e.push(o.title)}}catch(s){a.e(s)}finally{a.f()}}return e.join(", ")}},{key:"getRegisteredStats",value:function(e,t){var n,r=0,i=0,a=d(this.secondaryStatFilters);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.title!==$t.TOTAL&&o.filterActive&&(r+=o.registered,i+=o.total)}}catch(l){a.e(l)}finally{a.f()}if(e.title!=$t.REGISTERED&&(r=i-r),t){var s=r/i*100;return isFinite(s)?s.toFixed(0)+"%":"0%"}return r}},{key:"_activePrimaryFilters",value:function(){var e,t=!1,n=!1,r=d(this.primaryStatFilters);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.title===$t.UNREGISTERED&&i.filterActive?t=!0:i.title===$t.REGISTERED&&i.filterActive&&(n=!0)}}catch(a){r.e(a)}finally{r.f()}return[t,n]}},{key:"isRegisteredFilterActive",value:function(){var e=m(this._activePrimaryFilters(),2),t=e[0];return e[1]&&!t}},{key:"isOnlyUnregisteredFilterActive",value:function(){var e=m(this._activePrimaryFilters(),2),t=e[0];return!e[1]&&t}},{key:"hasClearableFilters",value:function(){return this.submitted&&!!this.streamFilter.query}},{key:"getActivityStats",value:function(e,t){var n=m(this._activePrimaryFilters(),2);if(n[0],!n[1])return"--";var r,i=0,a=0,o=d(this.secondaryStatFilters);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.filterActive&&(i+=s[e],a+=s.registered)}}catch(c){o.e(c)}finally{o.f()}if(t){var l=i/a*100;return isFinite(l)?l.toFixed(0)+"%":"0%"}return i.toString()}},{key:"getStreamFilter",value:function(){return this.streamFilter}},{key:"applyStreamFilter",value:function(){var e,t,n={query:""},r=null,i=d(this.primaryStatFilters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.searchFilter&&a.filterActive&&(r=r?null:a.searchFilter)}}catch(C){i.e(C)}finally{i.f()}r&&Object.assign(n,r);var o,s=new ce.StreamFilterOp.Includes,l=!1,c=d(this.secondaryStatFilters);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(u.searchFilter&&u.filterActive)if(u.searchFilter["searchData.roleType"]){var m=new ce.StreamFilterOp.Value;m.setStringValue(u.searchFilter["searchData.roleType"]),s.addValue(m),l=!0}else Object.assign(n,u.searchFilter)}}catch(C){c.e(C)}finally{c.f()}if(l){var g=new ce.StreamFilterOp;g.setIncludes(s),n["searchData.roleType"]=g}"searchData.archived"in n||(n["searchData.archived"]=!1),this.searchText&&(n.query=this.searchText);var p=null,h=this.permissions.hasPermission(w.MingaPermission.GROUP_ALLOW_ANY_PARENT_GROUP);if((null===(e=this.currentGroup)||void 0===e?void 0:e.isParent)&&!h?p=this.currentGroup:this.selectedGroup&&(p=this.selectedGroup),p){var f=new ce.StreamFilterOp,v=new ce.StreamFilterOp.Includes,y=new ce.StreamFilterOp.Value;y.setStringValue(p.hash),v.addValue(y),f.setIncludes(v),n["searchData.parentGroupHashes"]=f}this.streamFilter=n}},{key:"clearActivePrimaryFilter",value:function(e){this.primaryStatFilters.forEach((function(t){"filterActive"in t&&(t.filterActive=!1),e&&t.title==e&&(t.filterActive=!0)}))}},{key:"clearActiveSecondaryFilter",value:function(e){this.secondaryStatFilters.forEach((function(t){"filterActive"in t&&(t.filterActive=!1),e&&t.title==e&&(t.filterActive=!0)}))}},{key:"clearActiveTotalFilter",value:function(){this.secondaryStatFilters.forEach((function(e){e.title==$t.TOTAL&&(e.filterActive=!1)}))}},{key:"activateActiveTotalFilter",value:function(){this.secondaryStatFilters.forEach((function(e){e.title==$t.TOTAL&&(e.filterActive=!0)}))}},{key:"clearFilters",value:function(){this.clearActiveSecondaryFilter($t.TOTAL),this.clearActivePrimaryFilter($t.REGISTERED),this.search.resetSearch(),this.submitted=!1}},{key:"toggleFilter",value:function(e){var t=this,n=!e.filterActive;requestAnimationFrame((function(){e.searchFilter||e.primary?e.primary||e.filterActive||t.clearActiveTotalFilter():(t.clearActiveSecondaryFilter(),e.filterActive=!0),e.searchFilter&&(e.filterActive=n),t.hasActiveFilters(!0)&&t.activateActiveTotalFilter(),t.submitted=!1,t.searchText&&t.submit(),t._initChart(),t.cdr.markForCheck()}))}},{key:"roleTitle",value:function(e){return e.archived?"(Archived) "+e.badgeRoleName:e.badgeRoleName}},{key:"roleInitial",value:function(e){if("Member"===e||"Members"===e)return"Mem";if("Staff"===e)return"Sf";for(var t="",n=0;e.length>n;n++){var r=e[n];r===r.toUpperCase()&&(t+=r)}return t||(t=e[0].toUpperCase()),t}},{key:"_saveMingaPeopleInfoCache",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={primary_count:this.primaryStatFilters.length,secondary_count:this.secondaryStatFilters.length},e.next=3,this.userStorage.setItem("minga_people_info_cache",t);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_removeInvalidCachInfo",value:function(){this.primaryStatFilters=this.primaryStatFilters.filter((function(e){return!e.cached})),this.secondaryStatFilters=this.secondaryStatFilters.filter((function(e){return!e.cached}))}},{key:"_initMingaPeopleInfo",value:function(){var e;return Object(ne.a)(this,void 0,void 0,h().mark((function t(){var n,r,i,a,o,s,l;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._loadMingaPeopleInfoCache();case 2:return n=new ue.MingaPeopleInfoRequest,r=this.permissions.hasPermission(w.MingaPermission.GROUP_ALLOW_ANY_PARENT_GROUP),(null===(e=this.currentGroup)||void 0===e?void 0:e.isParent)&&!r?n.setParentGroupHash(this.currentGroup.hash):this.selectedGroup&&n.setParentGroupHash(this.selectedGroup.hash),t.next=6,this.mingaPeopleManager.getInfo(n);case 6:i=t.sent,this.unregisteredCount=i.getUnregisteredCount(),a=i.getPrimaryStatFilterList(),o=i.getSecondaryStatFilterList(),this.primaryStatFilters=[],this.secondaryStatFilters=[],this._fillInStatInfo(a,this.primaryStatFilters,!0),this._fillInStatInfo(o,this.secondaryStatFilters,!1),this.primaryStatFilters.length>0&&(this.primaryStatFilters[0].filterActive=!0),s=0;case 11:if(!(s<this.primaryStatFilters.length)){t.next=19;break}if((l=this.primaryStatFilters[s]).title!==$t.REGISTERED){t.next=16;break}return this.registeredCount=l.total,t.abrupt("break",19);case 16:s++,t.next=11;break;case 19:return this._removeInvalidCachInfo(),t.next=22,this._saveMingaPeopleInfoCache();case 22:this.cdr.markForCheck();case 23:case"end":return t.stop()}}),t,this)})))}},{key:"streamItemClick",value:function(e){this.router.navigate(["/admin/",{outlets:{o:["people","update",e.model.item.data.personHash]}}])}},{key:"_cleanupSubs",value:function(){this._onPullDownSub&&(this._onPullDownSub.unsubscribe(),delete this._onPullDownSub),this._personCreateSuccessSub&&(this._personCreateSuccessSub.unsubscribe(),delete this._personCreateSuccessSub)}},{key:"ngOnInit",value:function(){var e=this;this._cleanupSubs(),this._onPullDownSub=this.rootService.onPullDown.subscribe((function(){e._initMingaPeopleInfo()})),this._personCreateSuccessSub=this.actions$.pipe(Object(re.e)(oe.a.TypeEnum.PeopleUpdated)).subscribe((function(){e._initMingaPeopleInfo()}))}},{key:"onSearchText",value:function(e){!this.searchText&&e&&this.clearActivePrimaryFilter(),this.searchText=e,this.searchText?this.submit():this.submitted=!1}},{key:"ngOnDestroy",value:function(){this._cleanupSubs(),this._destroyed$.next(),this._destroyed$.complete(),this.search.resetSearch()}},{key:"personMinimalData",value:function(e){return Object.assign(Object.assign({},e),{displayName:e.firstName+" "+e.lastName})}},{key:"openAddPeopleDialog",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.permissions.hasPermission(w.MingaPermission.MINGA_PEOPLE_MANAGE)){e.next=4;break}this.dialog.open(ee).beforeClosed().subscribe((function(e){"single"===e?t.router.navigate(["/admin/",{outlets:{o:["people","create"]}}]):"multiple"===e&&t.router.navigate(["/admin/",{outlets:{o:["people","create","bulk"]}}])})),e.next=6;break;case 4:return e.next=6,this.router.navigate(["/admin/",{outlets:{o:["people","create"]}}]);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"submit",value:function(){this.submitted=!0,this.applyStreamFilter(),this.tableLabel=this.getTableLabel()}}]),e}()).\u0275fac=function(e){return new(e||Ht)(c["\u0275\u0275directiveInject"](me.a),c["\u0275\u0275directiveInject"](ge.PeopleManager),c["\u0275\u0275directiveInject"](ge.PeopleAdminManager),c["\u0275\u0275directiveInject"](ge.MingaPeopleManager),c["\u0275\u0275directiveInject"](g.g),c["\u0275\u0275directiveInject"](K.b),c["\u0275\u0275directiveInject"](R.c),c["\u0275\u0275directiveInject"](pe.a),c["\u0275\u0275directiveInject"](re.a),c["\u0275\u0275directiveInject"](he.f),c["\u0275\u0275directiveInject"](fe.b),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](ve.b),c["\u0275\u0275directiveInject"](ye.b),c["\u0275\u0275directiveInject"](Ce.a))},Ht.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Ht,selectors:[["mg-admin-people"]],viewQuery:function(e,t){var n;1&e&&(c["\u0275\u0275viewQuery"](rt,3),c["\u0275\u0275viewQuery"](it,3)),2&e&&(c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.confirmResendEmailsTpl=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.confirmResendSuccessModal=n.first))},decls:57,vars:34,consts:[["searchPlaceholder","Search People",3,"searchQueryChange"],["filterActivityBlocksTemplate",""],["fxLayout","row","fxLayoutAlign","start center",1,"mg-headline","admin-people-top"],["fxFlex",""],["class","btn small","type","outline",3,"ngClass.xs","ngClass.gt-sm","routerLink",4,"hasPermission"],[4,"ngIf"],[1,"section"],[1,"activity-flex-container","section-title"],[1,"mg-bodycopy-bold"],[1,"mg-minicopy","hide-mobile"],[1,"mg-minitext"],["label","Use the top Search bar to quickly find a specific Profile.\n\n          Activity shows the % of people that have logged in to your Minga in\n          each time period. Keep in mind this does not include people that have\n          engaged with push notifications to their device.\n\n          Use the People and Role sections to select filters to list and view\n          People in your Minga to make updates to their Profile or to see the\n          last time they logged in.\n\n          View your filter selection at the bottom of the page and make updates\n          to your selections before you List Selected People."],[1,"block-row","mg-align-center","blue-children","no-click-children"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"section-title"],[1,"block-row"],[4,"ngFor","ngForOf"],[1,"role-filter-container"],[1,"roles-list","mg-minicopy"],["class","role",3,"click",4,"ngFor","ngForOf"],[1,"role-graph-container"],["baseChart","",3,"data","labels","legend","colors","chartType"],[1,"section-footer"],[3,"title","subtitle",4,"ngIf"],[3,"autoClose"],["confirmResendSuccessModal",""],["confirmResendEmailsTpl",""],["class","list-members","type","outline",3,"unsubmitted","disabled","click",4,"ngIf"],["class","mg-table","mgStreamControl","AdminPeopleFeed","rpcStream","searchPeople","rpcControl","searchPeopleControl",3,"service","filter",4,"ngIf"],[1,"block"],[1,"responsive-stat-title","small"],[1,"number","percent"],["odometer-percent","",1,"filter-block-count-text",3,"value"],["type","outline",1,"btn","small",3,"ngClass.xs","ngClass.gt-sm","routerLink"],[1,"button-centered"],["class","section",4,"hasPermission"],[3,"groupSelect"],["class","block people","matRipple","",3,"has-filter","active","click",4,"ngIf"],["class","block-container",3,"has-filter","active","click",4,"ngIf"],["matRipple","",1,"block","people",3,"click"],[1,"row"],["mg-color","white",3,"checked"],[1,"responsive-stat-title"],[1,"icon","desk"],[1,"number","bold","large"],[1,"block-container",3,"click"],["matRipple","",1,"inner","block","invites"],[1,"icon","email"],[1,"number"],["matRipple","",1,"inner","block","mg-no-transform","mg-align-center","responsive-stat-title","resend-invites",3,"click"],[1,"role",3,"click"],["class","mg-bodycopy",4,"ngIf"],[1,"circle"],[3,"checked"],[1,"unregistered-count"],[1,"registered-count"],[1,"total-count"],[1,"mg-bodycopy"],[1,"mg-minicopy"],[3,"removable","disableRipple","removed",4,"ngIf"],[3,"removable","disableRipple","removed"],["matRipple","","matChipRemove","",3,"matRippleUnbounded"],[3,"title","subtitle"],["matDialogContent","",1,"confirm-resend-dialog"],["icon","close",1,"mg-no-padding",3,"matDialogClose"],[1,"mg-headline3"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","auto"],["type","text",1,"normal",3,"matDialogClose"],["type","outline",1,"normal",3,"matDialogClose"],["type","outline",1,"list-members",3,"disabled","click"],["mgStreamControl","AdminPeopleFeed","rpcStream","searchPeople","rpcControl","searchPeopleControl",1,"mg-table",3,"service","filter"],["mg-stream-empty","",1,"mg-centered"],["mg-stream-front-exhausted","",1,"mg-centered"],["mgTableStreamHeader",""],["mgTableStreamRow",""],[2,"text-align","left"],["class","export-button",3,"click",4,"ngIf"],[1,"export-button",3,"click"],[2,"margin-right","8px","cursor","pointer",3,"src","color","personHash"],["fxLayout","column","fxFlex",""],[2,"cursor","pointer",3,"person","routerLink"],[2,"color","#9933ff","text-decoration","none","font-size","10px",3,"href"],[1,"mg-centered"],[3,"title"],["style","color: #737373",4,"ngIf"],[2,"color","#737373"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mg-search-active-route",0),c["\u0275\u0275listener"]("searchQueryChange",(function(e){return t.onSearchText(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](1,at,5,2,"ng-template",null,1,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementStart"](3,"div",2),c["\u0275\u0275elementStart"](4,"mg-icon"),c["\u0275\u0275text"](5,"person"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"span"),c["\u0275\u0275text"](7,"People"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](8,"div",3),c["\u0275\u0275template"](9,ut,5,10,"mg-button",4),c["\u0275\u0275template"](10,mt,5,10,"mg-button",4),c["\u0275\u0275template"](11,pt,5,10,"mg-button",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,ft,2,1,"ng-container",5),c["\u0275\u0275pipe"](13,"async"),c["\u0275\u0275elementStart"](14,"div",6),c["\u0275\u0275elementStart"](15,"div",7),c["\u0275\u0275elementStart"](16,"div"),c["\u0275\u0275elementStart"](17,"div",8),c["\u0275\u0275text"](18,"Activity"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"div",9),c["\u0275\u0275text"](20," % of People that have logged in to Minga "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"div",10),c["\u0275\u0275text"](22," How to use this page "),c["\u0275\u0275element"](23,"mg-tooltip",11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",12),c["\u0275\u0275template"](25,vt,1,0,"ng-container",13),c["\u0275\u0275template"](26,yt,1,0,"ng-container",13),c["\u0275\u0275template"](27,Ct,1,0,"ng-container",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",6),c["\u0275\u0275elementStart"](29,"div",14),c["\u0275\u0275elementStart"](30,"div",8),c["\u0275\u0275text"](31,"People"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"div",9),c["\u0275\u0275text"](33," Filter by People or Pending Invites "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"div",15),c["\u0275\u0275template"](35,Pt,3,2,"ng-container",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"div",6),c["\u0275\u0275elementStart"](37,"div",14),c["\u0275\u0275elementStart"](38,"div",8),c["\u0275\u0275text"](39,"Roles"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"div",9),c["\u0275\u0275text"](41,"Filter by Role"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"div",17),c["\u0275\u0275elementStart"](43,"div",18),c["\u0275\u0275template"](44,kt,3,2,"div",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"div",20),c["\u0275\u0275element"](46,"canvas",21),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](47,"div",22),c["\u0275\u0275template"](48,Et,7,2,"ng-container",5),c["\u0275\u0275template"](49,Ft,3,6,"mg-empty-state",23),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"mg-success-modal",24,25),c["\u0275\u0275text"](52," Success!\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](53,Tt,14,6,"ng-template",null,26,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](55,Rt,2,3,"mg-button",27),c["\u0275\u0275template"](56,zt,7,2,"mg-table-stream-scroller",28)),2&e){var n=c["\u0275\u0275reference"](2);c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("hasPermission","MINGA_PEOPLE_MANAGE"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","MINGA_PEOPLE_MANAGE"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","SUPERADMIN"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](13,26,t.isDistrictEnabled$)),c["\u0275\u0275advance"](13),c["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](28,qt,t.StatCategories.DAILY)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](30,Ut,t.StatCategories.WEEKLY)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](32,Yt,t.StatCategories.MONTHLY)),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("ngForOf",t.primaryStatFilters),c["\u0275\u0275advance"](8),c["\u0275\u0275classProp"]("unregistered",t.isOnlyUnregisteredFilterActive())("registered",t.isRegisteredFilterActive()),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.secondaryStatFilters),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("data",t.doughnutChartData)("labels",t.doughnutChartLabels)("legend",!1)("colors",t.doughnutChartColours)("chartType",t.doughnutChartType),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.hasActiveFilters()),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.hasActiveFilters()),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("autoClose",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",!t.searchText),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.submitted)}},directives:[be.a,xe.e,xe.d,D.a,xe.b,Pe.a,M.o,Me.a,M.t,M.n,Oe.a,Fe,Te.a,X.a,Re.a,g.h,Ye,$e.q,Qe.a,Ze.c,Ze.a,Je.a,Ze.d,A.a,K.e,Ke.a,K.d,xe.f,Xe.a,L.a,et.a,B.a,tt.a,nt.a],pipes:[M.b,p.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.person-search[_ngcontent-%COMP%]{background-color:#fff}@media (orientation:landscape){.person-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){.person-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){.person-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){.person-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){.person-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:32px}}.admin-people-top[_ngcontent-%COMP%]{margin:16px 0}@media (max-width:599px){.admin-people-top[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}}.admin-people-top[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:8px;--mg-icon-size:20px}.admin-people-top[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:400}.admin-people-top[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%] + mg-button[_ngcontent-%COMP%]{margin-left:8px}@media (orientation:landscape){.admin-people-top[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:3.125vh}}@media (orientation:portrait){.admin-people-top[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:3.125vw}}@media (orientation:landscape) and (max-height:320px){.admin-people-top[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:10px}}@media (orientation:portrait) and (max-width:320px){.admin-people-top[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:10px}}@media (min-width:640px){.admin-people-top[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:20px}}.section[_ngcontent-%COMP%]{color:#737373;margin-bottom:1em}@media (max-width:599px){.section[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}}.section[_ngcontent-%COMP%]   .activity-flex-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;flex-direction:row;justify-content:space-between}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:8px}.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]{margin-top:1em}.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#737373}.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:13px}}.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:after, .section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:hover:after{opacity:0!important}.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.section[_ngcontent-%COMP%]   .section-footer[_ngcontent-%COMP%]   mg-empty-state[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.block-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:stretch;flex-direction:row;box-sizing:border-box}.block-row.blue-children[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{background-color:#62afc9}.block-row.blue-children[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:first-child{background-color:#3cf}.block-row.blue-children[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:last-child{background-color:#85bdd2}.block-row.no-click-children[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:hover{cursor:default}.block-row[_ngcontent-%COMP%]   .block-container[_ngcontent-%COMP%], .block-row[_ngcontent-%COMP%] > .block[_ngcontent-%COMP%]{flex:1 1 50%;margin-right:8px;border-radius:6px;overflow:hidden}.block-row[_ngcontent-%COMP%]   .block-container[_ngcontent-%COMP%]:last-child, .block-row[_ngcontent-%COMP%] > .block[_ngcontent-%COMP%]:last-child{margin-right:0}@media (max-width:599px){.block-row[_ngcontent-%COMP%]   .block-container[_ngcontent-%COMP%]{flex-basis:65%}}.block-row[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:stretch;justify-content:center}@media (orientation:landscape){.responsive-stat-title[_ngcontent-%COMP%]{font-size:2.5vh}}@media (orientation:portrait){.responsive-stat-title[_ngcontent-%COMP%]{font-size:2.5vw}}@media (orientation:landscape) and (max-height:320px){.responsive-stat-title[_ngcontent-%COMP%]{font-size:8px}}@media (orientation:portrait) and (max-width:320px){.responsive-stat-title[_ngcontent-%COMP%]{font-size:8px}}@media (min-width:520px){.responsive-stat-title[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:landscape){.responsive-stat-title.small[_ngcontent-%COMP%]{font-size:2.1875vh}}@media (orientation:portrait){.responsive-stat-title.small[_ngcontent-%COMP%]{font-size:2.1875vw}}@media (orientation:landscape) and (max-height:320px){.responsive-stat-title.small[_ngcontent-%COMP%]{font-size:7px}}@media (orientation:portrait) and (max-width:320px){.responsive-stat-title.small[_ngcontent-%COMP%]{font-size:7px}}@media (min-width:594.2857142857px){.responsive-stat-title.small[_ngcontent-%COMP%]{font-size:13px}}.block-container[_ngcontent-%COMP%]{display:flex}.block-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{flex:1 1 auto}.block-container[_ngcontent-%COMP%]   .block.inner[_ngcontent-%COMP%]{border-right:1px solid #fff}.block-container[_ngcontent-%COMP%]   .block.inner.invites[_ngcontent-%COMP%]{flex-basis:70%}.block-container[_ngcontent-%COMP%]   .block.inner.resent-invites[_ngcontent-%COMP%]{flex-basis:30%}.block-container[_ngcontent-%COMP%]   .block.inner[_ngcontent-%COMP%]:last-child{border-right:none}.block[_ngcontent-%COMP%]{height:96px;color:#fff;background:green;text-transform:uppercase;position:relative;padding:16px 6%;box-sizing:border-box}@media (orientation:landscape){.block[_ngcontent-%COMP%]{padding-left:2.5vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]{padding-left:2.5vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]{padding-left:8px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]{padding-left:8px}}@media (min-width:720px){.block[_ngcontent-%COMP%]{padding-left:18px}}@media (orientation:landscape){.block[_ngcontent-%COMP%]{padding-right:2.5vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]{padding-right:2.5vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]{padding-right:8px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]{padding-right:8px}}@media (min-width:720px){.block[_ngcontent-%COMP%]{padding-right:18px}}@media (orientation:landscape){.block[_ngcontent-%COMP%]{padding-top:2.5vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]{padding-top:2.5vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]{padding-top:8px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]{padding-top:8px}}@media (min-width:640px){.block[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:landscape){.block[_ngcontent-%COMP%]{padding-bottom:2.5vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]{padding-bottom:2.5vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]{padding-bottom:8px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]{padding-bottom:8px}}@media (min-width:640px){.block[_ngcontent-%COMP%]{padding-bottom:16px}}@media (orientation:landscape){.block[_ngcontent-%COMP%]{height:17.1875vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]{height:17.1875vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]{height:55px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]{height:55px}}@media (min-width:558.5454545455px){.block[_ngcontent-%COMP%]{height:96px}}.block[_ngcontent-%COMP%]:hover{cursor:pointer}.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{position:absolute;top:12px;right:8px}@media (orientation:landscape){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:3.4375vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:3.4375vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:11px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:11px}}@media (min-width:581.8181818182px){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:20px}}@media (orientation:landscape){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{top:1.5625vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{top:1.5625vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{top:5px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{top:5px}}@media (min-width:768px){.block[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{top:12px}}.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:32px;width:32px;display:inline-block;background-size:contain;background-repeat:no-repeat}@media (orientation:landscape){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:5.625vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:5.625vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:18px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:18px}}@media (min-width:568.8888888889px){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:32px}}@media (orientation:landscape){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:5.625vh}}@media (orientation:portrait){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:5.625vw}}@media (orientation:landscape) and (max-height:320px){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px}}@media (orientation:portrait) and (max-width:320px){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px}}@media (min-width:568.8888888889px){.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:32px}}.block[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:8px}.block[_ngcontent-%COMP%]   .icon.email[_ngcontent-%COMP%]{background-image:url(/assets/email_icon.svg)}.block[_ngcontent-%COMP%]   .icon.desk[_ngcontent-%COMP%]{background-image:url(/assets/person_desk_icon.svg)}.block[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center}.block.people[_ngcontent-%COMP%]{background:transparent linear-gradient(180deg,#1dce4d,#009729) 0 0 no-repeat padding-box}@media (orientation:landscape){.block.people[_ngcontent-%COMP%]{padding-left:2.5vh}}@media (orientation:portrait){.block.people[_ngcontent-%COMP%]{padding-left:2.5vw}}@media (orientation:landscape) and (max-height:320px){.block.people[_ngcontent-%COMP%]{padding-left:8px}}@media (orientation:portrait) and (max-width:320px){.block.people[_ngcontent-%COMP%]{padding-left:8px}}@media (min-width:1200px){.block.people[_ngcontent-%COMP%]{padding-left:30px}}.block.people[_ngcontent-%COMP%]:hover{background:transparent linear-gradient(180deg,#1ab845,#007e22) 0 0 no-repeat padding-box}.block.people.active[_ngcontent-%COMP%], .block.people[_ngcontent-%COMP%]:active{background:transparent linear-gradient(0deg,#1dce4d,#009729) 0 0 no-repeat padding-box}.block.invites[_ngcontent-%COMP%]{background:transparent linear-gradient(180deg,#3cf,#036) 0 0 no-repeat padding-box}.block.invites[_ngcontent-%COMP%]:hover{background:transparent linear-gradient(180deg,#1ac6ff,#00264d) 0 0 no-repeat padding-box}.block.invites.active[_ngcontent-%COMP%], .block.invites[_ngcontent-%COMP%]:active{background:transparent linear-gradient(0deg,#3cf,#036) 0 0 no-repeat padding-box}.block.resend-invites[_ngcontent-%COMP%]{background:#036}.block.resend-invites[_ngcontent-%COMP%]:hover{background:#00264d}.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-bottom:8px}@media (orientation:landscape){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:4.375vh}}@media (orientation:portrait){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:4.375vw}}@media (orientation:landscape) and (max-height:320px){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:14px}}@media (orientation:portrait) and (max-width:320px){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:14px}}@media (min-width:548.5714285714px){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:24px}}@media (orientation:landscape){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-bottom:.78125vh}}@media (orientation:portrait){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-bottom:.78125vw}}@media (orientation:landscape) and (max-height:320px){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-bottom:2.5px}}@media (orientation:portrait) and (max-width:320px){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-bottom:2.5px}}@media (min-width:1024px){.block.resend-invites[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-bottom:8px}}.number[_ngcontent-%COMP%]{font-size:32px}@media (orientation:landscape){.number[_ngcontent-%COMP%]{font-size:5.3125vh}}@media (orientation:portrait){.number[_ngcontent-%COMP%]{font-size:5.3125vw}}@media (orientation:landscape) and (max-height:320px){.number[_ngcontent-%COMP%]{font-size:17px}}@media (orientation:portrait) and (max-width:320px){.number[_ngcontent-%COMP%]{font-size:17px}}@media (min-width:602.3529411765px){.number[_ngcontent-%COMP%]{font-size:32px}}.number[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{font-size:35px}@media (orientation:landscape){.number[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{font-size:5.9375vh}}@media (orientation:portrait){.number[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{font-size:5.9375vw}}@media (orientation:landscape) and (max-height:320px){.number[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{font-size:19px}}@media (orientation:portrait) and (max-width:320px){.number[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{font-size:19px}}@media (min-width:589.4736842105px){.number[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{font-size:35px}}.number[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:700}.number[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:40px}@media (orientation:landscape){.number[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:6.875vh}}@media (orientation:portrait){.number[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:6.875vw}}@media (orientation:landscape) and (max-height:320px){.number[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:22px}}@media (orientation:portrait) and (max-width:320px){.number[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:22px}}@media (min-width:581.8181818182px){.number[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:40px}}.mg-align-center[_ngcontent-%COMP%]{text-align:center}.mg-align-center[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.mg-no-transform[_ngcontent-%COMP%]{text-transform:none}.button-centered[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width:599px){.hide-mobile[_ngcontent-%COMP%]{display:none}}.role-filter-container[_ngcontent-%COMP%]{box-shadow:0 0 6px rgba(0,0,0,.16);border-radius:6px;background-color:#fff;padding:20px 8px 20px 28px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;position:relative}@media (orientation:landscape){.role-filter-container[_ngcontent-%COMP%]{padding-left:2.5vh}}@media (orientation:portrait){.role-filter-container[_ngcontent-%COMP%]{padding-left:2.5vw}}@media (orientation:landscape) and (max-height:320px){.role-filter-container[_ngcontent-%COMP%]{padding-left:8px}}@media (orientation:portrait) and (max-width:320px){.role-filter-container[_ngcontent-%COMP%]{padding-left:8px}}@media (min-width:1120px){.role-filter-container[_ngcontent-%COMP%]{padding-left:28px}}@media (orientation:landscape){.role-filter-container[_ngcontent-%COMP%]{padding-top:3.75vh}}@media (orientation:portrait){.role-filter-container[_ngcontent-%COMP%]{padding-top:3.75vw}}@media (orientation:landscape) and (max-height:320px){.role-filter-container[_ngcontent-%COMP%]{padding-top:12px}}@media (orientation:portrait) and (max-width:320px){.role-filter-container[_ngcontent-%COMP%]{padding-top:12px}}@media (min-width:533.3333333333px){.role-filter-container[_ngcontent-%COMP%]{padding-top:20px}}@media (orientation:landscape){.role-filter-container[_ngcontent-%COMP%]{padding-bottom:3.75vh}}@media (orientation:portrait){.role-filter-container[_ngcontent-%COMP%]{padding-bottom:3.75vw}}@media (orientation:landscape) and (max-height:320px){.role-filter-container[_ngcontent-%COMP%]{padding-bottom:12px}}@media (orientation:portrait) and (max-width:320px){.role-filter-container[_ngcontent-%COMP%]{padding-bottom:12px}}@media (min-width:533.3333333333px){.role-filter-container[_ngcontent-%COMP%]{padding-bottom:20px}}.role-filter-container[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%] + .role.mg-bodycopy[_ngcontent-%COMP%]{margin-top:16px}.role-filter-container[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]:last-child{margin-bottom:0}.role-filter-container[_ngcontent-%COMP%]   .role-graph-container[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:70%;right:-10%}@media (max-width:599px){.role-filter-container[_ngcontent-%COMP%]   .role-graph-container[_ngcontent-%COMP%]{right:-17.5%;width:85%}}.roles-list[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{display:inline}.roles-list[_ngcontent-%COMP%]   .registered-count[_ngcontent-%COMP%], .roles-list[_ngcontent-%COMP%]   .unregistered-count[_ngcontent-%COMP%], .roles-list.unregistered[_ngcontent-%COMP%]   .registered-count[_ngcontent-%COMP%], .roles-list.unregistered[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{display:none}.roles-list.unregistered[_ngcontent-%COMP%]   .unregistered-count[_ngcontent-%COMP%]{display:inline}.roles-list.registered[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%], .roles-list.registered[_ngcontent-%COMP%]   .unregistered-count[_ngcontent-%COMP%]{display:none}.roles-list.registered[_ngcontent-%COMP%]   .registered-count[_ngcontent-%COMP%]{display:inline}.role[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;align-items:center}.role[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:26px;width:26px;border-radius:100%;display:inline-block;background:transparent linear-gradient(180deg,var(--circle-gradient-color1),var(--circle-gradient-color2)) 0 0 no-repeat padding-box}.role[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%] + mat-checkbox[_ngcontent-%COMP%]{margin-left:8px}.role[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:14px}@media (orientation:landscape){.role[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:4.0625vh}}@media (orientation:portrait){.role[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:4.0625vw}}@media (orientation:landscape) and (max-height:320px){.role[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:13px}}@media (orientation:portrait) and (max-width:320px){.role[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:13px}}@media (min-width:492.3076923077px){.role[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{--mat-checkbox-box-size:20px}}mg-table-stream-scroller[_ngcontent-%COMP%]{--table-stream-padding:6px;--table-stream-empty-cell-color:#e2e2e2;--table-stream-border-width:1px;--table-stream-border-color:#ccc;--table-stream-margin-bottom:32px;margin-top:16px;margin-bottom:16px}@media (max-width:599px){mg-table-stream-scroller[_ngcontent-%COMP%]{margin:10px;--table-stream-margin-bottom:82px}}mg-table-stream-scroller[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.people-table-controls[_ngcontent-%COMP%]{padding:8px 16px 0}.list-members[_ngcontent-%COMP%], .list-members[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{width:100%}@media (max-width:599px){.list-members[_ngcontent-%COMP%], .list-members[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px;width:calc(100% - 16px)}}.list-members.unsubmitted[_ngcontent-%COMP%], .list-members[_ngcontent-%COMP%]   mg-button.unsubmitted[_ngcontent-%COMP%]{margin-bottom:32px}.export-button[_ngcontent-%COMP%]{border-color:#fff;padding:8px 12px;border-radius:4px;margin-left:5px;color:#fff;background-color:#036;font-size:12px;border-width:1px}.export-button[_ngcontent-%COMP%]:hover{color:#036;border-color:#036;background-color:#fff;cursor:pointer}.header-cell[_ngcontent-%COMP%]{font-size:.8em;font-weight:700}.header[_ngcontent-%COMP%]{font-size:.8em;color:#737373;margin-top:15px;display:flex;justify-content:space-between}@media (max-width:599px){.header[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}}.selected-role[_ngcontent-%COMP%]{font-weight:700}.clear-filters[_ngcontent-%COMP%]{color:#93f;text-decoration:none}.clear-filters[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.stats[_ngcontent-%COMP%]{background-color:#737373}table[_ngcontent-%COMP%]{background-color:#fff}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px 8px}@media (orientation:landscape){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:2.1333333333vh}}@media (orientation:portrait){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:2.1333333333vw}}@media (orientation:landscape) and (max-height:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:8px}}@media (orientation:portrait) and (max-width:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:8px}}@media (min-width:750px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:landscape){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:2.1333333333vh}}@media (orientation:portrait){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:2.1333333333vw}}@media (orientation:landscape) and (max-height:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:8px}}@media (orientation:portrait) and (max-width:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:8px}}@media (min-width:750px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:16px}}td[_ngcontent-%COMP%]{font-size:75%}.confirm-resend-dialog[_ngcontent-%COMP%]{max-width:300px}.confirm-resend-dialog[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#036}.confirm-resend-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2f2f2f}'],changeDetection:0}),Ht),Zt=a("u9T3"),Jt=a("eJkR"),Kt=((Vt=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||Vt)},Vt.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Vt}),Vt.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Jt.a,M.c]]}),Vt),Xt=a("fHWq"),en=a("JGGa"),tn=a("5VmK"),nn=a("WsNZ"),rn=a("7Tcv"),an=((Wt=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||Wt)},Wt.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Wt}),Wt.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[nn.a,rn.a,O.a,M.c,Le.b]]}),Wt),on=a("37Vl"),sn=((Gt=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||Gt)},Gt.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Gt}),Gt.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Z.a,tn.a,Xt.a,O.a,en.a,$.b,he.d,R.b,Kt,Qe.b,Y.a,p.c,an,on.a,M.c,g.k,Zt.a.withConfig({addFlexToParent:!1}),K.f,$e.r,Ze.e,Je.b,Oe.b]]}),Gt),ln=a("ITzS"),cn=a("/jon"),un=a("5/J/"),dn=a("zDft"),mn=a("w8an");function gn(e,t){if(1&e&&(c["\u0275\u0275element"](0,"mg-poll-mini-card",6),c["\u0275\u0275pipe"](1,"hasPermission")),2&e){var n=t.$implicit,r=t.itemId;c["\u0275\u0275property"]("mgContentLink",r)("showVotes",c["\u0275\u0275pipeBind1"](1,4,"MINGA_POLLS_MANAGE"))("context",r)("content",n)}}var pn,hn,fn=function(){return[]},vn=((pn=function(){function e(t,n,r,i,a,o){f(this,e),this.pollAnswerService=t,this.contentEvents=n,this.groupsFacade=r,this.contentState=i,this.pollService=a,this.permissions=o,this.emptyStateIcons=[],this.canCreatePolls=!1,r.dispatchLoadAll(),this.emptyStateIcons=[{icon:"post",text:"Add"},{icon:"polls-o",text:"Poll"}],this.canCreatePolls=this.permissions.hasPermission(w.MingaPermission.CONTENT_POLL_CREATE)}return y(e,[{key:"onItemClick",value:function(e){var t=e.model.item.id;t&&this.contentEvents.emitContentOpen({contentContextHash:t})}}]),e}()).\u0275fac=function(e){return new(e||pn)(c["\u0275\u0275directiveInject"](I.a),c["\u0275\u0275directiveInject"](E.a),c["\u0275\u0275directiveInject"](F.b),c["\u0275\u0275directiveInject"](T.a),c["\u0275\u0275directiveInject"](cn.Poll),c["\u0275\u0275directiveInject"](R.c))},pn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:pn,selectors:[["mg-poll-admin-list"]],decls:10,vars:9,consts:[[1,"mg-headline","page-header"],[1,"default-icon"],[1,"feed-items"],["mgStreamControl","AdminPolls","rpcStream","streamPollsV2","rpcControl","streamPollsV2Control",3,"service"],["mgStreamItem",""],["mg-stream-empty","",3,"title","subtitle","icons"],["mg-stream-item","",3,"mgContentLink","showVotes","context","content"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",0),c["\u0275\u0275elementStart"](1,"mg-icon",1),c["\u0275\u0275text"](2,"polls-o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3," Polls\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275elementStart"](5,"mg-stream-scroller",3),c["\u0275\u0275template"](6,gn,2,6,"ng-template",4),c["\u0275\u0275element"](7,"mg-empty-state",5),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("service",t.pollService),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("title",c["\u0275\u0275pipeBind1"](8,4,"emptyState.managePollsTitle"))("subtitle",t.canCreatePolls?c["\u0275\u0275pipeBind1"](9,6,"emptyState.managePollsSubtitle"):"")("icons",t.canCreatePolls?t.emptyStateIcons:c["\u0275\u0275pureFunction0"](8,fn)))},directives:[D.a,N.a,L.a,B.a,A.a,un.a,dn.a],pipes:[p.d,mn.a],styles:["@media (max-width:599px){.page-header[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}}.feed-items[_ngcontent-%COMP%]{margin-bottom:32px}"]}),pn),yn=a("xvu2"),Cn=((hn=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||hn)},hn.\u0275mod=c["\u0275\u0275defineNgModule"]({type:hn}),hn.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[$.b,yn.a,Z.a,J.b,Q.a,R.b,Y.a,M.c,p.c]]}),hn),bn=a("lDpI"),xn=a("bCM0"),Pn=a("b/1s"),Mn=a("jaBy"),On=a("Pwpr"),kn=a.n(On),_n=a("Jkk8");function Sn(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",8),c["\u0275\u0275text"](2," in "),c["\u0275\u0275elementStart"](3,"span",9),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](n.getMingaCountText(n.content.mingaCount))}}var wn,In=((wn=function(){function e(){f(this,e),this.showFullBody=!1}return y(e,[{key:"intToDate",value:function(e){return e?Object(de.day)(e).format("MMMM Do YYYY, h:mm:ss a"):"unset"}},{key:"getAssetUrl",value:function(e){return e?Object(Mn.d)(e):""}},{key:"getMingaCountText",value:function(e){return e+(1==e?" Minga":" Mingas")}},{key:"bodyHtml",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e:kn()(e,112,{html:!0,indicator:'<a href="javascript:;" class="more-program"></a>'})}}]),e}()).\u0275fac=function(e){return new(e||wn)},wn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:wn,selectors:[["mg-program-item"]],inputs:{showFullBody:"showFullBody",content:"content"},decls:10,vars:10,consts:[[1,"content-item-wrap"],[1,"content-item",3,"ngClass"],[1,"banner-image"],[1,"icon-image"],[1,"content-body"],[1,"title"],[1,"description","mg-minicopy",3,"innerHTML"],[4,"ngIf"],[1,"count","mg-minicopy"],[1,"link-color"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275element"](3,"div",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"div",5),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](7,"div",6),c["\u0275\u0275pipe"](8,"mgSafeHtml"),c["\u0275\u0275template"](9,Sn,5,1,"ng-container",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass","content-active-"+t.content.active),c["\u0275\u0275advance"](1),c["\u0275\u0275styleProp"]("background-image","url("+t.getAssetUrl(t.content.banner)+")"),c["\u0275\u0275advance"](1),c["\u0275\u0275styleProp"]("background-image","url("+t.content.logo+")"),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.content.title),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("innerHTML",c["\u0275\u0275pipeBind1"](8,8,t.bodyHtml(t.content.description,t.showFullBody)),c["\u0275\u0275sanitizeHtml"]),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.content.mingaCount))},directives:[M.m,M.o],pipes:[_n.a],styles:['[_nghost-%COMP%]{display:block}.content-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#fff;padding:16px;box-shadow:0 0 6px rgba(0,0,0,.15);border-radius:8px;margin:var(--feed-item-margin-top,4px) var(--feed-item-margin-side,16px)}.content-item[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 12px rgba(0,0,0,.15)}.content-item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}.content-item[_ngcontent-%COMP%]   .content-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-item.content-active-false[_ngcontent-%COMP%]{opacity:.5}.banner-image[_ngcontent-%COMP%], .icon-image[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-position:50%}.banner-image[_ngcontent-%COMP%]{margin-right:16px;height:88px;width:88px;min-width:60px;position:relative;border-radius:8px}.banner-image[_ngcontent-%COMP%] > .icon-image[_ngcontent-%COMP%]{height:53px;width:53px;position:absolute;top:50%;transform:translateY(-50%);left:0;right:0;margin:auto;border-radius:50%}.content-body[_ngcontent-%COMP%]{flex-basis:56%;height:88px;display:flex;flex-direction:column}.content-body[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%], .content-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#737373;font-size:12px}.content-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{max-height:75%;overflow:hidden;text-overflow:ellipsis;flex-basis:100%;word-break:break-word}.content-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .more-program[_ngcontent-%COMP%]{color:#93f;text-decoration:none}.content-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .more-program[_ngcontent-%COMP%]:before{content:"..."}.content-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .more-program[_ngcontent-%COMP%]:after{content:"More"}.content-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .more-program[_ngcontent-%COMP%]:hover:after{text-decoration:underline}.link-color[_ngcontent-%COMP%]{color:#93f}'],changeDetection:0}),wn);function En(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-program-item",11),c["\u0275\u0275listener"]("click",(function(e){c["\u0275\u0275restoreView"](n);var r=t.$implicit;return c["\u0275\u0275nextContext"]().streamItemClick(e,r)})),c["\u0275\u0275elementEnd"]()}2&e&&c["\u0275\u0275property"]("content",t.$implicit)}var Fn,Tn,Rn,jn=function(){return["program","create"]},Dn=function(e){return{o:e}},Nn=function(e){return{outlets:e}},Ln=function(e){return["",e]},Bn=((Fn=function(){function e(t,n){f(this,e),this.router=t,this.programStreamManager=n}return y(e,[{key:"streamItemClick",value:function(e,t){this.router.navigate(["/admin/program",t.contentHash])}}]),e}()).\u0275fac=function(e){return new(e||Fn)(c["\u0275\u0275directiveInject"](g.g),c["\u0275\u0275directiveInject"](bn.ProgramStreamManager))},Fn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Fn,selectors:[["mg-admin-programs"]],decls:14,vars:12,consts:[[1,"mg-headline","page-header"],[1,"default-icon"],[1,"program-search"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","80%",3,"mgNoHintMargin"],["fxFlex","20%","fxLayout","column","fxLayoutAlign","center center"],["icon","post",3,"routerLink"],[1,"program-list"],["rpcStream","streamPrograms","rpcControl","streamProgramsControl",3,"service","bufferAmount","loadThreshold"],["mgStreamItem",""],["mg-stream-empty","",1,"mg-centered","mg-minicopy"],[3,"content","click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",0),c["\u0275\u0275elementStart"](1,"mg-icon",1),c["\u0275\u0275text"](2,"challenge"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3," All Programs\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275elementStart"](5,"div",3),c["\u0275\u0275element"](6,"mg-search",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275element"](8,"mg-navicon",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",7),c["\u0275\u0275elementStart"](10,"mg-stream-scroller",8),c["\u0275\u0275template"](11,En,1,1,"ng-template",9),c["\u0275\u0275elementStart"](12,"p",10),c["\u0275\u0275text"](13," There are no programs "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("mgNoHintMargin",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](10,Ln,c["\u0275\u0275pureFunction1"](8,Nn,c["\u0275\u0275pureFunction1"](6,Dn,c["\u0275\u0275pureFunction0"](5,jn))))),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("service",t.programStreamManager)("bufferAmount",10)("loadThreshold",10))},directives:[D.a,xe.e,xe.d,xn.a,xe.b,Pn.a,g.h,N.a,B.a,In],styles:[".program-search[_ngcontent-%COMP%]{background-color:#fff;padding:16px 0;border-radius:8px}@media (orientation:landscape){.program-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:5vh}}@media (orientation:portrait){.program-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:5vw}}@media (orientation:landscape) and (max-height:320px){.program-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:320px){.program-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:640px){.program-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding-left:32px}}.mg-headline[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{vertical-align:middle}.page-header[_ngcontent-%COMP%]{margin:16px 0;font-weight:400}@media (min-width:600px){.page-header[_ngcontent-%COMP%]{margin:28px var(--feed-item-margin-side,8px) 16px var(--feed-item-margin-side,8px)}}@media (max-width:599px){.page-header[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:8px}}"]}),Fn),An=a("Ycbo"),zn=a("cbZm"),Hn=((Rn=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||Rn)},Rn.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Rn}),Rn.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[J.b,M.c]]}),Rn),Vn=((Tn=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||Tn)},Tn.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Tn}),Tn.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[$.b,Z.a,An.a,zn.a,Hn,M.c,g.k,Zt.a]]}),Tn),Wn=a("LvDl"),Gn=a("5km/"),qn=a("joVo"),Un=a("l6At"),Yn=a("YTnL"),$n=a("oeMW"),Qn=a("LTMa"),Zn=a("jNxq"),Jn=a("Ssrr"),Kn=a("Wgwc"),Xn=a("Ds8A"),er=a("oFih"),tr=a("cB5b"),nr=a.n(tr),rr=a("jcBT"),ir=a("x1c8"),ar=a("2FiO");function or(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"div",13),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass","pl-"+n.pollLayoutName(n.item.pollLayout))}}function sr(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div"),c["\u0275\u0275elementStart"](2,"mg-ellipsis",14),c["\u0275\u0275listener"]("click",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onContextMenuClick(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}}var lr=function(e){return{"background-image":e}};Kn.extend(Xn);var cr,ur=function(t){n(a,t);var i=r(a);function a(e){var t;return f(this,a),(t=i.call(this,"date-control-click")).originalClickEvent=e,t}return y(a,[{key:"isTrusted",get:function(){return this.originalClickEvent.isTrusted}},{key:"pageX",get:function(){return this.originalClickEvent.pageX}},{key:"pageY",get:function(){return this.originalClickEvent.pageY}},{key:"preventDefault",value:function(){e(u(a.prototype),"preventDefault",this).call(this),this.originalClickEvent.preventDefault()}},{key:"stopImmediatePropagation",value:function(){e(u(a.prototype),"stopImmediatePropagation",this).call(this),this.originalClickEvent.stopImmediatePropagation()}},{key:"stopPropagation",value:function(){e(u(a.prototype),"stopPropagation",this).call(this),this.originalClickEvent.stopPropagation()}}]),a}(o(Event)),dr=((cr=function(){function e(){f(this,e),this.canEdit=!1,this.contextMenuClick=new c.EventEmitter,this.dateControlClick=new c.EventEmitter}return y(e,[{key:"onDateControlClick",value:function(e){if(this.canEdit){e&&(e.preventDefault(),e.stopImmediatePropagation());var t=new ur(e);t.item=this.item,this.dateControlClick&&this.dateControlClick.emit(t)}}},{key:"onContextMenuClick",value:function(e){var t=new CustomEvent("ellipsis");t.pageX=e.pageX,t.pageY=e.pageY,t.model={item:this.item},t.preventDefault=function(){return e.preventDefault()},t.stopImmediatePropagation=function(){return e.stopImmediatePropagation()},this.contextMenuClick&&this.contextMenuClick.emit(t)}},{key:"getContentStyle",value:function(){var e=this.getProgressiveAssetUrls();if(!e||0==e.length)return"";var t=e.shift();return t&&this.item.fullImage?t:""}},{key:"getProgressiveAssetUrls",value:function(){var e=this.item.imageInfo;return e?Object(Mn.e)(e,["blurloading1","cardbanner"]):[]}},{key:"showThumbnail",value:function(e){return!(e.fullImage||!e.imageInfo)}},{key:"getDateControlsText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e||n;return t?"Day\n".concat(Math.floor(e/864e5)+1):Kn.utc(r).format("MMM Do").split(" ").join("\n")}},{key:"bodyHtml",value:function(e,t){var n=this.showThumbnail(t)?100:195;return nr()(e,n,{html:!1,indicator:'<a href="javascript:;" class="more"></a>'})}},{key:"hasPollLayoutImage",value:function(e,t){if("poll"===t)switch(e){case er.PollLayout.PL_GRID:case er.PollLayout.PL_LIST:return!0}return!1}},{key:"pollLayoutName",value:function(e){switch(e){case er.PollLayout.PL_GRID:return"grid";case er.PollLayout.PL_LIST:return"list"}return"none"}},{key:"getFormattedTypeString",value:function(e){return e[0].toUpperCase()+e.substr(1)}}]),e}()).\u0275fac=function(e){return new(e||cr)},cr.\u0275cmp=c["\u0275\u0275defineComponent"]({type:cr,selectors:[["mg-program-content-item"]],inputs:{item:"item",canEdit:"canEdit"},outputs:{contextMenuClick:"contextMenuClick",dateControlClick:"dateControlClick"},decls:24,vars:13,consts:[[1,"mg-program-content-item"],[1,"date-controls",3,"ngClass","click"],[1,"edit-icon"],[1,"text"],[1,"content",3,"ngClass","ngStyle","contextmenu"],[1,"content-thumbnail",3,"srcs"],[4,"ngIf"],[1,"content-wrap"],[1,"content-title"],[1,"content-body",3,"innerHTML"],["is","dom-if","if","[[item.icon]]"],[1,"icon-wrap"],[3,"icon"],[1,"poll-layout-image",3,"ngClass"],[3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275listener"]("click",(function(e){return t.onDateControlClick(e)})),c["\u0275\u0275element"](2,"div",2),c["\u0275\u0275elementStart"](3,"span",3),c["\u0275\u0275elementStart"](4,"strong"),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",4),c["\u0275\u0275listener"]("contextmenu",(function(e){return t.onContextMenuClick(e)})),c["\u0275\u0275elementStart"](7,"mg-image",5),c["\u0275\u0275template"](8,or,2,1,"ng-container",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",7),c["\u0275\u0275elementStart"](10,"div",8),c["\u0275\u0275text"](11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](12,"div",9),c["\u0275\u0275elementStart"](13,"template",10),c["\u0275\u0275text"](14,"\n        "),c["\u0275\u0275elementStart"](15,"div",11),c["\u0275\u0275text"](16,"\n          "),c["\u0275\u0275element"](17,"mge-icon",12),c["\u0275\u0275text"](18,"\n          "),c["\u0275\u0275elementStart"](19,"span"),c["\u0275\u0275text"](20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](21,"\n        "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](22,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](23,sr,3,0,"ng-container",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass","date-rel-"+(null==t.item?null:t.item.positionRelative)+" can-edit-"+t.canEdit),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](t.getDateControlsText(null==t.item?null:t.item.positionOffset,null==t.item?null:t.item.positionRelative,null==t.item?null:t.item.timestamp)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass","light-content-"+(null==t.item?null:t.item.lightContent)+" has-image-"+t.showThumbnail(t.item))("ngStyle",c["\u0275\u0275pureFunction1"](11,lr,"url("+t.getContentStyle()+")")),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("srcs",t.getProgressiveAssetUrls()),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.hasPollLayoutImage(t.item.pollLayout,null==t.item?null:t.item.typeString)),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](null==t.item?null:t.item.title),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("innerHTML",t.bodyHtml(null==t.item?null:t.item.description,t.item),c["\u0275\u0275sanitizeHtml"]),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("icon",null==t.item?null:t.item.icon),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.getFormattedTypeString(t.item.typeString)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.canEdit))},directives:[M.m,M.p,rr.a,M.o,ir.a,ar.a],styles:['[_nghost-%COMP%]{display:block;margin:8px 0}.mg-program-content-item[_ngcontent-%COMP%]{display:flex;flex-direction:row}.date-controls[_ngcontent-%COMP%]{position:relative;font-size:16px;color:#2f2f2f;text-align:center;background-color:#f5f5f5;border-top-left-radius:8px;border-bottom-left-radius:8px;margin-right:-8px;padding:8px 16px 8px 8px;flex:2;transform:translateX(0);transition:transform .1s ease}.date-controls[_ngcontent-%COMP%]:hover:not(.can-edit-false){cursor:pointer;transform:translateX(8px)}.date-controls.date-rel-false[_ngcontent-%COMP%]{background-color:#e2e2e2}.date-controls[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block;padding:8px 24px 8px 16px}.date-controls[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.date-controls[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{white-space:pre-line;position:absolute;top:50%;left:0;right:0;transform:translateY(-50%)}.content[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:row;padding:8px;background-color:#fff;border-radius:8px;box-shadow:0 0 6px rgba(0,0,0,.15);flex:12;min-height:110px;background-position:top;background-size:cover}.content[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 12px rgba(0,0,0,.15)}.content.light-content-true[_ngcontent-%COMP%]{color:#fff}.content[_ngcontent-%COMP%]   .content-wrap[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-direction:column;word-break:break-word;padding:8px 8px 8px 11px}.content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:700}.content[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]{max-height:70px;overflow:hidden;font-size:75%;color:#2f2f2f;flex:1}.content[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{color:#93f;text-decoration:none}.content[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]:before{content:"..."}.content[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]:after{content:"More"}.content[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]:hover:after{text-decoration:underline}.content[_ngcontent-%COMP%]   .content-thumbnail[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:110px;width:110px;min-width:110px;border-radius:8px;background-color:#d3d3d3;background-position:50%;background-size:cover}.content.has-image-false[_ngcontent-%COMP%]   .content-thumbnail[_ngcontent-%COMP%]{display:none}.content.has-image-false[_ngcontent-%COMP%]   .content-body[_ngcontent-%COMP%]{max-height:100px}.icon-wrap[_ngcontent-%COMP%]   mge-icon[_ngcontent-%COMP%]{fill:#036}.poll-layout-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:80%;mask-size:80%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:#fff}.poll-layout-image.pl-grid[_ngcontent-%COMP%]{-webkit-mask-image:url(/assets/content/emotive_poll_icon.svg);mask-image:url(/assets/content/emotive_poll_icon.svg)}.poll-layout-image.pl-list[_ngcontent-%COMP%]{-webkit-mask-image:url(/assets/content/list_poll_icon.svg);mask-image:url(/assets/content/list_poll_icon.svg)}'],changeDetection:0}),cr);function mr(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-program-content-item",15),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().onStreamItemClick(e)})),c["\u0275\u0275elementEnd"]()}2&e&&c["\u0275\u0275property"]("item",t.$implicit)("canEdit",!1)}var gr,pr,hr,fr=function(e){return{programContextHash:e}},vr=((gr=function(){function e(t,n,r,i,a,o,s,l,c,u,d,m,g,p){var h=this;f(this,e),this.mgModal=n,this.programManager=r,this.adminEvents=i,this.url=a,this.mingaStore=o,this.dialog=s,this.mingaContent=l,this.router=c,this.permissions=u,this.snackBar=d,this.streamManager=m,this.contentEvents=g,this.programContextStreamManager=p,this.programContextHash="",this.programHash="",this.canEditProgramContent=!1,t.params.subscribe((function(e){h.programContextHash=e.programInstanceHash,h._initProgramInfo(h.programContextHash)})),this._programUpdateSuccess=this.adminEvents.onProgramUpdateSuccess.subscribe((function(e){e.programHash==h.programHash&&h._initProgramInfo(h.programHash)}))}return y(e,[{key:"ngOnInit",value:function(){}},{key:"bannerUrl",get:function(){return this.programInfo&&this.programInfo.bannerList?"url("+window.MINGA_ASSET_URL_PREFIX+this.programInfo.bannerList[0]+")":""}},{key:"logoUrl",get:function(){return this.programInfo&&this.programInfo.logo?window.MINGA_ASSET_URL_PREFIX+this.programInfo.logo:""}},{key:"_initProgramInfo",value:function(e){return Object(ne.a)(this,void 0,void 0,h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Un.ProgramInstanceInfoQuery).setProgramContextHash(e),t.next=4,this.programManager.getInstanceInfo(n);case 4:r=t.sent,this.programInfo=r.toObject();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"onStreamItemClick",value:function(e){var t=Wn.get(e,"contextHash","");t&&this.contentEvents.emitContentOpen({contentContextHash:t})}},{key:"confirmRemoveProgram",value:function(e){return Object(ne.a)(this,void 0,void 0,h().mark((function t(){var n,r=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mingaStore.getMingaAsPromise();case 2:n=t.sent,e&&e.preventDefault(),this.dialog.open(Gn.h,{data:{programName:this.programInfo.title,mingaName:n?n.name:""}}).afterClosed().subscribe((function(e){return Object(ne.a)(r,void 0,void 0,h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}return(n=new qn.MingaRemoveProgram).setProgramContextHash(this.programContextHash),t.next=5,this.mingaContent.removeProgram(n);case 5:return this.snackBar.open('program "'.concat(this.programInfo.title,'" successfully removed!')),t.next=8,this.streamManager.restartStreamIfAvailable("AdminProgramContextFeed");case 8:return t.next=10,this.router.navigate(["/admin/minga~programs"]);case 10:case"end":return t.stop()}}),t,this)})))}));case 4:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||gr)(c["\u0275\u0275directiveInject"](g.a),c["\u0275\u0275directiveInject"](ke.b),c["\u0275\u0275directiveInject"](Yn.ProgramManager),c["\u0275\u0275directiveInject"](C.a),c["\u0275\u0275directiveInject"](M.l),c["\u0275\u0275directiveInject"]($n.a),c["\u0275\u0275directiveInject"](K.b),c["\u0275\u0275directiveInject"](Qn.MingaContent),c["\u0275\u0275directiveInject"](g.g),c["\u0275\u0275directiveInject"](R.c),c["\u0275\u0275directiveInject"](fe.b),c["\u0275\u0275directiveInject"](Zn.a),c["\u0275\u0275directiveInject"](E.a),c["\u0275\u0275directiveInject"](Jn.ProgramContextStreamManager))},gr.\u0275cmp=c["\u0275\u0275defineComponent"]({type:gr,selectors:[["mg-minga-program-view"]],decls:28,vars:16,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"program-view-header"],[3,"routerLink"],["fxHide.xs",""],["fxFlex",""],["type","outline",1,"remove-program-button",3,"click"],[1,"program-view-container"],[1,"mg-headline","title-text","program-view-padding-content"],[1,"program-hero-container"],[1,"program-hero-banner"],[1,"program-hero-logo",3,"src"],[1,"description-text","program-view-padding-content"],[1,"content-divider","mg-headline2"],[1,"program-view-padding-content"],["rpcStream","streamProgramContextContent","rpcControl","streamProgramContextContentControl",3,"filter","service"],["mgStreamItem",""],[3,"item","canEdit","click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"a",1),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"back"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"span"),c["\u0275\u0275text"](5,"Back "),c["\u0275\u0275elementStart"](6,"span",2),c["\u0275\u0275text"](7,"to programs"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](8,"div",3),c["\u0275\u0275elementStart"](9,"div"),c["\u0275\u0275elementStart"](10,"mg-button",4),c["\u0275\u0275listener"]("click",(function(e){return t.confirmRemoveProgram(e)})),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",5),c["\u0275\u0275elementStart"](14,"h1",6),c["\u0275\u0275text"](15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",7),c["\u0275\u0275element"](17,"div",8),c["\u0275\u0275element"](18,"mg-avatar",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"p",10),c["\u0275\u0275text"](20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"div",11),c["\u0275\u0275elementStart"](22,"p",12),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",12),c["\u0275\u0275elementStart"](26,"mg-stream-scroller",13),c["\u0275\u0275template"](27,mr,1,2,"ng-template",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("routerLink","/admin/minga~programs"),c["\u0275\u0275advance"](10),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,10,"button.removeProgram")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",null==t.programInfo?null:t.programInfo.title," "),c["\u0275\u0275advance"](2),c["\u0275\u0275styleProp"]("background-image",t.bannerUrl),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",t.logoUrl),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",null==t.programInfo?null:t.programInfo.description," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,12,"program.contentDividerText")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("filter",c["\u0275\u0275pureFunction1"](14,fr,t.programContextHash))("service",t.programContextStreamManager))},directives:[xe.e,xe.d,g.j,D.a,Re.b,xe.b,X.a,tt.a,N.a,B.a,dr],pipes:[p.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.program-view-header[_ngcontent-%COMP%]{margin-top:7px;position:relative}.program-view-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#036}.program-view-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.program-view-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width:599px){.program-view-header[_ngcontent-%COMP%]{padding:8px 8px 0}}@media (min-width:600px){.program-view-header[_ngcontent-%COMP%]{margin-top:28px}}.remove-program-button[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.remove-program-button[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.remove-program-button[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.remove-program-button[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.remove-program-button[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.remove-program-button[_ngcontent-%COMP%]{font-size:13px}}.program-view-container[_ngcontent-%COMP%]{margin-top:16px;background-color:#fff;border-radius:6px;padding:16px 0;box-shadow:0 0 8px rgba(0,0,0,.17)}@media (max-width:599px){.program-view-container[_ngcontent-%COMP%]{padding:0;margin-top:15px}}.program-view-padding-content[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.title-text[_ngcontent-%COMP%]{margin-top:0}@media (max-width:599px){.title-text[_ngcontent-%COMP%]{padding-top:.67em}}.content-divider[_ngcontent-%COMP%]{font-weight:400;border-top:1px solid #ccc;display:flex;justify-content:space-between;align-items:center;padding-top:8px}.content-divider[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:inline-block}.content-divider[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mg-button-outline[_ngcontent-%COMP%]{margin-right:10px}.content-divider[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mg-button-outline[_ngcontent-%COMP%]:last-child{margin-right:0}.description-text[_ngcontent-%COMP%]{color:#2f2f2f;padding:0 1em}.success-overlay[_ngcontent-%COMP%]{height:100%;text-align:center;position:relative}.success-overlay[_ngcontent-%COMP%]   .checkmark-wrap[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}.program-hero-container[_ngcontent-%COMP%]{position:relative;text-align:center;margin-bottom:60px;--mg-avatar-size:98px}.program-hero-container[_ngcontent-%COMP%]   .program-hero-banner[_ngcontent-%COMP%], .program-hero-container[_ngcontent-%COMP%]   .program-hero-logo[_ngcontent-%COMP%]{background-repeat:no-repeat;width:100%;background-position:50%;background-size:cover}.program-hero-container[_ngcontent-%COMP%]   .program-hero-banner[_ngcontent-%COMP%]{padding-bottom:56.25%}.program-hero-container[_ngcontent-%COMP%]   .program-hero-logo[_ngcontent-%COMP%]{width:98px;height:98px;position:absolute;bottom:0;transform:translateY(50%);left:0;right:0;margin:auto;border-radius:50%;box-shadow:0 0 8px rgba(0,0,0,.17)}']}),gr),yr=a("ugqS"),Cr=a("OyaY"),br=a("gU2t"),xr=((hr=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||hr)},hr.\u0275mod=c["\u0275\u0275defineNgModule"]({type:hr}),hr.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[br.a,Cr.a,yr.a,M.c]]}),hr),Pr=((pr=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||pr)},pr.\u0275mod=c["\u0275\u0275defineNgModule"]({type:pr}),pr.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[$.b,O.a,Z.a,xr,Xt.a,p.c,g.k,Zt.a.withConfig({addFlexToParent:!1})]]}),pr),Mr=a("qLpX");function Or(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-program-item",9),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().streamContextItemClick(e)})),c["\u0275\u0275elementEnd"]()}2&e&&c["\u0275\u0275property"]("content",t.$implicit)}function kr(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-program-item",9),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().streamItemClick(e)})),c["\u0275\u0275elementEnd"]()}2&e&&c["\u0275\u0275property"]("content",t.$implicit)}var _r,Sr,wr,Ir,Er=((_r=function(){function e(t,n,r,i,a,o,s,l){f(this,e),this.router=t,this.mingaStore=n,this.snackBar=r,this.dialog=i,this.mingaContent=a,this.streamManager=o,this.programStreamManager=s,this.programContextStreamManager=l}return y(e,[{key:"programFilter",get:function(){return{active:!0}}},{key:"streamContextItemClick",value:function(e){this.router.navigate(["/admin/minga/programs/",e.programContextHash])}},{key:"streamItemClick",value:function(e){this.router.navigate(["/admin/minga~programs/program",e.contentHash])}},{key:"removeFromMyMinga",value:function(e){return Object(ne.a)(this,void 0,void 0,h().mark((function t(){var n,r=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mingaStore.getMingaAsPromise();case 2:n=t.sent,this.dialog.open(Gn.h,{data:{programName:e.title,mingaName:n?n.name:""}}).afterClosed().subscribe((function(t){return Object(ne.a)(r,void 0,void 0,h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=8;break}return(r=new qn.MingaRemoveProgram).setProgramContextHash(e.programContextHash),n.next=5,this.mingaContent.removeProgram(r);case 5:return this.snackBar.open('program "'.concat(e.title,'" successfully removed!')),n.next=8,this.streamManager.restartStreamIfAvailable("AdminProgramContextFeed");case 8:case"end":return n.stop()}}),n,this)})))}));case 4:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||_r)(c["\u0275\u0275directiveInject"](g.g),c["\u0275\u0275directiveInject"]($n.a),c["\u0275\u0275directiveInject"](fe.b),c["\u0275\u0275directiveInject"](K.b),c["\u0275\u0275directiveInject"](Qn.MingaContent),c["\u0275\u0275directiveInject"](Zn.a),c["\u0275\u0275directiveInject"](bn.ProgramStreamManager),c["\u0275\u0275directiveInject"](Jn.ProgramContextStreamManager))},_r.\u0275cmp=c["\u0275\u0275defineComponent"]({type:_r,selectors:[["mg-minga-programs"]],decls:16,vars:3,consts:[[1,"mg-headline","page-header"],[1,"default-icon"],[1,"program-list"],["text","My Programs",1,"no-side-margin","title-separator"],["rpcStream","streamProgramContexts","rpcControl","streamProgramContextsControl",3,"service"],["mgStreamItem",""],["mg-stream-empty","",1,"mg-centered","mg-minicopy"],["text","Available Programs",1,"no-side-margin","title-separator"],["rpcStream","streamPrograms","rpcControl","streamProgramsControl",3,"filter","service"],[3,"content","click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",0),c["\u0275\u0275elementStart"](1,"mg-icon",1),c["\u0275\u0275text"](2,"challenge"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3," Programs\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275element"](5,"mg-date-separator",3),c["\u0275\u0275elementStart"](6,"mg-stream-scroller",4),c["\u0275\u0275template"](7,Or,1,1,"ng-template",5),c["\u0275\u0275elementStart"](8,"p",6),c["\u0275\u0275text"](9," There are currently no programs added to your minga. "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",2),c["\u0275\u0275element"](11,"mg-date-separator",7),c["\u0275\u0275elementStart"](12,"mg-stream-scroller",8),c["\u0275\u0275template"](13,kr,1,1,"ng-template",5),c["\u0275\u0275elementStart"](14,"p",6),c["\u0275\u0275text"](15," There are currently no programs available. "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("service",t.programContextStreamManager),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("filter",t.programFilter)("service",t.programStreamManager))},directives:[D.a,Mr.a,N.a,B.a,In],styles:[".program-search[_ngcontent-%COMP%]{background-color:#fff}.mg-headline[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{vertical-align:middle}.program-list[_ngcontent-%COMP%]{min-height:100px}.page-header[_ngcontent-%COMP%]{margin:16px 0;font-weight:400}@media (min-width:600px){.page-header[_ngcontent-%COMP%]{margin:28px var(--feed-item-margin-side,8px) 16px var(--feed-item-margin-side,8px)}}@media (max-width:599px){.page-header[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:8px}}"]}),_r),Fr=a("26Ds"),Tr=((Sr=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||Sr)},Sr.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Sr}),Sr.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Z.a,Fr.a,$.b,Hn]]}),Sr),Rr=a("tsE+"),jr=a("s7LF"),Dr=((wr=function(){function e(t,n){f(this,e),this.dialogRef=t,this.programContentOffset=null,this.programContentOffset=n,this.initProgramContentOffset=n}return y(e,[{key:"isInitDifferent",value:function(){for(var e=0,t=Object.keys(this.initProgramContentOffset);e<t.length;e++){var n=t[e];if(this.programContentOffset[n]!=this.initProgramContentOffset[n])return!0}return!1}},{key:"onCancel",value:function(e){this.dialogRef.close(!1)}},{key:"onSave",value:function(e){this.dialogRef.close(this.programContentOffset)}}]),e}()).\u0275fac=function(e){return new(e||wr)(c["\u0275\u0275directiveInject"](K.g),c["\u0275\u0275directiveInject"](K.a))},wr.\u0275cmp=c["\u0275\u0275defineComponent"]({type:wr,selectors:[["mg-move-program-content-dialog"]],decls:6,vars:2,consts:[["name","programContentOffset",3,"ngModel","ngModelChange"],[1,"btns-wrap"],[3,"disabled","click"],["type","outline",3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mg-date-time-offset-picker",0),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.programContentOffset=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"mg-button",2),c["\u0275\u0275listener"]("click",(function(e){return t.onSave(e)})),c["\u0275\u0275text"](3,"Save"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-button",3),c["\u0275\u0275listener"]("click",(function(e){return t.onCancel(e)})),c["\u0275\u0275text"](5,"Cancel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngModel",t.programContentOffset),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",!t.isInitDifferent()))},directives:[Rr.a,jr.t,jr.w,X.a],styles:[".btns-wrap[_ngcontent-%COMP%]{padding-top:16px}"]}),wr),Nr=a("9iN8"),Lr=((Ir=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||Ir)},Ir.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Ir}),Ir.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[O.a,Nr.a,jr.m]]}),Ir),Br=a("vxDR"),Ar=a("iIIi"),zr=a("AmzI"),Hr=a("4doY"),Vr=a("YLbN"),Wr=a("dy9V"),Gr=a("pzvA"),qr=["stream"],Ur=["successOverlayTemplate"],Yr=function(e){return["view","program~mingas",e]},$r=function(e){return{o:e}},Qr=function(e){return{outlets:e}},Zr=function(e){return["",e]};function Jr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mg-button-outline",1),c["\u0275\u0275text"](1,"Mingas"),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](7,Zr,c["\u0275\u0275pureFunction1"](5,Qr,c["\u0275\u0275pureFunction1"](3,$r,c["\u0275\u0275pureFunction1"](1,Yr,n.programHash)))))}}function Kr(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Jr,2,9,"mg-button-outline",20),c["\u0275\u0275elementContainerEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","SUPERADMIN"))}var Xr=function(e){return["program","update",e]};function ei(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mg-button-outline",1),c["\u0275\u0275text"](1,"Edit"),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](7,Zr,c["\u0275\u0275pureFunction1"](5,Qr,c["\u0275\u0275pureFunction1"](3,$r,c["\u0275\u0275pureFunction1"](1,Xr,n.programHash)))))}}function ti(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",18),c["\u0275\u0275template"](1,Kr,2,1,"ng-container",19),c["\u0275\u0275template"](2,ei,2,9,"mg-button-outline",20),c["\u0275\u0275elementStart"](3,"mg-button-outline",21),c["\u0275\u0275listener"]("click",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().confirmDeleteProgram(e)})),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.mingaCount),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","SUPERADMIN"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("color","warn"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](5,4,"button.deleteProgram")," ")}}function ni(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button-outline",23),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).addToMyMinga()})),c["\u0275\u0275text"](1," Add to Minga "),c["\u0275\u0275elementEnd"]()}}function ri(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,ni,2,0,"mg-button-outline",22),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.mingaContext)}}function ii(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"p",27),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",1==n.contentCount?n.contentCount+" item":n.contentCount+" items"," ")}}function ai(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button-outline",28),c["\u0275\u0275listener"]("click",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).addContent(e)})),c["\u0275\u0275text"](1,"Add Content"),c["\u0275\u0275elementEnd"]()}}function oi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",24),c["\u0275\u0275template"](1,ii,2,1,"p",25),c["\u0275\u0275template"](2,ai,2,0,"mg-button-outline",26),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!n.mingaContext&&null!==n.contentCount),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","SUPERADMIN")}}function si(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-program-content-item",29),c["\u0275\u0275listener"]("dateControlClick",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onItemDateControlClick(e)}))("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"]().onStreamItemClick(e)}))("contextMenuClick",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onItemContextMenu(e)})),c["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,i=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("item",r)("canEdit",i.canEditProgramContent)}}function li(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275elementStart"](1,"div",31),c["\u0275\u0275element"](2,"mg-success-checkmark"),c["\u0275\u0275elementStart"](3,"div",32),c["\u0275\u0275text"](4,"Program Successfully Added!"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}var ci,ui,di,mi=function(e){return{programHash:e}},gi=((ui=function(){function e(t,n,r,i,a,o,s,l,c,u,d,m,g,p,h,v,y){var C=this;f(this,e),this.mgModal=n,this.programManager=r,this.contentBuilder=i,this.adminEvents=a,this.url=o,this.mingaStore=s,this.dialog=l,this.mingaContent=c,this.rootService=u,this.ngZone=d,this.matDialog=m,this.contentCleanup=g,this.router=p,this.permissions=h,this.snackBar=v,this.programStreamManager=y,this.programHash="",this.mingaContext=!0,this.canEditProgramContent=!1,this.mingaCount=null,this.contentCount=null,this.onItemContextMenu=function(e){return C.ngZone.run((function(){return C._onItemContextMenu(e)}))},this.onItemDateControlClick=function(e){return C.ngZone.run((function(){return C._onItemDateControlClick(e)}))},t.params.subscribe((function(e){C.programHash=e.programHash,C._initProgramInfo(C.programHash),C.mingaContext=C.url.path().includes("minga~programs")})),this._programUpdateSuccess=this.adminEvents.onProgramUpdateSuccess.subscribe((function(e){e.programHash==C.programHash&&C._initProgramInfo(C.programHash)}))}return y(e,[{key:"ngOnInit",value:function(){this.initPermissions()}},{key:"bannerUrl",get:function(){return this.programInfo&&this.programInfo.bannerList?"url("+window.MINGA_ASSET_URL_PREFIX+this.programInfo.bannerList[0]+")":""}},{key:"logoUrl",get:function(){return this.programInfo&&this.programInfo.logo?window.MINGA_ASSET_URL_PREFIX+this.programInfo.logo:""}},{key:"_onItemDateControlClick",value:function(e){var t=this;this.dialog.open(Dr,{data:Object(Nr.c)(e.item.positionRelative,e.item.positionOffset)}).beforeClosed().subscribe((function(n){n&&t.moveProgramContent(e.item,n)}))}},{key:"initPermissions",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.canEditProgramContent=this.permissions.hasPermission(w.MingaPermission.SUPERADMIN);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"editProgramContent",value:function(e){e.typeString&&e.contentHash&&this.contentBuilder.navEdit(e.typeString,e.contentHash)}},{key:"moveProgramContent",value:function(e,t){return Object(ne.a)(this,void 0,void 0,h().mark((function n(){var r,i;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.contentHash){n.next=2;break}return n.abrupt("return");case 2:return(r=new Un.ProgramMoveContent).setContentHash(e.contentHash),r.setProgramHash(this.programHash),(i=new Un.ProgramContentPosition).setOffset(Object(Nr.b)(t)),i.setRelativeOffset(t.relative),r.setContentStartPosition(i),n.next=10,this.rootService.addLoadingPromise(this.programManager.moveContent(r));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"confirmRemoveProgramContent",value:function(e){return Object(ne.a)(this,void 0,void 0,h().mark((function t(){var n,r=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.contentHash){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.matDialog.open(Ar.a,{data:{text:"dialog.removeProgramContentConfirm",saveButtonLocale:"button.remove"}});case 4:return(n=t.sent).beforeClosed().subscribe((function(t){t&&r.removeProgramContent(e)})),t.next=8,n.beforeClosed().toPromise();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"removeProgramContent",value:function(e){return Object(ne.a)(this,void 0,void 0,h().mark((function t(){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.contentHash){t.next=2;break}return t.abrupt("return");case 2:return(n=new Un.ProgramRemoveContent).setContentHash(e.contentHash),n.setProgramHash(this.programHash),t.next=7,this.rootService.addLoadingPromise(this.programManager.removeContent(n));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_onItemContextMenu",value:function(e){return Object(ne.a)(this,void 0,void 0,h().mark((function t(){var n=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),e.stopImmediatePropagation(),t.next=4,this.rootService.openGlobalMenu({x:e.pageX,y:e.pageY,items:[{name:"Edit",click:function(){return n.editProgramContent(e.model.item)}},{name:"Remove",click:function(){return n.confirmRemoveProgramContent(e.model.item)}}]});case 4:case"end":return t.stop()}}),t,this)})))}},{key:"_initProgramInfo",value:function(e){return Object(ne.a)(this,void 0,void 0,h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Un.ProgramInfoQuery).setProgramHash(e),t.next=4,this.programManager.getDetails(n);case 4:r=t.sent.toObject(),this.programInfo=r.programInfo,this.mingaCount=r.mingaCount,this.contentCount=r.contentCount;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"onStreamItemClick",value:function(e){var t=Wn.get(e,"contentHash","");this.router.navigate(["",{outlets:{o:["preview~content",t,this.programHash]}}])}},{key:"addContent",value:function(e){this.contentBuilder.openCreateContextMenu(e.pageX,e.pageY,{type:"program",hash:this.programHash})}},{key:"addToMyMinga",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mingaStore.getMingaAsPromise();case 2:t=e.sent,this.dialog.open(Gn.a,{data:{programName:this.programInfo.title,mingaName:t?t.name:""}}).afterClosed().subscribe((function(e){return Object(ne.a)(n,void 0,void 0,h().mark((function t(){var n,r,i;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=12;break}return(n=new qn.MingaAddProgram).setProgramHash(this.programHash),(r=new zr.Date).setYear(e.getFullYear()),r.setMonth(e.getMonth()+1),r.setDay(e.getDate()),n.setProgramStartDate(r),t.next=7,this.rootService.addLoadingPromise(this.mingaContent.addProgram(n));case 7:if(i=t.sent,t.t0=i&&i.getProgramContextHash(),!t.t0){t.next=12;break}return t.next=12,this._successDialog();case 12:case"end":return t.stop()}}),t,this)})))}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"confirmDeleteProgram",value:function(e){var t=this;e&&e.preventDefault(),this.dialog.open(Gn.d,{data:{matchString:this.programInfo.title,placeholderLocaleValue:"Program's Title",titleLocaleValue:"Program"}}).beforeClosed().subscribe((function(e){!0===e&&t.deleteProgram()}))}},{key:"deleteProgram",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Hr.ContentInfoQuery).setContentHash(this.programHash),this.snackBar.open("successfully deleted program: "+this.programInfo.title),e.next=5,this.contentCleanup.delete(t);case 5:return e.next=7,this.router.navigate(["/admin/program"]);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"_successDialog",value:function(){return Object(ne.a)(this,void 0,void 0,h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mgModal.open(this.successOverlayTemplate,{full:!0,animation:"fade"}),setTimeout((function(){return t.close()}),2e3),e.next=4,new Promise((function(e){return setTimeout(e,1e3)}));case 4:return e.next=6,this.router.navigate(["",{outlets:{o:null}}]).then((function(){return Object(ne.a)(n,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.router.navigate(["/admin/minga~programs"]);case 2:case"end":return e.stop()}}),e,this)})))}));case 6:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||ui)(c["\u0275\u0275directiveInject"](g.a),c["\u0275\u0275directiveInject"](ke.b),c["\u0275\u0275directiveInject"](Yn.ProgramManager),c["\u0275\u0275directiveInject"](Vr.a),c["\u0275\u0275directiveInject"](C.a),c["\u0275\u0275directiveInject"](M.l),c["\u0275\u0275directiveInject"]($n.a),c["\u0275\u0275directiveInject"](K.b),c["\u0275\u0275directiveInject"](Qn.MingaContent),c["\u0275\u0275directiveInject"](pe.a),c["\u0275\u0275directiveInject"](c.NgZone),c["\u0275\u0275directiveInject"](K.b),c["\u0275\u0275directiveInject"](Wr.ContentCleanup),c["\u0275\u0275directiveInject"](g.g),c["\u0275\u0275directiveInject"](R.c),c["\u0275\u0275directiveInject"](fe.b),c["\u0275\u0275directiveInject"](bn.ProgramStreamManager))},ui.\u0275cmp=c["\u0275\u0275defineComponent"]({type:ui,selectors:[["mg-program-view"]],viewQuery:function(e,t){var n;1&e&&(c["\u0275\u0275viewQuery"](qr,3),c["\u0275\u0275viewQuery"](Ur,3)),2&e&&(c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.stream=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.successOverlayTemplate=n.first))},decls:28,vars:16,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"program-view-header"],[3,"routerLink"],["fxHide.xs",""],["fxFlex",""],["class","top-action-buttons",4,"ngIf"],[4,"hasPermission"],[1,"program-view-container"],[1,"mg-headline","title-text","program-view-padding-content"],[1,"program-hero-container"],[1,"program-hero-banner"],[1,"program-hero-logo",3,"src"],[1,"description-text","program-view-padding-content",3,"innerHTML"],[1,"content-divider","mg-headline2"],[1,"program-view-padding-content"],["class","program-view-padding-content mg-minicopy",4,"ngIf"],["rpcStream","streamProgramContent","rpcControl","streamProgramContentControl",3,"service","filter"],["mgStreamItem",""],["successOverlayTemplate",""],[1,"top-action-buttons"],[4,"ngIf"],[3,"routerLink",4,"hasPermission"],[1,"add-program-button",3,"color","click"],["class","delete-program-button",3,"click",4,"ngIf"],[1,"delete-program-button",3,"click"],[1,"program-view-padding-content","mg-minicopy"],["class","program-content-count",4,"ngIf"],[3,"click",4,"hasPermission"],[1,"program-content-count"],[3,"click"],[3,"item","canEdit","dateControlClick","click","contextMenuClick"],[1,"success-overlay"],[1,"checkmark-wrap"],[1,"mg-bodycopy"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"a",1),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"back"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"span"),c["\u0275\u0275text"](5,"Back "),c["\u0275\u0275elementStart"](6,"span",2),c["\u0275\u0275text"](7,"to all programs"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](8,"div",3),c["\u0275\u0275template"](9,ti,6,6,"div",4),c["\u0275\u0275template"](10,ri,2,1,"ng-container",5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",6),c["\u0275\u0275elementStart"](12,"h1",7),c["\u0275\u0275text"](13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",8),c["\u0275\u0275element"](15,"div",9),c["\u0275\u0275element"](16,"mg-avatar",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](17,"p",11),c["\u0275\u0275elementStart"](18,"div",12),c["\u0275\u0275elementStart"](19,"p",13),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](22,oi,3,2,"div",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div",13),c["\u0275\u0275elementStart"](24,"mg-stream-scroller",15),c["\u0275\u0275template"](25,si,1,2,"ng-template",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](26,li,5,0,"ng-template",null,17,c["\u0275\u0275templateRefExtractor"])),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("routerLink",t.mingaContext?"/admin/minga~programs":"/admin/program"),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("ngIf",!t.mingaContext),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","MINGA_PROGRAMS_MANAGE"),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",null==t.programInfo?null:t.programInfo.title," "),c["\u0275\u0275advance"](2),c["\u0275\u0275styleProp"]("background-image",t.bannerUrl),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("src",t.logoUrl),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("innerHTML",null==t.programInfo?null:t.programInfo.description,c["\u0275\u0275sanitizeHtml"]),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,12,"program.contentDividerText")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!t.mingaContext),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("service",t.programStreamManager)("filter",c["\u0275\u0275pureFunction1"](14,mi,t.programHash)))},directives:[g.j,D.a,M.o,Pe.a,tt.a,N.a,B.a,Gr.a,g.h,dr,_e.a],pipes:[p.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.program-view-header[_ngcontent-%COMP%]{margin-top:7px;position:relative;flex-direction:row;box-sizing:border-box;display:flex;max-height:100%;justify-content:space-between;align-items:center}@media (max-width:599px){.program-view-header[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}}.program-view-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#036}.program-view-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}@media (max-width:599px){.program-view-header[_ngcontent-%COMP%]{padding:8px 8px 0}}@media (min-width:600px){.program-view-header[_ngcontent-%COMP%]{margin-top:28px}}.program-view-header[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:8px}mg-button-outline[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){mg-button-outline[_ngcontent-%COMP%]{font-size:13px}}.top-action-buttons[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.top-action-buttons[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.top-action-buttons[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.top-action-buttons[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.top-action-buttons[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.top-action-buttons[_ngcontent-%COMP%]{font-size:13px}}.top-action-buttons[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{margin-left:6px}.program-view-container[_ngcontent-%COMP%]{margin-top:16px;background-color:#fff;border-radius:6px;padding:16px 0;box-shadow:0 0 8px rgba(0,0,0,.17)}@media (max-width:599px){.program-view-container[_ngcontent-%COMP%]{padding:0;margin-top:15px}}.program-view-padding-content[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.title-text[_ngcontent-%COMP%]{margin-top:0}@media (max-width:599px){.title-text[_ngcontent-%COMP%]{padding-top:.67em}}.content-divider[_ngcontent-%COMP%]{font-weight:400;border-top:1px solid #ccc;display:flex;justify-content:space-between;align-items:center;padding-top:8px}.content-divider[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:inline-block}.content-divider[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center}.content-divider[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .program-content-count[_ngcontent-%COMP%]{margin-right:8px}.content-divider[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mg-button-outline[_ngcontent-%COMP%]{margin-right:10px}.content-divider[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mg-button-outline[_ngcontent-%COMP%]:last-child{margin-right:0}.description-text[_ngcontent-%COMP%]{color:#2f2f2f;padding:0 1em;word-break:break-word;white-space:pre-wrap}.success-overlay[_ngcontent-%COMP%]{height:100%;text-align:center;position:relative}.success-overlay[_ngcontent-%COMP%]   .checkmark-wrap[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}.program-hero-container[_ngcontent-%COMP%]{position:relative;text-align:center;margin-bottom:60px;--mg-avatar-size:98px}.program-hero-container[_ngcontent-%COMP%]   .program-hero-banner[_ngcontent-%COMP%], .program-hero-container[_ngcontent-%COMP%]   .program-hero-logo[_ngcontent-%COMP%]{background-repeat:no-repeat;width:100%;background-position:50%;background-size:cover}.program-hero-container[_ngcontent-%COMP%]   .program-hero-banner[_ngcontent-%COMP%]{padding-bottom:56.25%}.program-hero-container[_ngcontent-%COMP%]   .program-hero-logo[_ngcontent-%COMP%]{width:98px;height:98px;position:absolute;bottom:0;transform:translateY(50%);left:0;right:0;margin:auto;border-radius:50%;box-shadow:0 0 8px rgba(0,0,0,.17)}']}),ui),pi=((ci=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||ci)},ci.\u0275mod=c["\u0275\u0275defineNgModule"]({type:ci}),ci.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Z.a,O.a,Xt.a,xr,$.b,Jt.a,Ar.b,R.b,M.c,p.c,g.k]]}),ci),hi=[{path:"",pathMatch:"full",redirectTo:"/admin/people"},{path:"people",component:Qt,data:{title:"People Manager"}},{path:"program",component:Bn},{path:"minga~programs",component:Er,data:{title:"Minga Programs"}},{path:"challenge~polls",component:P,data:{baseUrl:"/challenge~polls/"},children:[{path:"polls",component:vn,data:{title:"View Polls"}},{path:"challenges",component:U,data:{title:"View Challenges"}}]},{path:"minga~polls",component:vn,data:{title:"View Polls"}},{path:"program/:programHash",component:gi},{path:"minga~programs/program/:programHash",component:gi},{path:"minga/programs/:programInstanceHash",component:vr},{outlet:"o",path:"minga/:mingaHash/people/create",component:ln.a,canDeactivate:[v.c]},{outlet:"o",path:"minga/:mingaHash/people/update/:hash",component:ln.a,canDeactivate:[v.c]}],fi=((di=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||di)},di.\u0275mod=c["\u0275\u0275defineNgModule"]({type:di}),di.\u0275inj=c["\u0275\u0275defineInjector"]({providers:[C.a],imports:[[sn,ln.b,Vn,Tr,S.a,Cn,Br.b,pi,Pr,Lr,te,_,p.c.forChild(),g.k.forChild(hi)]]}),di)},"9iN8":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d.b})),n.d(t,"c",(function(){return d.c}));var r,i=n("SVse"),a=n("8Y7J"),o=n("s7LF"),s=n("pMoy"),l=n("Q2Ze"),c=n("e6WT"),u=n("ZTz/"),d=n("tsE+"),m=((r=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||r)},r.\u0275mod=a["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[i.c,o.m,s.b,u.b,l.f,c.c]]}),r)},CslP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n("8Y7J"),a=n("XNiG"),o=((r=function(){function e(){f(this,e),this._onProgramUpdateSuccess=new a.a}return y(e,[{key:"emitProgramUpdateSuccess",value:function(e){this._onProgramUpdateSuccess.next(e)}},{key:"onProgramUpdateSuccess",get:function(){return this._onProgramUpdateSuccess.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=i["\u0275\u0275defineInjectable"]({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},GNGV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("8Y7J"),i=n("s7LF");n("9QcJ");var a,o=((a=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||a)},a.\u0275mod=r["\u0275\u0275defineNgModule"]({type:a}),a.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[i.m]]}),a)},GNNB:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("8Y7J"),i=n("s7LF"),a=n("pgOG"),o=n("PqYM"),s=n("eIep"),l=n("EyMp"),c=n("Q2Ze"),u=n("i1AJ"),d=n("SVse"),m=n("e6WT"),g=n("Tj54"),p=n("sj4O"),h=n("TSSN"),v=["pinInput"];function C(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon"),r["\u0275\u0275text"](1,"done"),r["\u0275\u0275elementEnd"]())}function b(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon"),r["\u0275\u0275text"](1,"error_outline"),r["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&r["\u0275\u0275element"](0,"mg-spinner",6)}function P(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,n.hint)," ")}}function M(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.pin.error.pattern")," "))}function O(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.pin.error.pinTaken")," "))}function k(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.pin.error.max")," "))}function _(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.pin.error.incorrect")," "))}function S(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.pin.error.required")," "))}function w(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275elementContainerStart"](1,7),r["\u0275\u0275template"](2,M,3,3,"span",8),r["\u0275\u0275template"](3,O,3,3,"span",8),r["\u0275\u0275template"](4,k,3,3,"span",8),r["\u0275\u0275template"](5,_,3,3,"span",8),r["\u0275\u0275template"](6,S,3,3,"span",9),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitch",n.inputControlErrorKey),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","pattern"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","pinTaken"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","max"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","incorrect")}}var I=function(e){return{"hidden-required":e}},E={provide:i.r,useExisting:Object(r.forwardRef)((function(){return T})),multi:!0},F={provide:i.q,useExisting:Object(r.forwardRef)((function(){return T})),multi:!0},T=function(){var e=function(){function e(t,n){f(this,e),this.personValidation=t,this.inj=n,this.disabled=!1,this.required=!1,this.unique=!1,this.error="",this.hint="",this.hiddenRequired=!1,this.readonly=!0,this.mgNoHintMargin=!1,this.outerControl=new i.h,this._setupUniqueValidator()}return y(e,[{key:"validate",value:function(e){return this.inputControl.errors}},{key:"ngOnInit",value:function(){var e=this;this.inputControl=new i.h({value:this.innerValue,disabled:this.disabled},[i.D.pattern(/^[0-9]*$/),i.D.max(2147483647)],this._getAsyncValidators()),this._formGroup=new i.k({inputControl:this.inputControl}),this._initOuterControl(),this.inputControl.statusChanges.subscribe((function(t){"function"==typeof e.onChange&&(e.onChange(e.innerValue),e.onTouched())}))}},{key:"ngOnChanges",value:function(e){if(e.unique&&this._formGroup){var t=this._getAsyncValidators();this.inputControl.setAsyncValidators(t)}e.error&&this._showCustomError()}},{key:"_showCustomError",value:function(){if(this.error&&this.inputControl){var e={};e[this.error]=!0,this.inputControl.setErrors(e)}}},{key:"_initOuterControl",value:function(){var e=this,t=this.inj.get(i.s);t&&t.control&&(this.outerControl=t.control),this.outerControl.statusChanges.subscribe((function(t){e.outerControl.errors&&0==!!e.inputControl.errors?e.outerErrors=e.outerControl.errors:!e.outerControl.errors&&e.outerErrors&&(e.outerErrors=null)}))}},{key:"inputRequired",get:function(){return this.required}},{key:"inputControlErrorKey",get:function(){var e=this.inputControl.errors?Object.keys(this.inputControl.errors)[0]:"",t=this.outerControl.errors?Object.keys(this.outerControl.errors)[0]:"";return e||t}},{key:"statusDone",get:function(){return this.inputControl.dirty&&this.inputControl.valid&&(!this.outerControl||this.outerControl.dirty&&this.outerControl.valid)}},{key:"statusInvalid",get:function(){return this.inputControl.dirty&&this.inputControl.invalid||!this.outerControl||this.outerControl.dirty&&this.outerControl.invalid}},{key:"statusTouched",get:function(){return this.inputControl.invalid&&(this.inputControl.dirty||this.inputControl.touched)||this.outerControl.invalid&&(this.outerControl.dirty||this.outerControl.touched)}},{key:"statusPending",get:function(){return this.inputControl.pending||this.outerControl.pending}},{key:"wantsUnique",value:function(){return this.unique||"number"==typeof this.unique}},{key:"_getAsyncValidators",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wantsUnique(),t=[];return e&&t.push(this._uniqueValidator),t}},{key:"_setupUniqueValidator",value:function(){var e=this;this._uniqueValidator=function(t){var n=t.value,r=new a.PinUniqueRequest;return r.setPin(n),"number"==typeof e.unique&&(console.log("gonna return as value is: "+n),e.unique==n||n>=2147483648)?Promise.resolve(null):Object(o.a)(1e3).pipe(Object(s.a)((function(){return e.personValidation.pinUnique(r).then((function(e){return e.getUnique()?null:{pinTaken:!0}}))})))}}},{key:"writeValue",value:function(e){"number"==typeof e&&(this.innerValue=e,this.inputControl.setValue(this.innerValue))}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"change",value:function(e){e=this.ensureNumeric(e),this.innerValue=e,this.onChange&&this.onChange(this.innerValue)}},{key:"ensureNumeric",value:function(e){return String(e).replace(/\D/g,"")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.PersonValidation),r["\u0275\u0275directiveInject"](r.Injector))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-pin"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275viewQuery"](v,3),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.pinInput=n.first))},inputs:{disabled:"disabled",required:"required",unique:"unique",error:"error",hint:"hint",placeholder:"placeholder",hiddenRequired:"hiddenRequired",readonly:"readonly",mgNoHintMargin:"mgNoHintMargin"},features:[r["\u0275\u0275ProvidersFeature"]([E,F]),r["\u0275\u0275NgOnChangesFeature"]],decls:11,vars:14,consts:[["mgFormField","",1,"mg-pin",3,"ngClass","mgReadOnly","mgNoHintMargin"],["matInput","","type","text","min","0","inputmode","numeric","pattern","[0-9]*",3,"formControl","required","readonly","ngModelChange"],["pinInput",""],["mat-icon-button","","matSuffix","",1,"input-icon"],[4,"ngIf"],["color","primary","mode","indeterminate","diameter","25",4,"ngIf"],["color","primary","mode","indeterminate","diameter","25"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0),r["\u0275\u0275elementStart"](1,"mat-label"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"input",1,2),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.change(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",3),r["\u0275\u0275template"](6,C,2,0,"mat-icon",4),r["\u0275\u0275template"](7,b,2,0,"mat-icon",4),r["\u0275\u0275template"](8,x,1,0,"mg-spinner",5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](9,P,3,3,"mat-hint",4),r["\u0275\u0275template"](10,w,7,5,"mat-error",4),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](12,I,t.hiddenRequired))("mgReadOnly",t.readonly)("mgNoHintMargin",t.mgNoHintMargin),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](t.placeholder||"PIN"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("formControl",t.outerErrors?t.outerControl:t.inputControl)("required",t.inputRequired)("readonly",t.readonly),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.statusDone&&t.outerControl.asyncValidator),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.statusInvalid&&t.outerControl.asyncValidator),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.statusPending),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.hint),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.statusTouched))},directives:[c.d,u.a,d.m,c.h,m.b,i.d,i.z,i.t,i.i,i.B,c.j,d.o,g.a,p.a,c.g,c.c,d.q,d.r,d.s],pipes:[h.d],styles:[""]}),e}()},ITzS:function(e,t,n){"use strict";n.d(t,"b",(function(){return Tt})),n.d(t,"a",(function(){return Ft}));var r,i,a=n("SVse"),o=n("8Y7J"),s=n("s7LF"),l=n("pMoy"),c=n("Q2Ze"),u=n("e6WT"),g=n("ZTz/"),p=n("jMqV"),v=n("TSSN"),C=n("CO6v"),b=n("qsjj"),x=n("n09W"),P=n("KRyY"),M=n("/2l8"),O=n("LGJD"),k=n("SOT1"),_=n("iIIi"),S=n("HxU+"),w=n("ls3q"),I=n("GNGV"),E=n("vtEA"),F=n("CL15"),T=n("XMmb"),R=n("Vwx4"),j=n("kWWr"),D=n("mrSG"),N=n("LRne"),L=n("lJxs"),B=((i=y((function e(){f(this,e),this.label=""}))).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o["\u0275\u0275defineComponent"]({type:i,selectors:[["mg-person-permission-override-field"]],inputs:{permission:"permission",label:"label"},decls:0,vars:0,template:function(e,t){},styles:[""],changeDetection:0}),i),A=((r=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||r)},r.\u0275mod=o["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[]]}),r),z=n("VDRc"),H=n("zQhy");function V(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",2),o["\u0275\u0275elementStart"](2,"div",3),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"mat-radio-group",4),o["\u0275\u0275listener"]("ngModelChange",(function(e){o["\u0275\u0275restoreView"](n);var t=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"](2).onRadioGroupChange(e,t)})),o["\u0275\u0275elementStart"](5,"mat-radio-button",5),o["\u0275\u0275text"](6,"Default"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"mat-radio-button",5),o["\u0275\u0275text"](8,"Enabled"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"mat-radio-button",5),o["\u0275\u0275text"](10,"Disabled"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=t.ngIf,i=o["\u0275\u0275nextContext"]().$implicit,a=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](i.label),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("disabled",a._loading)("ngModel",r.value),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("value",null),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("value",!0),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("value",!1)}}function W(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,V,11,6,"ng-container",0),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](2,1,r.watchOptionValue(n.permission)))}}function G(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,W,3,3,"div",1),o["\u0275\u0275elementContainerEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n.options)("ngForTrackBy",n.trackByFn)}}var q,U,Y,$,Q,Z=((q=function(){function e(t){f(this,e),this._cdr=t,this._permissionOverrides=null,this._loading=!1,this.trackByFn=function(e,t){return t.permission}}return y(e,[{key:"permissionOverrides",get:function(){return this._permissionOverrides},set:function(e){this._permissionOverrides&&this._cleanupPermissionOverrides(this._permissionOverrides),this._permissionOverrides=e}},{key:"onRadioGroupChange",value:function(e,t){return Object(D.a)(this,void 0,void 0,h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._loading=!0,this._cdr.markForCheck(),n.prev=1,null!==e){n.next=7;break}return n.next=5,this._permissionOverrides.unset(t.permission);case 5:n.next=18;break;case 7:if(!0!==e){n.next=12;break}return n.next=10,this._permissionOverrides.set(t.permission,!0);case 10:n.next=18;break;case 12:if(!1!==e){n.next=17;break}return n.next=15,this._permissionOverrides.set(t.permission,!1);case 15:n.next=18;break;case 17:console.error("Unexpected value:",e);case 18:return n.prev=18,this._loading=!1,this._cdr.markForCheck(),n.finish(18);case 21:case"end":return n.stop()}}),n,this,[[1,,18,21]])})))}},{key:"watchOptionValue",value:function(e){return this._permissionOverrides?this._permissionOverrides.observe(e).pipe(Object(L.a)((function(e){return{value:e}}))):Object(N.a)({value:null})}},{key:"ngOnDestroy",value:function(){this._permissionOverrides&&(this._cleanupPermissionOverrides(this._permissionOverrides),this._permissionOverrides=null)}},{key:"onEnableChange",value:function(e,t){return Object(D.a)(this,void 0,void 0,h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._loading=!0,this._cdr.markForCheck(),n.prev=1,!t){n.next=7;break}return n.next=5,this._permissionOverrides.set(e.permission,!0);case 5:n.next=9;break;case 7:return n.next=9,this._permissionOverrides.unset(e.permission);case 9:return n.prev=9,this._loading=!1,this._cdr.markForCheck(),n.finish(9);case 12:case"end":return n.stop()}}),n,this,[[1,,9,12]])})))}},{key:"onValueChange",value:function(e,t){return Object(D.a)(this,void 0,void 0,h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._loading=!0,this._cdr.markForCheck(),n.prev=1,n.next=4,this._permissionOverrides.set(e.permission,t);case 4:return n.prev=4,this._loading=!1,this._cdr.markForCheck(),n.finish(4);case 7:case"end":return n.stop()}}),n,this,[[1,,4,7]])})))}},{key:"_cleanupPermissionOverrides",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||q)(o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},q.\u0275cmp=o["\u0275\u0275defineComponent"]({type:q,selectors:[["mg-person-permission-overrides-form"]],contentQueries:function(e,t,n){var r;1&e&&o["\u0275\u0275contentQuery"](n,B,0),2&e&&o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t.options=r)},inputs:{permissionOverrides:"permissionOverrides"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutAlign","start center","fxLayoutGap","8px"],["fxFlex","auto"],[3,"disabled","ngModel","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&o["\u0275\u0275template"](0,G,2,2,"ng-container",0),2&e&&o["\u0275\u0275property"]("ngIf",t.permissionOverrides)},directives:[a.o,a.n,z.e,z.d,z.f,z.b,H.b,s.t,s.w,H.a],pipes:[a.b],styles:["mat-radio-button[_ngcontent-%COMP%] ~ mat-radio-button[_ngcontent-%COMP%]{margin-left:8px}mat-radio-group[_ngcontent-%COMP%]{font-size:15px}"],changeDetection:0}),q),J=n("u9T3"),K=((U=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||U)},U.\u0275mod=o["\u0275\u0275defineNgModule"]({type:U}),U.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[a.c,J.a,H.c,s.m],A]}),U),X=n("XNiG"),ee=n("itXk"),te=n("Cfvw"),ne=n("eIep"),re=n("pLZG"),ie=n("lkjj"),ae=n("p3fa"),oe=((Y=function(){function e(t,n){var r=this;f(this,e),this.rolesService=t,this.checker=n,this._checkedRole="",this.ignoreRole="",this.pendingUsers=[],this.updatingRole=!1,this.reachedLimit=new o.EventEmitter,this._checkRoleSubj=new X.a;var i=this._checkRoleSubj.pipe(Object(ne.a)((function(e){return Object(ee.b)([Object(N.a)(e),t.adminRoles$,Object(N.a)(r.updatingRole),Object(N.a)(r.ignoreRole),Object(N.a)(r.pendingUsers)])})),Object(re.a)((function(e){return m(e,1)[0]!=r.ignoreRole})),Object(re.a)((function(e){var t=m(e,5),n=t[0],r=t[1],i=t[2],a=t[3],o=(t[4],!!r.find((function(e){return e.roleType==n})));return o&&i&&a?!r.find((function(e){return e.roleType==a})):o})),Object(ne.a)((function(e){var t=m(e,5),n=t[0],i=t[1],a=(t[2],t[3]),o=t[4],s=0;if(o.length)for(var l=function(){var e=o[c];e.roleType?i.find((function(t){return t.roleType==e.roleType}))&&e.roleType!=a&&s++:i.find((function(e){return e.roleType==n}))&&s++},c=0;c<o.length;c++)l();return Object(te.a)(r.checker.checkAdminUserLimits(s))})),Object(re.a)((function(e){return e}))),a=this._checkRoleSubj.pipe(Object(ne.a)((function(e){return Object(ee.b)([Object(N.a)(e),t.billableRoles$,Object(N.a)(r.updatingRole),Object(N.a)(r.ignoreRole),Object(N.a)(r.pendingUsers)])})),Object(re.a)((function(e){return m(e,1)[0]!=r.ignoreRole})),Object(re.a)((function(e){var t=m(e,5),n=t[0],r=t[1],i=t[2],a=t[3],o=(t[4],!!r.find((function(e){return e.roleType==n})));return o&&i&&a?!r.find((function(e){return e.roleType==a})):o})),Object(ne.a)((function(e){var t=m(e,5),n=t[0],i=t[1],a=(t[2],t[3]),o=t[4],s=0;if(o.length)for(var l=function(){var e=o[c];e.roleType?i.find((function(t){return t.roleType==e.roleType}))&&e.roleType!=a&&s++:i.find((function(e){return e.roleType==n}))&&s++},c=0;c<o.length;c++)l();return Object(te.a)(r.checker.checkBillableUserLimits(s))})),Object(re.a)((function(e){return e})));this.adminSub=i.subscribe((function(){return r.reachedLimit.emit()})),this.billableSub=a.subscribe((function(){return r.reachedLimit.emit()}))}return y(e,[{key:"checkedRole",get:function(){return this._checkedRole},set:function(e){this._checkedRole=e,this.trigger()}},{key:"trigger",value:function(){this._checkRoleSubj.next(this._checkedRole)}},{key:"ngOnInit",value:function(){this.rolesService.fetchIfNeeded()}},{key:"ngOnDestroy",value:function(){this._checkRoleSubj.complete(),this.adminSub&&this.adminSub.unsubscribe(),this.billableSub&&this.billableSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Y)(o["\u0275\u0275directiveInject"](ie.a),o["\u0275\u0275directiveInject"](ae.a))},Y.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Y,selectors:[["mg-admin-role-limit-checker"]],inputs:{ignoreRole:"ignoreRole",pendingUsers:"pendingUsers",updatingRole:"updatingRole",checkedRole:"checkedRole"},outputs:{reachedLimit:"reachedLimit"},decls:0,vars:0,template:function(e,t){},styles:[""],changeDetection:0}),Y),se=n("g1Mv"),le=(($=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||$)},$.\u0275mod=o["\u0275\u0275defineNgModule"]({type:$}),$.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[se.b,a.c]]}),$),ce=n("7Tcv"),ue=n("1uLP"),de=n("LvDl"),me=n("5km/"),ge=n("NG82"),pe=n("vAI6"),he=n("QPZY"),fe=n("mI3D"),ve=n("S8Pw"),ye=n("Cnb3"),Ce=n("Ggka"),be=n("UWMR"),xe=n("iInd"),Pe=n("iELJ"),Me=n("IPaV"),Oe=n("jNxq"),ke=n("tqRt"),_e=n("oeMW"),Se=n("QWb5"),we=n("HSxi"),Ie=n("jbKS"),Ee=n("2Vo4"),Fe=n("s8Ph"),Te=function(){function e(t,n){f(this,e),this.protoService=t,this.personHash=n,this._permissions=new Map}return y(e,[{key:"get",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._permissions.has(e)?this._permissions.get(e).getValue():null);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"observe",value:function(e){return this._ensurePermObs(e).asObservable()}},{key:"set",value:function(e,t){return Object(D.a)(this,void 0,void 0,h().mark((function n(){var r,i;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this._ensurePermObs(e),(i=new Ie.SetPermissionOverrideRequest).setPersonHash(this.personHash),i.setPermission(e),i.setPermissionOverride(t),n.next=6,this.protoService.setPermissionOverride(i);case 6:r.next(t);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"unset",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._ensurePermObs(e),(r=new Ie.UnsetPermissionOverrideRequest).setPersonHash(this.personHash),r.setPermission(e),t.next=5,this.protoService.unsetPermissionOverride(r);case 5:n.next(null);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"reload",value:function(){return Object(D.a)(this,void 0,void 0,h().mark((function e(){var t,n,r,i,a,o,s,l,c=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Ie.GetPermissionOverridesRequest).setPersonHash(this.personHash),e.next=4,this.protoService.getPermissionOverrides(t);case 4:n=e.sent.getOverridePermissionsMap(),r=Array.from(this._permissions.keys()),i=[],n.forEach((function(e,t){i.push(t);var n=c._ensurePermObs(t);n.getValue()!==e&&n.next(e)})),a=de.difference(i,r),o=d(a);try{for(o.s();!(s=o.n()).done;)l=s.value,this._permissions.has(l)&&this._permissions.get(l).next(null)}catch(u){o.e(u)}finally{o.f()}case 11:case"end":return e.stop()}}),e,this)})))}},{key:"clear",value:function(){this._permissions.forEach((function(e){e.complete()})),this._permissions.clear()}},{key:"_ensurePermObs",value:function(e){return this._permissions.has(e)||this._permissions.set(e,new Ee.a(null)),this._permissions.get(e)}}]),e}(),Re=((Q=function(){function e(t){f(this,e),this.protoService=t}return y(e,[{key:"personPermissionOverrides",value:function(e,t){var n=new Te(this.protoService,e);return n.reload().then((function(){t&&t(null)}),(function(e){if(!t)throw e;t(e)})),n}}]),e}()).\u0275fac=function(e){return new(e||Q)(o["\u0275\u0275inject"](Fe.PermissionOverrideAdmin))},Q.\u0275prov=o["\u0275\u0275defineInjectable"]({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q),je=n("3qIc"),De=n("BxgO"),Ne=n("i1AJ"),Le=n("v3UH"),Be=n("3/G9"),Ae=n("9QcJ"),ze=n("TcST"),He=n("UhP/"),Ve=n("5xcx"),We=n("EEb0"),Ge=n("ifhk"),qe=n("85oS"),Ue=n("dhKc"),Ye=n("yWQT"),$e=n("+060"),Qe=n("uplL"),Ze=n("sj4O"),Je=n("Fudl"),Ke=n("GNNB"),Xe=["form"],et=["password"],tt=["passwordElement"],nt=["overridesForm"];function rt(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",47),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().onOverlayPrevious()})),o["\u0275\u0275text"](2," Cancel "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mg-overlay-nav-item",48),o["\u0275\u0275text"](4," Save "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function it(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",49),o["\u0275\u0275elementStart"](1,"div",50),o["\u0275\u0275element"](2,"mg-spinner",51),o["\u0275\u0275elementStart"](3,"p"),o["\u0275\u0275text"](4),o["\u0275\u0275pipe"](5,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](5,1,"loading")," "))}function at(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span",53),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](2,1,"people.archiveFormSubtitle")))}function ot(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275element"](3,"br"),o["\u0275\u0275template"](4,at,3,3,"span",52),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](2,2,"people.editPersonTitle")),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",n.archived)}}function st(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](2,1,"people.createPersonTitle")))}function lt(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.firstName.error.maxlength")," "))}function ct(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.firstName.error.required")," "))}function ut(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.firstName.error.pattern")," "))}function dt(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.lastName.error.required")," "))}function mt(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.lastName.error.maxlength")," "))}function gt(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.lastName.error.pattern")," "))}function pt(e,t){1&e&&o["\u0275\u0275element"](0,"mg-spinner",54),2&e&&o["\u0275\u0275property"]("diameter",16)("thickness",3)}function ht(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mg-icon",55),o["\u0275\u0275text"](1,"warning-o"),o["\u0275\u0275elementEnd"]())}function ft(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.email.error.emailTaken")," "))}function vt(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.email.error.required")," "))}function yt(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",25),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275property"]("value",n),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",n," ")}}function Ct(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"mat-form-field",27),o["\u0275\u0275elementStart"](2,"mat-label"),o["\u0275\u0275text"](3,"ID Field 1"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"input",56),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().fields.idField1=e}))("ngModelChange",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().checkPristine()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",r.fields.idField1)}}function bt(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"mat-form-field",27),o["\u0275\u0275elementStart"](2,"mat-label"),o["\u0275\u0275text"](3,"ID Field 2"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"input",57),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().fields.idField2=e}))("ngModelChange",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().checkPristine()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",r.fields.idField2)}}function xt(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" Sorry, that's not a real phone number ",o["\u0275\u0275pipeBind1"](2,1,"input.phone.error.format")," "))}function Pt(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",25),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275property"]("value",n.hash),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Mt(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-form-field",27),o["\u0275\u0275elementStart"](1,"mat-label"),o["\u0275\u0275text"](2,"Schools"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mat-select",58),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().fields.parentGroups=e}))("ngModelChange",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().checkPristine()})),o["\u0275\u0275template"](4,Pt,2,2,"mat-option",26),o["\u0275\u0275pipe"](5,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("multiple",!0)("ngModel",r.fields.parentGroups),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind1"](5,3,r.parentGroups$))}}function Ot(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-pin",59,60),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().fields.pin=e}))("ngModelChange",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().checkPristine()})),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngModel",r.fields.pin)("disabled",!0)("unique",r.initialFields.pin||r.fields.pin)}}function kt(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-form-toggle",61),o["\u0275\u0275listener"]("valueChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().changeDisableDM(e)})),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("value",r.fields.disabledDM)}}function _t(e,t){if(1&e&&o["\u0275\u0275element"](0,"mg-person-permission-override-field",65),2&e){var n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("permission",n.MingaPermission.CONTENT_SMS_MESSAGE_CREATE)}}function St(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mg-person-permission-overrides-form",62,63),o["\u0275\u0275template"](2,_t,1,1,"mg-person-permission-override-field",64),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("permissionOverrides",n.permOverrides),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](3,2,n.smsExpansionEnabled$))}}function wt(e){return!["pin"].includes(e[0])}var It,Et,Ft=((Et=function(){function e(t,n,r,i,a,o,s,l,c,u,d,m,g,p){f(this,e),this.peopleManagerService=t,this.snackBar=n,this.router=r,this.dialog=i,this.route=a,this.errorReporting=o,this.streamManager=s,this.store=l,this.mingaStore=c,this.rolesService=u,this.gradesService=d,this.permissionOverrideAdmin=g,this._settingService=p,this._leaving=!1,this.MingaPermission=ye.MingaPermission,this.editing=!1,this.mingaNameT="",this.personHash="",this.fields=ge.b.defaultValue(),this.initialFields=ge.b.defaultValue(),this.validForm=!1,this.loading=!0,this.people=null,this.person=null,this.editingPassword=!1,this.disableBlurPasswordEvent=!1,this.unsavedPassword=!1,this.confirmPasswordDialogRef=null,this.currentTime=Date.now(),this.currentDate=new Date,this.archived=!1,this.customDisplayName=!1,this.hasPassword=!1,this.showSMS=!1,this.allowedSMS=!1,this.mingaHash="",this.personUniqueHash=new he.UniqueHash,this.showGradeField=!0,this.showStudentIdField=!0,this.gradesInitialized=!1,this.permOverrides=null,this.districtFeatureEnabled$=c.observeDistrictFeatureEnabled(),this.parentGroups$=m.getParentGroups(),this.isStudentIdEnabled$=this._settingService.isIdModuleEnabled(),this.smsExpansionEnabled$=this._settingService.isSMSModuleEnabled(),this.showCustomIdField1$=this._settingService.getSettingValueObs(ye.mingaSettingTypes.ID_SHOW_ID_FIELD_1),this.showCustomIdField2$=this._settingService.getSettingValueObs(ye.mingaSettingTypes.ID_SHOW_ID_FIELD_2),this.gradeOptions$=d.grades$}return y(e,[{key:"disableSavePassword",get:function(){return!this.form||!this.form.controls["personFormPassword-".concat(this.currentTime)]||!this.fields.password||this.form.controls["personFormPassword-".concat(this.currentTime)].invalid}},{key:"onAdminRoleReachedLimit",value:function(){this.fields.accountRoleType=this.initialFields.accountRoleType}},{key:"initGradeOptions",value:function(){return Object(D.a)(this,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gradesService.fetchIfNeeded();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getFormControlErrorKey",value:function(e){if(this.form&&this.form.controls[e]){var t=this.form.controls[e];return t.errors?Object.keys(t.errors)[0]:""}return""}},{key:"ngOnInit",value:function(){var e=this;this.form&&(this.form.form.addControl("parentEmail",new s.h([],Ce.a.allValuesAsEmailsValidator)),this.form.form.addControl("parentPhone",new s.h([],Ce.a.allValuesAsPhoneNumbersValidator)),this.form.form.addControl("enableParentNotification",new s.h(!0)),this.form.form.addControl("disabledDM",new s.h(!0))),this.route.params.subscribe((function(t){e.personHash=t.hash||"","hash"in t?(e.getPerson(t.hash),e.editing=!0,e.mingaHash="mingaHash"in t?t.mingaHash:""):"mingaHash"in t?(e.editing=!1,e.loading=!1,e.mingaHash=t.mingaHash):(e.editing=!1,e.loading=!1,e.mingaHash=""),e.editing&&e.initPermissionOverrides()})),this._settingService.getModuleEnabled(ve.IMingaFeatureToggleKeys.SMS_ENABLED).then((function(t){t?e.allowedSMS=!0:e.showSMS=!1}))}},{key:"onPhoneNumberStatusChange",value:function(e){var t=e&&e.status||"";"VALID"!==t||!this.fields.phoneNumber||this.showSMS||this.hasPassword?"VALID"===t&&this.fields.phoneNumber||(this.showSMS=!1):this.showSMS=!0,this.checkPristine()}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.permOverrides)||void 0===e||e.clear()}},{key:"onBeforeUnload",value:function(e){var t=this.preventNavigation();if(t)return e.returnValue=t,t}},{key:"onOverlayPrevious",value:function(){return Object(D.a)(this,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._closeOverlay();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"brithdateChanged",value:function(){}},{key:"preventNavigation",value:function(){return this.form.dirty&&!this._leaving&&this.hasChangedFields()?"You have unsaved changes. Are you sure you want to leave?":""}},{key:"addGroup",value:function(){this.fields.groups.push(""),this.snackMessage("Person created!")}},{key:"removeGroup",value:function(e){this.fields.groups.splice(e,1)}},{key:"snackTryAgain",value:function(e){var t=this;this.snackBar.open(e).onAction().subscribe((function(){t.submit()}))}},{key:"snackMessage",value:function(e){this.snackBar.open(e)}},{key:"onFormKeyPress",value:function(e){13!=e.keyCode||this.editing||(e.preventDefault(),this.submit())}},{key:"onPasswordKeyPress",value:function(e){this.disableBlurPasswordEvent=!1,13==e.keyCode&&this.editing&&(e.preventDefault(),this.savePassword(null))}},{key:"onPasswordBlur",value:function(e){!this.disableBlurPasswordEvent&&this.editingPassword&&this.passwordInput.valid&&this.passwordInput.value&&this.confirmPassword(null)}},{key:"confirmPassword",value:function(e){var t=this;e&&e.preventDefault(),this.confirmPasswordDialogRef||(this.confirmPasswordDialogRef=this.dialog.open(_.a,{data:{text:"dialog.passwordConfirm"}}),this.confirmPasswordDialogRef.afterClosed().subscribe((function(e){t.confirmPasswordDialogRef=null,!0===e?t.savePassword(null):t.passwordInputElementRef.inputElementRef.nativeElement.focus()}))),this.disableBlurPasswordEvent=!1}},{key:"editPassword",value:function(){this.editingPassword=!0,this.unsavedPassword=!0}},{key:"savePassword",value:function(e){var t=this;this.disableBlurPasswordEvent=!0,e&&e.preventDefault();var n=this.person.getIdentity().getHash();this.passwordInput.valueAccessor.savePassword(n).then((function(){t.editingPassword=!1,t.unsavedPassword=!1,t.disableBlurPasswordEvent=!1}))}},{key:"cancelPasswordEdit",value:function(e){this.disableBlurPasswordEvent=!0,e&&e.preventDefault(),this.unsavedPassword=!1,this.editingPassword=!1,this.passwordInput.valueAccessor.cancelEdit()}},{key:"getPerson",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){var n,r,i,a=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){return a.snackBar.open("Error occurred while loading person (id: ".concat(e,")"),"dismiss",{disableDuration:!0}),a._closeOverlay(),a.loading=!1,a.errorReporting.sendErrorReport("client PersonForm.component","getPerson() failed for hash: ".concat(e),fe.errorPriority.WARN),[]},t.prev=1,r=[e],t.next=5,this.peopleManagerService.readPeople(r);case 5:if(!(i=t.sent).length){t.next=8;break}return t.abrupt("return",(this.person=i[0],this.initEditPerson(i[0]),this.loading=!1,this.person));case 8:console.warn("[PersonForm]getPerson() no people found"),n(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n();case 14:case"end":return t.stop()}}),t,this,[[1,11]])})))}},{key:"initEditPerson",value:function(e){var t=this;if(this.person){var n=this.person.getIdentity(),r=this.person.getAccount();if(this.personUniqueHash=n.getHash(),this.fields.active=this.person.getActive(),this.fields.firstname=n.getFirstName(),this.fields.lastname=n.getLastName(),this.fields.email=n.getEmailAddress(),this.fields.pin=n.getPin(),this.fields.studentId=n.getStudentId(),this.fields.grade=r.getGrade(),this.fields.phoneNumber=n.getPhoneNumber(),this.fields.parentGroups=this.person.getParentGroupList(),this.hasPassword=!!n.getHasPassword(),!this.hasPassword&&this.fields.phoneNumber&&this.allowedSMS&&(this.showSMS=!0),this.fields.accountRoleType=this.person.getAccountRoleType(),this.archived=!!this.person.getArchived(),this.person.hasBirthdate()){var i=this.person.getBirthdate(),a=new Date(Date.UTC(i.getYear(),i.getMonth()-1,i.getDay(),(new Date).getTimezoneOffset()/60));this.fields.birthdate=a}else this.fields.birthdate=null;r&&(this.fields.displayName=r.getDisplayName(),this.customDisplayName=!!r.getCustomDisplayName(),this.fields.disabledDM=r.getDisabledDm(),this.fields.asbMember=r.getAsb(),this.fields.idField1=r.getIdField1()||"",this.fields.idField2=r.getIdField2()||"",this.fields.parentEmail=r.getParentEmailList()||[],this.fields.parentPhone=r.getParentPhoneList()||[],this.fields.enableParentNotification=!r.getDisableParentNotification()||!1,this.EMAIL_OPTIONS=[],this.fields.parentEmail.forEach((function(e){t.EMAIL_OPTIONS.push({value:e,label:e})})),this.PHONE_OPTIONS=[],this.fields.parentPhone.forEach((function(e){t.PHONE_OPTIONS.push({value:e,label:e})}))),this.initialFields=de.cloneDeep(this.fields),setTimeout((function(){return t.checkPristine()}))}else this.errorReporting.sendErrorReport("client PersonForm.component","initEditPerson() has no person",fe.errorPriority.WARN)}},{key:"checkPristine",value:function(){this.form&&(this.hasChangedFields()||this.form.control.markAsPristine())}},{key:"updateForm",value:function(){return Object(D.a)(this,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkPristine(),e.t0=this.gradesInitialized,e.t0){e.next=6;break}return e.next=5,this.initGradeOptions();case 5:this.gradesInitialized=!0;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"cancel",value:function(){this._leaving=!0,this._closeOverlay()}},{key:"_closeOverlay",value:function(){return this.router.navigate(this.mingaHash?["",{outlets:{o:["minga","update",this.mingaHash]}}]:["",{outlets:{o:null}}])}},{key:"onOverlayClose",value:function(){return Object(D.a)(this,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))}},{key:"_submitNew",value:function(){var e=this;this.peopleManagerService.createPeople(this.fields).then((function(t){return Object(D.a)(e,void 0,void 0,h().mark((function e(){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getStatus()!=he.StatusCode.OK){e.next=7;break}return this.snackMessage("Person added successfully!"),this._leaving=!0,e.next=5,this._closeOverlay();case 5:e.next=10;break;case 7:n=t.toObject(),r=t.getReasonList()[0].getMessage(),console.warn("[PersonForm]submit() non OK response",n),this.snackTryAgain(r);case 10:return this.loading=!1,e.next=13,this.streamManager.restartStreamIfAvailable("AdminPeopleFeed");case 13:this.store.dispatch(new pe.a.PeopleUpdated);case 14:case"end":return e.stop()}}),e,this)})))})).catch((function(t){console.error("Create Person Error:",t),e.loading=!1,e.snackTryAgain("ERROR (".concat(t.code,")"))}))}},{key:"getControlNameFromFieldName",value:function(e){return"password"!=e?e:"personFormPassword-"+this.currentTime}},{key:"_getUpdateFormFields",value:function(){var e,t={},n=d(ge.b.entries(this.fields).filter(wt));try{for(n.s();!(e=n.n()).done;){var r=m(e.value,2),i=r[0],a=r[1];if("parentGroups"===i){var o=de.differenceWith(a,this.initialFields.parentGroups,de.isEqual),s=de.differenceWith(this.initialFields.parentGroups,a,de.isEqual);t.newParentGroups=o,t.removeParentGroups=s}else if("parentEmail"!==i||de.isEqual(this.initialFields.parentEmail,a))if("parentPhone"!==i||de.isEqual(this.initialFields.parentPhone,a)){if("disabledDM"===i)t.disabledDM=a;else if("enableParentNotification"===i)t.enableParentNotification=a;else if(!de.isEqual(this.initialFields[i],a)){var l=this.getControlNameFromFieldName(i),c=this.form.controls[l];c&&!c.pristine&&(t[i]=a||"")}}else t.parentPhone=a;else t.parentEmail=a}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"hasChangedFields",value:function(){var e,t=d(ge.b.entries(this.fields).filter(wt));try{for(t.s();!(e=t.n()).done;){var n=m(e.value,2),r=n[0],i=n[1];if(!de.isEqual(this.initialFields[r],i)){var a=this.getControlNameFromFieldName(r),o=this.form.controls[a];if(o&&!o.pristine)return!0}}}catch(s){t.e(s)}finally{t.f()}return!1}},{key:"_submitUpdate",value:function(){return Object(D.a)(this,void 0,void 0,h().mark((function e(){var t,n,r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getUpdateFormFields(),n=Object.keys(t).length>0,e.next=3,this.peopleManagerService.updatePerson(t,this.personUniqueHash).then((function(e){if(e.getStatus()==he.StatusCode.OK){var t;t=n?"Person updated!":"No new changes to apply.",r.snackMessage(t),r._leaving=!0,r._closeOverlay()}else{var i=e.toObject();console.warn("[PersonForm]submit() update had non OK response",i),r.snackTryAgain("Unable to update person")}r.loading=!1,r.streamManager.restartStreamIfAvailable("AdminPeopleFeed"),r.store.dispatch(new pe.a.PeopleUpdated)})).catch((function(e){console.error("Update Person Error:",e),r.loading=!1,r.snackTryAgain("ERROR (".concat(e.code,")"))}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"submit",value:function(e){if(e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),!this.form.valid)return this.form.control.markAllAsTouched(),void this.snackMessage("Form invalid. Cannot save person");this.loading=!0,this.mingaHash&&(this.fields.mingaHash=this.mingaHash),this.editing?this._submitUpdate():this._submitNew()}},{key:"getStatusDone",value:function(e){var t=this.form.controls[e];return t&&(this.editing&&t.valid||t.dirty&&t.valid)}},{key:"getStatusInvalid",value:function(e){var t=this.form.controls[e];return t&&t.dirty&&t.invalid}},{key:"getStatusPending",value:function(e){var t=this.form.controls[e];return t&&t.pending}},{key:"deletePerson",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){var n=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),this.loading=!0,this.dialog.open(me.d,{data:{matchString:this.initialFields.firstname+" "+this.initialFields.lastname,placeholderLocaleValue:"Person's Name",titleLocaleValue:"Person"}}).afterClosed().subscribe((function(e){return Object(D.a)(n,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!0===e,!t.t0){t.next=16;break}return t.next=4,this.peopleManagerService.deletePerson(this.personHash);case 4:if(t.t1=t.sent.getStatus(),t.t2=he.StatusCode.OK,t.t1!=t.t2){t.next=15;break}return t.next=9,this.streamManager.restartStreamIfAvailable("AdminPeopleFeed");case 9:return this.store.dispatch(new pe.a.PeopleUpdated),this.snackBar.open("person was deleted successfully"),t.next=13,this._closeOverlay();case 13:t.next=16;break;case 15:this.snackBar.open("Failed to delete person");case 16:this.loading=!1;case 17:case"end":return t.stop()}}),t,this)})))}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"archivePerson",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){var n=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),this.loading=!0,this.dialog.open(_.a,{data:{text:"dialog.archivePerson",saveButtonLocale:"button.archive",textParams:this.initialFields.firstname+" "+this.initialFields.lastname}}).afterClosed().subscribe((function(e){return Object(D.a)(n,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!0===e,!t.t0){t.next=16;break}return t.next=4,this.peopleManagerService.archivePerson(this.personHash);case 4:if(t.t1=t.sent.getStatus(),t.t2=he.StatusCode.OK,t.t1!=t.t2){t.next=15;break}return t.next=9,this.streamManager.restartStreamIfAvailable("AdminPeopleFeed");case 9:return this.store.dispatch(new pe.a.PeopleUpdated),this.snackBar.open("person archived successfully"),t.next=13,this._closeOverlay();case 13:t.next=16;break;case 15:this.snackBar.open("oops, an error occurred, please try again.");case 16:this.loading=!1;case 17:case"end":return t.stop()}}),t,this)})))}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"initPermissionOverrides",value:function(){this.permOverrides=this.permissionOverrideAdmin.personPermissionOverrides(this.personHash)}},{key:"addNew",value:function(e){return{label:e,value:e}}},{key:"changeParentEmailType",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.fields.parentEmail=e,this.form.form.get("parentEmail").setValue(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"changeParentPhoneType",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.fields.parentPhone=e,this.form.form.get("parentPhone").setValue(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"changeDisableDM",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.fields.disabledDM=e,this.form.form.get("disabledDM").setValue(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"changeEnableParentNofitication",value:function(e){return Object(D.a)(this,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.fields.enableParentNotification=e,this.form.form.get("enableParentNotification").setValue(e);case 1:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Et)(o["\u0275\u0275directiveInject"](ge.a),o["\u0275\u0275directiveInject"](be.b),o["\u0275\u0275directiveInject"](xe.g),o["\u0275\u0275directiveInject"](Pe.b),o["\u0275\u0275directiveInject"](xe.a),o["\u0275\u0275directiveInject"](Me.a),o["\u0275\u0275directiveInject"](Oe.a),o["\u0275\u0275directiveInject"](ke.i),o["\u0275\u0275directiveInject"](_e.a),o["\u0275\u0275directiveInject"](ie.a),o["\u0275\u0275directiveInject"](Se.b),o["\u0275\u0275directiveInject"](we.b),o["\u0275\u0275directiveInject"](Re),o["\u0275\u0275directiveInject"](je.a))},Et.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Et,selectors:[["mg-person-form"]],viewQuery:function(e,t){var n;1&e&&(o["\u0275\u0275viewQuery"](Xe,3,s.v),o["\u0275\u0275viewQuery"](et,3),o["\u0275\u0275viewQuery"](tt,3),o["\u0275\u0275viewQuery"](nt,1,Z)),2&e&&(o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.form=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.passwordInput=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.passwordInputElementRef=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.overridesForm=n.first))},hostBindings:function(e,t){1&e&&o["\u0275\u0275listener"]("beforeunload",(function(e){return t.onBeforeUnload(e)}),!1,o["\u0275\u0275resolveWindow"])},decls:90,vars:101,consts:[[4,"mgOverlayStructure","mgOverlayStructureRegion"],["class","loader",4,"ngIf"],["id","personForm",3,"autocomplete","submit","keypress"],["form","ngForm"],["type","text",1,"input-hidden",3,"autocomplete","name"],["type","hidden","autocomplete","off"],[1,"form-block","mg-minicopy"],[1,"title-text","mg-headline",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"input-wrapper"],[1,"flex","flex-col"],["mgFormField","","hideRequiredMarker",""],["type","text","name","firstname","autocomplete","off","matInput","","maxlength","50","mgFirstNameValidator","",3,"ngModel","required","ngModelChange"],["firstname","ngModel"],[4,"ngIf"],["type","text","name","lastname","autocomplete","off","matInput","","mgLastNameValidator","","maxlength","50",3,"ngModel","required","ngModelChange"],["lastname","ngModel"],["matSuffix","",3,"diameter","thickness",4,"ngIf"],["matSuffix","",4,"ngIf"],["type","email","matInput","","name","email","autocomplete","off","mgEmailValidator","",3,"mgUniqueEmail","required","ngModel","ngModelChange"],["emailInput","ngModel"],[1,"flex","flex-row"],["mgFormField","",1,"grade"],["name","grade",3,"ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["mgFormField",""],["matInput","","type","text","name","studentId","maxlength","20",3,"ngModel","ngModelChange"],["matInput","","type","text","name","phoneNumber","maxlength","13","mgPhoneNumberValidator","",3,"ngModel","ngModelChange"],["phoneNumberModel","ngModel"],["mgFormField","",4,"ngIf"],["name","accountRoleType","mgApperance","outline",1,"role",3,"required","ngModel","ngModelChange","displayNameFormat"],[3,"updatingRole","ignoreRole","checkedRole","reachedLimit"],["datePlaceholder","Birthday","name","birthdate",3,"utc","canReset","ngModel","maxDate","dateOnly","ngModelChange"],["minlength","4","maxlength","55","name","displayName",3,"showOnlyWithRole","hasRole","firstName","lastName","statusPending","statusTouched","inputControlError","ngModel","custom","displayNameFormat","required","ngModelChange","customChange"],["floatLabel","never",3,"required","ngModel","editMode","name","editClick","initialUnset","ngModelChange","keypress"],["password","ngModel","passwordElement",""],["required","true","name","pin",3,"ngModel","disabled","unique","ngModelChange",4,"ngIf"],["appendTo","body",3,"placeholder","value","closeOnSelect","multiple","addTag","addTagText","searchable","hideSelected","options","selectionChanged"],[1,"checkbox-container"],["label","Send behavior notification to parent",3,"value","valueChange"],["label","Disable direct messaging",3,"value","valueChange",4,"ngIf"],[1,"divide"],[1,"realtime-update-area"],[3,"permissionOverrides",4,"ngIf"],[1,"info-help-box","small-user-content-page"],["icon","close",1,"mg-align-left",3,"click"],["icon","save-o","formId","personForm","buttonType","submit",1,"mg-align-right"],[1,"loader"],[1,"loader-content"],["color","primary","mode","indeterminate"],["class","title-subtitle mg-minicopy",4,"ngIf"],[1,"title-subtitle","mg-minicopy"],["matSuffix","",3,"diameter","thickness"],["matSuffix",""],["matInput","","type","text","name","idField1","maxlength","20",3,"ngModel","ngModelChange"],["matInput","","type","text","name","idField2","maxlength","20",3,"ngModel","ngModelChange"],["name","parentGroups",3,"multiple","ngModel","ngModelChange"],["required","true","name","pin",3,"ngModel","disabled","unique","ngModelChange"],["pinInput","ngModel"],["label","Disable direct messaging",3,"value","valueChange"],[3,"permissionOverrides"],["overridesForm",""],["label","Can Send SMS Messages",3,"permission",4,"ngIf"],["label","Can Send SMS Messages",3,"permission"]],template:function(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275template"](0,rt,5,0,"div",0),o["\u0275\u0275template"](1,it,6,3,"div",1),o["\u0275\u0275elementStart"](2,"form",2,3),o["\u0275\u0275listener"]("submit",(function(e){return t.submit(e)}))("keypress",(function(e){return t.onFormKeyPress(e)})),o["\u0275\u0275element"](4,"input",4),o["\u0275\u0275element"](5,"input",5),o["\u0275\u0275elementStart"](6,"div",6),o["\u0275\u0275elementStart"](7,"p",7),o["\u0275\u0275template"](8,ot,5,4,"span",8),o["\u0275\u0275template"](9,st,3,3,"span",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",10),o["\u0275\u0275elementStart"](11,"div",11),o["\u0275\u0275elementStart"](12,"mat-form-field",12),o["\u0275\u0275elementStart"](13,"mat-label"),o["\u0275\u0275text"](14,"First Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"input",13,14),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.firstname=e}))("ngModelChange",(function(){return t.checkPristine()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"mat-hint"),o["\u0275\u0275text"](18),o["\u0275\u0275pipe"](19,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](20,lt,3,3,"mat-error",15),o["\u0275\u0275template"](21,ct,3,3,"mat-error",15),o["\u0275\u0275template"](22,ut,3,3,"mat-error",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"mat-form-field",12),o["\u0275\u0275elementStart"](24,"mat-label"),o["\u0275\u0275text"](25,"Last Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](26,"input",16,17),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.lastname=e}))("ngModelChange",(function(){return t.checkPristine()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"mat-hint"),o["\u0275\u0275text"](29),o["\u0275\u0275pipe"](30,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](31,dt,3,3,"mat-error",15),o["\u0275\u0275template"](32,mt,3,3,"mat-error",15),o["\u0275\u0275template"](33,gt,3,3,"mat-error",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](34,"mat-form-field",12),o["\u0275\u0275elementStart"](35,"mat-label"),o["\u0275\u0275text"](36,"Email Address"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](37,pt,1,2,"mg-spinner",18),o["\u0275\u0275template"](38,ht,2,0,"mg-icon",19),o["\u0275\u0275elementStart"](39,"input",20,21),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.email=e}))("ngModelChange",(function(){return t.checkPristine()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](41,"mat-hint"),o["\u0275\u0275text"](42),o["\u0275\u0275pipe"](43,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](44,ft,3,3,"mat-error",15),o["\u0275\u0275template"](45,vt,3,3,"mat-error",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](46,"div",22),o["\u0275\u0275elementStart"](47,"mat-form-field",23),o["\u0275\u0275elementStart"](48,"mat-label"),o["\u0275\u0275text"](49,"Grade"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](50,"mat-select",24),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.grade=e}))("ngModelChange",(function(){return t.checkPristine()})),o["\u0275\u0275elementStart"](51,"mat-option",25),o["\u0275\u0275text"](52,"None"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](53,yt,2,2,"mat-option",26),o["\u0275\u0275pipe"](54,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](55,"mat-form-field",27),o["\u0275\u0275elementStart"](56,"mat-label"),o["\u0275\u0275text"](57,"ID Number"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](58,"input",28),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.studentId=e}))("ngModelChange",(function(){return t.checkPristine()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](59,Ct,5,1,"div",15),o["\u0275\u0275pipe"](60,"async"),o["\u0275\u0275template"](61,bt,5,1,"div",15),o["\u0275\u0275pipe"](62,"async"),o["\u0275\u0275elementStart"](63,"mat-form-field",27),o["\u0275\u0275elementStart"](64,"mat-label"),o["\u0275\u0275text"](65,"Phone Number"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](66,"input",29,30),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.phoneNumber=e}))("ngModelChange",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275reference"](67);return t.onPhoneNumberStatusChange(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](68,xt,3,3,"mat-error",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](69,Mt,6,5,"mat-form-field",31),o["\u0275\u0275pipe"](70,"async"),o["\u0275\u0275elementStart"](71,"div",22),o["\u0275\u0275elementStart"](72,"mg-role-select",32),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.accountRoleType=e}))("ngModelChange",(function(){return t.updateForm()}))("displayNameFormat",(function(e){return t.displayNameFormat=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](73,"mg-admin-role-limit-checker",33),o["\u0275\u0275listener"]("reachedLimit",(function(){return t.onAdminRoleReachedLimit()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](74,"mg-date-time-picker",34),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.birthdate=e}))("ngModelChange",(function(){return t.checkPristine()}))("ngModelChange",(function(){return t.brithdateChanged()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](75,"mg-display-name",35),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.displayName=e}))("ngModelChange",(function(){return t.checkPristine()}))("customChange",(function(e){return t.customDisplayName=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](76,"mg-password",36,37),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.password=e}))("ngModelChange",(function(){return t.checkPristine()}))("keypress",(function(e){return t.onPasswordKeyPress(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](79,Ot,2,3,"mg-pin",38),o["\u0275\u0275elementStart"](80,"mg-form-select",39),o["\u0275\u0275listener"]("selectionChanged",(function(e){return t.changeParentEmailType(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](81,"mg-form-select",39),o["\u0275\u0275listener"]("selectionChanged",(function(e){return t.changeParentPhoneType(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](82,"div",40),o["\u0275\u0275elementStart"](83,"mg-form-toggle",41),o["\u0275\u0275listener"]("valueChange",(function(e){return t.changeEnableParentNofitication(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](84,kt,1,1,"mg-form-toggle",42),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](85,"div",43),o["\u0275\u0275elementStart"](86,"div",44),o["\u0275\u0275template"](87,St,4,4,"mg-person-permission-overrides-form",45),o["\u0275\u0275elementStart"](88,"p",46),o["\u0275\u0275text"](89," SMS message status updates immediately. Clicking save is not necessary. "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275reference"](3),i=o["\u0275\u0275reference"](16),a=o["\u0275\u0275reference"](27),s=o["\u0275\u0275reference"](40),l=o["\u0275\u0275reference"](67);o["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","top"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.loading),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("autocomplete","person-form-off-"+t.currentTime),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("autocomplete","hidden-input-off-"+t.currentTime)("name","personFormhidden-"+t.currentTime),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngSwitch",t.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase",!0),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.fields.firstname)("required",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](19,87,"input.firstName.hint")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null==i||null==i.errors?null:i.errors.maxlength),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==i||null==i.errors?null:i.errors.required),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==i||null==i.errors?null:i.errors.invalidFirstName),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngModel",t.fields.lastname)("required",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](30,89,"input.lastName.hint")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null==a||null==a.errors?null:a.errors.required),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==a||null==a.errors?null:a.errors.maxlength),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==a||null==a.errors?null:a.errors.invalidLastName),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",s.pending),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==s||null==s.errors?null:s.errors.emailTaken),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("mgUniqueEmail",t.initialFields.email||!0)("required",!0)("ngModel",t.fields.email),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](43,91,"input.email.hint")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null==s||null==s.errors?null:s.errors.emailTaken),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==s||null==s.errors?null:s.errors.required),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.fields.grade),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind1"](54,93,t.gradeOptions$)),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.fields.studentId),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](60,95,t.showCustomIdField1$)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](62,97,t.showCustomIdField2$)),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.fields.phoneNumber),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",null==l||null==l.errors?null:l.errors.invalidPhoneNumber),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](70,99,t.districtFeatureEnabled$)),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("required",!0)("ngModel",t.fields.accountRoleType),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("updatingRole",t.editing)("ignoreRole",t.initialFields.accountRoleType)("checkedRole",t.fields.accountRoleType),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("utc",!0)("canReset",!0)("ngModel",t.fields.birthdate)("maxDate",t.currentDate)("dateOnly",!0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("showOnlyWithRole",!0)("hasRole",!!t.fields.accountRoleType)("firstName",t.fields.firstname)("lastName",t.fields.lastname)("statusPending",null==r.controls||null==r.controls.displayName?null:r.controls.displayName.pending)("statusTouched",null==r.controls||null==r.controls.displayName?null:r.controls.displayName.touched)("inputControlError",t.getFormControlErrorKey("displayName"))("ngModel",t.fields.displayName)("custom",t.customDisplayName)("displayNameFormat",t.displayNameFormat)("required",t.customDisplayName),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("required",t.hasPassword)("ngModel",t.fields.password)("editMode",t.editing)("name","personFormPassword-"+t.currentTime)("editClick",t.editPassword.bind(t))("initialUnset",!t.hasPassword),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",t.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("placeholder","Parent Email Addresses (optional)")("value",t.fields.parentEmail)("closeOnSelect",!0)("multiple",!0)("addTag",t.addNew)("addTagText","Add email")("searchable",!0)("hideSelected",!1)("options",t.EMAIL_OPTIONS),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("placeholder","Parent Phone Numbers (optional)")("value",t.fields.parentPhone)("closeOnSelect",!0)("multiple",!0)("addTag",t.addNew)("addTagText","Add phone")("searchable",!0)("hideSelected",!1)("options",t.PHONE_OPTIONS),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("value",t.fields.enableParentNotification),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.editing),o["\u0275\u0275advance"](2),o["\u0275\u0275styleProp"]("display",null!=t.overridesForm&&null!=t.overridesForm.options&&t.overridesForm.options.length?"":"none"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.personHash&&t.permOverrides)}},directives:[De.a,a.o,s.E,s.u,s.v,a.q,a.r,a.s,c.d,Ne.a,c.h,u.b,s.d,s.n,Le.a,s.t,s.w,s.B,c.g,Be.a,Ae.a,ze.a,g.a,He.m,a.n,Ve.a,We.a,oe,Ge.a,qe.a,s.o,Ue.b,Ye.a,$e.a,Qe.a,Ze.a,c.c,c.j,Je.a,Ke.a,Z,B],pipes:[v.d,a.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");form[_ngcontent-%COMP%]{color:#737373}.flex[_ngcontent-%COMP%]{display:inline-flex;width:100%}.flex-row[_ngcontent-%COMP%]{flex-direction:row}@media (max-width:599px){.flex-row[_ngcontent-%COMP%]{flex-direction:column}}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.loader[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;right:0;left:0;bottom:0;background-color:hsla(0,0%,100%,.8)}.loader[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:50%;transform:translateX(50%) translateY(-50%);text-align:center;color:#737373}.form-block[_ngcontent-%COMP%]{color:#737373;border-bottom:1px solid #ccc;padding:24px 16px}@media (min-width:600px){.form-block[_ngcontent-%COMP%]{padding:32px}}.form-block[_ngcontent-%COMP%]:last-child, .form-block[_ngcontent-%COMP%]:nth-last-child(2){border:none}.grade[_ngcontent-%COMP%], .role[_ngcontent-%COMP%]{margin-right:15px}.input-wrapper[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;width:100%}.add-group-block-title[_ngcontent-%COMP%]{position:relative}.add-group-block-title[_ngcontent-%COMP%]   .add-group-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:0}.asb-toggle[_ngcontent-%COMP%]{width:35%;min-width:220px;margin-bottom:calc(var(--hint-height, 14px) + 16px);margin-right:15px}.group-name-wrapper[_ngcontent-%COMP%]{position:relative}.group-name-wrapper[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-65%)}.title-text[_ngcontent-%COMP%]{margin-top:0}.title-text[_ngcontent-%COMP%]   .float-actions[_ngcontent-%COMP%]{float:right}.title-text[_ngcontent-%COMP%]   .float-actions.buttons[_ngcontent-%COMP%]{float:left;margin-top:8px;margin-bottom:8px}.title-text[_ngcontent-%COMP%]   .float-actions.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:0}.title-text[_ngcontent-%COMP%]   .float-actions.buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-right:0}.title-text[_ngcontent-%COMP%]   .view-id-button-container[_ngcontent-%COMP%]{flex-basis:10%}.title-text[_ngcontent-%COMP%]   .view-id-button-container[_ngcontent-%COMP%]   .view-id-button[_ngcontent-%COMP%]{background-image:url(/assets/settings/settings_ids.svg);background-repeat:no-repeat;background-size:contain;height:65px;width:55px;cursor:pointer;margin:auto}.title-text[_ngcontent-%COMP%]   .archive-button[_ngcontent-%COMP%]{height:42px;width:100px;border-color:2px solid #036;background-color:initial;color:#036}@media (min-width:599px){.title-text[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.title-text[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(.float-actions){flex-basis:40%}}.title-subtitle[_ngcontent-%COMP%]{font-weight:400;color:#737373}.input-hidden[_ngcontent-%COMP%]{display:none}.resend-email-btn[_ngcontent-%COMP%]{margin-left:14px}.form-button[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.form-button[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.form-button[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.form-button[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.form-button[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.form-button[_ngcontent-%COMP%]{font-size:13px}}.checkbox-container[_ngcontent-%COMP%]:last-of-type{margin-bottom:20px}.checkbox-item[_ngcontent-%COMP%]{width:50%}.checkbox-hint[_ngcontent-%COMP%]{margin-bottom:3em;width:90%}a[_ngcontent-%COMP%]{color:#93f;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}a.cancel-link[_ngcontent-%COMP%]{padding-right:1.5em}.realtime-update-area[_ngcontent-%COMP%]{padding:32px}.info-help-box[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;width:96%;padding:15px;border-radius:6px;background-color:#f5f5f5;margin:12px 0;color:#036;font-style:italic}.divide[_ngcontent-%COMP%]{border-top:1px solid #ccc;margin:0 32px}.birthdate[_ngcontent-%COMP%], .roll[_ngcontent-%COMP%]{display:flex}mg-form-select[_ngcontent-%COMP%]{margin-bottom:1.1764705882rem}']}),Et),Tt=((It=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||It)},It.\u0275mod=o["\u0275\u0275defineNgModule"]({type:It}),It.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[C.a,T.b,k.a,ce.a,x.a,S.a,M.a,P.a,O.a,j.a,b.a,w.a,E.a,I.a,_.b,R.b,F.a,le,p.b,K,ue.a,a.c,s.m,v.c,l.b,c.f,u.c,g.b]]}),It)},JjHu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramStreamManagerClient=t.ProgramStreamManager=void 0;var r=n("mXHK"),i=n("PYFZ"),a=y((function e(){f(this,e)}));t.ProgramStreamManager=a,a.serviceName="minga.content.ProgramStreamManager",a.StreamPrograms={methodName:"StreamPrograms",service:a,requestStream:!1,responseStream:!0,requestType:i.StreamID,responseType:r.StreamProgramInfo},a.StreamProgramsControl={methodName:"StreamProgramsControl",service:a,requestStream:!1,responseStream:!1,requestType:i.StreamControl,responseType:i.StreamControlResponse},a.StreamProgramContent={methodName:"StreamProgramContent",service:a,requestStream:!1,responseStream:!0,requestType:i.StreamID,responseType:r.StreamProgramContentInfo},a.StreamProgramContentControl={methodName:"StreamProgramContentControl",service:a,requestStream:!1,responseStream:!1,requestType:i.StreamControl,responseType:i.StreamControlResponse},t.ProgramStreamManagerClient=function(){function e(){f(this,e)}return y(e,[{key:"streamPrograms",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"streamProgramsControl",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"streamProgramContent",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"streamProgramContentControl",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}()},LGJD:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n("GNNB");var r,i=n("SVse"),a=n("8Y7J"),o=n("s7LF"),s=n("Q2Ze"),l=n("e6WT"),c=n("Tj54"),u=n("TSSN"),d=n("HxU+"),m=n("7Tcv"),g=((r=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||r)},r.\u0275mod=a["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[d.a,m.a,i.c,o.m,o.A,s.f,l.c,c.b,u.c]]}),r)},NW4y:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("bEel");function i(e){var t=e.value;return t&&!new r.a(t,"US").isValid()?{invalidPhoneNumber:!0}:null}},Ssrr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramContextStreamManager=void 0,n("8Y7J");var r=n("qCKp"),i=n("+6wJ"),a=n("7jcR"),o=n("8Y7J"),s=function(){function e(t){f(this,e),this._ngZone=t}return y(e,[{key:"streamProgramContexts",value:function(e,t,n,o,s){var l,c,u,d,m,g=this;if("function"==typeof t?(u=t,d=n,m=o):"function"==typeof n?(c=t,u=n,d=o,m=s):c=t,u)d||(d=function(e){return console.error(e)}),m||(m=function(e,t,n){});else{var p=new r.Subject;l=p.asObservable(),u=function(e){p.next(e)},d=function(e){p.error(e)},m=function(e,t,n){p.complete()}}var h=i.grpc.invoke(a.ProgramContextStreamManager.StreamProgramContexts,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onMessage:function(e){return g._ngZone.run((function(){u(e)}))},onEnd:function(e,t,n){return g._ngZone.run((function(){if(e==i.grpc.Code.OK)m(e,t,n);else{var r=new Error(e+" "+(t||""));r.code=e,d(r)}}))}});return l.close=function(){return console.warn("[Angular Grpc] .close() is deprecated use .cancel() instead"),h.close()},l.cancel=function(){return h.close()},l}},{key:"streamProgramContextsControl",value:function(e,t,n){var r,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(r=new Promise((function(e,t){o=function(n,r){n?t(n):e(r)}})));var c=null,u=i.grpc.invoke(a.ProgramContextStreamManager.StreamProgramContextsControl,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return r.cancel=function(){return u.close()},r}},{key:"streamProgramContextContent",value:function(e,t,n,o,s){var l,c,u,d,m,g=this;if("function"==typeof t?(u=t,d=n,m=o):"function"==typeof n?(c=t,u=n,d=o,m=s):c=t,u)d||(d=function(e){return console.error(e)}),m||(m=function(e,t,n){});else{var p=new r.Subject;l=p.asObservable(),u=function(e){p.next(e)},d=function(e){p.error(e)},m=function(e,t,n){p.complete()}}var h=i.grpc.invoke(a.ProgramContextStreamManager.StreamProgramContextContent,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onMessage:function(e){return g._ngZone.run((function(){u(e)}))},onEnd:function(e,t,n){return g._ngZone.run((function(){if(e==i.grpc.Code.OK)m(e,t,n);else{var r=new Error(e+" "+(t||""));r.code=e,d(r)}}))}});return l.close=function(){return console.warn("[Angular Grpc] .close() is deprecated use .cancel() instead"),h.close()},l.cancel=function(){return h.close()},l}},{key:"streamProgramContextContentControl",value:function(e,t,n){var r,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(r=new Promise((function(e,t){o=function(n,r){n?t(n):e(r)}})));var c=null,u=i.grpc.invoke(a.ProgramContextStreamManager.StreamProgramContextContentControl,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return r.cancel=function(){return u.close()},r}}]),e}();t.ProgramContextStreamManager=s,s.\u0275fac=function(e){return new(e||s)(o.\u0275\u0275inject(o.NgZone))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},bCM0:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("8Y7J"),i=n("s7LF"),a=n("Q2Ze"),o=n("i1AJ"),s=n("e6WT"),l=n("Tj54"),c=["inputEl"],u={provide:i.r,useExisting:Object(r.forwardRef)((function(){return d})),multi:!0},d=function(){var e=function(){function e(){f(this,e),this.value="",this.placeholder="Search",this.mgNoHintMargin=!1,this.blur=new r.EventEmitter}return y(e,[{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"valueChange",value:function(e){this.onChange&&this.onChange(e),this.onTouched&&this.onTouched()}},{key:"writeValue",value:function(e){"string"==typeof e?this.value=e:null===e?this.value="":console.warn("mg-stream unsupported write value:",e)}},{key:"focus",value:function(){this.inputEl&&this.inputEl.nativeElement.focus()}},{key:"hasFocus",value:function(){return!!this.inputEl&&document.activeElement===this.inputEl.nativeElement}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-search"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275viewQuery"](c,3),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.inputEl=n.first))},inputs:{placeholder:"placeholder",mgNoHintMargin:"mgNoHintMargin"},outputs:{blur:"blur"},features:[r["\u0275\u0275ProvidersFeature"]([u])],decls:5,vars:5,consts:[["mgFormField","","floatPlaceholder","never",3,"mgNoHintMargin"],["matInput","","type","text","autocomplete","off",3,"placeholder","ngModel","ngModelChange","blur"],["inputEl",""],["matSuffix",""]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0),r["\u0275\u0275elementStart"](1,"input",1,2),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(e){return t.valueChange(e)}))("blur",(function(e){return t.blur.emit(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"mat-icon",3),r["\u0275\u0275text"](4,"search"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("mgNoHintMargin",t.mgNoHintMargin),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("placeholder",t.placeholder)("ngModel",t.value),r["\u0275\u0275advance"](2),r["\u0275\u0275classProp"]("active",!!t.value))},directives:[a.d,o.a,s.b,i.d,i.t,i.w,l.a,a.j],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e}()},cbZm:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n("bCM0");var r,i=n("SVse"),a=n("8Y7J"),o=n("s7LF"),s=n("Q2Ze"),l=n("Tj54"),c=n("e6WT"),u=n("HxU+"),d=((r=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||r)},r.\u0275mod=a["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[u.a,i.c,o.m,s.f,c.c,l.b]]}),r)},jbKS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetPermissionOverridesResponse=t.GetPermissionOverridesRequest=t.UnsetPermissionOverrideResponse=t.UnsetPermissionOverrideRequest=t.SetPermissionOverrideResponse=t.SetPermissionOverrideRequest=void 0;var o=i("hRO2"),s=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getPersonHash",value:function(){return o.Message.getFieldWithDefault(this,1,"")}},{key:"setPersonHash",value:function(e){o.Message.setProto3StringField(this,1,e)}},{key:"getPermission",value:function(){return o.Message.getFieldWithDefault(this,2,0)}},{key:"setPermission",value:function(e){o.Message.setProto3IntField(this,2,e)}},{key:"getPermissionOverride",value:function(){return o.Message.getBooleanFieldWithDefault(this,3,!1)}},{key:"setPermissionOverride",value:function(e){o.Message.setProto3BooleanField(this,3,e)}}],[{key:"toObject",value:function(e,t){var n={personHash:o.Message.getFieldWithDefault(t,1,""),permission:o.Message.getFieldWithDefault(t,2,0),permissionOverride:o.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setPersonHash(n);break;case 2:var r=t.readInt32();e.setPermission(r);break;case 3:var i=t.readBool();e.setPermissionOverride(i);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getPersonHash()).length>0&&t.writeString(1,n),0!==(n=e.getPermission())&&t.writeInt32(2,n),(n=e.getPermissionOverride())&&t.writeBool(3,n)}}]),i}(o.Message);t.SetPermissionOverrideRequest=s,s.displayName="SetPermissionOverrideRequest";var l=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}}],[{key:"toObject",value:function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){}}]),i}(o.Message);t.SetPermissionOverrideResponse=l,l.displayName="SetPermissionOverrideResponse";var c=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getPersonHash",value:function(){return o.Message.getFieldWithDefault(this,1,"")}},{key:"setPersonHash",value:function(e){o.Message.setProto3StringField(this,1,e)}},{key:"getPermission",value:function(){return o.Message.getFieldWithDefault(this,2,0)}},{key:"setPermission",value:function(e){o.Message.setProto3IntField(this,2,e)}}],[{key:"toObject",value:function(e,t){var n={personHash:o.Message.getFieldWithDefault(t,1,""),permission:o.Message.getFieldWithDefault(t,2,0)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setPersonHash(n);break;case 2:var r=t.readInt32();e.setPermission(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getPersonHash()).length>0&&t.writeString(1,n),0!==(n=e.getPermission())&&t.writeInt32(2,n)}}]),i}(o.Message);t.UnsetPermissionOverrideRequest=c,c.displayName="UnsetPermissionOverrideRequest";var u=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}}],[{key:"toObject",value:function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){}}]),i}(o.Message);t.UnsetPermissionOverrideResponse=u,u.displayName="UnsetPermissionOverrideResponse";var d=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getPersonHash",value:function(){return o.Message.getFieldWithDefault(this,1,"")}},{key:"setPersonHash",value:function(e){o.Message.setProto3StringField(this,1,e)}}],[{key:"toObject",value:function(e,t){var n={personHash:o.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setPersonHash(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getPersonHash()).length>0&&t.writeString(1,n)}}]),i}(o.Message);t.GetPermissionOverridesRequest=d,d.displayName="GetPermissionOverridesRequest";var m=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getOverridePermissionsMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.Message.getMapField(this,1,e,null)}},{key:"clearOverridePermissionsMap",value:function(){this.getOverridePermissionsMap().clear()}}],[{key:"toObject",value:function(e,t){var n,r={overridePermissionsMap:(n=t.getOverridePermissionsMap())?n.toObject(e,void 0):[]};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=e.getOverridePermissionsMap();t.readMessage(n,(function(e,t){o.Map.deserializeBinary(e,t,o.BinaryReader.prototype.readInt32,o.BinaryReader.prototype.readBool,null,0)}))}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getOverridePermissionsMap(!0))&&n.getLength()>0&&n.serializeBinary(1,t,o.BinaryWriter.prototype.writeInt32,o.BinaryWriter.prototype.writeBool)}}]),i}(o.Message);t.GetPermissionOverridesResponse=m,m.displayName="GetPermissionOverridesResponse"},lDpI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramStreamManager=void 0,n("8Y7J");var r=n("qCKp"),i=n("+6wJ"),a=n("JjHu"),o=n("8Y7J"),s=function(){function e(t){f(this,e),this._ngZone=t}return y(e,[{key:"streamPrograms",value:function(e,t,n,o,s){var l,c,u,d,m,g=this;if("function"==typeof t?(u=t,d=n,m=o):"function"==typeof n?(c=t,u=n,d=o,m=s):c=t,u)d||(d=function(e){return console.error(e)}),m||(m=function(e,t,n){});else{var p=new r.Subject;l=p.asObservable(),u=function(e){p.next(e)},d=function(e){p.error(e)},m=function(e,t,n){p.complete()}}var h=i.grpc.invoke(a.ProgramStreamManager.StreamPrograms,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onMessage:function(e){return g._ngZone.run((function(){u(e)}))},onEnd:function(e,t,n){return g._ngZone.run((function(){if(e==i.grpc.Code.OK)m(e,t,n);else{var r=new Error(e+" "+(t||""));r.code=e,d(r)}}))}});return l.close=function(){return console.warn("[Angular Grpc] .close() is deprecated use .cancel() instead"),h.close()},l.cancel=function(){return h.close()},l}},{key:"streamProgramsControl",value:function(e,t,n){var r,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(r=new Promise((function(e,t){o=function(n,r){n?t(n):e(r)}})));var c=null,u=i.grpc.invoke(a.ProgramStreamManager.StreamProgramsControl,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return r.cancel=function(){return u.close()},r}},{key:"streamProgramContent",value:function(e,t,n,o,s){var l,c,u,d,m,g=this;if("function"==typeof t?(u=t,d=n,m=o):"function"==typeof n?(c=t,u=n,d=o,m=s):c=t,u)d||(d=function(e){return console.error(e)}),m||(m=function(e,t,n){});else{var p=new r.Subject;l=p.asObservable(),u=function(e){p.next(e)},d=function(e){p.error(e)},m=function(e,t,n){p.complete()}}var h=i.grpc.invoke(a.ProgramStreamManager.StreamProgramContent,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onMessage:function(e){return g._ngZone.run((function(){u(e)}))},onEnd:function(e,t,n){return g._ngZone.run((function(){if(e==i.grpc.Code.OK)m(e,t,n);else{var r=new Error(e+" "+(t||""));r.code=e,d(r)}}))}});return l.close=function(){return console.warn("[Angular Grpc] .close() is deprecated use .cancel() instead"),h.close()},l.cancel=function(){return h.close()},l}},{key:"streamProgramContentControl",value:function(e,t,n){var r,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(r=new Promise((function(e,t){o=function(n,r){n?t(n):e(r)}})));var c=null,u=i.grpc.invoke(a.ProgramStreamManager.StreamProgramContentControl,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return r.cancel=function(){return u.close()},r}}]),e}();t.ProgramStreamManager=s,s.\u0275fac=function(e){return new(e||s)(o.\u0275\u0275inject(o.NgZone))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},mXHK:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamProgramContentInfo=t.StreamProgramInfo=void 0;var o=i("hRO2"),s=i("PYFZ"),l=i("5Jf8"),c=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getItemMetadata",value:function(){return o.Message.getWrapperField(this,s.StreamItemMetadata,1)}},{key:"setItemMetadata",value:function(e){o.Message.setWrapperField(this,1,e)}},{key:"clearItemMetadata",value:function(){this.setItemMetadata(void 0)}},{key:"hasItemMetadata",value:function(){return null!=o.Message.getField(this,1)}},{key:"getItem",value:function(){return o.Message.getWrapperField(this,i.StreamItem,2)}},{key:"setItem",value:function(e){o.Message.setWrapperField(this,2,e)}},{key:"clearItem",value:function(){this.setItem(void 0)}},{key:"hasItem",value:function(){return null!=o.Message.getField(this,2)}}],[{key:"toObject",value:function(e,t){var n,r={itemMetadata:(n=t.getItemMetadata())&&s.StreamItemMetadata.toObject(e,n),item:(n=t.getItem())&&i.StreamItem.toObject(e,n)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new s.StreamItemMetadata;t.readMessage(n,s.StreamItemMetadata.deserializeBinaryFromReader),e.setItemMetadata(n);break;case 2:var r=new i.StreamItem;t.readMessage(r,i.StreamItem.deserializeBinaryFromReader),e.setItem(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;null!=(n=e.getItemMetadata())&&t.writeMessage(1,n,s.StreamItemMetadata.serializeBinaryToWriter),null!=(n=e.getItem())&&t.writeMessage(2,n,i.StreamItem.serializeBinaryToWriter)}}]),i}(o.Message);t.StreamProgramInfo=c,c.displayName="StreamProgramInfo",function(e){var t=function(t){n(s,t);var i=r(s);function s(t){var n;return f(this,s),n=i.call(this),o.Message.initialize(a(n),t,0,-1,e.StreamItem.repeatedFields_,null),n}return y(s,[{key:"toObject",value:function(e){return s.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new o.BinaryWriter;return e.StreamItem.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getTitle",value:function(){return o.Message.getFieldWithDefault(this,1,"")}},{key:"setTitle",value:function(e){o.Message.setProto3StringField(this,1,e)}},{key:"getDescription",value:function(){return o.Message.getFieldWithDefault(this,2,"")}},{key:"setDescription",value:function(e){o.Message.setProto3StringField(this,2,e)}},{key:"getLogo",value:function(){return o.Message.getWrapperField(this,l.ImageInfo,3)}},{key:"setLogo",value:function(e){o.Message.setWrapperField(this,3,e)}},{key:"clearLogo",value:function(){this.setLogo(void 0)}},{key:"hasLogo",value:function(){return null!=o.Message.getField(this,3)}},{key:"getBanner",value:function(){return o.Message.getWrapperField(this,l.ImageInfo,4)}},{key:"setBanner",value:function(e){o.Message.setWrapperField(this,4,e)}},{key:"clearBanner",value:function(){this.setBanner(void 0)}},{key:"hasBanner",value:function(){return null!=o.Message.getField(this,4)}},{key:"getMingaCount",value:function(){return o.Message.getFieldWithDefault(this,5,0)}},{key:"setMingaCount",value:function(e){o.Message.setProto3IntField(this,5,e)}},{key:"getActive",value:function(){return o.Message.getBooleanFieldWithDefault(this,6,!1)}},{key:"setActive",value:function(e){o.Message.setProto3BooleanField(this,6,e)}},{key:"getContentHash",value:function(){return o.Message.getFieldWithDefault(this,7,"")}},{key:"setContentHash",value:function(e){o.Message.setProto3StringField(this,7,e)}},{key:"getPermittedRoleTypeList",value:function(){return o.Message.getRepeatedField(this,8)}},{key:"setPermittedRoleTypeList",value:function(e){o.Message.setField(this,8,e||[])}},{key:"addPermittedRoleType",value:function(e,t){o.Message.addToRepeatedField(this,8,e,t)}},{key:"clearPermittedRoleTypeList",value:function(){this.setPermittedRoleTypeList([])}}],[{key:"toObject",value:function(e,t){var n,r={title:o.Message.getFieldWithDefault(t,1,""),description:o.Message.getFieldWithDefault(t,2,""),logo:(n=t.getLogo())&&l.ImageInfo.toObject(e,n),banner:(n=t.getBanner())&&l.ImageInfo.toObject(e,n),mingaCount:o.Message.getFieldWithDefault(t,5,0),active:o.Message.getBooleanFieldWithDefault(t,6,!1),contentHash:o.Message.getFieldWithDefault(t,7,""),permittedRoleTypeList:null==(n=o.Message.getRepeatedField(t,8))?void 0:n};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setTitle(n);break;case 2:var r=t.readString();e.setDescription(r);break;case 3:var i=new l.ImageInfo;t.readMessage(i,l.ImageInfo.deserializeBinaryFromReader),e.setLogo(i);break;case 4:var a=new l.ImageInfo;t.readMessage(a,l.ImageInfo.deserializeBinaryFromReader),e.setBanner(a);break;case 5:var o=t.readInt32();e.setMingaCount(o);break;case 6:var s=t.readBool();e.setActive(s);break;case 7:var c=t.readString();e.setContentHash(c);break;case 8:var u=t.readString();e.addPermittedRoleType(u);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getTitle()).length>0&&t.writeString(1,n),(n=e.getDescription()).length>0&&t.writeString(2,n),null!=(n=e.getLogo())&&t.writeMessage(3,n,l.ImageInfo.serializeBinaryToWriter),null!=(n=e.getBanner())&&t.writeMessage(4,n,l.ImageInfo.serializeBinaryToWriter),0!==(n=e.getMingaCount())&&t.writeInt32(5,n),(n=e.getActive())&&t.writeBool(6,n),(n=e.getContentHash()).length>0&&t.writeString(7,n),(n=e.getPermittedRoleTypeList()).length>0&&t.writeRepeatedString(8,n)}}]),s}(o.Message);t.displayName="StreamProgramInfo.StreamItem",t.repeatedFields_=[8],e.StreamItem=t}(c=t.StreamProgramInfo||(t.StreamProgramInfo={}));var u=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getItemMetadata",value:function(){return o.Message.getWrapperField(this,s.StreamItemMetadata,1)}},{key:"setItemMetadata",value:function(e){o.Message.setWrapperField(this,1,e)}},{key:"clearItemMetadata",value:function(){this.setItemMetadata(void 0)}},{key:"hasItemMetadata",value:function(){return null!=o.Message.getField(this,1)}},{key:"getItem",value:function(){return o.Message.getWrapperField(this,i.StreamItem,2)}},{key:"setItem",value:function(e){o.Message.setWrapperField(this,2,e)}},{key:"clearItem",value:function(){this.setItem(void 0)}},{key:"hasItem",value:function(){return null!=o.Message.getField(this,2)}}],[{key:"toObject",value:function(e,t){var n,r={itemMetadata:(n=t.getItemMetadata())&&s.StreamItemMetadata.toObject(e,n),item:(n=t.getItem())&&i.StreamItem.toObject(e,n)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new s.StreamItemMetadata;t.readMessage(n,s.StreamItemMetadata.deserializeBinaryFromReader),e.setItemMetadata(n);break;case 2:var r=new i.StreamItem;t.readMessage(r,i.StreamItem.deserializeBinaryFromReader),e.setItem(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;null!=(n=e.getItemMetadata())&&t.writeMessage(1,n,s.StreamItemMetadata.serializeBinaryToWriter),null!=(n=e.getItem())&&t.writeMessage(2,n,i.StreamItem.serializeBinaryToWriter)}}]),i}(o.Message);t.StreamProgramContentInfo=u,u.displayName="StreamProgramContentInfo",function(e){var t=function(t){n(s,t);var i=r(s);function s(t){var n;return f(this,s),n=i.call(this),o.Message.initialize(a(n),t,0,-1,null,e.StreamItem.oneofGroups_),n}return y(s,[{key:"getOverlayImageCase",value:function(){return o.Message.computeOneofCase(this,e.StreamItem.oneofGroups_[0])}},{key:"toObject",value:function(e){return s.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new o.BinaryWriter;return e.StreamItem.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getContentHash",value:function(){return o.Message.getFieldWithDefault(this,1,"")}},{key:"setContentHash",value:function(e){o.Message.setProto3StringField(this,1,e)}},{key:"getTitle",value:function(){return o.Message.getFieldWithDefault(this,2,"")}},{key:"setTitle",value:function(e){o.Message.setProto3StringField(this,2,e)}},{key:"getDescription",value:function(){return o.Message.getFieldWithDefault(this,3,"")}},{key:"setDescription",value:function(e){o.Message.setProto3StringField(this,3,e)}},{key:"getImageInfo",value:function(){return o.Message.getWrapperField(this,l.ImageInfo,4)}},{key:"setImageInfo",value:function(e){o.Message.setWrapperField(this,4,e)}},{key:"clearImageInfo",value:function(){this.setImageInfo(void 0)}},{key:"hasImageInfo",value:function(){return null!=o.Message.getField(this,4)}},{key:"getFullImage",value:function(){return o.Message.getBooleanFieldWithDefault(this,5,!1)}},{key:"setFullImage",value:function(e){o.Message.setProto3BooleanField(this,5,e)}},{key:"getLightContent",value:function(){return o.Message.getBooleanFieldWithDefault(this,6,!1)}},{key:"setLightContent",value:function(e){o.Message.setProto3BooleanField(this,6,e)}},{key:"getPositionOffset",value:function(){return o.Message.getFieldWithDefault(this,7,0)}},{key:"setPositionOffset",value:function(e){o.Message.setProto3IntField(this,7,e)}},{key:"getPositionRelative",value:function(){return o.Message.getBooleanFieldWithDefault(this,8,!1)}},{key:"setPositionRelative",value:function(e){o.Message.setProto3BooleanField(this,8,e)}},{key:"getTypeString",value:function(){return o.Message.getFieldWithDefault(this,9,"")}},{key:"setTypeString",value:function(e){o.Message.setProto3StringField(this,9,e)}},{key:"getIcon",value:function(){return o.Message.getFieldWithDefault(this,10,"")}},{key:"setIcon",value:function(e){o.Message.setProto3StringField(this,10,e)}},{key:"getPollLayout",value:function(){return o.Message.getFieldWithDefault(this,11,0)}},{key:"setPollLayout",value:function(t){o.Message.setOneofField(this,11,e.StreamItem.oneofGroups_[0],t)}},{key:"clearPollLayout",value:function(){o.Message.setOneofField(this,11,e.StreamItem.oneofGroups_[0],void 0)}},{key:"hasPollLayout",value:function(){return null!=o.Message.getField(this,11)}}],[{key:"toObject",value:function(e,t){var n,r={contentHash:o.Message.getFieldWithDefault(t,1,""),title:o.Message.getFieldWithDefault(t,2,""),description:o.Message.getFieldWithDefault(t,3,""),imageInfo:(n=t.getImageInfo())&&l.ImageInfo.toObject(e,n),fullImage:o.Message.getBooleanFieldWithDefault(t,5,!1),lightContent:o.Message.getBooleanFieldWithDefault(t,6,!1),positionOffset:o.Message.getFieldWithDefault(t,7,0),positionRelative:o.Message.getBooleanFieldWithDefault(t,8,!1),typeString:o.Message.getFieldWithDefault(t,9,""),icon:o.Message.getFieldWithDefault(t,10,""),pollLayout:o.Message.getFieldWithDefault(t,11,0)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setContentHash(n);break;case 2:var r=t.readString();e.setTitle(r);break;case 3:var i=t.readString();e.setDescription(i);break;case 4:var a=new l.ImageInfo;t.readMessage(a,l.ImageInfo.deserializeBinaryFromReader),e.setImageInfo(a);break;case 5:var o=t.readBool();e.setFullImage(o);break;case 6:var s=t.readBool();e.setLightContent(s);break;case 7:var c=t.readUint64();e.setPositionOffset(c);break;case 8:var u=t.readBool();e.setPositionRelative(u);break;case 9:var d=t.readString();e.setTypeString(d);break;case 10:var m=t.readString();e.setIcon(m);break;case 11:var g=t.readEnum();e.setPollLayout(g);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getContentHash()).length>0&&t.writeString(1,n),(n=e.getTitle()).length>0&&t.writeString(2,n),(n=e.getDescription()).length>0&&t.writeString(3,n),null!=(n=e.getImageInfo())&&t.writeMessage(4,n,l.ImageInfo.serializeBinaryToWriter),(n=e.getFullImage())&&t.writeBool(5,n),(n=e.getLightContent())&&t.writeBool(6,n),0!==(n=e.getPositionOffset())&&t.writeUint64(7,n),(n=e.getPositionRelative())&&t.writeBool(8,n),(n=e.getTypeString()).length>0&&t.writeString(9,n),(n=e.getIcon()).length>0&&t.writeString(10,n),null!=(n=o.Message.getField(e,11))&&t.writeEnum(11,n)}}]),s}(o.Message);t.displayName="StreamProgramContentInfo.StreamItem",t.oneofGroups_=[[11]],e.StreamItem=t}(u=t.StreamProgramContentInfo||(t.StreamProgramContentInfo={})),function(e){!function(e){!function(e){e[e.OVERLAY_IMAGE_NOT_SET=0]="OVERLAY_IMAGE_NOT_SET",e[e.POLL_LAYOUT=11]="POLL_LAYOUT"}(e.OverlayImageCase||(e.OverlayImageCase={}))}(e.StreamItem||(e.StreamItem={}))}(u=t.StreamProgramContentInfo||(t.StreamProgramContentInfo={}))},qsjj:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("SVse"),i=n("8Y7J"),a=n("s7LF"),o=n("pMoy"),s=n("Q2Ze"),l=n("e6WT"),c=n("TSSN"),u=n("HxU+"),d=n("7Tcv");n("85oS");var m,g=((m=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||m)},m.\u0275mod=i["\u0275\u0275defineNgModule"]({type:m}),m.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[u.a,d.a,r.c,a.m,s.f,l.c,o.b,c.c]]}),m)},s8Ph:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionOverrideAdmin=void 0,n("8Y7J");var r=n("+6wJ"),i=n("wKCx"),a=n("8Y7J"),o=function(){function e(t){f(this,e),this._ngZone=t}return y(e,[{key:"setPermissionOverride",value:function(e,t,n){var a,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((function(e,t){o=function(n,r){n?t(n):e(r)}})));var c=null,u=r.grpc.invoke(i.PermissionOverrideAdmin.SetPermissionOverride,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new r.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=r.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return a.cancel=function(){return u.close()},a}},{key:"unsetPermissionOverride",value:function(e,t,n){var a,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((function(e,t){o=function(n,r){n?t(n):e(r)}})));var c=null,u=r.grpc.invoke(i.PermissionOverrideAdmin.UnsetPermissionOverride,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new r.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=r.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return a.cancel=function(){return u.close()},a}},{key:"getPermissionOverrides",value:function(e,t,n){var a,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((function(e,t){o=function(n,r){n?t(n):e(r)}})));var c=null,u=r.grpc.invoke(i.PermissionOverrideAdmin.GetPermissionOverrides,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new r.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=r.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return a.cancel=function(){return u.close()},a}}]),e}();t.PermissionOverrideAdmin=o,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.NgZone))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},"tsE+":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return _}));var r=n("8Y7J"),i=n("s7LF"),a=n("HHVM"),o=n("SVse"),s=n("pMoy"),l=n("Q2Ze"),c=n("e6WT"),u=n("ZTz/"),d=n("UhP/");function m(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275elementStart"](1,"mat-checkbox",3),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().relativeOffset=e}))("ngModelChange",(function(e){r["\u0275\u0275restoreView"](n);var t=r["\u0275\u0275nextContext"]();return t.onRelativeOffsetChange(e),t.triggerOnChange()})),r["\u0275\u0275elementStart"](2,"span"),r["\u0275\u0275text"](3,"Relative Offset"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModel",i.relativeOffset)}}function g(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-form-field",4),r["\u0275\u0275elementStart"](1,"mat-label"),r["\u0275\u0275text"](2,"Day"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"input",5),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().daySelection=e}))("ngModelChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().triggerOnChange()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",i.daySelection)}}function p(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",9),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",n),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",i.getMonthText(n)," ")}}function h(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-option",9),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",n),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](i.getDayText(n))}}function v(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-select",10),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).daySelection=e}))("ngModelChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"](2).triggerOnChange()})),r["\u0275\u0275template"](1,h,3,2,"ng-container",7),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("ngModel",i.daySelection),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",i.dayOptions)}}function C(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-select",6),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().monthSelection=e}))("ngModelChange",(function(e){r["\u0275\u0275restoreView"](n);var t=r["\u0275\u0275nextContext"]();return t.onMonthSelect(e),t.triggerOnChange()})),r["\u0275\u0275template"](1,p,3,2,"ng-container",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](2,v,2,2,"mat-select",8)}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngModel",i.monthSelection),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",i.monthOptions),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",i.monthSelection)}}for(var b=864e5,x=[],P=0;96>P;++P)x.push(9e5*P);var M={provide:i.r,useExisting:Object(r.forwardRef)((function(){return _})),multi:!0};function O(e){var t=a.day.utc(0);return e.month&&t.month(e.month-1),e.day&&t.date(e.day),"number"==typeof e.time&&t.millisecond(e.time),t.toDate().getTime()}function k(e,t){if(e){var n=a.day.utc(t);return{relative:!0,month:0,day:Math.floor(t/b)+1,time:n.millisecond()}}var r=a.day.utc(t);return{relative:!1,month:r.month()+1,day:r.date(),time:r.millisecond()}}var _=function(){var e=function(){function e(){f(this,e),this.relativeOffset=!1,this.relativeOffsetChange=new r.EventEmitter,this.hideRelativeOffsetToggle=!1,this.monthSelection=0,this.daySelection=0,this.timeSelection=null,this.timeOptions=[].concat(x),this.monthOptions=[1,2,3,4,5,6,7,8,9,10,11,12],this.dayOptions=[]}return y(e,[{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"onRelativeOffsetChange",value:function(e){e&&(this.daySelection||(this.daySelection=1)),this.relativeOffsetChange.emit(e)}},{key:"triggerOnChange",value:function(){this.onChange&&this.onChange(this.relativeOffset?{relative:!0,day:this.daySelection,time:this.timeSelection,month:0}:{relative:!1,day:this.daySelection,month:this.monthSelection,time:0})}},{key:"resetValue",value:function(){this.relativeOffset=!1,this.monthSelection=0,this.daySelection=0}},{key:"_writeValue",value:function(e){"boolean"==typeof e.relative&&(this.relativeOffset=e.relative),"number"==typeof e.month?(this.monthSelection=e.month,this.initDayOptions()):this.monthSelection=0,this.daySelection="number"==typeof e.day?e.day:0,this.timeSelection="number"==typeof e.time?this.timeOptions.sort((function(t,n){return Math.abs(e.time-t)-Math.abs(e.time-n)}))[0]:null}},{key:"writeValue",value:function(e){null===e?this.resetValue():"object"==typeof e?this._writeValue(e):console.warn("Invalid ngModel type for <mg-date-time-offset-picker>:",e)}},{key:"initDayOptions",value:function(){if(this.dayOptions=[],this.daySelection=0,0!==this.monthSelection)for(var e=Object(a.day)().month(this.monthSelection-1).daysInMonth(),t=0;e>t;++t)this.dayOptions.push(t+1)}},{key:"getTimeOptionText",value:function(e){return a.day.utc(e).format("h:mm a")}},{key:"onMonthSelect",value:function(e){this.initDayOptions()}},{key:"getMonthText",value:function(e){return Object(a.day)().month(e-1).format("MMMM")}},{key:"getDayText",value:function(e){return(""+e).padStart(2,"0")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-date-time-offset-picker"]],inputs:{relativeOffset:"relativeOffset",hideRelativeOffsetToggle:"hideRelativeOffsetToggle"},outputs:{relativeOffsetChange:"relativeOffsetChange"},features:[r["\u0275\u0275ProvidersFeature"]([M])],decls:3,vars:3,consts:[["style","padding: 8px 0",4,"ngIf"],[3,"ngIf"],[2,"padding","8px 0"],[3,"ngModel","ngModelChange"],[1,"number-input"],["matInput","","autocomplete","off","name","dayOffset","type","number","min","1",3,"ngModel","ngModelChange"],["placeholder","Month",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["placeholder","Day",3,"ngModel","ngModelChange",4,"ngIf"],[3,"value"],["placeholder","Day",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,m,4,1,"div",0),r["\u0275\u0275template"](1,g,4,1,"ng-template",1),r["\u0275\u0275template"](2,C,3,3,"ng-template",1)),2&e&&(r["\u0275\u0275property"]("ngIf",!t.hideRelativeOffsetToggle),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.relativeOffset),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.relativeOffset))},directives:[o.o,s.a,i.t,i.w,l.d,l.h,c.b,i.y,i.d,u.a,o.n,d.m],styles:[".mat-select[_ngcontent-%COMP%]{width:120px}.number-input[_ngcontent-%COMP%]{width:120px;display:inline-block}"]}),e}()},vtEA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s.a})),n("5xcx");var r,i=n("8Y7J"),a=n("s7LF"),o=((r=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||r)},r.\u0275mod=i["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[a.m]]}),r),s=n("NW4y")},vxDR:function(e,t,n){"use strict";n.d(t,"b",(function(){return fe})),n.d(t,"a",(function(){return he}));var r=n("SVse"),i=n("8Y7J"),a=n("s7LF"),o=n("jMqV"),s=n("TSSN"),l=n("CO6v"),c=n("9F0b"),u=n("p+4T"),d=n("YcSX"),m=n("Ggka"),g=n("Q2Ze"),p=n("e6WT"),v=n("Tj54"),C=n("sj4O");function b(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-icon"),i["\u0275\u0275text"](1,"done"),i["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-icon"),i["\u0275\u0275text"](1,"error_outline"),i["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&i["\u0275\u0275element"](0,"mg-spinner",6)}function M(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275template"](1,b,2,0,"mat-icon",3),i["\u0275\u0275template"](2,x,2,0,"mat-icon",3),i["\u0275\u0275template"](3,P,1,0,"mg-spinner",5),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.outerFormControl.valid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.outerFormControl.invalid),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.outerFormControl.pending)}}function O(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.programName.error.maxlength")," "))}function k(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.programName.error.pattern")," "))}function _(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.programName.error.required")," "))}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275elementContainerStart"](1,7),i["\u0275\u0275template"](2,O,3,3,"span",8),i["\u0275\u0275template"](3,k,3,3,"span",8),i["\u0275\u0275template"](4,_,3,3,"span",8),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitch",n.inputControlErrorKey),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","maxlength"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","pattern"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","required")}}var w,I,E={provide:a.r,useExisting:Object(i.forwardRef)((function(){return T})),multi:!0},F={provide:a.q,useExisting:Object(i.forwardRef)((function(){return T})),multi:!0},T=((w=function(){function e(){f(this,e),this.value="",this.disabled=!1}return y(e,[{key:"validate",value:function(e){return this.inputControl.errors}},{key:"ngOnInit",value:function(){var e=this;this.inputControl=new a.h({value:this.value,disabled:this.disabled},[a.D.required,a.D.maxLength(50),m.a.NoSymbols]),this._formGroup=new a.k({inputControl:this.inputControl}),this.inputControl.statusChanges.subscribe((function(t){"function"==typeof e.onChange&&(e.onChange(e.value),e.onTouched(),e.outerFormControl&&(e.inputControl.pristine&&e.outerFormControl.markAsPristine(),e.inputControl.touched||e.outerFormControl.markAsUntouched()))}))}},{key:"inputControlErrorKey",get:function(){return this.inputControl.errors?Object.keys(this.inputControl.errors)[0]:""}},{key:"writeValue",value:function(e){null==e&&(e=""),"string"==typeof e&&e!==this.value?(this.value=e,this.inputControl.setValue(this.value)):console.warn("<mg-program-name> model tired to change to non-string value")}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"change",value:function(e){this.onChange&&(this.onChange(e),this.onTouched()),this.value=e}}]),e}()).\u0275fac=function(e){return new(e||w)},w.\u0275cmp=i["\u0275\u0275defineComponent"]({type:w,selectors:[["mg-program-name"]],inputs:{disabled:"disabled",outerFormControl:"outerFormControl"},features:[i["\u0275\u0275ProvidersFeature"]([E,F])],decls:9,vars:6,consts:[[1,"mg-minga-name"],["matInput","","type","text","mgFocusSelectText","",3,"formControl","ngModelChange"],["class","input-icon","mat-icon-button","","matSuffix","",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","matSuffix","",1,"input-icon"],["color","primary","mode","indeterminate","diameter","25",4,"ngIf"],["color","primary","mode","indeterminate","diameter","25"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2,"Program Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",1),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.change(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,M,4,3,"div",2),i["\u0275\u0275elementStart"](5,"mat-hint"),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,S,5,4,"mat-error",3),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formControl",t.inputControl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.outerFormControl&&t.outerFormControl.touched&&t.outerFormControl.asyncValidator),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](7,4,"input.programName.hint")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.inputControlErrorKey))},directives:[g.d,g.h,p.b,a.d,a.t,a.i,r.o,g.g,g.j,v.a,C.a,g.c,r.q,r.r],pipes:[s.d],styles:[""]}),w),R=n("7Tcv"),j=((I=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||I)},I.\u0275mod=i["\u0275\u0275defineNgModule"]({type:I}),I.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[R.a,r.c,a.m,a.A,v.b,g.f,p.c,s.c]]}),I),D=n("EBcp"),N=n("fHWq"),L=n("HxU+"),B=n("CL15"),A=n("WmLq"),z=n("mrSG"),H=n("+6wJ"),V=n("LvDl"),W=n("F5Qo"),G=n("l6At"),q=n("mI3D"),U=n("quSY"),Y=n("lJxs"),$=n("iInd"),Q=n("UWMR"),Z=n("IPaV"),J=n("jNxq"),K=n("YTnL"),X=n("CslP"),ee=n("lkjj"),te=n("SYVq"),ne=n("o1f5"),re=n("gjtd"),ie=n("T0RT"),ae=n("WNdF"),oe=n("8p1t"),se=n("4avL"),le=n("iBVM"),ce=["form"];function ue(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",26),i["\u0275\u0275elementStart"](1,"div",27),i["\u0275\u0275element"](2,"mg-spinner",28),i["\u0275\u0275elementStart"](3,"p"),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](5,1,"loading")," "))}function de(e,t){if(1&e&&i["\u0275\u0275element"](0,"mg-file-upload",29),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("file",n.programLogoInputFiles[0])("formControl",n.uploadIconFormControl)}}var me,ge,pe=function(){return{standalone:!0}},he=((ge=function(){function e(t,n,r,i,o,s,l,c){var u=this;f(this,e),this.route=t,this.router=n,this.snackBar=r,this.errorReporting=i,this.streamManager=o,this.programService=s,this.adminEvents=l,this.rolesService=c,this.loading=!0,this.editing=!1,this.fields={title:"Untitled program",body:"",active:!1,selectedRoles:[]},this.initialFields={title:"Untitled program",body:"",active:!1,selectedRoles:[]},this.address="",this.mingaHash="",this.programHash="",this._submitting=!1,this.program=null,this.programLogo="",this.programBanner="",this.programLogoInputFiles=[],this.doPreventNavigation=!0,this.initialProgramBanner="",this.initialProgramLogo="",this._roleSubscription=new U.a,this.uploadIconFormControl=new a.h,this.uploadBannerFormControl=new a.h,this.rolesService.fetchIfNeeded(),this.uploadIconFormControl.statusChanges.subscribe((function(e){"VALID"===e&&(console.log("logo form control status is valid, with value: ",u.uploadIconFormControl.value),u.programLogo=u.uploadIconFormControl.value)})),this._setupRouteParamsHandler(),this.availableProgramRoles$=this.rolesService.availableProgramManageRoles$.pipe(Object(Y.a)((function(e){return e.map((function(e){return Object(A.b)(e,e.immutableProgramManagePermittable)}))}))),this._roleSubscription=this.availableProgramRoles$.subscribe((function(e){u.editing||u.fields.selectedRoles.length||(u.fields.selectedRoles=e.map((function(e){return e.roleType})),u.initialFields.selectedRoles=u.fields.selectedRoles)}))}return y(e,[{key:"hasNewLogo",get:function(){return this.programLogo!=this.initialProgramLogo}},{key:"hasNewBanner",get:function(){return this.programBanner!=this.initialProgramBanner}},{key:"hasChanges",get:function(){return!this.editing||!V.isEqual(this.fields,this.initialFields)||this.hasNewBanner||this.hasNewLogo}},{key:"invalidDescription",get:function(){return this.fields.body.length>5e3}},{key:"ngOnDestroy",value:function(){this._roleSubscription.unsubscribe()}},{key:"selectManageRole",value:function(e){this.fields.selectedRoles.includes(e)||this.fields.selectedRoles.push(e)}},{key:"deselectManageRole",value:function(e){var t=this.fields.selectedRoles.indexOf(e);t>=0&&this.fields.selectedRoles.splice(t,1)}},{key:"_setupRouteParamsHandler",value:function(){var e=this;this.route.params.subscribe((function(t){return Object(z.a)(e,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loading=!0,this.mingaHash="",!("programHash"in t)){e.next=9;break}return this.programHash=t.programHash,this.editing=!0,e.next=7,this.getProgram(t.programHash);case 7:e.next=10;break;case 9:this.editing=!1,this.loading=!1;case 10:case"end":return e.stop()}}),e,this)})))}))}},{key:"onBeforeUnload",value:function(e){var t=this.preventNavigation();if(t)return e.returnValue=t,t}},{key:"preventNavigation",value:function(){return this.doPreventNavigation?!this.form.submitted&&this.form.dirty?"You have unsaved changes. Are you sure you want to leave?":this.form.pending?"Some of your changes are still pending. Are you sure you want to leave?":"":""}},{key:"hasOverlayPrevious",value:function(){return{text:this.editing?"Edit Program":"Create Program",icon:"close"}}},{key:"cancel",value:function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),this.onOverlayClose()}},{key:"onOverlayClose",value:function(){return Object(z.a)(this,void 0,void 0,h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.router.navigate(["",{outlets:{o:null}}]).then((function(){return Object(z.a)(t,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.programHash,!e.t0){e.next=4;break}return e.next=4,this.router.navigate(["/admin/program",this.programHash]);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)})))}));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"updateProgram",value:function(){return Object(z.a)(this,void 0,void 0,h().mark((function e(){var t,n,r,i,a,o,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new G.DeltaProgramInfo).setContentHash(this.programHash),this.fields.title!=this.initialFields.title&&((n=new W.StringDelta).setNewString(this.fields.title),t.setTitle(n)),this.fields.body!=this.initialFields.body&&((r=new W.StringDelta).setNewString(this.fields.body),t.setDescription(r)),this.fields.active!=this.initialFields.active&&((i=new W.BoolDelta).setNewBool(this.fields.active),t.setActive(i)),this.hasNewBanner&&(a=new W.RepeatedStringDelta,(o=new W.RepeatedStringDelta.InsertInstruction).setInsertString(this.programBanner),a.addInsertInstruction(o),t.setBanner(a)),this.hasNewLogo&&((s=new W.StringDelta).setNewString(this.programLogo),t.setLogo(s)),e.abrupt("return",(t.setPermittedRoleTypeList(this.fields.selectedRoles),this.programService.update(t)));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"createProgram",value:function(){return Object(z.a)(this,void 0,void 0,h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new G.ProgramInfo,e.abrupt("return",(t.setTitle(this.fields.title),t.setDescription(this.fields.body),t.setActive(this.fields.active),t.setPermittedRoleTypeList(this.fields.selectedRoles),this.programLogo&&t.setLogo(this.programLogo),this.programBanner&&t.setBannerList([this.programBanner]),this.programService.new(t)));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getProgram",value:function(e){return Object(z.a)(this,void 0,void 0,h().mark((function t(){var n,r,i,a=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getProgram hash:",e),n=function(){return a.snackMessage("Error occurred while loading program"),a.onOverlayClose(),a.loading=!1,a.errorReporting.sendErrorReport("client ProgramForm.component","getProgram() failed for hash: ".concat(e),q.errorPriority.WARN),[]},t.prev=2,(r=new G.ProgramInfoQuery).setIncludeDeleted(!0),r.setProgramHash(e),t.next=7,this.programService.getInfo(r);case 7:if(!(i=t.sent)){t.next=14;break}return this.program=i,t.next=12,this.initEditProgram(this.program);case 12:return this.loading=!1,t.abrupt("return",this.program);case 14:console.warn("[ProgramForm]getProgram() no content found"),n(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),console.warn("[ProgramForm]getProgram() catch err: ",t.t0),n();case 20:case"end":return t.stop()}}),t,this,[[2,17]])})))}},{key:"initEditProgram",value:function(e){return Object(z.a)(this,void 0,void 0,h().mark((function t(){var n,r,i;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}this.fields.title=e.getTitle(),this.fields.body=e.getDescription(),this.fields.active=e.getActive(),(n=e.getPermittedRoleTypeList()).length&&(this.fields.selectedRoles=n),(r=e.getLogo())&&(this.programLogo=window.MINGA_ASSET_URL_PREFIX+r,this.initialProgramLogo=this.programLogo),(i=e.getBannerList())&&i.length&&(this.programBanner=window.MINGA_ASSET_URL_PREFIX+i[0],this.initialProgramBanner=this.programBanner),this.initialFields=V.cloneDeep(this.fields),t.next=12;break;case 10:return t.next=12,this.errorReporting.sendErrorReport("client PersonForm.component","initEditPerson() has no person",q.errorPriority.WARN);case 12:case"end":return t.stop()}}),t,this)})))}},{key:"onFormKeyPress",value:function(e){13!=e.keyCode||this.editing||(e.preventDefault(),this.submit())}},{key:"snackMessage",value:function(e){this.snackBar.open(e)}},{key:"snackTryAgain",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to create program";this.snackBar.open(t,"Try again?").onAction().subscribe((function(){e.submit()}))}},{key:"submit",value:function(){var e=this;this.loading=!0;var t=function(){return Object(z.a)(e,void 0,void 0,h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.form.form.markAsPristine();case 2:return this.loading=!1,this.hasNewBanner&&(this.initialProgramBanner=this.programBanner),this.hasNewLogo&&(this.initialProgramLogo=this.programLogo),e.next=7,this.streamManager.restartStreamIfAvailable("HomeFeed");case 7:return e.next=9,this.streamManager.restartStreamIfAvailable("AdminProgramFeed");case 9:return e.next=11,this.streamManager.restartStreamIfAvailable("AdminProgramContentFeed");case 11:if(!this.editing){e.next=18;break}return this.snackMessage("Program was successfully updated"),this.adminEvents.emitProgramUpdateSuccess({programHash:this.programHash}),e.next=16,this.onOverlayClose();case 16:e.next=19;break;case 18:this.snackMessage("Program was successfully created");case 19:case"end":return e.stop()}}),e,this)})))},n=function(t){var n,r=(n=t.code,Object.keys(H.grpc.Code).find((function(e){return H.grpc.Code[e]==n}))||n);e.snackBar.open("Could not ".concat(e.editing?"update":"create"," program (").concat(r,")"),"Dismiss"),e.loading=!1};return this.form.invalid?(this.snackMessage("Form invalid. Cannot save Program."),void(this.loading=!1)):this.invalidDescription?(this.snackMessage("Program description is too long, must be 5000 characters or less."),void(this.loading=!1)):!this.fields.active||this.programBanner&&this.programLogo?void(this.editing?this.updateProgram().then(t,n):this.createProgram().then((function(n){var r=n.getContentHash();return r?(e.programHash=r,t().then((function(){return e.onOverlayClose()}))):(console.warn("Didn't return a program hash, closing overlay"),t().then((function(){return e.onOverlayClose()})))}),n)):(this.snackMessage("Program cannot be saved as active without a banner and logo."),void(this.loading=!1))}}]),e}()).\u0275fac=function(e){return new(e||ge)(i["\u0275\u0275directiveInject"]($.a),i["\u0275\u0275directiveInject"]($.g),i["\u0275\u0275directiveInject"](Q.b),i["\u0275\u0275directiveInject"](Z.a),i["\u0275\u0275directiveInject"](J.a),i["\u0275\u0275directiveInject"](K.ProgramManager),i["\u0275\u0275directiveInject"](X.a),i["\u0275\u0275directiveInject"](ee.a))},ge.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ge,selectors:[["mg-program-form"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](ce,3,a.v),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.form=n.first)},hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("beforeunload",(function(e){return t.onBeforeUnload(e)}),!1,i["\u0275\u0275resolveWindow"])},decls:32,vars:30,consts:[[3,"component"],["class","loader",4,"ngIf"],[1,"mg-minicopy",3,"keypress","submit"],["form","ngForm"],[1,"form-block","top-row"],["labelPostion","'before'","name","active-toggle",1,"active-program-toggle","post-black","post-step-spacing","post-input",3,"ngModel","ngModelChange"],[1,"form-block"],[1,"input-margin","file-input-upload-wrap"],["required","","previewAspectRatio","16:9","customTitleText","Program Cover Image",3,"previewSize","formControl","ngModel","ngModelChange"],["fileInputUpload",""],[1,"avatar-edit-wrap","user-content","mg-centered"],[3,"overflow"],[1,"avatar-input"],[1,"current-avatar"],["mgIconCompact","",3,"multiple","customTitleText","ngModelOptions","ngModel","ngModelChange"],["fileInput",""],[3,"file","formControl",4,"ngIf"],[1,"input-wrapper"],["name","name",3,"outerFormControl","ngModel","ngModelChange"],["name","ngModel"],[1,""],[3,"roles","selectedRoles","defaultSelected","roleSelect","roleDeselect"],["name","body",3,"ngModel","placeholder","ngModelChange"],[1,"mg-minicopy","footer-button-container"],["type","text",3,"click"],["type","outline",3,"disabled"],[1,"loader"],[1,"loader-content"],["color","primary","mode","indeterminate"],[3,"file","formControl"]],template:function(e,t){if(1&e&&(i["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),i["\u0275\u0275template"](1,ue,6,3,"div",1),i["\u0275\u0275elementStart"](2,"form",2,3),i["\u0275\u0275listener"]("keypress",(function(e){return t.onFormKeyPress(e)}))("submit",(function(e){return t.submit(e)})),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275elementStart"](5,"mat-slide-toggle",5),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.active=e})),i["\u0275\u0275text"](6," Active "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",6),i["\u0275\u0275elementStart"](8,"div",7),i["\u0275\u0275elementStart"](9,"mg-file-input-upload",8,9),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.programBanner=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",10),i["\u0275\u0275elementStart"](12,"mg-avatar",11),i["\u0275\u0275elementStart"](13,"div",12),i["\u0275\u0275element"](14,"div",13),i["\u0275\u0275elementStart"](15,"mg-file-input",14,15),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.programLogoInputFiles=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](17,de,1,2,"mg-file-upload",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",17),i["\u0275\u0275elementStart"](19,"mg-program-name",18,19),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.title=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"p",20),i["\u0275\u0275text"](22," Allow the following roles to add this program to their minga: "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"mg-multi-select-role",21),i["\u0275\u0275listener"]("roleSelect",(function(e){return t.selectManageRole(e)}))("roleDeselect",(function(e){return t.deselectManageRole(e)})),i["\u0275\u0275pipe"](24,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"mg-textarea",22),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.body=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",23),i["\u0275\u0275elementStart"](27,"mg-button",24),i["\u0275\u0275listener"]("click",(function(e){return t.cancel(e)})),i["\u0275\u0275text"](28),i["\u0275\u0275pipe"](29,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"mg-button",25),i["\u0275\u0275text"](31,"Save"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](3);i["\u0275\u0275property"]("component",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.loading),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.fields.active),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("previewSize",700)("formControl",t.uploadBannerFormControl)("ngModel",t.programBanner),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("overflow",!1),i["\u0275\u0275advance"](2),i["\u0275\u0275styleProp"]("background-image","url("+t.programLogo+")"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("multiple",!1)("customTitleText","Change")("ngModelOptions",i["\u0275\u0275pureFunction0"](29,pe))("ngModel",t.programLogoInputFiles),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.programLogoInputFiles[0]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("outerFormControl",n.controls.name)("ngModel",t.fields.title),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("roles",i["\u0275\u0275pipeBind1"](24,25,t.availableProgramRoles$))("selectedRoles",t.fields.selectedRoles)("defaultSelected",!t.editing),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("invalid",t.invalidDescription),i["\u0275\u0275property"]("ngModel",t.fields.body)("placeholder","Program Description"),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](29,27,"button.cancel")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",!t.hasChanges||n.invalid)}},directives:[te.a,r.o,a.E,a.u,a.v,o.a,a.t,a.w,ne.a,a.B,a.i,re.a,ie.a,T,ae.a,oe.a,se.a,C.a,le.a],pipes:[r.b,s.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.loader[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;right:0;left:0;bottom:0;background-color:hsla(0,0%,100%,.8)}.loader[_ngcontent-%COMP%]   .loader-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:50%;transform:translateX(50%) translateY(-50%);text-align:center;color:#d1d1d1}.form-block[_ngcontent-%COMP%]{border-bottom:1px solid #a9a9a9;margin:24px 16px}@media (min-width:600px){.form-block[_ngcontent-%COMP%]{margin:24px 32px}.form-block[_ngcontent-%COMP%]:first-child{margin:32px}}.form-block[_ngcontent-%COMP%]:last-child{border:none}.input-wrapper[_ngcontent-%COMP%]{width:100%}.title-text[_ngcontent-%COMP%]{margin-top:0}mg-multi-select-role[_ngcontent-%COMP%]{margin-bottom:1em}.link[_ngcontent-%COMP%]{color:#93f}.link[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.top-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.top-row[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:auto 0}.active-program-toggle[_ngcontent-%COMP%]{width:auto}.active-program-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-bar{left:100%}.avatar-edit-wrap[_ngcontent-%COMP%]{margin:51px 32px 41px}.avatar-edit-wrap[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{z-index:3}.avatar-edit-wrap[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%], .current-avatar[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;bottom:0;left:0;right:0}.current-avatar[_ngcontent-%COMP%]{z-index:1;background-size:cover;border-radius:50%}.current-display-name[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;margin-top:0;margin-bottom:1.8em}@media (orientation:landscape){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vh}}@media (orientation:portrait){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vw}}@media (orientation:landscape) and (max-height:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (orientation:portrait) and (max-width:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (min-width:439.875px){.current-display-name[_ngcontent-%COMP%]{font-size:19.992px}}mg-avatar[_ngcontent-%COMP%]{--mg-avatar-size:100px;cursor:pointer}@media (hover:hover){mg-avatar[_ngcontent-%COMP%]:hover   .avatar-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:2;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.35);border-radius:50%}mg-avatar[_ngcontent-%COMP%]:hover   mg-file-input[_ngcontent-%COMP%]{z-index:2}}mg-avatar.editing[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{z-index:2}mg-avatar.editing[_ngcontent-%COMP%]   .avatar-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:2;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.35);border-radius:50%}.avatar-input[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{position:absolute;top:0;pointer-events:none;z-index:1;overflow:hidden;border-radius:50%}.avatar-input[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{position:absolute;z-index:0;left:0;right:0;top:50%;transform:translateY(-50%)}mg-textarea.invalid[_ngcontent-%COMP%]{border-bottom:1px solid red}']}),ge),fe=((me=y((function e(){f(this,e)}))).\u0275fac=function(e){return new(e||me)},me.\u0275mod=i["\u0275\u0275defineNgModule"]({type:me}),me.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[R.a,l.a,N.a,j,c.c,d.b,u.a,D.a,A.a,L.a,B.a,r.c,a.m,a.A,o.b,s.c]]}),me)},wKCx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionOverrideAdminClient=t.PermissionOverrideAdmin=void 0;var r=n("jbKS"),i=y((function e(){f(this,e)}));t.PermissionOverrideAdmin=i,i.serviceName="minga.permission.PermissionOverrideAdmin",i.SetPermissionOverride={methodName:"SetPermissionOverride",service:i,requestStream:!1,responseStream:!1,requestType:r.SetPermissionOverrideRequest,responseType:r.SetPermissionOverrideResponse},i.UnsetPermissionOverride={methodName:"UnsetPermissionOverride",service:i,requestStream:!1,responseStream:!1,requestType:r.UnsetPermissionOverrideRequest,responseType:r.UnsetPermissionOverrideResponse},i.GetPermissionOverrides={methodName:"GetPermissionOverrides",service:i,requestStream:!1,responseStream:!1,requestType:r.GetPermissionOverridesRequest,responseType:r.GetPermissionOverridesResponse},t.PermissionOverrideAdminClient=function(){function e(){f(this,e)}return y(e,[{key:"setPermissionOverride",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"unsetPermissionOverride",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"getPermissionOverrides",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}()},xVyk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamProgramContextContentInfo=t.StreamProgramContextInfo=void 0;var o=i("hRO2"),s=i("PYFZ"),l=i("5Jf8"),c=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getItemMetadata",value:function(){return o.Message.getWrapperField(this,s.StreamItemMetadata,1)}},{key:"setItemMetadata",value:function(e){o.Message.setWrapperField(this,1,e)}},{key:"clearItemMetadata",value:function(){this.setItemMetadata(void 0)}},{key:"hasItemMetadata",value:function(){return null!=o.Message.getField(this,1)}},{key:"getItem",value:function(){return o.Message.getWrapperField(this,i.StreamItem,2)}},{key:"setItem",value:function(e){o.Message.setWrapperField(this,2,e)}},{key:"clearItem",value:function(){this.setItem(void 0)}},{key:"hasItem",value:function(){return null!=o.Message.getField(this,2)}}],[{key:"toObject",value:function(e,t){var n,r={itemMetadata:(n=t.getItemMetadata())&&s.StreamItemMetadata.toObject(e,n),item:(n=t.getItem())&&i.StreamItem.toObject(e,n)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new s.StreamItemMetadata;t.readMessage(n,s.StreamItemMetadata.deserializeBinaryFromReader),e.setItemMetadata(n);break;case 2:var r=new i.StreamItem;t.readMessage(r,i.StreamItem.deserializeBinaryFromReader),e.setItem(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;null!=(n=e.getItemMetadata())&&t.writeMessage(1,n,s.StreamItemMetadata.serializeBinaryToWriter),null!=(n=e.getItem())&&t.writeMessage(2,n,i.StreamItem.serializeBinaryToWriter)}}]),i}(o.Message);t.StreamProgramContextInfo=c,c.displayName="StreamProgramContextInfo",function(e){var t=function(t){n(s,t);var i=r(s);function s(e){var t;return f(this,s),t=i.call(this),o.Message.initialize(a(t),e,0,-1,null,null),t}return y(s,[{key:"toObject",value:function(e){return s.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new o.BinaryWriter;return e.StreamItem.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getTitle",value:function(){return o.Message.getFieldWithDefault(this,1,"")}},{key:"setTitle",value:function(e){o.Message.setProto3StringField(this,1,e)}},{key:"getDescription",value:function(){return o.Message.getFieldWithDefault(this,2,"")}},{key:"setDescription",value:function(e){o.Message.setProto3StringField(this,2,e)}},{key:"getLogo",value:function(){return o.Message.getWrapperField(this,l.ImageInfo,3)}},{key:"setLogo",value:function(e){o.Message.setWrapperField(this,3,e)}},{key:"clearLogo",value:function(){this.setLogo(void 0)}},{key:"hasLogo",value:function(){return null!=o.Message.getField(this,3)}},{key:"getBanner",value:function(){return o.Message.getWrapperField(this,l.ImageInfo,4)}},{key:"setBanner",value:function(e){o.Message.setWrapperField(this,4,e)}},{key:"clearBanner",value:function(){this.setBanner(void 0)}},{key:"hasBanner",value:function(){return null!=o.Message.getField(this,4)}},{key:"getContentHash",value:function(){return o.Message.getFieldWithDefault(this,5,"")}},{key:"setContentHash",value:function(e){o.Message.setProto3StringField(this,5,e)}},{key:"getProgramContextHash",value:function(){return o.Message.getFieldWithDefault(this,6,"")}},{key:"setProgramContextHash",value:function(e){o.Message.setProto3StringField(this,6,e)}},{key:"getMingaHash",value:function(){return o.Message.getFieldWithDefault(this,7,"")}},{key:"setMingaHash",value:function(e){o.Message.setProto3StringField(this,7,e)}}],[{key:"toObject",value:function(e,t){var n,r={title:o.Message.getFieldWithDefault(t,1,""),description:o.Message.getFieldWithDefault(t,2,""),logo:(n=t.getLogo())&&l.ImageInfo.toObject(e,n),banner:(n=t.getBanner())&&l.ImageInfo.toObject(e,n),contentHash:o.Message.getFieldWithDefault(t,5,""),programContextHash:o.Message.getFieldWithDefault(t,6,""),mingaHash:o.Message.getFieldWithDefault(t,7,"")};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setTitle(n);break;case 2:var r=t.readString();e.setDescription(r);break;case 3:var i=new l.ImageInfo;t.readMessage(i,l.ImageInfo.deserializeBinaryFromReader),e.setLogo(i);break;case 4:var a=new l.ImageInfo;t.readMessage(a,l.ImageInfo.deserializeBinaryFromReader),e.setBanner(a);break;case 5:var o=t.readString();e.setContentHash(o);break;case 6:var s=t.readString();e.setProgramContextHash(s);break;case 7:var c=t.readString();e.setMingaHash(c);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getTitle()).length>0&&t.writeString(1,n),(n=e.getDescription()).length>0&&t.writeString(2,n),null!=(n=e.getLogo())&&t.writeMessage(3,n,l.ImageInfo.serializeBinaryToWriter),null!=(n=e.getBanner())&&t.writeMessage(4,n,l.ImageInfo.serializeBinaryToWriter),(n=e.getContentHash()).length>0&&t.writeString(5,n),(n=e.getProgramContextHash()).length>0&&t.writeString(6,n),(n=e.getMingaHash()).length>0&&t.writeString(7,n)}}]),s}(o.Message);t.displayName="StreamProgramContextInfo.StreamItem",e.StreamItem=t}(c=t.StreamProgramContextInfo||(t.StreamProgramContextInfo={}));var u=function(e){n(i,e);var t=r(i);function i(e){var n;return f(this,i),n=t.call(this),o.Message.initialize(a(n),e,0,-1,null,null),n}return y(i,[{key:"toObject",value:function(e){return i.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new o.BinaryWriter;return i.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getItemMetadata",value:function(){return o.Message.getWrapperField(this,s.StreamItemMetadata,1)}},{key:"setItemMetadata",value:function(e){o.Message.setWrapperField(this,1,e)}},{key:"clearItemMetadata",value:function(){this.setItemMetadata(void 0)}},{key:"hasItemMetadata",value:function(){return null!=o.Message.getField(this,1)}},{key:"getItem",value:function(){return o.Message.getWrapperField(this,i.StreamItem,2)}},{key:"setItem",value:function(e){o.Message.setWrapperField(this,2,e)}},{key:"clearItem",value:function(){this.setItem(void 0)}},{key:"hasItem",value:function(){return null!=o.Message.getField(this,2)}}],[{key:"toObject",value:function(e,t){var n,r={itemMetadata:(n=t.getItemMetadata())&&s.StreamItemMetadata.toObject(e,n),item:(n=t.getItem())&&i.StreamItem.toObject(e,n)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new i;return i.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new s.StreamItemMetadata;t.readMessage(n,s.StreamItemMetadata.deserializeBinaryFromReader),e.setItemMetadata(n);break;case 2:var r=new i.StreamItem;t.readMessage(r,i.StreamItem.deserializeBinaryFromReader),e.setItem(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;null!=(n=e.getItemMetadata())&&t.writeMessage(1,n,s.StreamItemMetadata.serializeBinaryToWriter),null!=(n=e.getItem())&&t.writeMessage(2,n,i.StreamItem.serializeBinaryToWriter)}}]),i}(o.Message);t.StreamProgramContextContentInfo=u,u.displayName="StreamProgramContextContentInfo",function(e){var t=function(t){n(s,t);var i=r(s);function s(t){var n;return f(this,s),n=i.call(this),o.Message.initialize(a(n),t,0,-1,null,e.StreamItem.oneofGroups_),n}return y(s,[{key:"getOverlayImageCase",value:function(){return o.Message.computeOneofCase(this,e.StreamItem.oneofGroups_[0])}},{key:"toObject",value:function(e){return s.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new o.BinaryWriter;return e.StreamItem.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getContentHash",value:function(){return o.Message.getFieldWithDefault(this,1,"")}},{key:"setContentHash",value:function(e){o.Message.setProto3StringField(this,1,e)}},{key:"getTitle",value:function(){return o.Message.getFieldWithDefault(this,2,"")}},{key:"setTitle",value:function(e){o.Message.setProto3StringField(this,2,e)}},{key:"getDescription",value:function(){return o.Message.getFieldWithDefault(this,3,"")}},{key:"setDescription",value:function(e){o.Message.setProto3StringField(this,3,e)}},{key:"getImageInfo",value:function(){return o.Message.getWrapperField(this,l.ImageInfo,4)}},{key:"setImageInfo",value:function(e){o.Message.setWrapperField(this,4,e)}},{key:"clearImageInfo",value:function(){this.setImageInfo(void 0)}},{key:"hasImageInfo",value:function(){return null!=o.Message.getField(this,4)}},{key:"getFullImage",value:function(){return o.Message.getBooleanFieldWithDefault(this,5,!1)}},{key:"setFullImage",value:function(e){o.Message.setProto3BooleanField(this,5,e)}},{key:"getLightContent",value:function(){return o.Message.getBooleanFieldWithDefault(this,6,!1)}},{key:"setLightContent",value:function(e){o.Message.setProto3BooleanField(this,6,e)}},{key:"getTimestamp",value:function(){return o.Message.getFieldWithDefault(this,7,0)}},{key:"setTimestamp",value:function(e){o.Message.setProto3IntField(this,7,e)}},{key:"getTypeString",value:function(){return o.Message.getFieldWithDefault(this,8,"")}},{key:"setTypeString",value:function(e){o.Message.setProto3StringField(this,8,e)}},{key:"getContextHash",value:function(){return o.Message.getFieldWithDefault(this,9,"")}},{key:"setContextHash",value:function(e){o.Message.setProto3StringField(this,9,e)}},{key:"getIcon",value:function(){return o.Message.getFieldWithDefault(this,10,"")}},{key:"setIcon",value:function(e){o.Message.setProto3StringField(this,10,e)}},{key:"getPollLayout",value:function(){return o.Message.getFieldWithDefault(this,11,0)}},{key:"setPollLayout",value:function(t){o.Message.setOneofField(this,11,e.StreamItem.oneofGroups_[0],t)}},{key:"clearPollLayout",value:function(){o.Message.setOneofField(this,11,e.StreamItem.oneofGroups_[0],void 0)}},{key:"hasPollLayout",value:function(){return null!=o.Message.getField(this,11)}}],[{key:"toObject",value:function(e,t){var n,r={contentHash:o.Message.getFieldWithDefault(t,1,""),title:o.Message.getFieldWithDefault(t,2,""),description:o.Message.getFieldWithDefault(t,3,""),imageInfo:(n=t.getImageInfo())&&l.ImageInfo.toObject(e,n),fullImage:o.Message.getBooleanFieldWithDefault(t,5,!1),lightContent:o.Message.getBooleanFieldWithDefault(t,6,!1),timestamp:o.Message.getFieldWithDefault(t,7,0),typeString:o.Message.getFieldWithDefault(t,8,""),contextHash:o.Message.getFieldWithDefault(t,9,""),icon:o.Message.getFieldWithDefault(t,10,""),pollLayout:o.Message.getFieldWithDefault(t,11,0)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new o.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setContentHash(n);break;case 2:var r=t.readString();e.setTitle(r);break;case 3:var i=t.readString();e.setDescription(i);break;case 4:var a=new l.ImageInfo;t.readMessage(a,l.ImageInfo.deserializeBinaryFromReader),e.setImageInfo(a);break;case 5:var o=t.readBool();e.setFullImage(o);break;case 6:var s=t.readBool();e.setLightContent(s);break;case 7:var c=t.readUint64();e.setTimestamp(c);break;case 8:var u=t.readString();e.setTypeString(u);break;case 9:var d=t.readString();e.setContextHash(d);break;case 10:var m=t.readString();e.setIcon(m);break;case 11:var g=t.readEnum();e.setPollLayout(g);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getContentHash()).length>0&&t.writeString(1,n),(n=e.getTitle()).length>0&&t.writeString(2,n),(n=e.getDescription()).length>0&&t.writeString(3,n),null!=(n=e.getImageInfo())&&t.writeMessage(4,n,l.ImageInfo.serializeBinaryToWriter),(n=e.getFullImage())&&t.writeBool(5,n),(n=e.getLightContent())&&t.writeBool(6,n),0!==(n=e.getTimestamp())&&t.writeUint64(7,n),(n=e.getTypeString()).length>0&&t.writeString(8,n),(n=e.getContextHash()).length>0&&t.writeString(9,n),(n=e.getIcon()).length>0&&t.writeString(10,n),null!=(n=o.Message.getField(e,11))&&t.writeEnum(11,n)}}]),s}(o.Message);t.displayName="StreamProgramContextContentInfo.StreamItem",t.oneofGroups_=[[11]],e.StreamItem=t}(u=t.StreamProgramContextContentInfo||(t.StreamProgramContextContentInfo={})),function(e){!function(e){!function(e){e[e.OVERLAY_IMAGE_NOT_SET=0]="OVERLAY_IMAGE_NOT_SET",e[e.POLL_LAYOUT=11]="POLL_LAYOUT"}(e.OverlayImageCase||(e.OverlayImageCase={}))}(e.StreamItem||(e.StreamItem={}))}(u=t.StreamProgramContextContentInfo||(t.StreamProgramContextContentInfo={}))}}])}();
//# sourceMappingURL=default~minga-app-src-app-routes-admin-AdminRoutes-module~minga-app-src-app-routes-admin-PeopleAdmin~497d4818-es5.js.map