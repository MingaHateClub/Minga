(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{"/YXT":function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return N}));var i=n("SVse"),o=n("8Y7J"),a=n("VDRc"),r=n("s7LF"),s=n("TSSN"),l=n("CO6v"),d=n("nTPY"),c=n("9F0b"),g=n("eJkR"),p=n("ls3q"),m=n("7Tcv"),h=n("YD+O"),u=n("mrSG"),f=n("iELJ"),v=n("B3cG"),C=n("IeKC"),P=n("YgQ7"),x=n("UWMR"),M=n("GFah"),w=n("Fudl"),y=n("T0RT"),b=n("cXmD"),O=n("sj4O");const _=function(){return{standalone:!0}};function I(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",7),o["\u0275\u0275elementStart"](1,"mg-file-input",8),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().files=t}))("ngModelChange",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onFileSelected()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](2,"div",9),o["\u0275\u0275elementStart"](3,"div",10),o["\u0275\u0275text"](4,"Upload or drag a photo here"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("showFileDetails",!1)("customTitleText"," ")("multiple",!1)("accept",e.accept)("ngModelOptions",o["\u0275\u0275pureFunction0"](6,_))("ngModel",e.files)}}function S(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",11),o["\u0275\u0275elementStart"](2,"image-cropper",12),o["\u0275\u0275listener"]("imageCropped",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().imageCropped(t)}))("imageLoaded",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().imageLoaded(t)}))("cropperReady",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().cropperReady()}))("loadImageFailed",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().loadImageFailed()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",13),o["\u0275\u0275element"](4,"div",14),o["\u0275\u0275elementStart"](5,"div",15),o["\u0275\u0275elementStart"](6,"div"),o["\u0275\u0275elementStart"](7,"mg-button-clear",16),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().rotateRight()})),o["\u0275\u0275elementStart"](8,"mg-icon"),o["\u0275\u0275text"](9,"rotate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div"),o["\u0275\u0275elementStart"](11,"mg-button-clear",16),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().resetImage()})),o["\u0275\u0275elementStart"](12,"mg-icon"),o["\u0275\u0275text"](13,"trash"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("imageChangedEvent",e.imageChangedEvent)("imageURL",e.existingImageUrl)("maintainAspectRatio",!1)("aspectRatio",1)("transform",e.transform)("canvasRotation",e.canvasRotation)}}function E(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",17),o["\u0275\u0275element"](1,"mg-spinner"),o["\u0275\u0275elementEnd"]())}let k=(()=>{class e{constructor(e,t,n,i,o,a,r,s){this.dialogRef=e,this.data=t,this.idUploaderService=n,this._cdr=i,this.mgModal=o,this.snackBar=a,this.rootService=r,this.dialog=s,this.files=[],this.previewUrl="",this.existingImageUrl="",this.previewSize=150,this.accept=v.a,this.canvasRotation=0,this.rotation=0,this.scale=1,this.transform={},this.imageChangedEvent="",this.croppedImage="",this.personHash="",this.loading=!1,this.personHash=t.personHash,t.currentImage&&(this.imageChangedEvent=null,this.existingImageUrl=t.currentImage)}get hasFile(){return!!this.previewUrl}close(e){this.dialogRef.close(e)}onFileSelected(){return Object(u.a)(this,void 0,void 0,(function*(){this.files&&0!==this.files.length&&this.files[0]?this.personHash?this.fileChangeEvent({target:{files:this.files}}):console.warn("[StudentIdUploaderDialogComponent] No personhash set!"):console.warn("[StudentIdUploaderDialogComponent] no file!")}))}onSubmit(){return Object(u.a)(this,void 0,void 0,(function*(){if(this.files.length||this.existingImageUrl){this.loading=!0;try{let e="";e=this.existingImageUrl?this.existingImageUrl:this.files[0].name;const t=(yield this.rootService.addLoadingPromise(this.idUploaderService.uploadBase64(this.croppedImage,e,this.personHash))).ref.name,n=yield this.idUploaderService.getFilePathToStudentIdImage(t,C.b.RAW);this.close({fileName:t,previewUrl:n})}catch(e){this.loading=!1,console.error("[StudentIdUploaderDialogComponent] submit error: ",e),this.snackBar.open("An error occured, please try again.")}}else this.close({deleteImage:!0})}))}fileChangeEvent(e){this.imageChangedEvent=e}imageCropped(e){this.croppedImage=e.base64}imageLoaded(e){}cropperReady(){}loadImageFailed(){}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}flipAfterRotate(){const e=this.transform.flipH,t=this.transform.flipV;this.transform=Object.assign(Object.assign({},this.transform),{flipH:t,flipV:e})}flipHorizontal(){this.transform=Object.assign(Object.assign({},this.transform),{flipH:!this.transform.flipH})}flipVertical(){this.transform=Object.assign(Object.assign({},this.transform),{flipV:!this.transform.flipV})}resetImage(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={},this.files=[],this.existingImageUrl=""}zoomOut(){this.scale-=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}zoomIn(){this.scale+=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}updateRotation(){this.transform=Object.assign(Object.assign({},this.transform),{rotate:this.rotation})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](f.g),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](C.a),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](P.b),o["\u0275\u0275directiveInject"](x.b),o["\u0275\u0275directiveInject"](M.a),o["\u0275\u0275directiveInject"](f.b))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-student-id-uploader-dialog"]],hostVars:4,hostBindings:function(e,t){2&e&&o["\u0275\u0275classProp"]("loading",t.loading)("has-file",t.hasFile)},inputs:{loading:"loading"},decls:13,vars:3,consts:[[1,"floating-icon-container","mg-bodycopy"],[1,"floating-icon","left",3,"click"],[1,"floating-icon","right",3,"click"],[1,"image-container"],["class","file-uploader-container",4,"ngIf"],[4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"file-uploader-container"],["name","uploader-input","icon","","compactIcon","","displayStyle","CAMERA_IMAGE",3,"showFileDetails","customTitleText","multiple","accept","ngModelOptions","ngModel","ngModelChange"],[1,"divider"],[1,"image-uploader-title-text"],[1,"image-cropper-wrapper"],["format","jpeg",3,"imageChangedEvent","imageURL","maintainAspectRatio","aspectRatio","transform","canvasRotation","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["fxLayout","column","fxLayoutAlign","center center"],[1,"divider","divider--less-margin"],["fxLayout","row","fxLayoutAlign","center center",1,"button-row"],[1,"control-button",3,"click"],[1,"spinner-container"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275listener"]("click",(function(){return t.close()})),o["\u0275\u0275elementStart"](2,"mg-icon"),o["\u0275\u0275text"](3,"close"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](4,"\xa0Cancel "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",2),o["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),o["\u0275\u0275elementStart"](6,"mg-icon"),o["\u0275\u0275text"](7,"publish-o"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](8,"\xa0Save "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"div",3),o["\u0275\u0275template"](10,I,5,7,"div",4),o["\u0275\u0275template"](11,S,14,6,"ng-container",5),o["\u0275\u0275template"](12,E,2,0,"div",6),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("ngIf",0==t.files.length&&!t.existingImageUrl),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.files.length>0||t.existingImageUrl),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.loading))},directives:[w.a,i.o,y.a,r.t,r.w,h.a,a.e,a.d,b.a,O.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center}.loading[_nghost-%COMP%]   .floating-icon-container[_ngcontent-%COMP%], .loading[_nghost-%COMP%]   .preview-file[_ngcontent-%COMP%], .loading[_nghost-%COMP%]   mg-file-input[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.has-file[_nghost-%COMP%]   mg-file-input[_ngcontent-%COMP%]{--mg-file-input-icon-color:#fff;color:#fff}.has-file[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-height:395px;overflow:hidden;min-height:160px}.has-file[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.15)}.has-file[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.35)}.image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-height:395px;min-height:300px;overflow:hidden}.file-uploader-container[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}.divider[_ngcontent-%COMP%]{border:1px solid #b7b7b7;width:65%;margin:35px auto 30px}.divider--less-margin[_ngcontent-%COMP%]{margin:20px 0}.image-uploader-title-text[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:#1c2f59;width:44%;margin:0 auto;padding-bottom:75px}@media (orientation:landscape){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:4.5333333333vh}}@media (orientation:portrait){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:4.5333333333vw}}@media (orientation:landscape) and (max-height:375px){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:17px}}@media (orientation:portrait) and (max-width:375px){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:17px}}@media (min-width:419.1176470588px){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:19px}}.spinner-container[_ngcontent-%COMP%]{top:0;bottom:0;align-items:center;justify-content:center}.floating-icon-container[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;display:flex}.floating-icon-container[_ngcontent-%COMP%]{justify-content:space-between;top:-50px;color:#036}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:16px 22px}@media (orientation:landscape){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:5vh}}@media (orientation:portrait){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:5vw}}@media (orientation:landscape) and (max-height:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:16px}}@media (orientation:portrait) and (max-width:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:16px}}@media (min-width:480px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:24px}}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px}@media (orientation:landscape){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:5vh}}@media (orientation:portrait){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:5vw}}@media (orientation:landscape) and (max-height:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:16px}}@media (orientation:portrait) and (max-width:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:16px}}@media (min-width:480px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:24px}}@media (orientation:landscape){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:5vh}}@media (orientation:portrait){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:5vw}}@media (orientation:landscape) and (max-height:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:16px}}@media (orientation:portrait) and (max-width:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:16px}}@media (min-width:480px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:24px}}.image-cropper-wrapper[_ngcontent-%COMP%]{width:390px;padding:0 20px}@media (max-width:599px){.image-cropper-wrapper[_ngcontent-%COMP%]{width:330px;padding:0}}image-cropper[_ngcontent-%COMP%]{width:100%;height:100%;max-height:300px;min-height:270px}.control-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:38px}.button-row[_ngcontent-%COMP%]{height:50px}'],changeDetection:0}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[l.a,g.a,c.c,p.a,m.a,d.a,h.b,i.c,r.m,s.c,a.g]]}),e})(),N=(()=>{class e{constructor(e){this.matDialog=e}open(e){return this.matDialog.open(k,Object.assign(Object.assign({},e),{panelClass:["mg-bordered-dialog","mg-no-padding-dialog","mg-filled-dialog","mg-light-border-dialog"],backdropClass:"mg-white-backdrop"}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](f.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"85oS":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n("8Y7J"),o=n("s7LF"),a=n("Cnb3"),r=n("Q2Ze"),s=n("i1AJ"),l=n("e6WT"),d=n("SVse"),c=n("sj4O"),g=n("pMoy"),p=n("TSSN");const m=["matInputEl"];function h(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275element"](1,"mg-spinner",7),i["\u0275\u0275elementEnd"]())}const u=function(){return{standalone:!0}};function f(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-checkbox",8),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().customDisplayName=t}))("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().customDisplayNameChange(t)})),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",e.customDisplayName)("ngModelOptions",i["\u0275\u0275pureFunction0"](2,u))}}function v(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.minlength")," "))}function C(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.maxlength")," "))}function P(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.required")," "))}function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275elementContainerStart"](1,9),i["\u0275\u0275template"](2,v,3,3,"span",10),i["\u0275\u0275template"](3,C,3,3,"span",10),i["\u0275\u0275template"](4,P,3,3,"span",11),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitch",e.inputControlError),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","minlength"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","maxlength")}}const M={provide:o.r,useExisting:Object(i.forwardRef)(()=>w),multi:!0};let w=(()=>{class e{constructor(){this.value="",this.defaultValue="",this.inputCustom=!1,this.firstName="",this.lastName="",this.alwaysDefaultValue=!1,this.required=!1,this.customChange=new i.EventEmitter,this.statusPending=!1,this.statusTouched=!1,this.inputControlError="",this.instantErrors=!0,this.minlength=4,this.maxlength=25,this.showOnlyWithRole=!1,this.hasRole=!1}set custom(e){this.inputCustom=e,this.customDisplayName=e}get hint(){return this.customDisplayName?"":"Check the box to create a custom display name"}get inputMaxLength(){return parseInt(`${this.maxlength}`)+1}get inputMinLength(){return this.minlength>0?this.minlength-1:0}setupDefault(){this.defaultValue=a.DisplayNameFormat.format(this.firstName||"",this.lastName||"",this.displayNameFormat),this.customDisplayName?!this.inputCustom&&this.customDisplayName&&this.value==this.defaultValue&&(this.customDisplayName=!1):this.value=!this.showOnlyWithRole||this.showOnlyWithRole&&this.hasRole?this.defaultValue:""}_handleDisplayNameChange(){this.customDisplayName?(this.value=this.defaultValue,this.focusInput()):(this.setupDefault(),this.onChange(this.showOnlyWithRole&&!this.hasRole?"":this.value)),this.triggerOnTouched(),this.triggerOnChange()}customDisplayNameChange(e){this.customDisplayName=e,this.customChange.emit(this.customDisplayName),this._handleDisplayNameChange()}focusInput(){if(!this.matInputEl)return;const e=this.matInputEl;let t=!1;if(e.disabled)return this.value||(this.value=" ",t=!0),new Promise(n=>{let i=setInterval(()=>{this.matInputEl.disabled||(e.focus(),t&&(this.value=""),clearInterval(i),n())},100)});e.focus()}ngOnChanges(e){(e.firstName||e.lastName||e.displayNameFormat)&&(this.setupDefault(),this._checkIfCustom()),e.inputControlError&&setTimeout(()=>{this.inputControlError&&(this.matInputEl.errorState=!0,this.matInputEl.ngControl.control.setErrors({errorKey:!0}))})}ngOnInit(){}change(e){"string"==typeof e&&this.onChange(e),this.onTouched()}triggerOnChange(){this._onChange&&this._onChange(this.value)}triggerOnTouched(){this._onTouched&&this._onTouched()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){null===e||this.showOnlyWithRole&&!this.hasRole?this.value="":"string"==typeof e&&(this.value=e,this.setupDefault())}_checkIfCustom(){const e=this.defaultValue.trim(),t=this.value.trim();(this.inputCustom||e&&t&&t!=e)&&(this.customDisplayName=!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-display-name"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](m,3),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.matInputEl=e.first)}},inputs:{firstName:"firstName",lastName:"lastName",alwaysDefaultValue:"alwaysDefaultValue",displayNameFormat:"displayNameFormat",required:"required",custom:"custom",statusPending:"statusPending",statusTouched:"statusTouched",inputControlError:"inputControlError",instantErrors:"instantErrors",minlength:"minlength",maxlength:"maxlength",showOnlyWithRole:"showOnlyWithRole",hasRole:"hasRole"},outputs:{customChange:"customChange"},features:[i["\u0275\u0275ProvidersFeature"]([M]),i["\u0275\u0275NgOnChangesFeature"]],decls:9,vars:10,consts:[["hideRequiredMarker","","mgFormField","",1,"mg-display-name",3,"hintLabel","mgNoDisabledText"],["matInput","","ngDefaultControl","","name","displayName","autocomplete","off",3,"maxlength","minlength","ngModel","disabled","required","ngModelChange"],["inputEl","","matInputEl","matInput"],["class","input-icon","mat-icon-button","","matSuffix","",4,"ngIf"],["matSuffix","","ngDefaultControl","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","matSuffix","",1,"input-icon"],["color","primary","diameter","25"],["matSuffix","","ngDefaultControl","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2,"Display Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",1,2),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(e){return t.change(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,h,2,0,"div",3),i["\u0275\u0275template"](7,f,1,3,"mat-checkbox",4),i["\u0275\u0275template"](8,x,5,3,"mat-error",5),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("hintLabel",t.hint)("mgNoDisabledText",!t.value&&!t.customDisplayName),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("maxlength",t.inputMaxLength)("minlength",t.inputMinLength)("ngModel",t.value)("disabled",!t.customDisplayName)("required",t.customDisplayName),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.statusPending),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.statusPending),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.statusTouched))},directives:[r.d,s.a,r.h,l.b,o.d,o.n,o.o,o.t,o.w,o.B,d.o,r.j,c.a,g.a,r.c,d.q,d.r,d.s],pipes:[p.d],styles:[""]}),e})()},ACkK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileContentClient=t.ProfileContent=void 0;const i=n("HFeD"),o=n("PYFZ");class a{}t.ProfileContent=a,a.serviceName="minga.profile.ProfileContent",a.Search={methodName:"Search",service:a,requestStream:!1,responseStream:!0,requestType:o.StreamID,responseType:i.SearchProfileContentResponse},a.SearchControl={methodName:"SearchControl",service:a,requestStream:!1,responseStream:!1,requestType:o.StreamControl,responseType:o.StreamControlResponse},t.ProfileContentClient=class{search(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}searchControl(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},HFeD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchProfileContentResponse=void 0;const i=n("hRO2"),o=n("PYFZ"),a=n("Ac3E");class r extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return r.toObject(e||!1,this)}static toObject(e,t){var n,i={itemMetadata:(n=t.getItemMetadata())&&o.StreamItemMetadata.toObject(e,n),item:(n=t.getItem())&&r.Item.toObject(e,n)};return e&&(i.$jspbMessageInstance=t),i}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new o.StreamItemMetadata;t.readMessage(n,o.StreamItemMetadata.deserializeBinaryFromReader),e.setItemMetadata(n);break;case 2:var i=new r.Item;t.readMessage(i,r.Item.deserializeBinaryFromReader),e.setItem(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;null!=(n=e.getItemMetadata())&&t.writeMessage(1,n,o.StreamItemMetadata.serializeBinaryToWriter),null!=(n=e.getItem())&&t.writeMessage(2,n,r.Item.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()}getItemMetadata(){return i.Message.getWrapperField(this,o.StreamItemMetadata,1)}setItemMetadata(e){i.Message.setWrapperField(this,1,e)}clearItemMetadata(){this.setItemMetadata(void 0)}hasItemMetadata(){return null!=i.Message.getField(this,1)}getItem(){return i.Message.getWrapperField(this,r.Item,2)}setItem(e){i.Message.setWrapperField(this,2,e)}clearItem(){this.setItem(void 0)}hasItem(){return null!=i.Message.getField(this,2)}}t.SearchProfileContentResponse=r,r.displayName="SearchProfileContentResponse",function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n,o={feedItemView:(n=t.getFeedItemView())&&a.ContentFeedItemView.toObject(e,n),separatorText:i.Message.getFieldWithDefault(t,2,"")};return e&&(o.$jspbMessageInstance=t),o}static deserializeBinary(e){var n=new i.BinaryReader(e),o=new t;return t.deserializeBinaryFromReader(o,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new a.ContentFeedItemView;t.readMessage(n,a.ContentFeedItemView.deserializeBinaryFromReader),e.setFeedItemView(n);break;case 2:var i=t.readString();e.setSeparatorText(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;null!=(n=e.getFeedItemView())&&t.writeMessage(1,n,a.ContentFeedItemView.serializeBinaryToWriter),(n=e.getSeparatorText()).length>0&&t.writeString(2,n)}serializeBinary(){var t=new i.BinaryWriter;return e.Item.serializeBinaryToWriter(this,t),t.getResultBuffer()}getFeedItemView(){return i.Message.getWrapperField(this,a.ContentFeedItemView,1)}setFeedItemView(e){i.Message.setWrapperField(this,1,e)}clearFeedItemView(){this.setFeedItemView(void 0)}hasFeedItemView(){return null!=i.Message.getField(this,1)}getSeparatorText(){return i.Message.getFieldWithDefault(this,2,"")}setSeparatorText(e){i.Message.setProto3StringField(this,2,e)}}t.displayName="SearchProfileContentResponse.Item",e.Item=t}(r=t.SearchProfileContentResponse||(t.SearchProfileContentResponse={}))},"KlF+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBadgeProtoMapper=void 0;const i=n("tJrb"),o=n("/A6N"),a=n("mQHq");var r;(r=t.IBadgeProtoMapper||(t.IBadgeProtoMapper={})).fromBadgeMessage=function(e){const t=e.getBanner()||e.getAsset(),n={};t&&t.toObject().sizeMap.forEach(e=>{n[e[0]]=e[1]});const i=a.dateTimeMessageToDateObject(e.getDate());return{id:e.getId(),name:e.getName()||"",description:e.getDescription()||"",image:n,date:i,contentContextHashes:e.getContentContextHashList()}},r.toBadgeMessage=function(e){const t=new i.Badge;t.setId(e.id),t.setName(e.name),t.setDescription(e.description),t.setDate(a.dateObjectToDateTimeMessage(e.date));const n=new o.ImageInfo,r=n.getSizeMap();for(let i in e.image){const t=new o.ImageSize,n=e.image[i];t.setPath(n.path),t.setWidth(n.width),t.setHeight(n.height),r.set(i,t)}return t.setBanner(n),e.contentContextHashes&&t.setContentContextHashList(e.contentContextHashes),t}},Lvrm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=t.Date=void 0;const i=n("hRO2");class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n={year:i.Message.getFieldWithDefault(t,1,0),month:i.Message.getFieldWithDefault(t,2,0),day:i.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setYear(n);break;case 2:var i=t.readInt32();e.setMonth(i);break;case 3:var o=t.readInt32();e.setDay(o);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getYear())&&t.writeInt32(1,n),0!==(n=e.getMonth())&&t.writeInt32(2,n),0!==(n=e.getDay())&&t.writeInt32(3,n)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getYear(){return i.Message.getFieldWithDefault(this,1,0)}setYear(e){i.Message.setProto3IntField(this,1,e)}getMonth(){return i.Message.getFieldWithDefault(this,2,0)}setMonth(e){i.Message.setProto3IntField(this,2,e)}getDay(){return i.Message.getFieldWithDefault(this,3,0)}setDay(e){i.Message.setProto3IntField(this,3,e)}}t.Date=o,o.displayName="Date";class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={year:i.Message.getFieldWithDefault(t,1,0),month:i.Message.getFieldWithDefault(t,2,0),day:i.Message.getFieldWithDefault(t,3,0),seconds:i.Message.getFieldWithDefault(t,4,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setYear(n);break;case 2:var i=t.readInt32();e.setMonth(i);break;case 3:var o=t.readInt32();e.setDay(o);break;case 4:var a=t.readInt32();e.setSeconds(a);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getYear())&&t.writeInt32(1,n),0!==(n=e.getMonth())&&t.writeInt32(2,n),0!==(n=e.getDay())&&t.writeInt32(3,n),0!==(n=e.getSeconds())&&t.writeInt32(4,n)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getYear(){return i.Message.getFieldWithDefault(this,1,0)}setYear(e){i.Message.setProto3IntField(this,1,e)}getMonth(){return i.Message.getFieldWithDefault(this,2,0)}setMonth(e){i.Message.setProto3IntField(this,2,e)}getDay(){return i.Message.getFieldWithDefault(this,3,0)}setDay(e){i.Message.setProto3IntField(this,3,e)}getSeconds(){return i.Message.getFieldWithDefault(this,4,0)}setSeconds(e){i.Message.setProto3IntField(this,4,e)}}t.DateTime=a,a.displayName="DateTime"},"UdS/":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("8Y7J"),o=n("1Ell"),a=n("Q2Ze"),r=n("i1AJ"),s=n("ZTz/"),l=n("s7LF"),d=n("UhP/");const c=function(){return{standalone:!0}};let g=(()=>{class e{constructor(){this._quickFilter=o.EventStatus.NONE,this.eventStatuses=o.EventStatus,this.quickFilterChange=new i.EventEmitter}get quickFilter(){return this._quickFilter}set quickFilter(e){this._quickFilter=e}onQuickFilterChange(){this.quickFilterChange.emit(this.quickFilter)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-quick-filter"]],inputs:{quickFilter:"quickFilter"},outputs:{quickFilterChange:"quickFilterChange"},decls:16,vars:13,consts:[["mgFormField","","appearance","legacy","floatLabel","never",1,"filter-select",3,"mgHideOptionalMarker","mgNoHintMargin","mgResponsiveHeight","mgNoFloatTop"],["placeholder","Quick Filter","panelClass","rounded-dropdown",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2,"Quick Filter"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"mat-select",1),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.quickFilter=e}))("ngModelChange",(function(){return t.onQuickFilterChange()})),i["\u0275\u0275elementStart"](4,"mat-option",2),i["\u0275\u0275text"](5,"All Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"mat-option",2),i["\u0275\u0275text"](7,"My Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"mat-option",2),i["\u0275\u0275text"](9,"- Invited to"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"mat-option",2),i["\u0275\u0275text"](11,"- Maybe"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"mat-option",2),i["\u0275\u0275text"](13,"- Going"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"mat-option",2),i["\u0275\u0275text"](15,"- Can't Go"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("mgHideOptionalMarker",!0)("mgNoHintMargin",!0)("mgResponsiveHeight",!0)("mgNoFloatTop",!0),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",t.quickFilter)("ngModelOptions",i["\u0275\u0275pureFunction0"](12,c)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",t.eventStatuses.NONE),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value","My Events"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.INVITED),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.INTERESTED),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.GOING),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.NOT_GOING))},directives:[a.d,r.a,a.h,s.a,l.t,l.w,d.m],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.filter-select[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:6px;padding:0 2px 0 6px}'],changeDetection:0}),e})()},c0o2:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("8Y7J"),o=n("lJxs"),a=n("DO6O"),r=n("VDRc"),s=n("SVse"),l=n("UdS/"),d=n("Fudl"),c=n("iInd");function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275text"](1," Calendar "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("routerLink",e.calendarPath)}}function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275text"](1," List "),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("routerLink",e.schedulePath)}}let m=(()=>{class e{constructor(e){this.calendarService=e,this.calendarScheduleOptionsOpened=!1,this.calendarPath="",this.schedulePath="",this.clickOptions=new i.EventEmitter,this.settings$=e.settings$.pipe(Object(o.a)(e=>Object.assign({},e)))}openCalendarOptions(){this.calendarScheduleOptionsOpened=!this.calendarScheduleOptionsOpened}onClickOptions(){this.openCalendarOptions(),this.clickOptions.emit()}onQuickFilterChange(e){this.calendarService.setQuickFilter(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-schedule-nav"]],inputs:{calendarPath:"calendarPath",schedulePath:"schedulePath"},outputs:{clickOptions:"clickOptions"},decls:10,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"calendar-nav"],["class","calendar-nav-btn","routerLinkActive","active",3,"routerLink",4,"ngIf"],["fxFlex","auto"],[3,"quickFilter","quickFilterChange"],[1,"cog-wrapper",3,"click"],[1,"calendar-options-btn"],[1,"calendar-schedule-options-top-border"],["routerLinkActive","active",1,"calendar-nav-btn",3,"routerLink"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,g,2,1,"div",1),i["\u0275\u0275template"](2,p,2,1,"div",1),i["\u0275\u0275element"](3,"div",2),i["\u0275\u0275elementStart"](4,"mg-calendar-quick-filter",3),i["\u0275\u0275listener"]("quickFilterChange",(function(e){return t.onQuickFilterChange(e)})),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275listener"]("click",(function(){return t.onClickOptions()})),i["\u0275\u0275elementStart"](7,"mg-icon",5),i["\u0275\u0275text"](8,"settings-active"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"div",6)),2&e){let e=null;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.calendarPath),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.schedulePath),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("quickFilter",null==(e=i["\u0275\u0275pipeBind1"](5,5,t.settings$))?null:e.quickFilter),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("options-opened",t.calendarScheduleOptionsOpened)}},directives:[r.e,r.d,s.o,r.b,l.a,d.a,c.i,c.h],pipes:[s.b],styles:["[_nghost-%COMP%]{display:block}@media (max-width:510px){[_nghost-%COMP%]{background-color:#fff}}.calendar-nav[_ngcontent-%COMP%]{margin:0;padding-top:4px;box-sizing:border-box}.calendar-nav[_ngcontent-%COMP%]   .cog-wrapper[_ngcontent-%COMP%]{padding:0 8px 2px}.calendar-nav-btn[_ngcontent-%COMP%]{color:#2f2f2f;font-size:14px;font-weight:700;cursor:pointer;padding:14px;margin:0;border-bottom:3px solid transparent;outline:none;box-sizing:border-box;flex-basis:20%;flex-grow:0;text-align:center}.calendar-nav-btn.active[_ngcontent-%COMP%]{color:#70b2d7;border-bottom:3px solid #70b2d7;border-left:1px solid #f0f0f0;border-right:1px solid #f0f0f0}.calendar-options-btn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;transform:rotate(0deg);transition:transform .1s ease,color .1s ease;color:#2f2f2f;display:inline-block}.calendar-options-btn.options-opened[_ngcontent-%COMP%]{color:#036;transform:rotate(45deg)}.calendar-schedule-options-top-border[_ngcontent-%COMP%]{border-top:1px solid #ccc;box-shadow:0 0 16px rgba(0,0,0,.4)}mg-calendar-quick-filter[_ngcontent-%COMP%]{font-size:14px;max-width:38%}"],changeDetection:0}),e})()},cPHN:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n("c0o2");var i=n("SVse"),o=n("8Y7J"),a=n("u9T3"),r=n("iInd"),s=n("s7LF"),l=n("Q2Ze"),d=n("ZTz/"),c=n("HxU+");n("UdS/");let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[c.a,d.b,i.c,a.a,s.m,l.f]]}),e})();var p=n("ls3q");let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[p.a,g,i.c,r.k,a.a]]}),e})()},ei1q:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n("KlF+"),t)},jlhD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageInfo=t.ImageSize=void 0;const i=n("hRO2");class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n={path:i.Message.getFieldWithDefault(t,1,""),width:i.Message.getFieldWithDefault(t,2,0),height:i.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setPath(n);break;case 2:var i=t.readInt32();e.setWidth(i);break;case 3:var o=t.readInt32();e.setHeight(o);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getPath()).length>0&&t.writeString(1,n),0!==(n=e.getWidth())&&t.writeInt32(2,n),0!==(n=e.getHeight())&&t.writeInt32(3,n)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getPath(){return i.Message.getFieldWithDefault(this,1,"")}setPath(e){i.Message.setProto3StringField(this,1,e)}getWidth(){return i.Message.getFieldWithDefault(this,2,0)}setWidth(e){i.Message.setProto3IntField(this,2,e)}getHeight(){return i.Message.getFieldWithDefault(this,3,0)}setHeight(e){i.Message.setProto3IntField(this,3,e)}}t.ImageSize=o,o.displayName="ImageSize";class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n,i={sizeMap:(n=t.getSizeMap())?n.toObject(e,o.toObject):[]};return e&&(i.$jspbMessageInstance=t),i}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(4===t.getFieldNumber()){var n=e.getSizeMap();t.readMessage(n,(function(e,t){i.Map.deserializeBinary(e,t,i.BinaryReader.prototype.readString,i.BinaryReader.prototype.readMessage,o.deserializeBinaryFromReader,"")}))}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getSizeMap(!0))&&n.getLength()>0&&n.serializeBinary(4,t,i.BinaryWriter.prototype.writeString,i.BinaryWriter.prototype.writeMessage,o.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getSizeMap(e=!1){return i.Message.getMapField(this,4,e,o)}clearSizeMap(){this.getSizeMap().clear()}}t.ImageInfo=a,a.displayName="ImageInfo"},kxWE:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("8Y7J"),o=n("lJxs"),a=n("HSxi"),r=n("DO6O"),s=n("c0o2"),l=n("SVse"),d=n("GOup");function c(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h1",8),i["\u0275\u0275text"](1," Calendar Settings "),i["\u0275\u0275elementEnd"]())}function g(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h1",8),i["\u0275\u0275text"](1," Events List Settings "),i["\u0275\u0275elementEnd"]())}function p(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275template"](1,c,2,0,"h1",5),i["\u0275\u0275template"](2,g,2,0,"h1",5),i["\u0275\u0275elementStart"](3,"mg-calendar-schedule-options",6,7),i["\u0275\u0275listener"]("groupHashesChange",(function(n){i["\u0275\u0275restoreView"](e);const o=t.ngIf;return i["\u0275\u0275nextContext"](2)._onGroupSelectChange(o,n)}))("eventCategoryChange",(function(n){i["\u0275\u0275restoreView"](e);const o=t.ngIf;return i["\u0275\u0275nextContext"](2)._onCategorySelectChange(o,n)}))("submit",(function(n){i["\u0275\u0275restoreView"](e);const o=t.ngIf;return i["\u0275\u0275nextContext"](2).applyOptions(n,o)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.ngIf;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.showCalendarSettings),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.showCalendarSettings),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("includeWeekends",!e.excludeWeekend)("calendarView",e.calendarView)("groupHashes",e.groupHashes)("selectedCategory",e.category)("showPastEvents",e.showPastEvents)("showCalendarSettings",e.showCalendarSettings)}}function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275template"](1,p,5,8,"div",3),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](2,1,e.settings$))}}let h=(()=>{class e{constructor(e,t){this.eventCalendarService=t,this.searchText="",this.calendarScheduleOptionsOpened=!1,this.settings$=t.settings$.pipe(Object(o.a)(e=>Object.assign({},e))),this.groups$=e.groups$}openCalendarOptions(){this.calendarScheduleOptionsOpened=!this.calendarScheduleOptionsOpened}applyOptions(e,t){const n=Object.assign(Object.assign({},t),{excludeWeekend:!e.includeWeekends,calendarView:e.calendarView,showPastEvents:e.showPastEvents,showCalendarSettings:e.showCalendarSettings});this.eventCalendarService.updateSettings(n,!0),this.calendarScheduleOptionsOpened=!1}_onGroupSelectChange(e,t){t?e.groupHashes=[t]:delete e.groupHashes}_onCategorySelectChange(e,t){t?e.category=t:delete e.category}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.b),i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-events-home"]],decls:2,vars:3,consts:[[3,"calendarPath","schedulePath","clickOptions"],["class","calendar-schedule-options-container",4,"ngIf"],[1,"calendar-schedule-options-container"],["class","calendar-schedule-options",4,"ngIf"],[1,"calendar-schedule-options"],["class","calendar-settings-title",4,"ngIf"],[3,"includeWeekends","calendarView","groupHashes","selectedCategory","showPastEvents","showCalendarSettings","groupHashesChange","eventCategoryChange","submit"],["calendarScheduleOptions",""],[1,"calendar-settings-title"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mg-calendar-schedule-nav",0),i["\u0275\u0275listener"]("clickOptions",(function(){return t.openCalendarOptions()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](1,m,3,3,"div",1)),2&e&&(i["\u0275\u0275property"]("calendarPath","./calendar")("schedulePath","./schedule"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.calendarScheduleOptionsOpened))},directives:[s.a,l.o,d.a],pipes:[l.b],styles:["[_nghost-%COMP%]{position:relative;display:block}@keyframes options-slide-in{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.calendar-options-btn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;transform:rotate(0deg);transition:transform .1s ease,color .1s ease;color:#2f2f2f}.calendar-options-btn.options-opened[_ngcontent-%COMP%]{color:#036;transform:rotate(45deg)}.calendar-schedule-options-container[_ngcontent-%COMP%]{overflow:hidden;margin:0 8px;border-bottom:1px solid #ccc}.calendar-schedule-options-container[_ngcontent-%COMP%]   .calendar-schedule-options[_ngcontent-%COMP%]{max-width:350px;padding:8px;margin:8px auto;transform:translateY(-100%);animation:options-slide-in .15s ease;animation-iteration-count:1;animation-fill-mode:forwards}.calendar-settings-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;text-align:center;margin:0 0 8px;color:#737373}"],changeDetection:0}),e})()},obdK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BadgeCollectionClient=t.BadgeCollection=void 0;const i=n("tJrb");class o{}t.BadgeCollection=o,o.serviceName="minga.badge.BadgeCollection",o.GetPersonBadges={methodName:"GetPersonBadges",service:o,requestStream:!1,responseStream:!1,requestType:i.GetPersonBadgesRequest,responseType:i.GetPersonBadgesResponse},t.BadgeCollectionClient=class{getPersonBadges(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},p58v:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n("kxWE");var i=n("SVse"),o=n("8Y7J"),a=n("u9T3"),r=n("s7LF"),s=n("ZTz/"),l=n("cPHN"),d=n("DWt7"),c=n("HxU+"),g=n("ls3q");let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[s.b,d.a,c.a,g.a,l.a,i.c,a.a,r.m]]}),e})()},"q/ba":function(e,t,n){"use strict";n.r(t),n.d(t,"HomeRoutesModule",(function(){return Xi}));var i=n("SVse"),o=n("8Y7J"),a=n("u9T3"),r=n("s7LF"),s=n("pMoy"),l=n("UhP/"),d=n("o4Yh"),c=n("Q2Ze"),g=n("Tj54"),p=n("e6WT"),m=n("pu8Q"),h=n("jMqV"),u=n("M9ds"),f=n("iInd"),v=n("TSSN"),C=n("Vwx4"),P=n("mrSG"),x=n("DwZP"),M=n("k/kw"),w=n("UWMR"),y=n("B3cG"),b=n("uT/y"),O=n("w8an");let _=(()=>{class e{constructor(e,t,n,i,o){this.mingaManager=e,this.snackBar=t,this.fileUploadManager=n,this.router=i,this.cdr=o,this.mingaFiles=[],this.fileListStyle=x.b.CARDS,this.retrieveFiles()}onFileChange(e){this.fileUploadManager.addPendingFiles("mingaFiles",e),this.router.navigate(["",{outlets:{o:["files~upload"]}}])}retrieveFiles(){return Object(P.a)(this,void 0,void 0,(function*(){this.mingaFiles=yield this.mingaManager.getFiles().catch(e=>(console.error("retrieve minga files error: ",e),this.snackBar.open("unable to retrieve files, please try again later."),[]))}))}onFileDelete(e){this._removeFile(e.file,e.index)}_removeFile(e,t){return Object(P.a)(this,void 0,void 0,(function*(){this.mingaFiles.splice(t,1),yield this.mingaManager.removeFile(e.hash).then(e=>{this.mingaFiles=e}).catch(t=>{console.error("onFileIndexDelete() removeGroupFile error: ",t),this.mingaFiles.push({file:e}),this.snackBar.open("uh oh, an error occurred, please try again later"),this.cdr.markForCheck()})}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](M.a),o["\u0275\u0275directiveInject"](w.b),o["\u0275\u0275directiveInject"](y.d),o["\u0275\u0275directiveInject"](f.g),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-minga-files"]],decls:2,vars:5,consts:[[3,"files","listStyle","enableFileManagement","fileDelete"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mg-file-list-container",0),o["\u0275\u0275listener"]("fileDelete",(function(e){return t.onFileDelete(e)})),o["\u0275\u0275pipe"](1,"hasPermission"),o["\u0275\u0275elementEnd"]()),2&e&&o["\u0275\u0275property"]("files",t.mingaFiles)("listStyle",t.fileListStyle)("enableFileManagement",o["\u0275\u0275pipeBind1"](1,3,"MINGA_FILE_CREATE"))},directives:[b.a],pipes:[O.a],styles:["mg-file-list[_ngcontent-%COMP%]{--mg-file-list-side-padding:0}@media (orientation:landscape){mg-file-list[_ngcontent-%COMP%]{margin-top:5.0724637681vh}}@media (orientation:portrait){mg-file-list[_ngcontent-%COMP%]{margin-top:5.0724637681vw}}@media (orientation:landscape) and (max-height:414px){mg-file-list[_ngcontent-%COMP%]{margin-top:21px}}@media (orientation:portrait) and (max-width:414px){mg-file-list[_ngcontent-%COMP%]{margin-top:21px}}@media (min-width:433.7142857143px){mg-file-list[_ngcontent-%COMP%]{margin-top:22px}}@media (max-width:599px){mg-file-list[_ngcontent-%COMP%]{--mg-file-list-side-padding:16px}}"]}),e})();n("Z+Q6"),n("ls3q");var I=n("5m4e"),S=n("ZTz/"),E=n("p58v"),k=n("HxU+"),F=n("DjdL"),N=n("HDrY"),B=n("TUjp"),D=n("kxWE"),T=n("Q5WP");function j(e,t){if(1&e&&o["\u0275\u0275element"](0,"mg-search-content",1),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("query",e.searchText)}}let z=(()=>{class e{constructor(){this.searchText=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[["mgSearchArea","","placeholder","Search Events",3,"searchText"],["contentType","EVENT",3,"query"]],template:function(e,t){1&e&&(o["\u0275\u0275template"](0,j,1,1,"ng-template",0),o["\u0275\u0275listener"]("searchText",(function(e){return t.searchText=e})),o["\u0275\u0275element"](1,"mg-events-home"),o["\u0275\u0275element"](2,"router-outlet"))},directives:[B.a,D.a,f.l,T.a],styles:["[_nghost-%COMP%]{position:relative;display:block}@keyframes options-slide-in{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.calendar-options-btn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;transform:rotate(0deg);transition:transform .1s ease,color .1s ease;color:#2f2f2f}.calendar-options-btn.options-opened[_ngcontent-%COMP%]{color:#036;transform:rotate(45deg)}.calendar-schedule-options-container[_ngcontent-%COMP%]{overflow:hidden;margin:0 8px;border-bottom:1px solid #ccc}.calendar-schedule-options-container[_ngcontent-%COMP%]   .calendar-schedule-options[_ngcontent-%COMP%]{max-width:350px;padding:8px;margin:8px auto;transform:translateY(-100%);animation:options-slide-in .15s ease;animation-iteration-count:1;animation-fill-mode:forwards}.calendar-settings-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;text-align:center;margin:0 0 8px;color:#737373}"],changeDetection:0}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[N.a,F.d,k.a,E.a,i.c,f.k,a.a,c.f,S.b,r.m,s.b]]}),e})();var L=n("O8vW"),V=n("WIUb"),A=n("CO6v"),U=(n("MMqW"),n("9F0b")),H=n("YcSX");function W(e){return e.substr(0,1)}let q=(()=>{class e{constructor(){this.type=null,this.status=null}get mingaType(){return this.type?W(this.type):""}get mingaStatus(){return this.status?W(this.status):""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-minga-identity"]],hostVars:4,hostBindings:function(e,t){2&e&&o["\u0275\u0275classProp"]("has-type",t.type)("has-status",t.status)},inputs:{type:"type",status:"status"},decls:2,vars:1,consts:[[1,"mg-minga-identity"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",t.mingaType||t.mingaStatus,"\n"))},styles:["[_nghost-%COMP%]{display:inline-block;margin:8px;--mg-minga-identity-size:24px}[_nghost-%COMP%], [_nghost-%COMP%]   .mg-minga-identity[_ngcontent-%COMP%]{height:var(--mg-minga-identity-size)}[_nghost-%COMP%]   .mg-minga-identity[_ngcontent-%COMP%]{display:inherit;border-radius:50%;border:1px;border-style:solid;line-height:var(--mg-minga-identity-size);width:var(--mg-minga-identity-size);display:inline-block;font-size:10px;border-color:inherit;color:inherit;text-align:center;vertical-align:top}.has-type[_nghost-%COMP%]{border-color:#3cf;color:#3cf}.has-status[_nghost-%COMP%]{border-color:#93f;color:#93f}"]}),e})();var G=n("iIIi"),$=n("fHWq"),Y=n("gU2t"),Q=n("Ogcz"),K=n("7Tcv"),J=(n("mmWe"),n("LvDl")),Z=(n("g8ec"),n("GVla")),X=n("vtEA"),ee=n("Ggka"),te=n("jaBy"),ne=n("yPf/"),ie=n("QPZY"),oe=n("mI3D"),ae=n("Cnb3"),re=n("Pwpr"),se=n.n(re),le=n("iELJ"),de=n("JF7H"),ce=n("GFah"),ge=n("IPaV"),pe=n("Tcc+"),me=n("WH00"),he=n("Y9fu"),ue=n("orC8"),fe=n("zc8W"),ve=n("3qIc"),Ce=n("gjtd"),Pe=n("Hp2Z"),xe=n("2FiO"),Me=n("T0RT"),we=n("iBVM"),ye=n("sj4O"),be=n("cKGL"),Oe=n("i1AJ"),_e=n("h1gb"),Ie=n("4avL");const Se=["fileInput"],Ee=["form"],ke=["mingaNameInput"],Fe=["oldPasswordInput"],Ne=["profileCard"];function Be(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-ellipsis",25),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).openProfilePopoverOptions(t)})),o["\u0275\u0275elementEnd"]()}}function De(e,t){if(1&e&&o["\u0275\u0275element"](0,"mg-file-upload",29),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275property"]("file",e.logoInputFiles[0])("formControl",e.uploadFormControl)}}function Te(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"mg-file-input",26,27),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).logoInputFiles=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](3,De,1,2,"mg-file-upload",28),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("multiple",!1)("customTitleText","Change")("ngModel",e.logoInputFiles),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.logoInputFiles[0])}}function je(e,t){1&e&&o["\u0275\u0275element"](0,"mg-spinner",30),2&e&&o["\u0275\u0275property"]("diameter",100)("thickness",4)}function ze(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"p",35),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.schoolType," ")}}function Re(e,t){if(1&e&&o["\u0275\u0275element"](0,"p",36),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275property"]("innerHTML",e.locationDetails,o["\u0275\u0275sanitizeHtml"])}}function Le(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",31),o["\u0275\u0275elementStart"](1,"p",32),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](3,ze,2,1,"p",33),o["\u0275\u0275template"](4,Re,1,1,"p",34),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.minga.name),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("hasPermission","SUPERADMIN"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.locationDetails)}}function Ve(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"p",39),o["\u0275\u0275text"](2,"Minga Administrator"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",40),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](null==e.minga?null:e.minga.adminFullName)}}function Ae(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"p",40),o["\u0275\u0275elementStart"](1,"a",41),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"span"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275propertyInterpolate1"]("href","mailto:",null==e.minga?null:e.minga.adminEmail,"",o["\u0275\u0275sanitizeUrl"]),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",null==e.minga?null:e.minga.adminEmail," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](null==e.minga?null:e.minga.adminPhone)}}function Ue(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",37),o["\u0275\u0275template"](1,Ve,5,1,"ng-container",2),o["\u0275\u0275template"](2,Ae,5,3,"p",38),o["\u0275\u0275pipe"](3,"hasPermission"),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==e.minga?null:e.minga.adminFullName),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",((null==e.minga?null:e.minga.adminEmail)||(null==e.minga?null:e.minga.adminPhone))&&o["\u0275\u0275pipeBind1"](3,2,"SUPERADMIN"))}}function He(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",42),o["\u0275\u0275element"](1,"mg-minga-identity",43),o["\u0275\u0275element"](2,"mg-minga-identity",44),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("type",e.minga.mingaType),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("status",e.minga.mingaStatus)}}function We(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("Start: ",e.subscriptionStartDate,"")}}function qe(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"]("End: ",e.subscriptionEndDate,"")}}function Ge(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",45),o["\u0275\u0275elementStart"](1,"p",39),o["\u0275\u0275text"](2,"Subscription"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",40),o["\u0275\u0275template"](4,We,2,1,"span",2),o["\u0275\u0275template"](5,qe,2,1,"span",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",e.subscriptionStartDate),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.subscriptionEndDate)}}function $e(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.mingaName.error.maxlength")," "))}function Ye(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.mingaName.error.pattern")," "))}function Qe(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.mingaName.error.required")," "))}function Ke(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275elementContainerStart"](1,54),o["\u0275\u0275template"](2,$e,3,3,"span",55),o["\u0275\u0275template"](3,Ye,3,3,"span",55),o["\u0275\u0275template"](4,Qe,3,3,"span",55),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitch",e.mingaNameControlErrorKey),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","maxlength"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","pattern"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","required")}}function Je(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",56),o["\u0275\u0275elementStart"](1,"mg-button",57),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).toggleEditForm()})),o["\u0275\u0275text"](2,"Cancel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mg-button",58),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).updateProfile(t)})),o["\u0275\u0275text"](4,"Save"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](1);o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("disabled",null==e?null:e.invalid)}}function Ze(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"form",46,47),o["\u0275\u0275listener"]("submit",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).updateProfile(t)})),o["\u0275\u0275element"](2,"input",48),o["\u0275\u0275elementStart"](3,"mat-form-field",49),o["\u0275\u0275elementStart"](4,"mat-label"),o["\u0275\u0275text"](5,"Minga Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"input",50,51),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).minga.name=t}))("keydown",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onKeyDown(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](8,Ke,5,4,"mat-error",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](9,"mg-address",52),o["\u0275\u0275listener"]("save",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).updateProfile(t)}))("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).newMingaPlace=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](10,Je,5,1,"div",53),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](1),t=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("autocomplete","minga-profile-form-off-"+t.currentTime),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("autocomplete","hidden-input-off-"+t.currentTime)("name","mingaProfileHidden-"+t.currentTime),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("name","profileMingaName-"+t.currentTime)("ngModel",t.minga.name)("autocomplete","mingaName-off-"+t.currentTime)("formControl",t.mingaNameFormControl),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.mingaNameFormControl.invalid&&(t.mingaNameFormControl.dirty||t.mingaNameFormControl.touched||e.submitted)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("outerFormControl",t.mingaPlaceFormControl)("ngModel",t.newMingaPlace)("originalValue",t.currentMingaPlace)("required",!0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.editing&&t.formHasChanges)}}function Xe(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-icon",62),o["\u0275\u0275listener"]("click",(function(t){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275nextContext"](3);return n._preventEventBehaviors(t),n.openChangePhoneDialog(t)})),o["\u0275\u0275text"](1,"edit"),o["\u0275\u0275elementEnd"]()}}function et(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",59),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onPhoneLinkClick(t)})),o["\u0275\u0275template"](1,Xe,2,0,"mat-icon",60),o["\u0275\u0275element"](2,"mg-button-icon",61),o["\u0275\u0275elementStart"](3,"span",22),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classProp"]("unprovided",!e.minga.phone),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editing),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](e.prettyPhoneDisplay||"add phone number")}}function tt(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-icon",62),o["\u0275\u0275listener"]("click",(function(t){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275nextContext"](3);return n._preventEventBehaviors(t),n.openChangeUrlDialog(t)})),o["\u0275\u0275text"](1,"edit"),o["\u0275\u0275elementEnd"]()}}function nt(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",59),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onWebUrlLinkClick(t)})),o["\u0275\u0275template"](1,tt,2,0,"mat-icon",60),o["\u0275\u0275element"](2,"mg-button-icon",63),o["\u0275\u0275elementStart"](3,"span",22),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classProp"]("unprovided",!e.mingaUrlShortened),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editing),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](e.mingaUrlShortened||"add website")}}function it(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-icon",62),o["\u0275\u0275listener"]("click",(function(t){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275nextContext"](3);return n._preventEventBehaviors(t),n.openChangeEmailDialog(t)})),o["\u0275\u0275text"](1,"edit"),o["\u0275\u0275elementEnd"]()}}function ot(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",59),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onEmailLinkClick(t)})),o["\u0275\u0275template"](1,it,2,0,"mat-icon",60),o["\u0275\u0275element"](2,"mg-button-icon",64),o["\u0275\u0275elementStart"](3,"span",22),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classProp"]("unprovided",!e.minga.email),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editing),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](e.minga.email||"add email")}}function at(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-icon",62),o["\u0275\u0275listener"]("click",(function(t){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275nextContext"](2),i=n.$implicit,a=n.index,r=o["\u0275\u0275nextContext"](3);return r._preventEventBehaviors(t),r.openChangeLinkDialog(i.link,a)})),o["\u0275\u0275text"](1,"edit"),o["\u0275\u0275elementEnd"]()}}function rt(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",59),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](e);const t=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"](3).onMingaLinkClick(t.link.url)})),o["\u0275\u0275template"](1,at,2,0,"mat-icon",60),o["\u0275\u0275element"](2,"mg-button-icon",68),o["\u0275\u0275elementStart"](3,"span",22,69),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](4),t=o["\u0275\u0275nextContext"]().$implicit,n=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("color",t.color),o["\u0275\u0275classProp"]("social-link",t.isSocialMedia),o["\u0275\u0275property"]("icon",t.link.icon)("no-active",t.isSocialMedia),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](n.getShortLinkText(t.link.title,e))}}function st(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,rt,6,8,"div",67),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.link.id)}}function lt(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",65),o["\u0275\u0275template"](1,st,2,1,"ng-container",66),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.mingaLinks)}}function dt(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",70),o["\u0275\u0275elementStart"](1,"mg-button",71),o["\u0275\u0275listener"]("click",(function(t){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275nextContext"](2);return n._preventEventBehaviors(t),n.openAddNewLinkDialog(t)})),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](3,1,"button.addNewLink")))}const ct=function(){return["minga-files"]},gt=function(e){return{o:e}},pt=function(e){return{outlets:e}},mt=function(e){return["",e]};function ht(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,Be,1,0,"mg-ellipsis",3),o["\u0275\u0275elementStart"](2,"div",4),o["\u0275\u0275elementStart"](3,"mg-avatar",5),o["\u0275\u0275elementStart"](4,"div",6),o["\u0275\u0275element"](5,"div",7),o["\u0275\u0275template"](6,Te,4,4,"ng-container",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,je,1,2,"mg-spinner",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",9),o["\u0275\u0275elementStart"](9,"div",10),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](11," Members "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](12,Le,5,3,"div",11),o["\u0275\u0275template"](13,Ue,4,4,"div",12),o["\u0275\u0275template"](14,He,3,2,"div",13),o["\u0275\u0275pipe"](15,"hasPermission"),o["\u0275\u0275template"](16,Ge,6,2,"div",14),o["\u0275\u0275pipe"](17,"hasPermission"),o["\u0275\u0275template"](18,Ze,11,13,"form",15),o["\u0275\u0275elementStart"](19,"div",16),o["\u0275\u0275elementStart"](20,"div",17),o["\u0275\u0275template"](21,et,5,4,"div",18),o["\u0275\u0275template"](22,nt,5,4,"div",18),o["\u0275\u0275template"](23,ot,5,4,"div",18),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"div",19),o["\u0275\u0275elementStart"](25,"div",20),o["\u0275\u0275element"](26,"mg-button-icon",21),o["\u0275\u0275elementStart"](27,"span",22),o["\u0275\u0275text"](28,"Files"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](29,lt,2,1,"div",23),o["\u0275\u0275template"](30,dt,4,3,"div",24),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.hasEditPermission),o["\u0275\u0275advance"](1),o["\u0275\u0275classProp"]("editing",e.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("square",!0)("overflow",!1)("borderless",!e.editing),o["\u0275\u0275advance"](2),o["\u0275\u0275styleProp"]("background-image","url("+e.mingaLogo+")"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e._loading),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](null==e.minga?null:e.minga.memberCount),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!e.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!e.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!e.editing&&o["\u0275\u0275pipeBind1"](15,24,"SUPERADMIN")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!e.editing&&(e.subscriptionStartDate||e.subscriptionEndDate)&&o["\u0275\u0275pipeBind1"](17,26,"MINGA_PROFILE_EDIT")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.editing),o["\u0275\u0275advance"](2),o["\u0275\u0275classProp"]("triple-link-row",e.editing||e.minga.phone&&e.minga.websiteUrl&&e.minga.email),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editing||e.minga.phone),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editing||e.minga.websiteUrl),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editing||e.minga.email),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](33,mt,o["\u0275\u0275pureFunction1"](31,pt,o["\u0275\u0275pureFunction1"](29,gt,o["\u0275\u0275pureFunction0"](28,ct))))),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",e.mingaLinks&&e.mingaLinks.length),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editing)}}let ut=(()=>{class e{constructor(e,t,n,i,o,a,s,l,d,c,g,p,m,h){this.dialog=e,this.authService=t,this.snackBar=n,this.rootService=i,this.errorReporting=o,this.permissions=a,this.element=s,this.analytics=l,this.mingaManager=d,this.contentEvents=c,this.linkOpener=g,this.userStorage=p,this.authInfo=m,this.mingaStore=h,this.mingaLogo="",this.logoInputFiles=[],this._loading=!1,this._uploading=!1,this.uploadAsset="",this.hasEditPermission=!1,this.editing=!1,this.memberCount=0,this.editingName=!1,this.editingPlace=!1,this.newMingaPlace=null,this.newMingaPhone=null,this.newMingaUrl=null,this.newMingaEmail=null,this.showEmail=!1,this.oldPasswordVisible=!1,this.oldPasswordType="password",this.oldPasswordIcon="visibility",this.newPasswordVisible=!1,this.newPasswordType="password",this.newPasswordIcon="visibility",this.handingFocusEvent=!1,this.enableReadOnlyState=!window.MINGA_DEVICE_ANDROID&&!window.MINGA_DEVICE_IOS,this.currentTime=Date.now(),this.currentMingaName="",this.linkClipCharLength=16,this.mingaNameFormControl=new r.h,this.mingaPlaceFormControl=new r.h,this.mingaPhoneFormControl=new r.h(this.newMingaPhone,[X.b]),this.mingaWebsiteUrlFormControl=new r.h(this.newMingaUrl,[ee.a.WebsiteUrl]),this.mingaEmailFormControl=new r.h(this.newMingaEmail,[ee.a.Email,r.D.maxLength(50)]),this.uploadFormControl=new r.h,this.uploadFormControl.statusChanges.subscribe(e=>{this._uploading="PENDING"===e,"VALID"===e&&this.onUploadLogoDone(this.uploadFormControl.value)}),window.addEventListener("keyboardWillShow",e=>{const t=document.getElementsByClassName("bottom-toolbar");if(t&&t.length)for(let n=0;n<t.length;n++)t[n].setAttribute("style","display: none")}),window.addEventListener("keyboardWillHide",()=>{const e=document.getElementsByClassName("bottom-toolbar");if(e&&e.length)for(let t=0;t<e.length;t++)e[t].setAttribute("style","display: block")}),this.initPermissions(),this.mingaLinkSaveSub=this.mingaManager.onMingaLinkSaveSuccess.subscribe(e=>this.onMingaLinkSave(e)),this.mingaLinkDeleteSub=this.mingaManager.onMingaLinkDelete.subscribe(e=>this.onMingaLinkDelete(e))}onResize(e){this.calcLinkTextClipping()}onBeforeUnload(e){let t=this.preventNavigation();if(t)return e.returnValue=t,t}get formHasChanges(){return!(!this.minga.name||this.minga.name==this.currentMingaName)||!(!this.newMingaPlace||this.newMingaPlace==this.currentMingaPlace)||null!==this.newMingaPhone&&this.newMingaPhone!=this.minga.phone||null!==this.newMingaUrl&&this.newMingaUrl!=this.minga.websiteUrl||null!==this.newMingaEmail&&this.newMingaEmail!=this.minga.email||!(!this.newMingaPlace||this.newMingaPlace==this.minga.placeId)}ngOnInit(){this._retrieveProfile(),this.calcLinkTextClipping(),window.MINGA_DEVICE_IOS&&this.element.nativeElement.classList.add("ios-long")}ngOnDestroy(){this.mingaLinkSaveSub&&this.mingaLinkSaveSub.unsubscribe(),this.mingaLinkDeleteSub&&this.mingaLinkDeleteSub.unsubscribe()}initPermissions(){return Object(P.a)(this,void 0,void 0,(function*(){this.hasEditPermission=this.permissions.hasPermission(ae.MingaPermission.MINGA_PROFILE_EDIT)}))}get currentMingaPlace(){return this.minga?this.minga.placeId:""}set currentMingaPlace(e){this.minga.placeId=e}get mingaUrlShortened(){return this.getShortUrl(this.minga.websiteUrl)}get disableSavingMingaName(){return!this.minga.name||this.minga.name==this.currentMingaName||this.mingaNameControlErrorKey||this.mingaNameFormControl.invalid&&(this.mingaNameFormControl.dirty||this.mingaNameFormControl.touched||this.form.submitted)}get mingaNameControlErrorKey(){return this.mingaNameError?this.mingaNameError:this.mingaNameFormControl.errors?Object.keys(this.mingaNameFormControl.errors)[0]:""}get prettyPhoneDisplay(){return this.minga&&this.minga.phone?this.minga.phone.length>10?this.minga.phone.replace(/^(\d|)?(\d{3})(\d{3})(\d{4})/,"$1.$2.$3.$4"):this.minga.phone.length>7?this.minga.phone.replace(/(\d{3})(\d{3})(\d{4})/,"$1.$2.$3"):this.minga.phone.replace(/(\d{3})(\d{4})/,"$1.$2"):""}get websiteUrlLinkTarget(){return this.mingaUrlShortened?window.MINGA_APP_BROWSER?"_blank":"_system":""}get schoolType(){return this.minga.schoolType?ae.schoolTypes[this.minga.schoolType]:""}get subscriptionEndDate(){return this.minga.endDate?this.minga.endDate.toLocaleDateString():""}get subscriptionStartDate(){return this.minga.startDate?this.minga.startDate.toLocaleDateString():""}openProfilePopoverOptions(e){return Object(P.a)(this,void 0,void 0,(function*(){e.stopImmediatePropagation(),e.preventDefault(),this.hasEditPermission&&(yield this.rootService.openGlobalMenu({x:e.pageX,y:e.pageY,items:[{name:this.editing?"Cancel":"Edit",click:()=>this.toggleEditForm()}]}))}))}initProfileContextMenu(){this.minga&&this.profileCardElement&&this.profileCardElement.nativeElement.addEventListener("contextmenu",e=>{this.openProfilePopoverOptions(e)})}toggleEditForm(){this.editing=!this.editing,this.editing||this.resetForm()}onMingaLinkSave(e){e.link&&(null!=e.link.index?this.updateMingaProfileLink(e.link,e.link.index):this.addMingaProfileLink(e.link))}onMingaLinkDelete(e){let t=null!=e.index&&void 0!==e.index?e.index:null;if(null==t&&e.id)for(let n=0;n<this.mingaLinks.length;n++)if(this.mingaLinks[n].link.id==e.id){t=n;break}null!=t&&this.mingaLinks.splice(t,1)}getSocialMediaIconColor(e){for(let t of Z.b)if(e==t.icon)return t.color;return""}calcLinkTextClipping(){const e=window.innerWidth;this.mingaLinksClippedTexts?this.mingaLinksClippedTexts.clear():this.mingaLinksClippedTexts=new Map,this.linkClipCharLength=e>599?15:e>410?14:e>=375?12:10}getShortLinkText(e,t){const n=this.mingaLinksClippedTexts.get(e),i=t.getBoundingClientRect().height;if(n&&i<35)return n;let o=e;return i>35&&(o=se()(e,this.linkClipCharLength,{breakWords:!0,maxLines:2})),i&&this.mingaLinksClippedTexts.set(e,o),o}preventNavigation(){return this.form.pending||this.editingName||this.editingPlace?"You have unsaved changes. Are you sure you want to leave?":""}initEditMingaName(){this.minga.name=this.currentMingaName,this.mingaNameFormControl=new r.h(this.minga.name,[r.D.required,r.D.maxLength(70),ee.a.NoSymbols]),this.form.form.contains("mingaName")?this.form.form.setControl("mingaName",this.mingaNameFormControl):this.form.form.addControl("mingaName",this.mingaNameFormControl),this.form.form.markAsPristine(),this.mingaNameInput.nativeElement.focus(),this.handingFocusEvent=!1}initEditMingaPlace(){this.newMingaPlace=this.currentMingaPlace,this.mingaPlaceFormControl=new r.h(this.newMingaPlace,[r.D.required]),this.form.form.contains("place")?this.form.form.setControl("place",this.mingaPlaceFormControl):this.form.form.addControl("place",this.mingaPlaceFormControl),this.form.form.markAsPristine(),this.mingaNameInput.nativeElement.focus(),this.handingFocusEvent=!1}_onUploadLogoDone(e){return Object(P.a)(this,void 0,void 0,(function*(){const t=yield this.mingaManager.updateMingaImage(null,e);if(t.getStatus()==ie.StatusCode.OK){this.snackBar.open("Minga Logo has been updated.");const e=t.getMingaImageInfo();e&&(this.mingaLogo=Object(te.d)(e),this.mingaStore.setMingaImageUrl(this.mingaLogo))}}))}_completeUrl(e){return Object(ne.a)(e)}getShortUrl(e){return Object(ne.b)(e)}onUploadLogoDone(e){return this._loading=!0,this._onUploadLogoDone(e).then(()=>{this._loading=!1},e=>{console.error(e),this._loading=!1})}updatePhotoClick(e){this.fileInput.trigger()}resetForm(){this.minga.name=this.currentMingaName,this.newMingaPlace=this.currentMingaPlace,this.form.form.markAsPristine()}toggleEditName(e=!this.editingName,t=null){this._preventEventBehaviors(t),this.editingName=e;const n=this.currentMingaName;this.editingName?this.initEditMingaName():(this.minga.name=n,this.form.form.markAsPristine())}_retrieveLocationFromPlaceId(e=this.currentMingaPlace){return Object(P.a)(this,void 0,void 0,(function*(){const t=`placeId_mingaProfile_${e}`,n=yield this.userStorage.getItem(t);if(n&&"string"==typeof n)return void(this.locationDetails=String(n));const i=document.createElement("div");new google.maps.places.PlacesService(i).getDetails({placeId:e,fields:["adr_address"]},(n,i)=>{if(i==google.maps.places.PlacesServiceStatus.OK){let e=n.adr_address,i=e.indexOf(",");if(i){let n=e.substring(0,i),o=e.substring(i+1);e=n+"<br>"+o,this.locationDetails=e,this.userStorage.setItem(t,this.locationDetails)}}else console.error(`<mg-address> update with place_id (${e}) failed with: ${i}`)})}))}toggleEditPlace(e=!this.editingPlace,t=null){this._preventEventBehaviors(t),this.editingPlace=e;const n=this.currentMingaPlace;this.editingPlace?this.initEditMingaPlace():(this.newMingaPlace=n,this.form.form.markAsPristine())}saveProfileChangesDialog(e="profile"){return Object(P.a)(this,void 0,void 0,(function*(){return new Promise((t,n)=>{this.dialog.open(G.a,{data:{text:"dialog.profileChange",saveButtonLocale:"button.save",textParams:e}}).afterClosed().subscribe(e=>{t(!0===e)})})}))}openAddNewLinkDialog(e){return Object(P.a)(this,void 0,void 0,(function*(){this._preventEventBehaviors(e),yield this.mingaManager.openMingaLinkForm(null)}))}openChangeLinkDialog(e,t){e.index=t,this.mingaManager.openMingaLinkForm({link:e})}openChangePhoneDialog(e){return Object(P.a)(this,void 0,void 0,(function*(){return this._preventEventBehaviors(e),new Promise((e,t)=>{this.dialog.open(G.a,{data:{text:"dialog.phone.title",saveButtonLocale:"button.save",inputPlaceholder:"dialog.phone.placeholder",inputType:"tel",inputValue:this.minga.phone,inputControl:this.mingaPhoneFormControl,textParams:"Phone number (ie: 1 555-555-5555)"}}).afterClosed().subscribe(e=>{"string"==typeof e&&(this.newMingaPhone=e.replace(/\D/g,""),this.updateProfile())})})}))}openChangeUrlDialog(e){return Object(P.a)(this,void 0,void 0,(function*(){return this._preventEventBehaviors(e),new Promise((e,t)=>{this.dialog.open(G.a,{data:{text:"dialog.url.title",inputPlaceholder:"dialog.url.placeholder",saveButtonLocale:"button.save",inputType:"text",inputValue:this.minga.websiteUrl,inputControl:this.mingaWebsiteUrlFormControl,textParams:"Website Address"}}).afterClosed().subscribe(e=>{"string"==typeof e&&(e=this._completeUrl(e),this.newMingaUrl=e,this.updateProfile())})})}))}openChangeEmailDialog(e){return Object(P.a)(this,void 0,void 0,(function*(){return this._preventEventBehaviors(e),new Promise((e,t)=>{this.dialog.open(G.a,{data:{text:"dialog.email.title",inputPlaceholder:"dialog.email.placeholder",saveButtonLocale:"button.save",inputType:"text",inputValue:this.minga.email,inputControl:this.mingaEmailFormControl,textParams:"Email"}}).afterClosed().subscribe(e=>{"string"==typeof e&&(this.newMingaEmail=e,this.updateProfile())})})}))}_preventEventBehaviors(e){e&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())}onFocusName(e){return Object(P.a)(this,void 0,void 0,(function*(){if(!this.handingFocusEvent&&!this.editingName){if(this.handingFocusEvent=!0,this.editingPlace&&this.newMingaPlace!=this.currentMingaPlace){if(yield this.saveProfileChangesDialog("address"))return void(yield this.updateProfile(e));this.editingPlace=!1,this.newMingaPlace=null}this.toggleEditPlace(!1),this.toggleEditName(!0),this.handingFocusEvent=!1,this.form.form.markAsPristine()}}))}onFocusPlace(e){return Object(P.a)(this,void 0,void 0,(function*(){if(!this.handingFocusEvent&&!this.editingPlace){if(this.handingFocusEvent=!0,this.editingName&&this.minga.name!=this.currentMingaName){if(yield this.saveProfileChangesDialog("Minga name"))return void(yield this.updateProfile(e));this.editingName=!1,this.minga.name=this.currentMingaName}this.toggleEditName(!1),this.toggleEditPlace(!0),this.handingFocusEvent=!1,this.form.form.markAsPristine()}}))}onSavePlace(e){this.newMingaPlace=e,this.updateProfile()}onKeyDown(e){"Enter"===e.key&&(this._preventEventBehaviors(e),this.updateProfile())}_retrieveProfile(){return Object(P.a)(this,void 0,void 0,(function*(){yield this.rootService.addLoadingPromise(this.mingaManager.readUserMinga()).then(e=>{this.minga=e,this.mingaLogo=e.logoUrl,this.currentMingaName=e.name,this.newMingaPlace=this.minga.placeId,this.newMingaPhone=this.minga.phone;for(let t of this.minga.links)this.addMingaProfileLink(t);this.editing||(this.locationDetails=this.minga.mingaAddress),this.initProfileContextMenu()}).catch(e=>{console.error("[MingaProfile]_retrieveProfile() err:",e),this.analytics.sendException("readUserMinga throw error",oe.errorPriority.ALERT)})}))}addMingaProfileLink(e){this.mingaLinks||(this.mingaLinks=[]);const t=this.getSocialMediaIconColor(e.icon);this.mingaLinks.push({link:e,isSocialMedia:!!t,color:t})}updateMingaProfileLink(e,t){const n=this.getSocialMediaIconColor(e.icon);this.mingaLinks[t]={link:e,isSocialMedia:!!n,color:n}}setCustomError(e,t){e.setErrors({errorKey:!0})}onPhoneLinkClick(e){this.minga&&this.minga.phone?window.location.href=`tel:${this.minga.phone}`:this.editing&&this.openChangePhoneDialog(e),e&&this._preventEventBehaviors(e)}onWebUrlLinkClick(e){this.mingaUrlShortened?this.linkOpener.open(this.minga.websiteUrl):this.editing&&this.openChangeUrlDialog(e)}onMingaLinkClick(e){this.linkOpener.open(this._completeUrl(e))}onEmailLinkClick(e){this.minga&&this.minga.email?window.location.href=`mailto:${this.minga.email}`:this.editing&&this.openChangeEmailDialog(e)}updateProfile(e=null){return Object(P.a)(this,void 0,void 0,(function*(){if(e&&this._preventEventBehaviors(e),this.oldPasswordError="",this.newPasswordError="",this.mingaNameError="",this.mingaNameFormControl.setErrors(null),this.mingaPlaceFormControl.setErrors(null),!this.minga.name)return this.mingaNameError="required",void this.mingaNameFormControl.setErrors({required:!0});if(this.form.invalid)return console.log("updateProfile invalid form: ",this.form),void this.snackBar.open("your changes have errors, please fix and try again.");let t={};if(this.minga.name&&this.minga.name!=this.currentMingaName&&(t.name=this.minga.name.trim()),this.newMingaPlace&&this.newMingaPlace!=this.currentMingaPlace&&(t.placeId=this.newMingaPlace),null!==this.newMingaPhone&&this.newMingaPhone!=this.minga.phone&&(t.phone=this.newMingaPhone),null!==this.newMingaUrl&&this.newMingaUrl!=this.minga.websiteUrl&&(t.websiteUrl=this.newMingaUrl),null!==this.newMingaEmail&&this.newMingaEmail!=this.minga.email&&(t.email=this.newMingaEmail),this.newMingaPlace&&this.newMingaPlace!=this.minga.placeId&&(t.placeId=this.newMingaPlace),J.isEmpty(t))return void this.snackBar.open("There are no changes to be saved");const n=yield this.rootService.addLoadingPromise(this.mingaManager.updateMingaProfile(t));if(n.getStatus()==ie.StatusCode.OK){let e="Changes saved!";const n=yield this.mingaStore.getMingaAsPromise();n.name=this.minga.name,n.logo=this.minga.logoUrl,yield this.mingaStore.setMingaSettings(n),"phone"in t?(this.minga.phone=this.newMingaPhone,e="Phone Number saved!"):"websiteUrl"in t?(this.minga.websiteUrl=this.newMingaUrl,e="Website Address saved!"):"email"in t?(this.minga.email=this.newMingaEmail,e="Email saved!"):t.placeId&&(this.currentMingaPlace=this.newMingaPlace,yield this._retrieveLocationFromPlaceId(),e="Address saved!"),this.contentEvents.emitMingaUpdateEvent({logo:this.minga.logoUrl,name:this.minga.name}),this.snackBar.open(e),this.editingName=!1,this.editingPlace=!1,this.newMingaPhone=null,this.newMingaUrl=null,this.newMingaPlace=null,this.newMingaEmail=null,this.handingFocusEvent=!1,this.element.nativeElement.blur(),this.resetForm()}else{const e=n.getReason(),t=e?e.getMessage():"(n/a)";console.error("[Profile] error occurred while updating profile! reason: ",t),yield this.errorReporting.sendErrorReport("client MingaProfile.component","error occurred while updating minga profile",oe.errorPriority.ALERT)}}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](le.b),o["\u0275\u0275directiveInject"](de.a),o["\u0275\u0275directiveInject"](w.b),o["\u0275\u0275directiveInject"](ce.a),o["\u0275\u0275directiveInject"](ge.a),o["\u0275\u0275directiveInject"](C.c),o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](pe.a),o["\u0275\u0275directiveInject"](M.a),o["\u0275\u0275directiveInject"](me.a),o["\u0275\u0275directiveInject"](he.a),o["\u0275\u0275directiveInject"](ue.a),o["\u0275\u0275directiveInject"](fe.a),o["\u0275\u0275directiveInject"](ve.b))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-minga-profile"]],viewQuery:function(e,t){if(1&e&&(o["\u0275\u0275viewQuery"](Se,1),o["\u0275\u0275viewQuery"](Ee,1,r.v),o["\u0275\u0275viewQuery"](ke,1),o["\u0275\u0275viewQuery"](Fe,1),o["\u0275\u0275viewQuery"](Ne,1)),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.fileInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.form=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.mingaNameInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.oldPasswordInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.profileCardElement=e.first)}},hostBindings:function(e,t){1&e&&o["\u0275\u0275listener"]("resize",(function(e){return t.onResize(e)}),!1,o["\u0275\u0275resolveWindow"])("beforeunload",(function(e){return t.onBeforeUnload(e)}),!1,o["\u0275\u0275resolveWindow"])},decls:3,vars:1,consts:[[1,"profile-card"],["profileCard",""],[4,"ngIf"],[3,"click",4,"ngIf"],[1,"avatar-edit-wrap","user-content","mg-centered"],[3,"square","overflow","borderless"],[1,"avatar-input"],[1,"current-avatar"],[3,"diameter","thickness",4,"ngIf"],[1,"minga-profile-membercount","mg-centered","smaller-font-size"],[1,"mg-cta","count"],["class","mg-centered public-info",4,"ngIf"],["class","mg-centered minga-admin",4,"ngIf"],["class","mg-centered minga-identity-container",4,"ngIf"],["class","mg-centered subscription",4,"ngIf"],["class","profile-edit-form mg-minicopy","role","presentation",3,"autocomplete","submit",4,"ngIf"],[1,"profile-details-container"],[1,"mg-centered","profile-links","mg-minicopy"],["class","profile-link mg-button-hover-harbour","matRipple","",3,"unprovided","click",4,"ngIf"],[1,"file-link-container","mg-centered","profile-links","mg-minicopy"],["matRipple","",1,"profile-link","mg-button-hover-harbour",3,"routerLink"],["icon","minga-files-o"],[1,"profile-link-text"],["class","links-container mg-minicopy",4,"ngIf"],["class","mg-centered add-new-link-container mg-minicopy",4,"ngIf"],[3,"click"],["mgIconCompact","",3,"multiple","customTitleText","ngModel","ngModelChange"],["fileInput",""],[3,"file","formControl",4,"ngIf"],[3,"file","formControl"],[3,"diameter","thickness"],[1,"mg-centered","public-info"],[1,"minga-name"],["class","minga-school-type",4,"hasPermission"],["class","minga-address smaller-font-size",3,"innerHTML",4,"ngIf"],[1,"minga-school-type"],[1,"minga-address","smaller-font-size",3,"innerHTML"],[1,"mg-centered","minga-admin"],["class","minga-contact",4,"ngIf"],[1,"minga-admin-title"],[1,"minga-contact"],[3,"href"],[1,"mg-centered","minga-identity-container"],[3,"type"],[3,"status"],[1,"mg-centered","subscription"],["role","presentation",1,"profile-edit-form","mg-minicopy",3,"autocomplete","submit"],["form","ngForm"],["type","text",1,"input-hidden",3,"autocomplete","name"],["mgFormField","",1,"display-name-field"],["matInput","","autocapitalize","none","required","",3,"name","ngModel","autocomplete","formControl","ngModelChange","keydown"],["mingaNameInput",""],["name","address",3,"outerFormControl","ngModel","originalValue","required","save","ngModelChange"],["class","footer-button-container",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"footer-button-container"],["type","text",1,"mg-minicopy",3,"click"],["type","outline",1,"mg-minicopy",3,"disabled","click"],["matRipple","",1,"profile-link","mg-button-hover-harbour",3,"click"],["class","edit-icon",3,"click",4,"ngIf"],["icon","phone-o"],[1,"edit-icon",3,"click"],["icon","weblink-o"],["icon","email-o"],[1,"links-container","mg-minicopy"],[4,"ngFor","ngForOf"],["class","profile-link mg-button-hover-harbour","matRipple","",3,"click",4,"ngIf"],["icon-namespace","minga.profile",3,"icon","no-active"],["linkText",""],[1,"mg-centered","add-new-link-container","mg-minicopy"],["type","outline block",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0,1),o["\u0275\u0275template"](2,ht,31,35,"ng-container",2),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.minga))},directives:[i.o,Ce.a,f.h,Pe.a,xe.a,Me.a,r.t,r.w,we.a,r.i,ye.a,be.a,q,r.E,r.u,r.v,c.d,Oe.a,c.h,p.b,r.d,r.B,_e.a,c.c,i.q,i.r,Ie.a,g.a,i.n],pipes:[O.a,v.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:block;--feed-item-margin-side:16px}@media (min-width:600px){[_nghost-%COMP%]{--feed-item-margin-side:0}}.ios-long[_nghost-%COMP%]{min-height:100vh;width:100%}@media (min-width:600px){.ios-long[_nghost-%COMP%]{min-height:120vh}.ios-long[_nghost-%COMP%]   .profile-card[_ngcontent-%COMP%]{width:calc(100% - 2 * (var(--feed-item-margin-side, 16px)))!important}}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#93f;text-decoration:none;font-size:14px}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.75}[_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]{margin-left:1em}[_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .input-actions.disabled[_ngcontent-%COMP%], [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   .input-action.disabled[_ngcontent-%COMP%]{color:#d1d1d1}[_nghost-%COMP%]   .input-actions.disabled[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   .input-action.disabled[_ngcontent-%COMP%]:hover{cursor:not-allowed}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-right:10px}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]:hover{cursor:pointer;color:#93f}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]:last-child{padding-right:0}[_nghost-%COMP%]   .input-action.icon[_ngcontent-%COMP%]     mg-button{font-size:0;--mg-icon-size:12px}[_nghost-%COMP%]   .non-input-text[_ngcontent-%COMP%]{margin:0;color:#737373;border-bottom:1px solid #ccc}.input-hidden[_ngcontent-%COMP%]{display:none}.profile-card[_ngcontent-%COMP%]{display:block;overflow:hidden;border-radius:8px;background-color:#fff;box-shadow:0 0 6px rgba(0,0,0,.15);margin:12px var(--feed-item-margin-side,16px) var(--feed-item-margin-top,4px) var(--feed-item-margin-side,16px);text-align:left;max-width:510px;position:relative;padding:0;min-width:289px}@media (min-width:600px){.profile-card[_ngcontent-%COMP%]{margin-top:28px;margin-left:0;min-width:510px}}@media (min-width:960px){.profile-card[_ngcontent-%COMP%]{min-width:289px}}.profile-card[_ngcontent-%COMP%]   mg-ellipsis[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}.profile-links[_ngcontent-%COMP%]{margin-top:1em}.profile-links.triple-link-row[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{max-width:calc(33.33% - 1px)}.profile-links.no-bottom-border[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{border-bottom:none}.profile-links[_ngcontent-%COMP%] + .profile-links[_ngcontent-%COMP%]{margin-top:0}.profile-links[_ngcontent-%COMP%] + .profile-links[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]:first-child{border-top:none}.links-container[_ngcontent-%COMP%], .profile-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}a.profile-link[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#036}@media (orientation:landscape){a.profile-link[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){a.profile-link[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){a.profile-link[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){a.profile-link[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){a.profile-link[_ngcontent-%COMP%]{font-size:13px}}.profile-link[_ngcontent-%COMP%]{flex-direction:column;padding:8px 0 12px;border:1px solid #ccc;border-right:none;display:inline-flex;justify-content:center;align-items:center;position:relative;flex:1 1 0}.profile-link[_ngcontent-%COMP%]   .profile-link-text[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:95%}.profile-link[_ngcontent-%COMP%]:first-child:last-child{flex-basis:100%}.profile-link[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.profile-link[_ngcontent-%COMP%]:first-child{border-left-color:#fff}.profile-link.unprovided[_ngcontent-%COMP%], .profile-link.unprovided[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]     button{color:#737373}.profile-link[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px 4px 12px 12px;font-size:16px}.links-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:start;align-items:stretch;margin-bottom:1em;padding:0 8px}.links-container[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{border:none;flex-basis:25%;display:inline-flex;justify-content:flex-start}.links-container[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{padding:.2em .2em .1em}.links-container[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]   .profile-link-text[_ngcontent-%COMP%]{white-space:normal;text-align:center;max-width:100%;text-overflow:clip;word-break:break-word}.avatar-edit-wrap[_ngcontent-%COMP%]{line-height:1;margin:32px 32px 1em}.avatar-edit-wrap[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;z-index:3;bottom:0;left:0;right:0}.avatar-edit-wrap.editing[_ngcontent-%COMP%]{margin-bottom:31px}.avatar-edit-wrap.editing[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .avatar-edit-wrap.editing[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{z-index:2}.avatar-edit-wrap.editing[_ngcontent-%COMP%]   .avatar-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:2;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.15)}.avatar-edit-wrap.editing[_ngcontent-%COMP%]   mg-avatar[_ngcontent-%COMP%]{cursor:pointer}@media (hover:hover){.avatar-edit-wrap.editing[_ngcontent-%COMP%]:hover   .avatar-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:2;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.35)}.avatar-edit-wrap.editing[_ngcontent-%COMP%]:hover   mg-file-input[_ngcontent-%COMP%]{z-index:2}}.current-avatar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;pointer-events:none;background-size:contain;background-repeat:no-repeat;background-position:50%;background-image:url(/assets/Minga_icon.svg)}.current-display-name[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;margin-top:0;margin-bottom:1.8em}@media (orientation:landscape){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vh}}@media (orientation:portrait){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vw}}@media (orientation:landscape) and (max-height:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (orientation:portrait) and (max-width:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (min-width:439.875px){.current-display-name[_ngcontent-%COMP%]{font-size:19.992px}}mg-avatar[_ngcontent-%COMP%]{--mg-avatar-size:100px}.avatar-input[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{position:absolute;top:0;pointer-events:none;z-index:1;overflow:hidden}.avatar-input[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{position:absolute;z-index:0;left:0;right:0;top:50%;transform:translateY(-50%)}.save-button[_ngcontent-%COMP%]{display:block;text-align:center}.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:13px}}.save-button[_ngcontent-%COMP%]{text-align:left}.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{white-space:nowrap;visibility:hidden;pointer-events:none}.save-button[_ngcontent-%COMP%] > mg-button-outline.show[_ngcontent-%COMP%]{display:inline-block;visibility:visible;pointer-events:all}.save-button-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;margin-bottom:1em}.profile-footer-links[_ngcontent-%COMP%]{padding-top:50px;font-size:14px}@media (orientation:landscape){.profile-footer-links[_ngcontent-%COMP%]{padding-top:4.375vh}}@media (orientation:portrait){.profile-footer-links[_ngcontent-%COMP%]{padding-top:4.375vw}}@media (orientation:landscape) and (max-height:320px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:14px}}@media (orientation:portrait) and (max-width:320px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:14px}}@media (min-width:1142.8571428571px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:50px}}.profile-edit-form[_ngcontent-%COMP%]{margin:0 32px;display:block}.minga-profile-membercount[_ngcontent-%COMP%]{color:#2f2f2f;margin-bottom:1em}.minga-profile-membercount[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:#93f}.minga-name[_ngcontent-%COMP%]{margin-bottom:.25em;font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.minga-name[_ngcontent-%COMP%]{font-size:4.0966183575vh}}@media (orientation:portrait){.minga-name[_ngcontent-%COMP%]{font-size:4.0966183575vw}}@media (orientation:landscape) and (max-height:414px){.minga-name[_ngcontent-%COMP%]{font-size:16.96px}}@media (orientation:portrait) and (max-width:414px){.minga-name[_ngcontent-%COMP%]{font-size:16.96px}}@media (min-width:439.875px){.minga-name[_ngcontent-%COMP%]{font-size:18.02px}}.smaller-font-size[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.smaller-font-size[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.smaller-font-size[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.smaller-font-size[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.smaller-font-size[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.smaller-font-size[_ngcontent-%COMP%]{font-size:17px}}.minga-school-type[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35;color:#737373;margin-top:0;margin-bottom:4px}@media (orientation:landscape){.minga-school-type[_ngcontent-%COMP%]{font-size:2.9758454106vh}}@media (orientation:portrait){.minga-school-type[_ngcontent-%COMP%]{font-size:2.9758454106vw}}@media (orientation:landscape) and (max-height:414px){.minga-school-type[_ngcontent-%COMP%]{font-size:12.32px}}@media (orientation:portrait) and (max-width:414px){.minga-school-type[_ngcontent-%COMP%]{font-size:12.32px}}@media (min-width:439.875px){.minga-school-type[_ngcontent-%COMP%]{font-size:13.09px}}.minga-admin-title[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35;margin-top:0;margin-bottom:0}@media (orientation:landscape){.minga-admin-title[_ngcontent-%COMP%]{font-size:2.9758454106vh}}@media (orientation:portrait){.minga-admin-title[_ngcontent-%COMP%]{font-size:2.9758454106vw}}@media (orientation:landscape) and (max-height:414px){.minga-admin-title[_ngcontent-%COMP%]{font-size:12.32px}}@media (orientation:portrait) and (max-width:414px){.minga-admin-title[_ngcontent-%COMP%]{font-size:12.32px}}@media (min-width:439.875px){.minga-admin-title[_ngcontent-%COMP%]{font-size:13.09px}}.minga-admin[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.minga-contact[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#737373}@media (orientation:landscape){.minga-contact[_ngcontent-%COMP%]{font-size:2.9758454106vh}}@media (orientation:portrait){.minga-contact[_ngcontent-%COMP%]{font-size:2.9758454106vw}}@media (orientation:landscape) and (max-height:414px){.minga-contact[_ngcontent-%COMP%]{font-size:12.32px}}@media (orientation:portrait) and (max-width:414px){.minga-contact[_ngcontent-%COMP%]{font-size:12.32px}}@media (min-width:439.875px){.minga-contact[_ngcontent-%COMP%]{font-size:13.09px}}.minga-contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:before, .minga-contact[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:before{content:" | "}.minga-address[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#737373;margin-top:0;margin-bottom:1.5em}@media (orientation:landscape){.minga-address[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.minga-address[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.minga-address[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.minga-address[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.minga-address[_ngcontent-%COMP%]{font-size:17px}}.minga-identity-container[_ngcontent-%COMP%]{margin:1em 0}.minga-identity-container[_ngcontent-%COMP%]   mg-minga-identity[_ngcontent-%COMP%], .public-info[_ngcontent-%COMP%]{margin:0 16px}.public-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child:last-child{margin-bottom:1em}.dev-admin-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-bar{position:relative!important;top:auto!important;transform:none!important}.add-new-link-container[_ngcontent-%COMP%]{margin:24px 0}.type-letter[_ngcontent-%COMP%]{border-radius:50%;border:1px;border-style:solid;line-height:24px;width:24px;height:24px;display:inline-block;font-size:10px;margin:8px}.subscription[_ngcontent-%COMP%]{margin-bottom:1em}.subscription[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}']}),e})();var ft=n("pw3p"),vt=n("2Vo4"),Ct=n("jtHE"),Pt=n("itXk"),xt=n("lJxs"),Mt=n("1G5W"),wt=n("XMmb"),yt=n("NG82"),bt=n("AmzI"),Ot=n("8aDb"),_t=n("5km/"),It=n("IeKC"),St=n("+dib"),Et=function(e){return e.UPLOAD_PICTURE_MSG="*Background pictures autosave",e.UPLOAD_ID_PICTURE_MSG="*Background and ID pictures autosave",e}({}),kt=n("c+ZS"),Ft=n("IScg"),Nt=n("qwsH"),Bt=n("lkjj"),Dt=n("QWb5"),Tt=n("vaq4"),jt=n("HSxi"),zt=n("tJrb"),Rt=n("ei1q"),Lt=n("Cfvw"),Vt=n("vnsL");let At=(()=>{class e{constructor(e){this.badgeCollection=e}getPersonBadges(e){if(!e)throw new Error("[BadgeCollectionService] getPersonBadges() missing person hash");const t=new zt.GetPersonBadgesRequest;return t.setPersonHash(e),Object(Lt.a)(this._getPersonBadgesRequest(t))}_getPersonBadgesRequest(e){return Object(P.a)(this,void 0,void 0,(function*(){return(yield this.badgeCollection.getPersonBadges(e)).getBadgeList().map(e=>Rt.IBadgeProtoMapper.fromBadgeMessage(e))}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](Vt.BadgeCollection))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ut=n("mEol"),Ht=n("OgRi"),Wt=n("/YXT"),qt=n("yCgN"),Gt=n("5xcx"),$t=n("ifhk"),Yt=n("VDRc"),Qt=n("teZX"),Kt=n("nCoN"),Jt=n("EEb0"),Zt=n("85oS"),Xt=n("dhKc"),en=n("c+vN"),tn=n("2nPA"),nn=n("HQAS"),on=n("0cKA"),an=n("05dM"),rn=n("qLpX"),sn=n("dc+t"),ln=n("SLe5"),dn=n("jcBT"),cn=n("StFh");const gn=function(){return["bannerlibpreview","cardbanner"]},pn=function(e){return["blurloading1",e]};let mn=(()=>{class e{constructor(e){this.contentEvents=e,this.cancelContentLink=!0}set badge(e){e&&(this._badge=e)}get badge(){return this._badge}_onClick(){this.onBadgeClick()}get hasLinks(){return this.hasContextLinks}get hasContextLinks(){var e,t;return!!(null===(t=null===(e=this._badge)||void 0===e?void 0:e.contentContextHashes)||void 0===t?void 0:t.length)}onBadgeClick(){var e,t,n;if(null===(t=null===(e=this._badge)||void 0===e?void 0:e.contentContextHashes)||void 0===t?void 0:t.length){const e=null===(n=this._badge)||void 0===n?void 0:n.contentContextHashes[0];e&&this.contentEvents.emitContentOpen({contentContextHash:e})}}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](me.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-badge-mini-card"]],hostVars:4,hostBindings:function(e,t){1&e&&o["\u0275\u0275listener"]("click",(function(){return t._onClick()})),2&e&&o["\u0275\u0275classProp"]("mg-cancel-content-link",t.cancelContentLink)("has-links",t.hasLinks)},inputs:{badge:"badge"},decls:11,vars:14,consts:[[1,"container"],[1,"icon-container"],[1,"badge-image",3,"background-size","srcs"],[1,"divider"],[1,"content-container"],[1,"title",3,"innerHTML"],[1,"message-text",3,"innerHTML"],[1,"date"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275element"](2,"mg-image",2),o["\u0275\u0275pipe"](3,"mgImageUrls"),o["\u0275\u0275element"](4,"div",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",4),o["\u0275\u0275element"](6,"div",5),o["\u0275\u0275element"](7,"div",6),o["\u0275\u0275elementStart"](8,"div",7),o["\u0275\u0275text"](9),o["\u0275\u0275pipe"](10,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("background-size","contain")("srcs",o["\u0275\u0275pipeBind2"](3,5,null==t.badge?null:t.badge.image,o["\u0275\u0275pureFunction1"](12,pn,o["\u0275\u0275pureFunction0"](11,gn)))),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("innerHTML",null==t.badge?null:t.badge.name,o["\u0275\u0275sanitizeHtml"]),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("innerHTML",null==t.badge?null:t.badge.description,o["\u0275\u0275sanitizeHtml"]),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind2"](10,8,null==t.badge?null:t.badge.date,"MMM d, y")))},directives:[dn.a],pipes:[cn.a,i.f],styles:["[_nghost-%COMP%]{display:block;height:92px;overflow:hidden;border-radius:8px;background-color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.16)}.has-links[_nghost-%COMP%]{cursor:pointer}.has-links[_nghost-%COMP%]:hover{box-shadow:0 3px 12px rgba(0,0,0,.16)}.container[_ngcontent-%COMP%]{position:relative;height:100%;padding:8px 14px 8px 12px;box-sizing:border-box}.title[_ngcontent-%COMP%]{font-size:15px;color:#036;margin-bottom:3px}.message-text[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.icon-container[_ngcontent-%COMP%]{position:absolute;left:0;width:110px;display:flex;align-items:center;justify-content:space-between;padding-left:12px;box-sizing:border-box;top:8px;bottom:8px;height:calc(100% - 16px)}.icon-container[_ngcontent-%COMP%]   mg-image[_ngcontent-%COMP%]{width:80px;height:80px}.message-text[_ngcontent-%COMP%]{color:#707070;font-size:14px}.content-container[_ngcontent-%COMP%]{margin-left:110px;padding:12px 10px;position:relative;box-sizing:border-box;height:100%;display:flex;flex-direction:column;justify-content:center}.content-container[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;top:0;right:0;color:#036}.divider[_ngcontent-%COMP%]{background-color:#eaeaea;border-radius:20px;height:100%;width:5px}.date[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),e})();const hn=["fileInput"],un=["coverImageFileInput"],fn=["form"],vn=["displayNameInput"],Cn=["oldPasswordInput"],Pn=["profileCard"],xn=["profileLinksElement"];function Mn(e,t){if(1&e&&(o["\u0275\u0275element"](0,"mg-avatar",40),o["\u0275\u0275pipe"](1,"async")),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("color",e.currentRoleColor)("src",o["\u0275\u0275pipeBind1"](1,2,e.idImage$))}}function wn(e,t){if(1&e&&o["\u0275\u0275element"](0,"mg-file-upload",45),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275property"]("previewSize",510)("previewPaddingBottom","222px")("file",e.coverImageInputFiles[0])("formControl",e.uploadCoverImageFormControl)}}function yn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",41),o["\u0275\u0275elementStart"](1,"mg-file-input",42,43),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().coverImageInputFiles=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](3,wn,1,4,"mg-file-upload",44),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("customTitleText","Change Photo")("multiple",!1)("ngModel",e.coverImageInputFiles),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.coverImageInputFiles[0])}}function bn(e,t){1&e&&o["\u0275\u0275element"](0,"mg-spinner",46),2&e&&o["\u0275\u0275property"]("diameter",100)("thickness",3)}function On(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-ellipsis",47),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().openProfilePopoverOptions(t)})),o["\u0275\u0275elementEnd"]()}}function _n(e,t){1&e&&o["\u0275\u0275elementContainer"](0)}function In(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,_n,1,0,"ng-container",49),o["\u0275\u0275elementContainerEnd"]()),2&e){o["\u0275\u0275nextContext"](2);const e=o["\u0275\u0275reference"](1);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngTemplateOutlet",e)}}function Sn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",48),o["\u0275\u0275template"](1,In,2,1,"ng-container",13),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!e.editing)}}function En(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"p",50),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"uppercase"),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,e.fullName)," ")}}function kn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"p",54),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.fields.displayName," ")}}function Fn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"p",55),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.currentRole," ")}}function Nn(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,kn,2,1,"p",51),o["\u0275\u0275template"](2,Fn,2,1,"p",52),o["\u0275\u0275elementStart"](3,"p",53),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.fields.displayName),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.isOwnProfile||e.personFormPermissions),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.teams," ")}}function Bn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",56),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275pipe"](3,"translate"),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ","K"===e.fields.grade?o["\u0275\u0275pipeBind1"](2,1,"profile.kindergarten"):o["\u0275\u0275pipeBind2"](3,3,"profile.grade",e.getTranslateParams(e.fields.grade))," ")}}function Dn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",62),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onPointsClick()})),o["\u0275\u0275element"](1,"div",63),o["\u0275\u0275text"](2," Activity "),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classProp"]("selected","POINTS"===e.currentSelectedTab)}}function Tn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",62),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onFeedClick()})),o["\u0275\u0275element"](1,"mg-button-icon",64),o["\u0275\u0275text"](2," My Feed "),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classProp"]("selected","FEED"===e.currentSelectedTab)}}function jn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",62),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).onGroupsClick()})),o["\u0275\u0275element"](1,"mg-button-icon",65),o["\u0275\u0275text"](2," My Groups "),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275classProp"]("selected","GROUPS"===e.currentSelectedTab)}}function zn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",57,58),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275pipe"](3,"async"),o["\u0275\u0275template"](4,Dn,3,2,"div",59),o["\u0275\u0275pipe"](5,"async"),o["\u0275\u0275elementStart"](6,"div",60),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onBadgesClick()})),o["\u0275\u0275element"](7,"mg-button-icon",61),o["\u0275\u0275text"](8," Badges "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](9,Tn,3,2,"div",59),o["\u0275\u0275template"](10,jn,3,2,"div",59),o["\u0275\u0275pipe"](11,"async"),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275classProp"]("has-feed",e.isOwnProfile||e.personFormPermissions)("has-groups",(e.isOwnProfile||e.personFormPermissions||e.groupsPermissions)&&o["\u0275\u0275pipeBind1"](2,11,e.isGroupsEnabled$))("has-points",(e.isOwnProfile||e.personFormPermissions||e.pointsPermissions)&&o["\u0275\u0275pipeBind1"](3,13,e.isPointsEnabled$)),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",(e.isOwnProfile||e.personFormPermissions||e.pointsPermissions)&&o["\u0275\u0275pipeBind1"](5,15,e.isPointsEnabled$)),o["\u0275\u0275advance"](2),o["\u0275\u0275classProp"]("selected","BADGES"===e.currentSelectedTab),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",e.isOwnProfile||e.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",(e.isOwnProfile||e.personFormPermissions||e.groupsPermissions)&&o["\u0275\u0275pipeBind1"](11,17,e.isGroupsEnabled$))}}function Rn(e,t){1&e&&o["\u0275\u0275element"](0,"div",71)}function Ln(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",72),o["\u0275\u0275element"](1,"img",73),o["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("src",e,o["\u0275\u0275sanitizeUrl"])}}function Vn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",66),o["\u0275\u0275elementStart"](2,"div",67),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().changeStudentIdImage()})),o["\u0275\u0275template"](3,Rn,1,0,"div",68),o["\u0275\u0275pipe"](4,"async"),o["\u0275\u0275template"](5,Ln,2,1,"div",69),o["\u0275\u0275pipe"](6,"async"),o["\u0275\u0275elementStart"](7,"div",70),o["\u0275\u0275elementStart"](8,"span"),o["\u0275\u0275text"](9,"Change Photo"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("width",100,"%"),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",""===o["\u0275\u0275pipeBind1"](4,4,e.idImage$)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](6,6,e.idImage$))}}function An(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"p",74),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.getAutosaveMsg(o["\u0275\u0275pipeBind1"](2,1,e.canChangeIDPicture$)),"\n")}}function Un(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"mg-first-name",75,76),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().fields.firstname=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mg-last-name",77,78),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().fields.lastname=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",e.fields.firstname)("required",!0),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngModel",e.fields.lastname)("required",!0)}}function Hn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-form-field",79),o["\u0275\u0275elementStart"](1,"mat-label"),o["\u0275\u0275text"](2,"Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](3,"input",80),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("mgReadOnly",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",e.fullName)}}function Wn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-role-select",81),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().fields.accountRoleType=t}))("roleName",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onRoleChange(t)}))("displayNameFormat",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().displayNameFormat=t})),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("required",!0)("ngModel",e.fields.accountRoleType)}}function qn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-form-field",79),o["\u0275\u0275elementStart"](1,"mat-label"),o["\u0275\u0275text"](2,"Role"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](3,"input",82),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("mgReadOnly",!0),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",e.currentRole)}}function Gn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-display-name",83),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().fields.displayName=t}))("customChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().fields.customDisplayName=t})),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](22);o["\u0275\u0275property"]("firstName",e.fields.firstname)("lastName",e.fields.lastname)("statusPending",null==t.controls||null==t.controls.displayName?null:t.controls.displayName.pending)("statusTouched",null==t.controls||null==t.controls.displayName?null:t.controls.displayName.touched)("ngModel",e.fields.displayName)("custom",e.fields.customDisplayName)("displayNameFormat",e.displayNameFormat)("required",e.fields.customDisplayName)}}function $n(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.minlength")," "))}function Yn(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.maxlength")," "))}function Qn(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.pattern")," "))}function Kn(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.required")," "))}function Jn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275elementContainerStart"](1,87),o["\u0275\u0275template"](2,$n,3,3,"span",88),o["\u0275\u0275template"](3,Yn,3,3,"span",88),o["\u0275\u0275template"](4,Qn,3,3,"span",88),o["\u0275\u0275template"](5,Kn,3,3,"span",89),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementEnd"]()),2&e){o["\u0275\u0275nextContext"]();const e=o["\u0275\u0275reference"](4);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitch",null==e.control?null:e.control.errors),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","minlength"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","maxlength"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","pattern")}}function Zn(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-form-field",84),o["\u0275\u0275elementStart"](1,"mat-label"),o["\u0275\u0275text"](2,"Display Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"input",85,86),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().fields.displayName=t}))("keydown",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onKeyDown(t)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](5,Jn,6,4,"mat-error",13),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275reference"](4),t=o["\u0275\u0275nextContext"](),n=o["\u0275\u0275reference"](22);o["\u0275\u0275property"]("mgReadOnly",!t.changeDisplayName),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("name","profileDisplayName-"+t.currentTime)("ngModel",t.fields.displayName)("pattern",t.noSymbolsRegex)("autocomplete","displayName-off-"+t.currentTime)("readonly",!t.changeDisplayName),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",(null==e.control?null:e.control.invalid)&&((null==e.control?null:e.control.dirty)||(null==e.control?null:e.control.touched)||n.submitted))}}function Xn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",92),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e," ")}}function ei(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-form-field",79),o["\u0275\u0275elementStart"](1,"mat-label"),o["\u0275\u0275text"](2,"Grade"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mat-select",90),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().fields.grade=t})),o["\u0275\u0275template"](4,Xn,2,2,"mat-option",91),o["\u0275\u0275pipe"](5,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("mgReadOnly",!e.personFormPermissions),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",e.fields.grade),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind1"](5,3,e.gradeOptions$))}}function ti(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-password",93,94),o["\u0275\u0275listener"]("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().fields.password=t}))("keypress",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onKeyDown(t)})),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("ngModel",e.fields.password)("editMode",e.editing)("name","personFormPassword-"+e.currentTime)("required",!1)}}function ni(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-button",101),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).toggleEditPassword(!0,t)})),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](2,1,"button.changePassword")))}function ii(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",102),o["\u0275\u0275elementStart"](1,"mat-icon",103),o["\u0275\u0275listener"]("mousedown",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).toggleOldPasswordVisibility()})),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.oldPasswordIcon)}}function oi(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.maxlength")," "))}function ai(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.minlength")," "))}function ri(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.pattern")," "))}function si(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.requiredOld")," "))}function li(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.incorrect")," "))}function di(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.cannotMatch")," "))}function ci(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.required")," "))}function gi(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275elementContainerStart"](1,87),o["\u0275\u0275template"](2,oi,3,3,"span",88),o["\u0275\u0275template"](3,ai,3,3,"span",88),o["\u0275\u0275template"](4,ri,3,3,"span",88),o["\u0275\u0275template"](5,si,3,3,"span",88),o["\u0275\u0275template"](6,li,3,3,"span",88),o["\u0275\u0275template"](7,di,3,3,"span",88),o["\u0275\u0275template"](8,ci,3,3,"span",89),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitch",e.oldPasswordControlErrorKey),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","maxlength"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","minlength"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","pattern"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","requiredOld"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","incorrect"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","cannotMatch")}}function pi(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",102),o["\u0275\u0275elementStart"](1,"mat-icon",103),o["\u0275\u0275listener"]("mousedown",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](3).toggleNewPasswordVisibility()})),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.newPasswordIcon)}}function mi(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.maxlength")," "))}function hi(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.minlength")," "))}function ui(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.pattern")," "))}function fi(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"translate"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,"input.password.error.required")," "))}function vi(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275elementContainerStart"](1,87),o["\u0275\u0275template"](2,mi,3,3,"span",88),o["\u0275\u0275template"](3,hi,3,3,"span",88),o["\u0275\u0275template"](4,ui,3,3,"span",88),o["\u0275\u0275template"](5,fi,3,3,"span",89),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitch",e.newPasswordControlErrorKey),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","maxlength"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","minlength"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngSwitchCase","pattern")}}function Ci(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-form-field",104),o["\u0275\u0275elementStart"](1,"input",105),o["\u0275\u0275listener"]("keydown",(function(t){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275nextContext"](2);return n.onFocusPassword(t)&&n.onKeyDown(t)}))("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"](2).fields.password=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](2,pi,3,1,"div",99),o["\u0275\u0275template"](3,vi,6,4,"mat-error",13),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](2),t=o["\u0275\u0275reference"](22);o["\u0275\u0275classProp"]("expand-for-error",!!e.newPasswordControlErrorKey||e.newPasswordFormControl.invalid&&(e.newPasswordFormControl.dirty||e.newPasswordFormControl.touched||t.submitted)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("type",e.newPasswordType)("name","profilenewPassword-"+e.currentTime)("autocomplete","profile-new-password-"+e.currentTime)("required",e.oldPassword)("ngModel",e.fields.password)("formControl",e.newPasswordFormControl),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editingPassword),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!!e.newPasswordControlErrorKey||e.newPasswordFormControl.invalid&&(e.newPasswordFormControl.dirty||e.newPasswordFormControl.touched||t.submitted))}}function Pi(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"mat-form-field",95),o["\u0275\u0275elementStart"](2,"mat-label"),o["\u0275\u0275text"](3,"Current Password"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](4,ni,3,3,"mg-button",96),o["\u0275\u0275elementStart"](5,"input",97,98),o["\u0275\u0275listener"]("focus",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().onFocusPassword(t)}))("keydown",(function(t){o["\u0275\u0275restoreView"](e);const n=o["\u0275\u0275nextContext"]();return n.onFocusPassword(t)&&n.onKeyDown(t)}))("ngModelChange",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().oldPassword=t})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,ii,3,1,"div",99),o["\u0275\u0275template"](8,gi,9,7,"mat-error",13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](9,Ci,4,10,"mat-form-field",100),o["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](22);o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",!e.editingPassword),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("name","profileoldPassword-"+e.currentTime)("autocomplete","oldPassword-off-"+e.currentTime)("type",e.oldPasswordType)("required",e.fields.password)("ngModel",e.oldPassword)("formControl",e.oldPasswordFormControl),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",e.editingPassword),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!!e.oldPasswordControlErrorKey||e.oldPasswordFormControl.invalid&&(e.oldPasswordFormControl.dirty||e.oldPasswordFormControl.touched||t.submitted)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.editingPassword)}}function xi(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"a",106),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().forgotPassword()})),o["\u0275\u0275text"](1,"Forgot password?"),o["\u0275\u0275elementEnd"]()}}function Mi(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",107),o["\u0275\u0275elementStart"](1,"mg-button",108),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().toggleEditForm()})),o["\u0275\u0275text"](2,"Cancel"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mg-button",109),o["\u0275\u0275listener"]("click",(function(t){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().updateProfile(t)})),o["\u0275\u0275text"](4,"Save"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("disabled",e.disableSavingButton)}}function wi(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",110),o["\u0275\u0275elementStart"](1,"div",111),o["\u0275\u0275text"](2,"Permanently Delete"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"a",47),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().launchArchiveAccountConfDialog()})),o["\u0275\u0275text"](4," I want to delete this account "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}}function yi(e,t){if(1&e&&o["\u0275\u0275element"](0,"mg-profile-points",112),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("personHash",e._personHash)("emptyStreamString",e.emptyPointString)}}function bi(e,t){if(1&e&&(o["\u0275\u0275element"](0,"mg-date-separator",117),o["\u0275\u0275element"](1,"mg-content-feed-item",118)),2&e){const e=t.$implicit,n=t.itemId;o["\u0275\u0275property"]("text",e.separatorText),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("context",n)("content",e.feedItemView)}}function Oi(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",113),o["\u0275\u0275elementStart"](1,"mg-stream-scroller",114),o["\u0275\u0275template"](2,bi,2,3,"ng-template",115),o["\u0275\u0275element"](3,"mg-empty-state",116),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("filter",e.filter)("service",e.profileContent),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("title",e.emptyFeedString)}}function _i(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275element"](1,"mg-group-list",120),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("groups",o["\u0275\u0275pipeBind1"](2,1,e.myGroups$))}}function Ii(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,_i,3,3,"div",119),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](56);let n=null;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==(n=o["\u0275\u0275pipeBind1"](2,2,e.myGroups$))?null:n.length)("ngIfElse",t)}}function Si(e,t){if(1&e&&o["\u0275\u0275element"](0,"mg-empty-state",116),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("title",e.emptyGroupsString)}}function Ei(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementContainerStart"](1),o["\u0275\u0275element"](2,"mg-badge-mini-card",124),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("badge",e)}}function ki(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",122),o["\u0275\u0275template"](1,Ei,3,1,"div",123),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind1"](2,1,e.myBadges$))}}function Fi(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,ki,3,3,"div",121),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementContainerEnd"]()),2&e){const e=o["\u0275\u0275nextContext"](),t=o["\u0275\u0275reference"](59);let n=null;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",null==(n=o["\u0275\u0275pipeBind1"](2,2,e.myBadges$))?null:n.length)("ngIfElse",t)}}function Ni(e,t){if(1&e&&o["\u0275\u0275element"](0,"mg-empty-state",116),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("title",e.emptyBadgesString)}}var Bi=function(e){return e.FEED="FEED",e.POINTS="POINTS",e.BADGES="BADGES",e.GROUPS="GROUPS",e}({});let Di=(()=>{class e{constructor(e,t,n,i,o,a,s,l,d,c,g,p,m,h,u,f,v,C,x,M,w,y,b,O,_,I,S){this.route=e,this.authService=t,this.profileService=n,this.snackBar=i,this.rootService=o,this.errorReporting=a,this.permissions=s,this.element=l,this.analytics=d,this.peopleManagerService=c,this.contentFeedService=g,this.profileContent=p,this.rolesService=m,this.router=h,this.gradesService=u,this.pointsManager=f,this.groupsFacadeService=v,this.groupsService=C,this.badges=x,this.fileUploadManager=M,this.dialog=w,this.rootNav=y,this.authInfoService=b,this._settingService=O,this._studentIdImageService=_,this._studentIdService=I,this._idUploaderDialog=S,this.MESSAGES=Et,this._idImageSubj=new vt.a(""),this.idImage$=this._idImageSubj.asObservable(),this.coverImageInputFiles=[],this.uploadAsset="",this._loading=!1,this._uploading=!1,this._loadingCoverImage=!1,this._disableUploaderButton=!1,this._uploadingCoverImage=!1,this.editing=!1,this.currentSelectedTab=null,this.currentDisplayTab=null,this._permissionsInitialized=!1,this._destroyed$=new Ct.a(1),this._personHash="",this.fields=yt.b.defaultValue(),this.initialFields=yt.b.defaultValue(),this.changeDisplayName=!1,this.showEmail=!1,this.personUniqueHash=new ie.UniqueHash,this.currentEmail="",this.oldPassword=wt.a,this.grade="",this.firstName="",this.lastName="",this.coverImageUrl="",this.publicBirthdate=!1,this.currentRole="",this.currentRoleColor="",this.teams="",this.editingName=!1,this.editingEmail=!1,this.editingPassword=!1,this.oldPasswordVisible=!1,this.oldPasswordType="password",this.oldPasswordIcon="visibility",this.newPasswordVisible=!1,this.newPasswordType="password",this.newPasswordIcon="visibility",this.handingFocusEvent=!1,this.enableReadOnlyState=!window.MINGA_DEVICE_ANDROID&&!window.MINGA_DEVICE_IOS,this.currentTime=Date.now(),this.currentDate=new Date,this.savingBirthdate=!1,this.savingBirthdatePublic=!1,this.currentBirthdate=null,this.roleName="",this.hasCustomDisplayName=!1,this.showGradeField=!1,this.showStudentIdField=!1,this.personFormPermissions=!1,this.pointsPermissions=!1,this.groupsPermissions=!1,this.roleTranslateParams={},this.uploadCoverImageFormControl=new r.h,this.oldPasswordFormControl=new r.h,this.newPasswordFormControl=new r.h,this.noSymbolsRegex=ee.a.NoSymbolsRegex,this.canChangeIDPicture$=Object(Pt.b)([this.permissions.observePermission(ae.MingaPermission.ADMINISTER_STUDENT_ID),this.permissions.observePermission(ae.MingaPermission.VIEW_STUDENT_ID_DASHBOARD),this._settingService.getSettingValueObs(ae.mingaSettingTypes.ID_STAFF_CHANGE_PICTURE)]).pipe(Object(xt.a)(([e,t,n])=>!!e||t&&n)),this.isGroupsEnabled$=this._settingService.getSettingValueObs(ae.mingaSettingTypes.FEATURE_ENABLE_GROUPS),this.canUserDeleteAccount$=this._settingService.getSettingValueObs(ae.mingaSettingTypes.FEATURE_ALLOW_ACCOUNT_DELETION),this.canChangeEmail$=this._settingService.getSettingValueObs(ae.mingaSettingTypes.FEATURE_ALLOW_STUDENT_EMAIL_CHANGE),this.initPermissions(),this.uploadCoverImageFormControl.statusChanges.subscribe(e=>{this._uploadingCoverImage="PENDING"===e,"VALID"===e&&this.onUploadCoverImageDone(this.uploadCoverImageFormControl.value)}),this.gradeOptions$=u.grades$,this.isPointsEnabled$=this.pointsManager.getTrackingExpansionPackObservableState(),e.params.pipe(Object(Mt.a)(this._destroyed$),Object(xt.a)(e=>e.personHash)).subscribe(e=>{e||(e=this.authInfoService.authPersonHash||""),e&&(this._personHash=e,this.isOwnProfile||this._studentIdService.read(this._personHash),this._permissionsInitialized&&this._initPersonInfo())}),this._studentIdService.studentId$.pipe(Object(Mt.a)(this._destroyed$)).subscribe(e=>Object(P.a)(this,void 0,void 0,(function*(){if(e.fileName&&e.personHash===this._personHash){const t=yield this._studentIdImageService.getFilePathToStudentIdImage(e.fileName,It.b.ID_FULL);this._idImageSubj.next(t)}})))}get person(){return this.authInfoService.authPerson}feedItemClick(e){this.contentFeedService.feedItemClick(e)}onBeforeUnload(e){let t=this.preventNavigation();if(t)return e.returnValue=t,t}_initPersonInfo(){return Object(P.a)(this,void 0,void 0,(function*(){this._personHash||console.error("[Profile] could not init person info, missing person hash"),this.myGroups$=this.isOwnProfile?this.groupsFacadeService.getMyGroups():this.groupsService.getPersonGroups(this._personHash),this.myBadges$=this.badges.getPersonBadges(this._personHash).pipe(Object(xt.a)(e=>e.sort((e,t)=>e.date<t.date?1:-1))),yield this._studentIdService.read(),this.personFormPermissions?yield this._readPerson():yield this._retrieveProfile(),setTimeout(()=>{this.profileLinksElement&&this.profileLinksElement.nativeElement.children[0].click()},0)}))}ngOnInit(){return Object(P.a)(this,void 0,void 0,(function*(){yield this.gradesService.fetchIfNeeded(),this.groupsFacadeService.dispatchLoadAll(),this._scrollToTop()}))}_scrollToTop(){window.scrollTo(window.pageXOffset,0)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}initPermissions(){return Object(P.a)(this,void 0,void 0,(function*(){this.changeDisplayName=this.permissions.hasPermission(ae.MingaPermission.ACCOUNT_DISPLAYNAME_CHANGE);const e=this.permissions.hasPermission(ae.MingaPermission.MINGA_PEOPLE_MANAGE);this.personFormPermissions=!(!this.authInfoService.authPersonHash||!e),this.pointsPermissions=this.permissions.hasPermission(ae.MingaPermission.POINTS_ALLOCATE_ALLOWED),this.groupsPermissions=this.permissions.hasPermission(ae.MingaPermission.CONTENT_GROUP_CREATE),this._personHash&&(yield this._initPersonInfo()),this._permissionsInitialized=!0}))}get disableSavingButton(){return this._uploading||this._loading||this.form&&this.form.pristine||!this.oldPassword&&!this.newPassword||!this.form||this.formInvalid}get formInvalid(){let e=!1;if(this.form)for(const t in this.form.controls)if(this.form.controls[t].invalid){if(t=="profileDisplayName-"+this.currentTime&&!this.changeDisplayName)continue;e=!0;break}return e}get oldPasswordControlErrorKey(){return this.oldPasswordError?this.oldPasswordError:this.oldPasswordFormControl.errors?Object.keys(this.oldPasswordFormControl.errors)[0]:""}get newPasswordControlErrorKey(){return this.newPasswordError?this.newPasswordError:this.newPasswordFormControl.errors?Object.keys(this.newPasswordFormControl.errors)[0]:""}get fullName(){return this.fields.firstname+" "+this.fields.lastname}get isOwnProfile(){return this._personHash==this.authInfoService.authPersonHash}get filter(){return{personHash:this._personHash||this.authInfoService.authPersonHash}}get emptyFeedString(){return(this.isOwnProfile?"You haven't":this.fields.displayName+" hasn't")+" posted anything yet."}get emptyBadgesString(){return(this.isOwnProfile?"You haven't":this.fields.displayName+" hasn't")+" earned any badges yet."}get emptyGroupsString(){return(this.isOwnProfile?"You aren't":this.fields.displayName+" isn't")+" a member of any groups."}get emptyPointString(){return this.isOwnProfile?"":this.fields.displayName+" hasn't earned any points yet."}getAutosaveMsg(e){return e?this.MESSAGES.UPLOAD_ID_PICTURE_MSG:this.MESSAGES.UPLOAD_PICTURE_MSG}onRoleChange(e){return Object(P.a)(this,void 0,void 0,(function*(){this.roleName=e,this.showGradeField=yield this.rolesService.formShouldShowGrade(this.fields.accountRoleType),this.showStudentIdField=yield this.rolesService.formShouldShowStudentId(this.fields.accountRoleType)}))}openProfilePopoverOptions(e){return Object(P.a)(this,void 0,void 0,(function*(){e.stopImmediatePropagation(),e.preventDefault(),yield this.rootService.openGlobalMenu({x:e.pageX,y:e.pageY,items:[{name:this.editing?"Cancel":"Edit Profile",click:()=>this.toggleEditForm()},{name:"Preferences",click:()=>this.router.navigate(["user-preferences"])}]})}))}toggleEditForm(){this.editing=!this.editing,this.resetForm()}preventNavigation(){return this.form.pending||this.editingName||this.editingEmail||this.editingPassword?"You have unsaved changes. Are you sure you want to leave?":""}commitPublicBirthdate(){return Object(P.a)(this,void 0,void 0,(function*(){const e=new Ot.UpdateProfileBirthdatePublicRequest;return e.setPersonHash(this._personHash),this.isOwnProfile&&(this.publicBirthdate=!0),e.setPublicBirthdate(this.publicBirthdate),yield this.profileService.updateBirthdatePublic(e)}))}publicBirthdateChange(e){return Object(P.a)(this,void 0,void 0,(function*(){this.savingBirthdatePublic=!this.savingBirthdatePublic}))}commitBirthdate(){return Object(P.a)(this,void 0,void 0,(function*(){const e=new Ot.UpdateProfileBirthdateRequest;if(e.setPersonHash(this._personHash),this.currentBirthdate){const t=new bt.Date;t.setYear(this.currentBirthdate.getUTCFullYear()),t.setMonth(this.currentBirthdate.getUTCMonth()+1),t.setDay(this.currentBirthdate.getUTCDate()),e.setBirthdate(t)}else e.clearBirthdate();yield this.profileService.updateBirthdate(e)}))}birthdateChanged(e){return Object(P.a)(this,void 0,void 0,(function*(){this.isOwnProfile&&(this.publicBirthdate=!!this.fields.birthdate)}))}initEditPassword(){this.oldPassword="",this.fields.password="";let e=[];e.push(r.D.minLength(4)),e.push(r.D.maxLength(16)),this.oldPasswordFormControl=new r.h(this.oldPassword,e),e.push(ee.a.NoSymbolsOneLetterOneNumber),this.newPasswordFormControl=new r.h(this.newPassword,e),this.form.form.contains("oldPassword")?(this.form.form.setControl("oldPassword",this.oldPasswordFormControl),this.form.form.setControl("newPassword",this.newPasswordFormControl)):(this.form.form.addControl("oldPassword",this.oldPasswordFormControl),this.form.form.addControl("newPassword",this.newPasswordFormControl)),this.form.form.markAsPristine(),this.handingFocusEvent=!1}_onUploadCoverImageDone(e){return Object(P.a)(this,void 0,void 0,(function*(){const t=new Ot.UpdateProfileCoverImageRequest;t.setAsset(e),t.setPersonHash(this._personHash);const n=yield this.profileService.updateProfileCoverImage(t);if(n.getStatus()==ie.StatusCode.OK){const e=n.getProfileCoverImageInfo().getSizeMap().get("raw").getPath();this.coverImageUrl=window.MINGA_ASSET_URL_PREFIX+e}}))}onUploadCoverImageDone(e){return this._loadingCoverImage=!0,this._onUploadCoverImageDone(e).then(()=>{this._loadingCoverImage=!1},e=>{console.error(e),this._loadingCoverImage=!1})}onFeedClick(){this.currentSelectedTab=this.currentDisplayTab=Bi.FEED}onPointsClick(){this.currentSelectedTab=this.currentDisplayTab=Bi.POINTS}onBadgesClick(){this.currentSelectedTab=this.currentDisplayTab=Bi.BADGES}onGroupsClick(){this.currentSelectedTab=this.currentDisplayTab=Bi.GROUPS}updatePhotoClick(e){this.fileInput.trigger()}resetForm(){this.fields.displayName=this.displayName,this.oldPassword=wt.a,this.oldPasswordType="password",this.fields.password="",this.newPasswordType="password",this.newPasswordVisible=!1,this.oldPasswordVisible=!1,this.oldPasswordFormControl=new r.h(this.oldPassword,[]),this.newPasswordFormControl=new r.h(this.newPassword,[]),this.fields=J.cloneDeep(this.initialFields),this.form.form.markAsPristine()}toggleEditPassword(e=!this.editingPassword,t=null){this._preventEventBehaviors(t),this.editingPassword=e,this.editingPassword?this.initEditPassword():(this.oldPassword=wt.a,this.oldPasswordType="password",this.fields.password="",this.newPasswordType="password",this.newPasswordVisible=!1,this.oldPasswordVisible=!1,this.oldPasswordFormControl=new r.h(this.oldPassword,[]),this.newPasswordFormControl=new r.h(this.newPassword,[]),this.form.form.markAsPristine())}toggleOldPasswordVisibility(e=!this.oldPasswordVisible){this.oldPasswordVisible=e,this.oldPasswordVisible?(this.oldPasswordIcon="visibility_off",this.oldPasswordType="text"):(this.oldPasswordIcon="visibility",this.oldPasswordType="password")}toggleNewPasswordVisibility(e=!this.newPasswordVisible){this.newPasswordVisible=e,this.newPasswordVisible?(this.newPasswordIcon="visibility_off",this.newPasswordType="text"):(this.newPasswordIcon="visibility",this.newPasswordType="password")}_preventEventBehaviors(e){e&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())}onFocusPassword(e){return Object(P.a)(this,void 0,void 0,(function*(){this.handingFocusEvent||!e||this.editingPassword||(this.handingFocusEvent=!0,this.toggleEditPassword(!0),this.editingEmail=!1)}))}getTranslateParams(e){return{value:e}}onKeyDown(e){"Enter"===e.key&&(this._preventEventBehaviors(e),this.updateProfile())}initBirthdateFromDate(e){this.fields.birthdate=e?new Date(Date.UTC(e.getYear(),e.getMonth()-1,e.getDay(),(new Date).getTimezoneOffset()/60)):null}_readPerson(){return Object(P.a)(this,void 0,void 0,(function*(){const e=this._personHash||this.authInfoService.authPersonHash;if(!e)return void console.error("unable to read person, no person hash available");const t=yield this.peopleManagerService.readPeople([e],!0).catch(e=>(this.analytics.sendException("profile readPerson readPeoeple throw error",oe.errorPriority.ALERT),console.error("[Profile]readPerson() no person found.",e),[]));if(t.length){const e=t[0],n=e.getIdentity(),i=e.getAccount();this.personUniqueHash=n.getHash(),this.fields.firstname=n.getFirstName(),this.fields.lastname=n.getLastName(),this.fields.email=n.getEmailAddress(),this.fields.pin=n.getPin(),this.fields.studentId=n.getStudentId(),this.fields.grade=i.getGrade(),this.fields.phoneNumber=n.getPhoneNumber(),this.fields.accountRoleType=e.getAccountRoleType(),this.coverImageUrl=i.getProfileCoverImageUrl(),this.currentEmail=n.getEmailAddress(),this.currentRole=e.getAccountRoleType().replace("_"," "),this.currentRoleColor=e.getAccountRoleColor(),this.teams=yield this.findTeams(),this.initBirthdateFromDate(e.getBirthdate()),i&&(this.fields.displayName=i.getDisplayName(),this.fields.customDisplayName=!!i.getCustomDisplayName(),this.displayName=this.fields.displayName),this.initialFields=J.cloneDeep(this.fields),this.form&&this.form.form.markAsPristine()}}))}_retrieveProfile(){return Object(P.a)(this,void 0,void 0,(function*(){const e=this._personHash||this.authInfoService.authPersonHash;if(!e)return void console.error("unable to retrieve profile, no person hash available");const t=new Ot.ReadProfileRequest;t.setPersonHash(e),yield this.rootService.addLoadingPromise(this.profileService.readProfile(t)).then(e=>Object(P.a)(this,void 0,void 0,(function*(){if(e.getStatus()==ie.StatusCode.OK){const t=e.getEmail();this.fields.email=t,this.currentEmail=t;const n=e.getDisplayName();n&&(this.fields.displayName=n,this.displayName=n),this.fields.studentId=e.getStudentId(),this.fields.grade=e.getGrade(),this.fields.phoneNumber=e.getPhoneNumber(),this.fields.firstname=e.getFirstName(),this.fields.lastname=e.getLastName();const i=e.getPersonViewMinimal();this.coverImageUrl=e.getProfileCoverImageUrl(),this.currentRoleColor=i.getBadgeIconColor(),this.currentRole=i.getBadgeRoleName().replace("_"," "),this.teams=yield this.findTeams(),this.publicBirthdate=e.getPublicBirthdate();const o=e.getBirthdate();o&&(this.currentBirthdate=Object(St.b)(o)),this.initBirthdateFromDate(o),this.initialFields=J.cloneDeep(this.fields),this.roleTranslateParams={value:this.fields.studentId}}else this.analytics.sendException("readProfile gave non ok statusCode",oe.errorPriority.ALERT);this.form&&this.form.form.markAsPristine()}))).catch(e=>{this.analytics.sendException("readProfile throw error",oe.errorPriority.ALERT)})}))}forgotPassword(){return Object(P.a)(this,void 0,void 0,(function*(){yield this.rootService.addLoadingPromise(this.authService.forgotPassword(this.currentEmail)),this.snackBar.open(`Reset password email sent to ${this.currentEmail}`)}))}setCustomError(e,t){e.setErrors({errorKey:!0})}launchArchiveAccountConfDialog(){this._launchConfirmationDialog({data:{text:"Are you sure you want to delete this account?",saveButtonLocale:"button.delete"}},()=>{this._launch2ndAccountArchiveConfDialog()})}findTeams(){return Object(P.a)(this,void 0,void 0,(function*(){const e=yield this.peopleManagerService.getMyTeams(this._personHash);return e.length>1?e.join(", "):e.length?e[0]:""}))}changeStudentIdImage(){return Object(P.a)(this,void 0,void 0,(function*(){this._disableUploaderButton||(this._disableUploaderButton=!0,this._idUploaderDialog.open({data:{personHash:this._personHash,currentImage:this._idImageSubj.value}}).afterClosed().subscribe(e=>Object(P.a)(this,void 0,void 0,(function*(){e&&(e.deleteImage?(yield this._studentIdService.deleteStudentIdImage(this._personHash),yield this._updateStudentId({personHash:this._personHash,fileName:void 0,tempPhoto:!1}),this._idImageSubj.next("")):e.fileName&&(yield this._updateStudentId({personHash:this._personHash,fileName:e.fileName}),e.previewUrl&&this._idImageSubj.next(e.previewUrl)))}))),this._disableUploaderButton=!1)}))}_launch2ndAccountArchiveConfDialog(){this._launchConfirmationDialog({data:{text:"Are you ABSOLUTELY sure you want to delete this account?",saveButtonLocale:"button.delete"}},()=>{this._personHash&&this.peopleManagerService.selfArchivePerson(this._personHash)})}_launchConfirmationDialog(e,t){this.dialog.open(_t.i,e).afterClosed().subscribe(e=>Object(P.a)(this,void 0,void 0,(function*(){e&&t()})))}_updateStudentId(e){return Object(P.a)(this,void 0,void 0,(function*(){yield this._studentIdService.updateStudentId(e)}))}_updatePersonForm(){const e=Object.entries(this.fields);let t={};this._uploading=!0;for(const[n,i]of e)J.isEqual(this.initialFields[n],i)||("password"!=n||"password"==n&&this.fields.password!=wt.a)&&(t[n]=i);"customDisplayName"in t&&(t.displayName=this.fields.displayName),this.rootService.addLoadingPromise(this.peopleManagerService.updatePerson(t,this.personUniqueHash)).then(e=>{e.getStatus()==ie.StatusCode.OK?this._handleUpdateSuccess():this._handleUpdateError()}).catch(e=>{this.errorReporting.sendErrorReport("client Profile.component","error occurred while updating profile by updatePeople",oe.errorPriority.ALERT),this._handleUpdateError()})}_updateProfile(){return Object(P.a)(this,void 0,void 0,(function*(){if(this.oldPasswordError="",this.newPasswordError="",this.oldPasswordFormControl.setErrors(null),this.newPasswordFormControl.setErrors(null),this.form.pristine)return void this.snackBar.open("There are no changes to be saved");if(this.fields.birthdate!=this.initialFields.birthdate&&(yield this.rootService.addLoadingPromise(this.commitPublicBirthdate()).catch(e=>{this.isOwnProfile&&(this.publicBirthdate=!!this.currentBirthdate),console.error("update public birthdate error: ",e),this.snackBar.open("Unable to update the showing of your birthdate, please try again later.")})),this.fields.password&&!this.oldPassword)return this.oldPasswordError="requiredOld",void this.oldPasswordFormControl.setErrors({requireOld:!0});if(!this.fields.password&&this.oldPassword&&this.oldPassword!=wt.a)return this.newPasswordError="required",void this.newPasswordFormControl.setErrors({required:!0});if(this.formInvalid)return void this.snackBar.open("your changes have errors, please fix and try again.");this._uploading=!0;let e=new Ot.UpdateProfileRequest;if(e.setPersonHash(this._personHash),this.oldPassword&&this.fields.password&&(e.setNewPassword(this.fields.password),e.setOldPassword(this.oldPassword)),this.fields.displayName&&this.fields.displayName!=this.displayName&&e.setDisplayName(this.fields.displayName.trim()),this.fields.email&&this.fields.email!=this.currentEmail&&e.setNewEmail(this.fields.email.trim()),this.fields.birthdate!=this.initialFields.birthdate)if(this.fields.birthdate){const t=new bt.Date;t.setYear(this.fields.birthdate.getUTCFullYear()),t.setMonth(this.fields.birthdate.getUTCMonth()+1),t.setDay(this.fields.birthdate.getUTCDate()),e.setBirthdate(t)}else e.setBirthdate(new bt.Date);this.fields.phoneNumber!=this.initialFields.phoneNumber&&e.setPhoneNumber(this.fields.phoneNumber||""),yield this.rootService.addLoadingPromise(this.profileService.updateProfile(e)).then(e=>{if(e.getStatus()==ie.StatusCode.OK){const t=e.getError();t?(this.snackBar.open(t),t.toLowerCase().includes("current password")?(this.oldPasswordError="incorrect",this.oldPasswordFormControl.setErrors({incorrect:!0})):t.toLowerCase().includes("new password")&&(this.newPasswordError="cannotMatch",this.oldPasswordFormControl.setErrors({cannotMatch:!0}))):this._handleUpdateSuccess()}else{const t=e.getReason().getMessage();console.error("[Profile] error occurred while updating profile! reason: ",t),this.errorReporting.sendErrorReport("client Profile.component","error occurred while updating profile",oe.errorPriority.ALERT),this._handleUpdateError()}}).catch(e=>{console.error("[Profile] error occurred while updating profile! ",e),this._handleUpdateError()})}))}_handleUpdateError(){this.snackBar.open("An error occurred while updating your profile, please try again later."),this._uploading=!1}_handleUpdateSuccess(){this.analytics.sendProfileUpdated(),this.editing=!1,this._uploading=!1,this.snackBar.open("Changes saved!"),this.initialFields=J.cloneDeep(this.fields),this.editingName=!1,this.editingEmail=!1,this.editingPassword=!1,this.toggleEditPassword(!1),this.handingFocusEvent=!1,this.element.nativeElement.blur(),this.form.form.markAsPristine()}updateProfile(e=null){return Object(P.a)(this,void 0,void 0,(function*(){e&&this._preventEventBehaviors(e),this.personFormPermissions?this._updatePersonForm():yield this._updateProfile()}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](de.a),o["\u0275\u0275directiveInject"](kt.ProfileService),o["\u0275\u0275directiveInject"](w.b),o["\u0275\u0275directiveInject"](ce.a),o["\u0275\u0275directiveInject"](ge.a),o["\u0275\u0275directiveInject"](C.c),o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](pe.a),o["\u0275\u0275directiveInject"](yt.a),o["\u0275\u0275directiveInject"](Ft.a),o["\u0275\u0275directiveInject"](Nt.ProfileContent),o["\u0275\u0275directiveInject"](Bt.a),o["\u0275\u0275directiveInject"](f.g),o["\u0275\u0275directiveInject"](Dt.b),o["\u0275\u0275directiveInject"](Tt.b),o["\u0275\u0275directiveInject"](jt.b),o["\u0275\u0275directiveInject"](jt.c),o["\u0275\u0275directiveInject"](At),o["\u0275\u0275directiveInject"](y.d),o["\u0275\u0275directiveInject"](le.b),o["\u0275\u0275directiveInject"](Ut.b),o["\u0275\u0275directiveInject"](fe.a),o["\u0275\u0275directiveInject"](ve.a),o["\u0275\u0275directiveInject"](It.a),o["\u0275\u0275directiveInject"](Ht.a),o["\u0275\u0275directiveInject"](Wt.b))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-profile"]],viewQuery:function(e,t){if(1&e&&(o["\u0275\u0275viewQuery"](hn,3),o["\u0275\u0275viewQuery"](un,3),o["\u0275\u0275viewQuery"](fn,3,r.v),o["\u0275\u0275viewQuery"](vn,3),o["\u0275\u0275viewQuery"](Cn,3),o["\u0275\u0275viewQuery"](Pn,3),o["\u0275\u0275viewQuery"](xn,1)),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.fileInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.coverImageFileInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.form=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.displayNameInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.oldPasswordInput=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.profileCardElement=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.profileLinksElement=e.first)}},hostBindings:function(e,t){1&e&&o["\u0275\u0275listener"]("beforeunload",(function(e){return t.onBeforeUnload(e)}),!1,o["\u0275\u0275resolveWindow"])},decls:60,vars:58,consts:[["avatarTpl",""],[1,"profile-card"],["profileCard",""],[1,"header-background"],[1,"cover-image-input"],[1,"current-cover-image"],["class","cover-image-editing-wrap",4,"ngIf"],[3,"diameter","thickness",4,"ngIf"],[1,"white-divider"],[3,"click",4,"ngIf"],["class","avatar-edit-wrap user-content mg-centered",4,"ngIf"],[1,"non-editing-container"],["class","person-name",4,"ngIf"],[4,"ngIf"],[1,"profile-details-container"],["class","grad-year-container mg-minicopy",4,"ngIf"],["class","mg-centered profile-links",3,"has-feed","has-groups","has-points",4,"ngIf"],["class","editing-photos-text",4,"ngIf"],["role","presentation",1,"profile-edit-form","mg-minicopy",3,"autocomplete","submit"],["form","ngForm"],["type","text",1,"input-hidden",3,"autocomplete","name"],["mgFormField","",3,"mgReadOnly",4,"ngIf"],["name","profileemail","placeholder","Email",3,"nohint","unique","ngModel","name","required","readOnly","save","ngModelChange"],["mgFormField",""],["type","text","matInput","","mgPhoneNumberValidator","","name","phoneInput","placeholder","Mobile Phone Number",3,"ngModel","required","ngModelChange"],["name","accountRole","mgApperance","outline",3,"required","ngModel","ngModelChange","roleName","displayNameFormat",4,"ngIf"],["minlength","4","name","displayName","alwaysDefaultValue","true",3,"firstName","lastName","statusPending","statusTouched","ngModel","custom","displayNameFormat","required","ngModelChange","customChange",4,"ngIf"],["mgFormField","","class","display-name-field",3,"mgReadOnly",4,"ngIf"],["datePlaceholder","Birthday","name","birthday",3,"canReset","disabled","utc","ngModel","maxDate","dateOnly","ngModelChange"],[3,"ngModel","editMode","name","required","ngModelChange","keypress",4,"ngIf"],[1,"save-button-container"],[1,"save-button"],["href","javascript:;",3,"click",4,"ngIf"],["class","footer-button-container",4,"ngIf"],[1,"grey-divider"],["class","archive-account-container",4,"ngIf"],[3,"personHash","emptyStreamString",4,"ngIf"],["class","feed-items",4,"ngIf"],["emptyGroupFeed",""],["emptyBadgeFeed",""],[3,"color","src"],[1,"cover-image-editing-wrap"],["mgIconCompact","",3,"customTitleText","multiple","ngModel","ngModelChange"],["coverImageFileInput",""],[3,"previewSize","previewPaddingBottom","file","formControl",4,"ngIf"],[3,"previewSize","previewPaddingBottom","file","formControl"],[3,"diameter","thickness"],[3,"click"],[1,"avatar-edit-wrap","user-content","mg-centered"],[4,"ngTemplateOutlet"],[1,"person-name"],["class","person-displayname",4,"ngIf"],["class","mg-minicopy person-role",4,"ngIf"],[1,"mg-minicopy","person-team-names"],[1,"person-displayname"],[1,"mg-minicopy","person-role"],[1,"grad-year-container","mg-minicopy"],[1,"mg-centered","profile-links"],["profileLinksElement",""],["class","profile-link","matRipple","",3,"selected","click",4,"ngIf"],["matRipple","",1,"profile-link","badges",3,"click"],["icon","badges"],["matRipple","",1,"profile-link",3,"click"],[1,"trophy-icon"],["icon","points-star1"],["icon","group"],["fxLayout","row","fxLayoutAlign","center center"],[1,"id-container",3,"click"],["class","id-image",4,"ngIf"],["class","id-image filled",4,"ngIf"],[1,"id-change-image"],[1,"id-image"],[1,"id-image","filled"],[3,"src"],[1,"editing-photos-text"],["name","firstname",3,"ngModel","required","ngModelChange"],["firstname","ngModel"],["name","lastname",3,"ngModel","required","ngModelChange"],["lastname","ngModel"],["mgFormField","",3,"mgReadOnly"],["type","text","matInput","","name","nameInput","placeholder","Name","readonly","","required","",3,"ngModel"],["name","accountRole","mgApperance","outline",3,"required","ngModel","ngModelChange","roleName","displayNameFormat"],["type","text","matInput","","name","roleName","placeholder","Role","readonly","","required","",3,"ngModel"],["minlength","4","name","displayName","alwaysDefaultValue","true",3,"firstName","lastName","statusPending","statusTouched","ngModel","custom","displayNameFormat","required","ngModelChange","customChange"],["mgFormField","",1,"display-name-field",3,"mgReadOnly"],["matInput","","placeholder","Display Name","minlength","4","maxlength","16","required","",3,"name","ngModel","pattern","autocomplete","readonly","ngModelChange","keydown"],["displayNameInput","ngModel"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["name","grade","placeholder","Grade",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","editMode","name","required","ngModelChange","keypress"],["password","ngModel"],["mgFormField","",1,"password-old-field"],["type","text","matSuffix","","class","input-action mg-minicopy",3,"click",4,"ngIf"],["matInput","","placeholder","Current Password","autocorrect","off",3,"name","autocomplete","type","required","ngModel","formControl","focus","keydown","ngModelChange"],["oldPasswordInput",""],["class","input-icon","matSuffix","",4,"ngIf"],["mgFormField","","class","password-new-field",3,"expand-for-error",4,"ngIf"],["type","text","matSuffix","",1,"input-action","mg-minicopy",3,"click"],["matSuffix","",1,"input-icon"],[1,"clickable",3,"mousedown"],["mgFormField","",1,"password-new-field"],["matInput","","placeholder","New Password","autocorrect","off",3,"type","name","autocomplete","required","ngModel","formControl","keydown","ngModelChange"],["href","javascript:;",3,"click"],[1,"footer-button-container"],["type","text",1,"mg-minicopy",3,"click"],["type","outline",1,"mg-minicopy",3,"disabled","click"],[1,"archive-account-container"],[1,"archive-account-title"],[3,"personHash","emptyStreamString"],[1,"feed-items"],["mgStreamControl","profileContent","rpcStream","search","rpcControl","searchControl",3,"filter","service"],["mgStreamItem",""],["mg-stream-empty","",3,"title"],["streamName","profileContent",3,"text"],["display","miniCard",3,"context","content"],[4,"ngIf","ngIfElse"],[3,"groups"],["class","badges-list",4,"ngIf","ngIfElse"],[1,"badges-list"],[4,"ngFor","ngForOf"],[3,"badge"]],template:function(e,t){1&e&&(o["\u0275\u0275template"](0,Mn,2,4,"ng-template",null,0,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementStart"](2,"div",1,2),o["\u0275\u0275elementStart"](4,"div",3),o["\u0275\u0275elementStart"](5,"div",4),o["\u0275\u0275element"](6,"div",5),o["\u0275\u0275template"](7,yn,4,4,"div",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](8,bn,1,2,"mg-spinner",7),o["\u0275\u0275element"](9,"div",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](10,On,1,0,"mg-ellipsis",9),o["\u0275\u0275template"](11,Sn,2,1,"div",10),o["\u0275\u0275elementStart"](12,"div",11),o["\u0275\u0275template"](13,En,3,3,"p",12),o["\u0275\u0275template"](14,Nn,5,3,"ng-container",13),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"div",14),o["\u0275\u0275template"](16,Bn,4,6,"div",15),o["\u0275\u0275template"](17,zn,12,19,"div",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](18,Vn,10,8,"ng-container",13),o["\u0275\u0275pipe"](19,"async"),o["\u0275\u0275template"](20,An,3,3,"p",17),o["\u0275\u0275elementStart"](21,"form",18,19),o["\u0275\u0275listener"]("submit",(function(e){return t.updateProfile(e)})),o["\u0275\u0275element"](23,"input",20),o["\u0275\u0275template"](24,Un,5,4,"ng-container",13),o["\u0275\u0275template"](25,Hn,4,2,"mat-form-field",21),o["\u0275\u0275elementStart"](26,"mg-email",22),o["\u0275\u0275listener"]("save",(function(e){return t.updateProfile(e)}))("ngModelChange",(function(e){return t.fields.email=e})),o["\u0275\u0275pipe"](27,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"mat-form-field",23),o["\u0275\u0275elementStart"](29,"mat-label"),o["\u0275\u0275text"](30,"Phone Number"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"input",24),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.phoneNumber=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](32,"mat-error"),o["\u0275\u0275elementContainerStart"](33),o["\u0275\u0275elementStart"](34,"span"),o["\u0275\u0275text"](35),o["\u0275\u0275pipe"](36,"translate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](37,Wn,1,2,"mg-role-select",25),o["\u0275\u0275template"](38,qn,4,2,"mat-form-field",21),o["\u0275\u0275template"](39,Gn,1,8,"mg-display-name",26),o["\u0275\u0275template"](40,Zn,6,7,"mat-form-field",27),o["\u0275\u0275template"](41,ei,6,5,"mat-form-field",21),o["\u0275\u0275elementStart"](42,"mg-date-time-picker",28),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.birthdate=e}))("ngModelChange",(function(e){return t.birthdateChanged(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](43,ti,2,4,"mg-password",29),o["\u0275\u0275template"](44,Pi,10,10,"ng-container",13),o["\u0275\u0275elementStart"](45,"div",30),o["\u0275\u0275elementStart"](46,"div",31),o["\u0275\u0275template"](47,xi,2,0,"a",32),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](48,Mi,5,1,"div",33),o["\u0275\u0275element"](49,"div",34),o["\u0275\u0275template"](50,wi,5,0,"div",35),o["\u0275\u0275pipe"](51,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](52,yi,1,2,"mg-profile-points",36),o["\u0275\u0275template"](53,Oi,4,3,"div",37),o["\u0275\u0275template"](54,Ii,3,4,"ng-container",13),o["\u0275\u0275template"](55,Si,1,1,"ng-template",null,38,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](57,Fi,3,4,"ng-container",13),o["\u0275\u0275template"](58,Ni,1,1,"ng-template",null,39,o["\u0275\u0275templateRefExtractor"])),2&e&&(o["\u0275\u0275advance"](4),o["\u0275\u0275classProp"]("editing",t.editing),o["\u0275\u0275advance"](2),o["\u0275\u0275styleProp"]("background-image","url("+t.coverImageUrl+")"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t._loadingCoverImage),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.isOwnProfile||t.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.person),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.fullName),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.editing),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!t.editing&&t.fields.grade),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](19,50,t.editing&&t.canChangeIDPicture$)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.editing),o["\u0275\u0275advance"](1),o["\u0275\u0275classProp"]("show",t.editing&&t.person),o["\u0275\u0275property"]("autocomplete","profile-form-off-"+t.currentTime),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("autocomplete","hidden-input-off-"+t.currentTime)("name","profilehidden-"+t.currentTime),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("nohint",!0)("unique",t.currentEmail)("ngModel",t.fields.email)("name","profile-email-off-"+t.currentTime)("required",!0)("readOnly",!o["\u0275\u0275pipeBind1"](27,52,t.canChangeEmail$)),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",t.fields.phoneNumber)("required",!1),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](36,54,"input.phone.error.format")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",t.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.fields.grade||t.personFormPermissions&&t.showGradeField),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("canReset",!0)("disabled",t.savingBirthdate)("utc",!0)("ngModel",t.fields.birthdate)("maxDate",t.currentDate)("dateOnly",!0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.personFormPermissions),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.personFormPermissions),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",!t.newPassword),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.editing),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](51,56,t.canUserDeleteAccount$)),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!t.editing&&"POINTS"===t.currentDisplayTab&&t._personHash),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.editing&&"FEED"===t.currentDisplayTab),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.editing&&"GROUPS"===t.currentDisplayTab),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",!t.editing&&"BADGES"===t.currentDisplayTab))},directives:[i.o,r.E,r.u,r.v,qt.a,r.t,r.w,r.B,c.d,Oe.a,c.h,p.b,r.d,Gt.a,c.c,$t.a,Ce.a,Me.a,we.a,r.i,ye.a,xe.a,i.t,Pe.a,Yt.e,Yt.d,Qt.a,Kt.a,Jt.a,Zt.a,r.o,r.n,r.z,i.q,i.r,i.s,S.a,i.n,l.m,Xt.b,Ie.a,c.j,g.a,en.a,tn.a,nn.a,on.a,an.a,rn.a,sn.a,ln.a,mn],pipes:[i.b,v.d,i.y],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:block;--feed-item-margin-side:16px}@media (min-width:600px){[_nghost-%COMP%]{--feed-item-margin-side:0}}.ios-long[_nghost-%COMP%]{min-height:100vh;width:100%}@media (min-width:600px){.ios-long[_nghost-%COMP%]{min-height:120vh}.ios-long[_nghost-%COMP%]   .profile-card[_ngcontent-%COMP%]{width:calc(100% - 2 * (var(--feed-item-margin-side, 16px)))!important}}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#93f;text-decoration:none;font-size:14px}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.75}[_nghost-%COMP%]   .non-editing-name[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .non-editing-name[_ngcontent-%COMP%]     .mat-input-wrapper{padding-bottom:0}[_nghost-%COMP%]   .non-editing-name[_ngcontent-%COMP%]     .mat-input-wrapper .mat-input-underline{background-color:initial}[_nghost-%COMP%]   .student-info-container[_ngcontent-%COMP%]{color:#737373;text-align:center;margin-top:1em}[_nghost-%COMP%]   .student-info-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child):after{content:" | "}[_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .input-actions.disabled[_ngcontent-%COMP%], [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   .input-action.disabled[_ngcontent-%COMP%]{color:#d1d1d1}[_nghost-%COMP%]   .input-actions.disabled[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   .input-action.disabled[_ngcontent-%COMP%]:hover{cursor:not-allowed}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:1.5em}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]:hover{cursor:pointer;color:#93f}[_nghost-%COMP%]   .input-action.icon[_ngcontent-%COMP%]     mg-button{--mg-icon-size:12px;font-size:0}[_nghost-%COMP%]   .non-input-text[_ngcontent-%COMP%]{margin:0;color:#737373;text-align:center}[_nghost-%COMP%]   .profile-edit-form[_ngcontent-%COMP%]{color:#737373}.input-hidden[_ngcontent-%COMP%]{display:none}mg-profile-points[_ngcontent-%COMP%]{display:block;margin:0 var(--feed-item-margin-side,16px) 200px var(--feed-item-margin-side,16px)}.profile-card[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]{display:block;overflow:hidden;border-radius:8px;background-color:#fff;box-shadow:0 0 6px rgba(0,0,0,.15);margin:12px var(--feed-item-margin-side,16px) var(--feed-item-margin-top,4px) var(--feed-item-margin-side,16px);text-align:left;max-width:510px;position:relative;margin-bottom:24px;padding:0;min-width:289px}@media (min-width:600px){.profile-card[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]{margin-top:28px;margin-left:0;min-width:510px}}@media (min-width:960px){.profile-card[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]{min-width:289px}}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]{height:222px;box-sizing:border-box;width:100%;background-color:#036;z-index:0;position:absolute}.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]{cursor:pointer}.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{z-index:2}.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   .cover-image-input[_ngcontent-%COMP%]:before, .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   .cover-image-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.15)}@media (hover:hover){.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]:hover   .cover-image-input[_ngcontent-%COMP%]:before, .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]:hover   .cover-image-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.35)}.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]:hover   mg-file-input[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]:hover   mg-file-input[_ngcontent-%COMP%]{z-index:2}}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .white-divider[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .white-divider[_ngcontent-%COMP%]{position:absolute;bottom:-28px;left:0;right:0;background-color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:10px;height:40px}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .white-divider[_ngcontent-%COMP%]:after, .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .white-divider[_ngcontent-%COMP%]:after{background-color:#fff;height:30px;content:"";position:absolute;bottom:-20px;left:-20px;right:-20px}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{text-align:left;--mg-file-input-drop-info-padding:18px 18px 18px 10%;--mg-file-input-icon-margin:auto auto 15px 6%;--mg-file-input-drop-area-padding-top:12%}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .current-cover-image[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .current-cover-image[_ngcontent-%COMP%]{height:222px;background-size:cover;background-position:50%}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .cover-image-editing-wrap[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .cover-image-editing-wrap[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{position:absolute;top:0;pointer-events:none;z-index:1;overflow:hidden}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .cover-image-editing-wrap[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .cover-image-editing-wrap[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{position:absolute;z-index:0;left:0;right:0;top:50%;transform:translateY(-50%)}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:50%;z-index:3;bottom:0;left:0;right:0;margin:0;transform:translateY(-50%)}.profile-card[_ngcontent-%COMP%]   mg-ellipsis[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   mg-ellipsis[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}.editing-photos-text[_ngcontent-%COMP%]{color:#888;font-size:15px;margin:19px auto 30px 1.1764705882rem;text-align:left}.non-editing-container[_ngcontent-%COMP%]{text-align:center}.non-editing-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:.2em 0}.grad-year-container[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#036;padding:6px}.person-name[_ngcontent-%COMP%]{font-size:14px;font-weight:800;color:#243b75;line-height:1.9}.person-displayname[_ngcontent-%COMP%]{color:#2f2f2f}.person-role[_ngcontent-%COMP%], .person-team-names[_ngcontent-%COMP%]{color:#737373}.profile-details-container[_ngcontent-%COMP%]{margin-top:2em}.profile-links[_ngcontent-%COMP%]{display:flex;flex-basis:100%}.profile-links[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;box-sizing:border-box;font-size:15px;padding:12px 2px;flex-basis:100%;flex-shrink:0;cursor:pointer}.profile-links[_ngcontent-%COMP%]   .profile-link.badges[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.profile-links[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]   .trophy-icon[_ngcontent-%COMP%]{background-image:url(/assets/points/trophys_Points-2.svg);background-repeat:no-repeat;background-size:contain;height:38px;width:35px}.profile-links[_ngcontent-%COMP%]   .profile-link.selected[_ngcontent-%COMP%]{background-color:#e2e2e2;border-top:5px solid #745b9f}.profile-links.has-groups[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%], .profile-links.has-points[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{flex-basis:calc(100% / 2)}.profile-links.has-feed.has-groups[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%], .profile-links.has-feed.has-points[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%], .profile-links.has-groups.has-points[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{flex-basis:calc(100% / 3)}.profile-links.has-feed.has-points.has-groups[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{flex-basis:calc(100% / 4)}.avatar-edit-wrap[_ngcontent-%COMP%]{margin:140px 8px 4px}@media (orientation:landscape){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:.0266666667vh}}@media (orientation:portrait){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:.0266666667vw}}@media (orientation:landscape) and (max-height:375px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:.1px}}@media (orientation:portrait) and (max-width:375px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:.1px}}@media (min-width:30000px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:8px}}@media (orientation:landscape){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:.0266666667vh}}@media (orientation:portrait){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:.0266666667vw}}@media (orientation:landscape) and (max-height:375px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:.1px}}@media (orientation:portrait) and (max-width:375px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:.1px}}@media (min-width:30000px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:8px}}.avatar-edit-wrap[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;z-index:3;bottom:0;left:0;right:0;margin:0}mg-avatar-picker[_ngcontent-%COMP%]{--mg-file-input-icon-margin:0;--mg-avatar-picker-item-padding:0;--mg-avatar-picker-swipe-container-width:85%;--mg-file-input-drop-area-padding-bottom:40%;--mg-icon-size:30px;font-weight:700;padding-top:42px}@media (min-width:599px){mg-avatar-picker[_ngcontent-%COMP%]{padding-top:22px}}.current-display-name[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;margin-top:0;margin-bottom:1.8em}@media (orientation:landscape){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vh}}@media (orientation:portrait){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vw}}@media (orientation:landscape) and (max-height:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (orientation:portrait) and (max-width:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (min-width:439.875px){.current-display-name[_ngcontent-%COMP%]{font-size:19.992px}}mg-avatar[_ngcontent-%COMP%]{--mg-avatar-size:95px;--mg-avatar-border-radius:8%;--mg-avatar-border-width:0;--mg-avatar-box-shadow:0 0 10px rgba(0,0,0,0.65);margin-top:20px}.save-button[_ngcontent-%COMP%]{display:block;text-align:center}.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:13px}}.save-button[_ngcontent-%COMP%]{text-align:left}.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{white-space:nowrap;visibility:hidden;pointer-events:none}.save-button[_ngcontent-%COMP%] > mg-button-outline.show[_ngcontent-%COMP%]{display:inline-block;visibility:visible;pointer-events:all}.save-button-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;margin-bottom:1em}.grey-divider[_ngcontent-%COMP%]{border-top:2px solid #e2e2e2;margin:35px 0 25px}.archive-account-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:8px;cursor:pointer}.archive-account-title[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.archive-account-title[_ngcontent-%COMP%]{font-size:3.0917874396vh}}@media (orientation:portrait){.archive-account-title[_ngcontent-%COMP%]{font-size:3.0917874396vw}}@media (orientation:landscape) and (max-height:414px){.archive-account-title[_ngcontent-%COMP%]{font-size:12.8px}}@media (orientation:portrait) and (max-width:414px){.archive-account-title[_ngcontent-%COMP%]{font-size:12.8px}}@media (min-width:439.875px){.archive-account-title[_ngcontent-%COMP%]{font-size:13.6px}}.profile-footer-links[_ngcontent-%COMP%]{padding-top:50px;font-size:14px;max-width:510px}@media (orientation:landscape){.profile-footer-links[_ngcontent-%COMP%]{padding-top:4.375vh}}@media (orientation:portrait){.profile-footer-links[_ngcontent-%COMP%]{padding-top:4.375vw}}@media (orientation:landscape) and (max-height:320px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:14px}}@media (orientation:portrait) and (max-width:320px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:14px}}@media (min-width:1142.8571428571px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:50px}}.profile-edit-form[_ngcontent-%COMP%]{display:none;padding:40px 30px;margin-bottom:200px}.profile-edit-form.show[_ngcontent-%COMP%]{display:block}.show-public-wrap[_ngcontent-%COMP%]{transform:translateY(-8px);margin-top:.25em;font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.show-public-wrap[_ngcontent-%COMP%]{font-size:3.0917874396vh}}@media (orientation:portrait){.show-public-wrap[_ngcontent-%COMP%]{font-size:3.0917874396vw}}@media (orientation:landscape) and (max-height:414px){.show-public-wrap[_ngcontent-%COMP%]{font-size:12.8px}}@media (orientation:portrait) and (max-width:414px){.show-public-wrap[_ngcontent-%COMP%]{font-size:12.8px}}@media (min-width:439.875px){.show-public-wrap[_ngcontent-%COMP%]{font-size:13.6px}}.show-public-wrap[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-left:8px}mg-date-time-picker[_ngcontent-%COMP%]{display:block}.feed-items[_ngcontent-%COMP%]{margin-bottom:50px}.badges-list[_ngcontent-%COMP%]{margin-bottom:200px}.badges-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-top:var(--feed-item-margin-vert,4px);padding-bottom:var(--feed-item-margin-vert,4px)}.id-container[_ngcontent-%COMP%]{position:relative}.id-image[_ngcontent-%COMP%]{height:155px}.id-image[_ngcontent-%COMP%]:not(.filled){width:155px;background-size:100%;background-repeat:no-repeat;background-image:url(/assets/student-id/placeholder-profile-pic.png);background-position:50%;border-radius:.4rem}@media print,screen and (max-width:59.99875em){.id-image[_ngcontent-%COMP%]:not(.filled){background-size:100%}}.id-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;image-orientation:from-image;border-radius:.4rem}.id-change-image[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.35);opacity:0;cursor:pointer;transition:opacity .3s ease-in-out;font-size:12px;color:#fff;text-align:center;border-radius:.4rem}.id-change-image[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:auto}.id-change-image[_ngcontent-%COMP%]:hover{opacity:1}']}),e})();var Ti=n("yp3o"),ji=n("NG9B"),zi=n("qsjj"),Ri=n("n09W"),Li=n("KRyY"),Vi=n("/2l8"),Ai=n("m9yI"),Ui=n("SOT1"),Hi=n("5uzz"),Wi=n("26Ds"),qi=n("ugqS");let Gi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[qi.a,Q.b,i.c]]}),e})();var $i=n("WsNZ"),Yi=n("kWWr"),Qi=n("c+LB"),Ki=n("ojOe");let Ji=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[Hi.a,Ai.b,A.a,K.a,Ri.a,$.a,Ui.a,k.a,Y.a,wt.b,Wi.a,Yi.a,zi.a,Li.a,Vi.a,U.c,H.b,C.b,X.a,Ki.a,$i.a,ji.a,Gi,Ti.b,Qi.a,i.c,r.m,r.A,v.c,c.f,h.b,S.b,g.b,p.c,a.a]]}),e})();const Zi=[{path:"events",pathMatch:"full",redirectTo:"events/calendar"},{path:"events",component:z,canActivate:[I.a],children:[{path:"calendar",pathMatch:"full",component:L.a},{path:"schedule",component:V.a},{path:"schedule/:quickFilter",component:V.a}]},{path:"notifications",component:ft.a,canActivate:[I.a],data:{title:"View Notifications"}},{path:"minga-profile",component:ut,canActivate:[I.a],data:{title:"Minga Profile"}},{path:"minga-files",component:_,canActivate:[I.a],data:{title:"Minga Files"}},{path:"user-preferences",data:{title:"User Preferences"},canActivate:[I.a],loadChildren:()=>Promise.all([n.e(0),n.e(83)]).then(n.bind(null,"Gk8+")).then(e=>e.UserPreferencesRoutesModule)},{path:"profile",component:Di,canActivate:[I.a],data:{title:"My Profile"}},{path:"profile/:personHash",component:Di,canActivate:[I.a],data:{title:"Profile"}}];let Xi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[R,V.b,L.b,ft.b,Ji,C.b,v.c.forChild(),f.k.forChild(Zi),i.c,r.m,r.A,s.b,h.b,m.b,a.a,u.g,d.b,g.b,c.f,p.c,l.r]]}),e})()},qsjj:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("SVse"),o=n("8Y7J"),a=n("s7LF"),r=n("pMoy"),s=n("Q2Ze"),l=n("e6WT"),d=n("TSSN"),c=n("HxU+"),g=n("7Tcv");n("85oS");let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[c.a,g.a,i.c,a.m,s.f,l.c,r.b,d.c]]}),e})()},qwsH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileContent=void 0,n("8Y7J");const i=n("qCKp"),o=n("+6wJ"),a=n("ACkK"),r=n("8Y7J");class s{constructor(e){this._ngZone=e}search(e,t,n,r,s){let l,d,c,g,p;if("function"==typeof t?(c=t,g=n,p=r):"function"==typeof n?(d=t,c=n,g=r,p=s):d=t,c)g||(g=e=>console.error(e)),p||(p=(e,t,n)=>{});else{let e=new i.Subject;l=e.asObservable(),c=t=>{e.next(t)},g=t=>{e.error(t)},p=(t,n,i)=>{e.complete()}}let m=o.grpc.invoke(a.ProfileContent.Search,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:d,onMessage:e=>this._ngZone.run(()=>{c(e)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e==o.grpc.Code.OK)p(e,t,n);else{let n=new Error(e+" "+(t||""));n.code=e,g(n)}})});return l.close=()=>(console.warn("[Angular Grpc] .close() is deprecated use .cancel() instead"),m.close()),l.cancel=()=>m.close(),l}searchControl(e,t,n){let i,r,s;"function"==typeof t?r=t:(s=t,r=n),r||(i=new Promise((e,t)=>{r=(n,i)=>{n?t(n):e(i)}}));let l=null,d=o.grpc.invoke(a.ProfileContent.SearchControl,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{r(null,e,l||new o.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=o.grpc.Code.OK){let n=new Error(t);n.code=e,r(n)}})});return i.cancel=()=>d.close(),i}}t.ProfileContent=s,s.\u0275fac=function(e){return new(e||s)(r.\u0275\u0275inject(r.NgZone))},s.\u0275prov=r.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},tJrb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetPersonBadgesResponse=t.GetPersonBadgesRequest=t.Badge=void 0;const i=n("hRO2"),o=n("Lvrm"),a=n("jlhD");class r extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,r.repeatedFields_,r.oneofGroups_)}getImageCase(){return i.Message.computeOneofCase(this,r.oneofGroups_[0])}toObject(e){return r.toObject(e||!1,this)}static toObject(e,t){var n,r={id:i.Message.getFieldWithDefault(t,1,0),name:i.Message.getFieldWithDefault(t,2,""),description:i.Message.getFieldWithDefault(t,3,""),asset:(n=t.getAsset())&&a.ImageInfo.toObject(e,n),banner:(n=t.getBanner())&&a.ImageInfo.toObject(e,n),date:(n=t.getDate())&&o.DateTime.toObject(e,n),contentContextHashList:null==(n=i.Message.getRepeatedField(t,20))?void 0:n};return e&&(r.$jspbMessageInstance=t),r}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setId(n);break;case 2:var i=t.readString();e.setName(i);break;case 3:var r=t.readString();e.setDescription(r);break;case 4:var s=new a.ImageInfo;t.readMessage(s,a.ImageInfo.deserializeBinaryFromReader),e.setAsset(s);break;case 5:var l=new a.ImageInfo;t.readMessage(l,a.ImageInfo.deserializeBinaryFromReader),e.setBanner(l);break;case 6:var d=new o.DateTime;t.readMessage(d,o.DateTime.deserializeBinaryFromReader),e.setDate(d);break;case 20:var c=t.readString();e.addContentContextHash(c);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getId())&&t.writeInt32(1,n),(n=e.getName()).length>0&&t.writeString(2,n),(n=e.getDescription()).length>0&&t.writeString(3,n),null!=(n=e.getAsset())&&t.writeMessage(4,n,a.ImageInfo.serializeBinaryToWriter),null!=(n=e.getBanner())&&t.writeMessage(5,n,a.ImageInfo.serializeBinaryToWriter),null!=(n=e.getDate())&&t.writeMessage(6,n,o.DateTime.serializeBinaryToWriter),(n=e.getContentContextHashList()).length>0&&t.writeRepeatedString(20,n)}serializeBinary(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()}getId(){return i.Message.getFieldWithDefault(this,1,0)}setId(e){i.Message.setProto3IntField(this,1,e)}getName(){return i.Message.getFieldWithDefault(this,2,"")}setName(e){i.Message.setProto3StringField(this,2,e)}getDescription(){return i.Message.getFieldWithDefault(this,3,"")}setDescription(e){i.Message.setProto3StringField(this,3,e)}getAsset(){return i.Message.getWrapperField(this,a.ImageInfo,4)}setAsset(e){i.Message.setOneofWrapperField(this,4,r.oneofGroups_[0],e)}clearAsset(){this.setAsset(void 0)}hasAsset(){return null!=i.Message.getField(this,4)}getBanner(){return i.Message.getWrapperField(this,a.ImageInfo,5)}setBanner(e){i.Message.setOneofWrapperField(this,5,r.oneofGroups_[0],e)}clearBanner(){this.setBanner(void 0)}hasBanner(){return null!=i.Message.getField(this,5)}getDate(){return i.Message.getWrapperField(this,o.DateTime,6)}setDate(e){i.Message.setWrapperField(this,6,e)}clearDate(){this.setDate(void 0)}hasDate(){return null!=i.Message.getField(this,6)}getContentContextHashList(){return i.Message.getRepeatedField(this,20)}setContentContextHashList(e){i.Message.setField(this,20,e||[])}addContentContextHash(e,t){i.Message.addToRepeatedField(this,20,e,t)}clearContentContextHashList(){this.setContentContextHashList([])}}t.Badge=r,r.displayName="Badge",r.repeatedFields_=[20],r.oneofGroups_=[[4,5]],function(e){let t;!function(e){e[e.IMAGE_NOT_SET=0]="IMAGE_NOT_SET",e[e.ASSET=4]="ASSET",e[e.BANNER=5]="BANNER"}(t=e.ImageCase||(e.ImageCase={}))}(r=t.Badge||(t.Badge={}));class s extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return s.toObject(e||!1,this)}static toObject(e,t){var n={personHash:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setPersonHash(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;(n=e.getPersonHash()).length>0&&t.writeString(1,n)}serializeBinary(){var e=new i.BinaryWriter;return s.serializeBinaryToWriter(this,e),e.getResultBuffer()}getPersonHash(){return i.Message.getFieldWithDefault(this,1,"")}setPersonHash(e){i.Message.setProto3StringField(this,1,e)}}t.GetPersonBadgesRequest=s,s.displayName="GetPersonBadgesRequest";class l extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,l.repeatedFields_,null)}toObject(e){return l.toObject(e||!1,this)}static toObject(e,t){var n={badgeList:i.Message.toObjectList(t.getBadgeList(),r.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new l;return l.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=new r;t.readMessage(n,r.deserializeBinaryFromReader),e.addBadge(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;(n=e.getBadgeList()).length>0&&t.writeRepeatedMessage(1,n,r.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return l.serializeBinaryToWriter(this,e),e.getResultBuffer()}getBadgeList(){return i.Message.getRepeatedWrapperField(this,r,1)}setBadgeList(e){i.Message.setRepeatedWrapperField(this,1,e)}addBadge(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,r,t)}clearBadgeList(){this.setBadgeList([])}}t.GetPersonBadgesResponse=l,l.displayName="GetPersonBadgesResponse",l.repeatedFields_=[1]},vnsL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BadgeCollection=void 0,n("8Y7J");const i=n("+6wJ"),o=n("obdK"),a=n("8Y7J");class r{constructor(e){this._ngZone=e}getPersonBadges(e,t,n){let a,r,s;"function"==typeof t?r=t:(s=t,r=n),r||(a=new Promise((e,t)=>{r=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(o.BadgeCollection.GetPersonBadges,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{r(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,r(n)}})});return a.cancel=()=>d.close(),a}}t.BadgeCollection=r,r.\u0275fac=function(e){return new(e||r)(a.\u0275\u0275inject(a.NgZone))},r.\u0275prov=a.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}]);
//# sourceMappingURL=minga-app-src-app-routes-home-HomeRoutes-module-es2015.js.map