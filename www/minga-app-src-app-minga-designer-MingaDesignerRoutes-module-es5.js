!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=i.call(n)).done)&&(l.push(o.value),l.length!==e);s=!0);}catch(u){c=!0,r=u}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return i(this,n)}}function i(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function u(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(I){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),l=new M(r||[]);return o(a,"_invoke",{value:b(t,n,l)}),a}function g(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=c;var d={};function p(){}function m(){}function v(){}var f={};s(f,i,(function(){return this}));var h=Object.getPrototypeOf,x=h&&h(h(k([])));x&&x!==e&&n.call(x,i)&&(f=x);var y=v.prototype=p.prototype=Object.create(f);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e((function(r,a){!function o(r,i,a,l){var s=g(t[r],t,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){o("next",t,a,l)}),(function(t){o("throw",t,a,l)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,l)}))}l(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}})}function b(t,e,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return _()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var l=S(a,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=g(t,e,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}function S(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=g(o,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return m.prototype=v,o(y,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:m,configurable:!0}),m.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(C.prototype),s(C.prototype,a,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,o,r,i){void 0===i&&(i=Promise);var a=new C(c(e,n,o,r),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(y),s(y,l,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=k,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return a.type="throw",a.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(r=o.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"))?i:String(i)),o)}var r,i}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{r0mq:function(o,i,a){"use strict";a.r(i),a.d(i,"mingaDesignerRoute",(function(){return uo})),a.d(i,"mingaDesignerRoutes",(function(){return go})),a.d(i,"MingaDesignerRoutesModule",(function(){return vo}));var s=a("1z/I"),c=a("8Y7J"),d=a("iInd"),m=a("+lWm"),v=a("GaEU"),f=a("em/2"),h=a("+/Hu"),x=a("vCJc"),y=a("mrSG"),w=a("4doY"),C=function(){function t(e,n){if(g(this,t),!n.snapshot.data.routeData)throw new Error("MingaDesignerRouteDataResolver missing routeData. Please use the mingaDesignerRouteConfig() function when declaring your route");this._router=e,this.routeData=n.snapshot.data.routeData}return p(t,[{key:"getDraft",value:function(t){return Object(y.a)(this,void 0,void 0,u().mark((function e(){var n,o,r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.routeData.studioContentInfo.templateId,o=function(){return{contentHash:i.routeData.contentHash,studioContentInfo:Object.assign({},i.routeData.studioContentInfo)}},e.next=3,t.getDraftDefaulted(this.routeData.contentHash,o);case 3:if(r=e.sent,e.t0=n&&r.studioContentInfo.templateId!==n,!e.t0){e.next=9;break}return r=o(),e.next=9,t.saveDraft(r);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"navigatePrevious",value:function(){return this._router.navigate(["",{outlets:{o:["studio"].concat(l(this.routeData.previousPath))}}])}},{key:"navigateNext",value:function(){return this._router.navigate(["",{outlets:{o:["studio"].concat(l(this.routeData.nextPath))}}])}}]),t}(),b=a("LvDl"),S=a("orC8");function O(t,e){var n,o,r,i,a,l,s,c,u,g,d,p,m=b.merge(t,e);return m.studioContentInfo&&m.studioContentInfo.designedSvg&&(b.assign(m.studioContentInfo.designedSvg.svgData,(null===(o=null===(n=e.studioContentInfo)||void 0===n?void 0:n.designedSvg)||void 0===o?void 0:o.svgData)||{}),m.studioContentInfo.designedSvg.svgManipulations&&(b.assign(m.studioContentInfo.designedSvg.svgManipulations,(null===(i=null===(r=e.studioContentInfo)||void 0===r?void 0:r.designedSvg)||void 0===i?void 0:i.svgManipulations)||{}),(null===(l=null===(a=e.studioContentInfo)||void 0===a?void 0:a.designedSvg)||void 0===l?void 0:l.svgManipulations)&&b.assign(m.studioContentInfo.designedSvg.svgManipulations.additionalManipulations,e.studioContentInfo.designedSvg.svgManipulations.additionalManipulations)),(null===(u=null===(c=null===(s=e.studioContentInfo)||void 0===s?void 0:s.designedSvg)||void 0===c?void 0:c.svgData)||void 0===u?void 0:u.additionalSlots)&&b.assign(m.studioContentInfo.designedSvg.svgData.additionalSlots,(null===(p=null===(d=null===(g=e.studioContentInfo)||void 0===g?void 0:g.designedSvg)||void 0===d?void 0:d.svgData)||void 0===p?void 0:p.additionalSlots)||[])),m}var P,M,k=((P=function(){function t(e){g(this,t),this.userStorage=e,this.pendingDraft=null}return p(t,[{key:"getDraft",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userStorage.getItem("MingaDesignerDraft");case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=null;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getDraftAssert",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDraft();case 2:if(e=t.sent){t.next=5;break}throw new Error("Expected a saved draft");case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getDraftDefaulted",value:function(t,e){return Object(y.a)(this,void 0,void 0,u().mark((function n(){var o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getDraft();case 2:if(o=n.sent,n.t0=o&&o.contentHash==t,n.t0){n.next=10;break}return n.next=7,e();case 7:return o=n.sent,n.next=10,this.storeDraft(o);case 10:return n.abrupt("return",o);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"saveDraft",value:function(t){return Object(y.a)(this,void 0,void 0,u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},this.pendingDraft),this.pendingDraft=O(n,t),e.next=4,this.savePendingDraft();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"saveDraftDelayed",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,o=Object.assign({},this.pendingDraft);this.pendingDraft=O(o,t),clearTimeout(this.draftSaveTimeout),this.draftSaveTimeout=setTimeout((function(){return e.savePendingDraft()}),n)}},{key:"clearDraft",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.userStorage.setItem("MingaDesignerDraft",null);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"savePendingDraft",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearTimeout(this.draftSaveTimeout),e=Object.assign({},this.pendingDraft),this.pendingDraft=null,t.t0=O,t.next=6,this.getDraftAssert();case 6:return t.t1=t.sent,t.t2=e,n=(0,t.t0)(t.t1,t.t2),t.next=11,this.storeDraft(n);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"storeDraft",value:function(t){return Object(y.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userStorage.setItem("MingaDesignerDraft",t);case 2:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||P)(c["\u0275\u0275inject"](S.a))},P.\u0275prov=c["\u0275\u0275defineInjectable"]({token:P,factory:P.\u0275fac,providedIn:"root"}),P),_=a("3PcW"),I=a("BxgO"),E=["*"],D=((M=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||M)},M.\u0275cmp=c["\u0275\u0275defineComponent"]({type:M,selectors:[["mg-overlay-cover-dialog"]],ngContentSelectors:E,decls:2,vars:0,consts:[[1,"dialog-content-container"]],template:function(t,e){1&t&&(c["\u0275\u0275projectionDef"](),c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275projection"](1),c["\u0275\u0275elementEnd"]())},styles:["[_nghost-%COMP%]{display:block;background-color:#fff;border-radius:6px;box-shadow:0 4px 16px rgba(0,0,0,.16);text-align:center;overflow:hidden;position:absolute;top:50%;transform:translateY(-50%);left:var(--overlay-split-content-offset,0);right:0;margin:0 auto;max-width:400px}@media (max-width:400px){[_nghost-%COMP%]{margin:0 32px;max-width:100vw}}.dialog-content-container[_ngcontent-%COMP%]{margin:16px 32px}"],changeDetection:0}),M),T=a("VDRc"),A=a("4avL");function j(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275listener"]("click",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onDialogBgClick(t)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"mg-overlay-cover-dialog",2),c["\u0275\u0275elementStart"](3,"p"),c["\u0275\u0275text"](4,"Your project will not be saved."),c["\u0275\u0275element"](5,"br"),c["\u0275\u0275text"](6,"Are you sure you want to cancel?"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",3),c["\u0275\u0275elementStart"](8,"mg-button",4),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onCancel()})),c["\u0275\u0275text"](9," Yes "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"mg-button",4),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().keepGoing.emit()})),c["\u0275\u0275text"](11," No "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}var L,R,V=((L=function(){function t(e){g(this,t),this._cdr=e,this._opened=!1,this._cancelToTemplateSelect=!1,this.cancel=new c.EventEmitter,this.keepGoing=new c.EventEmitter}return p(t,[{key:"isOpen",get:function(){return this._opened}},{key:"open",value:function(t){t&&(this._cancelToTemplateSelect=!!t.cancelToTemplateSelect),this._opened=!0,this._cdr.markForCheck()}},{key:"close",value:function(){this._opened=!1,this._cdr.markForCheck()}},{key:"onDialogBgClick",value:function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.close()}},{key:"onCancel",value:function(){this.cancel.emit({cancelToTemplateSelect:this._cancelToTemplateSelect})}}]),t}()).\u0275fac=function(t){return new(t||L)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef))},L.\u0275cmp=c["\u0275\u0275defineComponent"]({type:L,selectors:[["mg-minga-designer-cancel-dialog"]],outputs:{cancel:"cancel",keepGoing:"keepGoing"},decls:1,vars:2,consts:[[4,"mgOverlayStructure","mgOverlayStructureRegion"],[1,"dialog-bg",3,"click"],[1,"dialog"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",1,"actions"],["type","outline",1,"normal",3,"click"]],template:function(t,e){1&t&&c["\u0275\u0275template"](0,j,12,0,"div",0),2&t&&c["\u0275\u0275property"]("mgOverlayStructure",e.isOpen)("mgOverlayStructureRegion","cover")},directives:[I.a,D,T.e,T.d,T.f,A.a],styles:[".dialog-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(#93f,#fc0,#3cf);opacity:.7}mg-overlay-cover-dialog[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%], mg-overlay-cover-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#737373}"],changeDetection:0}),L),z=a("SVse"),F=a("uplL"),H=a("ura0"),N=a("Fudl"),B=a("osae"),$=a("NiVs"),G=a("TAkL"),U=a("2wMK"),Y=a("KNwe"),q=a("NchO"),Q=[[["","previewTop",""]],[["","previewBottom",""]]],W=["[previewTop]","[previewBottom]"],J=((R=function(){function t(e){g(this,t),this._cdr=e,this.designedSvgSrc="",this.designedSvgData={},this.logoAnchor=w.LogoAnchor.LA_NONE,this.manipulatorToolsEnabled=B.c.None,this.designedSvgManipulations={},this.allowSlotRemoval=!1,this.allowAdditionalSlotRemoval=!1,this.designedSvgMetadata=new c.EventEmitter,this.designedSvgManipulationsChange=new c.EventEmitter,this.slotActivated=new c.EventEmitter,this.slotDeactivated=new c.EventEmitter,this.viewerReady=new c.EventEmitter}return p(t,[{key:"testTextSlotValueAgainstBounds",value:function(t,e){return this.svgViewer.testTextSlotValueAgainstBounds(t,e)}},{key:"onRemoveSlotRequest",value:function(t){this.svgViewer&&(this.svgViewer.removeAdditionalSlot(t)||console.error("Unable to remove slot ".concat(t)))}},{key:"onSlotActivated",value:function(t){var e,n=G.DesignedSvgData.getSlotType(t.slotId,this.designedSvgData);if("img"==n){var o=G.DesignedSvgData.getSlotValue(this.designedSvgData,t.slotId);e=G.DesignedSvgData.getImageSlotType(t.slotId,o)}this.slotActivated.emit(Object.assign(Object.assign({},t),{slotType:n,imageSlotType:e}))}},{key:"onSlotDeactivated",value:function(){this.slotDeactivated.emit()}}]),t}()).\u0275fac=function(t){return new(t||R)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef))},R.\u0275cmp=c["\u0275\u0275defineComponent"]({type:R,selectors:[["mg-minga-designer-template-preview"]],viewQuery:function(t,e){var n;1&t&&c["\u0275\u0275viewQuery"]($.a,3),2&t&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(e.svgViewer=n.first)},inputs:{designedSvgSrc:"designedSvgSrc",designedSvgData:"designedSvgData",logoAnchor:"logoAnchor",customLogo:"customLogo",manipulatorToolsEnabled:"manipulatorToolsEnabled",designedSvgManipulations:"designedSvgManipulations",allowSlotRemoval:"allowSlotRemoval",allowAdditionalSlotRemoval:"allowAdditionalSlotRemoval"},outputs:{designedSvgMetadata:"designedSvgMetadata",designedSvgManipulationsChange:"designedSvgManipulationsChange",slotActivated:"slotActivated",slotDeactivated:"slotDeactivated",viewerReady:"viewerReady"},ngContentSelectors:W,decls:9,vars:9,consts:[["fxLayout","column",1,"preview-container"],["fxLayout","row","fxFlex","10%",1,"preview-top"],[1,"designed-svg-viewer-container"],[3,"anchor","customLogo"],["fxFlex","auto","mgDesignedSvgManipulator","",1,"preview-svg-viewer",3,"manipulations","manipulatorToolsEnabled","allowSlotRemoval","allowAdditionalSlotRemoval","designedSvgSrc","designedSvgData","designedSvgManipulations","manipulationsChange","removeSlotRequest","slotActivated","slotDeactivated","designedSvgMetadata","designedSvgReady"],["svgViewer",""],["fxLayout","row","fxFlex","10%",1,"preview-bottom"]],template:function(t,e){1&t&&(c["\u0275\u0275projectionDef"](Q),c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275projection"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",2),c["\u0275\u0275element"](4,"mg-logo-anchored",3),c["\u0275\u0275elementStart"](5,"mg-designed-svg-viewer",4,5),c["\u0275\u0275listener"]("manipulationsChange",(function(t){return e.designedSvgManipulations=t}))("manipulationsChange",(function(t){return e.designedSvgManipulationsChange.emit(t)}))("removeSlotRequest",(function(t){return e.onRemoveSlotRequest(t)}))("slotActivated",(function(t){return e.onSlotActivated(t)}))("slotDeactivated",(function(){return e.onSlotDeactivated()}))("designedSvgMetadata",(function(t){return e.designedSvgMetadata.emit(t)}))("designedSvgReady",(function(){return e.viewerReady.emit()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",6),c["\u0275\u0275projection"](8,1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("anchor",e.logoAnchor)("customLogo",e.customLogo),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("manipulations",e.designedSvgManipulations)("manipulatorToolsEnabled",e.manipulatorToolsEnabled)("allowSlotRemoval",e.allowSlotRemoval)("allowAdditionalSlotRemoval",e.allowAdditionalSlotRemoval)("designedSvgSrc",e.designedSvgSrc)("designedSvgData",e.designedSvgData)("designedSvgManipulations",e.designedSvgManipulations))},directives:[T.e,T.b,U.a,Y.a,q.a],styles:[".designed-svg-viewer-container[_ngcontent-%COMP%]{position:relative;display:block;margin:auto 0;border-radius:6px;overflow:hidden;box-shadow:0 2px 9px rgba(0,0,0,.3)}.preview-container[_ngcontent-%COMP%]{margin:16px auto}"],changeDetection:0}),R),K=a("s7LF"),Z=a("cKGL"),X=a("9sQ6"),tt=a("Q2Ze"),et=a("i1AJ"),nt=a("e6WT"),ot=a("sj4O"),rt=a("w8an");function it(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",9),c["\u0275\u0275elementStart"](1,"div",10),c["\u0275\u0275elementStart"](2,"mg-overlay-nav-item",11),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](),c["\u0275\u0275reference"](7).open()})),c["\u0275\u0275elementStart"](3,"span"),c["\u0275\u0275text"](4,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"span",12),c["\u0275\u0275element"](6,"img",13),c["\u0275\u0275text"](7," | Create Your Design "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function at(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",14),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",15),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](),c["\u0275\u0275reference"](7).open()})),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-overlay-nav-item",16),c["\u0275\u0275element"](5,"img",17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function lt(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function st(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",18),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().previousStep()})),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Back"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-overlay-nav-item",19),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().nextStep()})),c["\u0275\u0275template"](5,lt,1,0,"ng-container",20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){c["\u0275\u0275nextContext"]();var o=c["\u0275\u0275reference"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass.lt-sm","bottom-nav-has-image"),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngTemplateOutlet",o)}}function ct(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",21),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().nextStep()})),c["\u0275\u0275text"](1," Preview "),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"right-arrow-active"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function ut(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function gt(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"mg-minga-designer-template-preview",24),c["\u0275\u0275elementStart"](1,"div",25),c["\u0275\u0275template"](2,ut,1,0,"ng-container",20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"](2),o=c["\u0275\u0275reference"](4);c["\u0275\u0275property"]("logoAnchor",n.logoAnchor)("customLogo",n.customLogo)("designedSvgSrc",null==n.template?null:n.template.templateSvgUrl)("designedSvgData",n.templateData)("designedSvgManipulations",n.templateManipulations),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngTemplateOutlet",o)}}function dt(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",22),c["\u0275\u0275template"](1,gt,3,6,"mg-minga-designer-template-preview",23),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.draftReady)}}function pt(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mat-form-field",28),c["\u0275\u0275elementStart"](1,"mat-label"),c["\u0275\u0275text"](2,"Title"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"input",29),c["\u0275\u0275listener"]("ngModelChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).titleText=t}))("ngModelChange",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onTitleTextChange()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mat-hint"),c["\u0275\u0275text"](5,"This will go under the image you created. It will be the title of your post."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("mgMultiLineHint",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",o.titleText)}}function mt(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"form"),c["\u0275\u0275template"](1,pt,6,2,"mat-form-field",26),c["\u0275\u0275elementStart"](2,"mg-body-input",27),c["\u0275\u0275listener"]("ngModelChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().bodyText=t}))("ngModelChange",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onBodyTextChange()})),c["\u0275\u0275pipe"](3,"hasPermission"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hasPermission","CONTENT_POST_SET_TITLE"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",o.bodyText)("maxlength",5e3)("richContent",c["\u0275\u0275pipeBind1"](3,4,"CONTENT_HTML_INCLUDE"))}}function vt(t,e){1&t&&c["\u0275\u0275element"](0,"mg-spinner",30)}var ft,ht,xt,yt,wt=((ft=function(t){n(o,t);var e=r(o);function o(t,n,r,i,a){var l;return g(this,o),(l=e.call(this,n,t)).router=n,l.mingaDesignerDraft=r,l.postProto=i,l._cdr=a,l._logoAnchor=w.LogoAnchor.LA_NONE,l._customLogo="",l.templateData={},l.templateManipulations={},l.titleText="",l.bodyText="",l.draftReady=!1,l.initDraft(),l}return p(o,[{key:"logoAnchor",get:function(){return this._logoAnchor}},{key:"customLogo",get:function(){return this._customLogo}},{key:"template",get:function(){return this.routeData.template}},{key:"closeOverlay",value:function(){this.router.navigate(["",{outlets:{o:null}}])}},{key:"previousStep",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.navigatePrevious();case 2:case"end":return t.stop()}}),t,this)})))}},{key:"nextStep",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mingaDesignerDraft.saveDraft({body:this.bodyText,title:this.titleText});case 2:return t.next=4,this.navigateNext();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"initDraft",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e,n,o,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.draftReady=!1,t.prev=1,t.next=4,this.getDraft(this.mingaDesignerDraft);case 4:if(e=t.sent,this.templateData=Object.assign({},e.studioContentInfo.designedSvg.svgData),this.templateManipulations=Object.assign({},e.studioContentInfo.designedSvg.svgManipulations),n=void 0===e.title,o=void 0===e.body,this.titleText=e.title||"",this.bodyText=e.body||"",this._logoAnchor=e.logoAnchor||w.LogoAnchor.LA_NONE,this._customLogo=e.customLogoAssetId||"",!this.routeData.contentHash||!n&&!o){t.next=12;break}return t.next=10,this._getPostInfo();case 10:r=t.sent,n&&(this.titleText=r.getTitle()),o&&(this.bodyText=r.getBody());case 12:return t.prev=12,this.draftReady=!0,this._cdr.markForCheck(),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,,12,15]])})))}},{key:"onTitleTextChange",value:function(){this.mingaDesignerDraft.saveDraftDelayed({title:this.titleText}),this._cdr.markForCheck()}},{key:"onBodyTextChange",value:function(){this.mingaDesignerDraft.saveDraftDelayed({body:this.bodyText}),this._cdr.markForCheck()}},{key:"_getPostInfo",value:function(){var t=new w.ContentInfoQuery;return t.setContentHash(this.routeData.contentHash),this.postProto.getInfo(t)}}]),o}(C)).\u0275fac=function(t){return new(t||ft)(c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](d.g),c["\u0275\u0275directiveInject"](k),c["\u0275\u0275directiveInject"](_.Post),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef))},ft.\u0275cmp=c["\u0275\u0275defineComponent"]({type:ft,selectors:[["ng-component"]],features:[c["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:10,consts:[["class","overlay-header-container",4,"mgOverlayStructure","mgOverlayStructureRegion"],["class","top-nav nav-show-lt-max-width",4,"mgOverlayStructure","mgOverlayStructureRegion"],[4,"mgOverlayStructure","mgOverlayStructureRegion"],["nextButton",""],["class","split-content-container sticky",4,"mgOverlayStructure","mgOverlayStructureRegion"],[3,"cancel","keepGoing"],["cancelDialog",""],[4,"ngIf","ngIfElse"],["draftNotReady",""],[1,"overlay-header-container"],[1,"studio-title-header"],["icon","close",1,"mg-align-left",3,"click"],[1,"header-logo-container"],["src","assets/studio/studio-logo-white.png"],[1,"top-nav","nav-show-lt-max-width"],["icon","back",1,"mg-align-left",3,"click"],[1,"mg-align-right"],["src","assets/studio/studio-logo-white.png",1,"nav-mobile-studio-logo"],["icon","back",1,"mg-align-left",3,"ngClass.lt-sm","click"],["fxHide","","fxShow.lt-sm","",1,"mg-align-right",3,"click"],[4,"ngTemplateOutlet"],["mgBubbleBtn","",1,"mg-minicopy","next-button",3,"click"],[1,"split-content-container","sticky"],[3,"logoAnchor","customLogo","designedSvgSrc","designedSvgData","designedSvgManipulations",4,"ngIf"],[3,"logoAnchor","customLogo","designedSvgSrc","designedSvgData","designedSvgManipulations"],["fxHide","","fxShow.gt-xs","","previewBottom","",1,"preview-next-button-container"],["mgFormField","","class","title-input",3,"mgMultiLineHint",4,"hasPermission"],["name","body","placeholder","Share your thoughts...",3,"ngModel","maxlength","richContent","ngModelChange"],["mgFormField","",1,"title-input",3,"mgMultiLineHint"],["matInput","","autocomplete","off","name","titleText",3,"ngModel","ngModelChange"],["diameter","50","thickness","8",1,"loading-spinner"]],template:function(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,it,8,0,"div",0),c["\u0275\u0275template"](1,at,6,0,"div",1),c["\u0275\u0275template"](2,st,6,2,"div",2),c["\u0275\u0275template"](3,ct,4,0,"ng-template",null,3,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](5,dt,2,1,"div",4),c["\u0275\u0275elementStart"](6,"mg-minga-designer-cancel-dialog",5,6),c["\u0275\u0275listener"]("cancel",(function(){return e.closeOverlay()}))("keepGoing",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](7).close()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,mt,4,6,"form",7),c["\u0275\u0275template"](9,vt,1,0,"ng-template",null,8,c["\u0275\u0275templateRefExtractor"])}if(2&t){var o=c["\u0275\u0275reference"](10);c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","header"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","top"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","bottom"),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","split-content"),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",e.draftReady)("ngIfElse",o)}},directives:[I.a,V,z.o,F.a,H.a,H.b,z.t,N.a,J,K.E,K.u,K.v,Z.a,X.a,K.t,K.w,K.n,tt.d,et.a,tt.h,nt.b,K.d,tt.g,ot.a],pipes:[rt.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@media (min-width:600px){.split-content-container[_ngcontent-%COMP%]{margin:32px}}.split-content-container.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:calc(32px + var(--overlay-header-height))}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.step-text[_ngcontent-%COMP%]{font-size:22px}.step-desc-text[_ngcontent-%COMP%], .step-text[_ngcontent-%COMP%]{font-weight:700;margin:4px 8px}.step-desc-text[_ngcontent-%COMP%]{font-size:16px}.step-header[_ngcontent-%COMP%]{margin:0 16px}.step-graphic[_ngcontent-%COMP%]{height:75px;margin:16px 0;width:100px;min-width:100px;background-repeat:no-repeat;background-position:50%;background-image:url(/assets/studio/poster-icon.svg)}@media (max-width:739px){.top-nav[_ngcontent-%COMP%]{background-color:#036;color:#fff}}@media (min-width:740px){.top-nav[_ngcontent-%COMP%], .top-nav.nav-show-lt-max-width[_ngcontent-%COMP%], .top-nav[_ngcontent-%COMP%]   .nav-show-lt-max-width[_ngcontent-%COMP%]{display:none}}.studio-title-header[_ngcontent-%COMP%]{background-color:#036;padding:12px;color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;position:relative;border-top-right-radius:var(--overlay-border-radius,0);border-top-left-radius:var(--overlay-border-radius,0)}.studio-title-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:44px;display:inline-block}.studio-title-header[_ngcontent-%COMP%]   .header-logo-container[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;left:50%;text-align:center;top:50%;transform:translate(-50%,-50%);white-space:nowrap}.studio-title-header[_ngcontent-%COMP%]   mg-overlay-nav-item[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.nav-mobile-studio-logo[_ngcontent-%COMP%]{height:33px}button.next-button[_ngcontent-%COMP%]{--mg-icon-size:12px}.preview-next-button-container[_ngcontent-%COMP%]{text-align:right;margin-top:24px;width:100%}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]{font-size:20px;padding:16px 36px;--mg-icon-size:20px}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:4px}.overlay-header-container[_ngcontent-%COMP%]{display:none}@media (min-width:740px){.overlay-header-container[_ngcontent-%COMP%]{display:block}}.mg-align-right[_ngcontent-%COMP%]{text-align:right}mg-swipe-container[_ngcontent-%COMP%]{display:block;min-height:100px;--mg-swipe-area-padding-bottom:84px}.page-scrollbar-container[_ngcontent-%COMP%]{position:absolute;overflow:hidden;bottom:32px;left:40px;right:40px;border-radius:12px;background-color:#f5f5f5}.page-scrollbar-container.has-bottom-nav[_ngcontent-%COMP%]{bottom:88px}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar-transform[_ngcontent-%COMP%]{width:100%}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar[_ngcontent-%COMP%]{height:24px;border-radius:12px;background-color:#ccc;transition:transform .3s ease}.horizontal-layout-container[_ngcontent-%COMP%]{position:relative}.horizontal-layout-container[_ngcontent-%COMP%]   .nav-arrow[_ngcontent-%COMP%]{top:calc(50% - 42px);position:absolute;z-index:10;--mg-icon-size:24px}.horizontal-layout-container[_ngcontent-%COMP%]   .left-arrow[_ngcontent-%COMP%]{left:0;transform:translateY(-50%)}.horizontal-layout-container[_ngcontent-%COMP%]   .right-arrow[_ngcontent-%COMP%]{right:0;transform:translateY(-50%)}mat-form-field.title-input[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){mat-form-field.title-input[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){mat-form-field.title-input[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){mat-form-field.title-input[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){mat-form-field.title-input[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){mat-form-field.title-input[_ngcontent-%COMP%]{font-size:17px}}mg-body-input[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){mg-body-input[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){mg-body-input[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){mg-body-input[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){mg-body-input[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:445.8461538462px){mg-body-input[_ngcontent-%COMP%]{font-size:14px}}form[_ngcontent-%COMP%]{display:block;margin:16px}mg-overlay-nav-item.botton-nav-has-image[_ngcontent-%COMP%], mg-overlay-nav-item.botton-nav-has-image[_ngcontent-%COMP%] + mg-overlay-nav-item[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.top-nav[_ngcontent-%COMP%]   .mg-align-right[_ngcontent-%COMP%]{padding-right:8px}'],changeDetection:0}),ft),Ct=a("u9T3"),bt=a("CO6v"),St=a("HxU+"),Ot=a("ls3q"),Pt=(a("ppIK"),a("CL15")),Mt=(a("Vwx4"),a("7Tcv")),kt=a("3ctL"),_t=((yt=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||yt)},yt.\u0275mod=c["\u0275\u0275defineNgModule"]({type:yt}),yt.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[$.b,B.b,kt.a,z.c,Ct.a]]}),yt),It=((xt=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||xt)},xt.\u0275mod=c["\u0275\u0275defineNgModule"]({type:xt}),xt.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[]]}),xt),Et=((ht=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||ht)},ht.\u0275mod=c["\u0275\u0275defineNgModule"]({type:ht}),ht.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Pt.a,bt.a,It,z.c,Ct.a]]}),ht),Dt=a("F5Qo"),Tt=a("DSt7"),At=a("oFih"),jt=a("/2Sv"),Lt=a("4Zvv"),Rt=a("GFah"),Vt=a("zc8W"),zt=a("WH00"),Ft=a("G1e9"),Ht=a("o4Yh"),Nt=a("MAbt"),Bt=a("A2eb"),$t=a("2YxT");function Gt(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",8),c["\u0275\u0275elementStart"](1,"div",9),c["\u0275\u0275elementStart"](2,"mg-overlay-nav-item",10),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](),c["\u0275\u0275reference"](8).open()})),c["\u0275\u0275elementStart"](3,"span"),c["\u0275\u0275text"](4,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"span",11),c["\u0275\u0275element"](6,"img",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function Ut(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",13),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",10),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](),c["\u0275\u0275reference"](8).open()})),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-overlay-nav-item",14),c["\u0275\u0275element"](5,"img",15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function Yt(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function qt(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",16),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().previousStep()})),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Back"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-overlay-nav-item",17),c["\u0275\u0275listener"]("click",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().nextStep(t)})),c["\u0275\u0275template"](5,Yt,1,0,"ng-container",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){c["\u0275\u0275nextContext"]();var o=c["\u0275\u0275reference"](4);c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngTemplateOutlet",o)}}function Qt(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",19),c["\u0275\u0275listener"]("click",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().nextStep(t)})),c["\u0275\u0275text"](1," Publish "),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"right-arrow-active"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function Wt(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",20),c["\u0275\u0275elementStart"](1,"mat-expansion-panel",21),c["\u0275\u0275elementStart"](2,"mat-expansion-panel-header"),c["\u0275\u0275elementStart"](3,"mat-panel-title",22),c["\u0275\u0275text"](4," Additional Publish Settings "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mg-content-manager-publish-info-editor",23,24),c["\u0275\u0275listener"]("publishInfoEditComponentReady",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onPublishInfoEditComponentReady(t)}))("publishInfoChange",(function(t){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275reference"](6);return c["\u0275\u0275nextContext"]().onPublishInfoChange(t,e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("expanded",o.initiallyExpanded),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("publishInfoEditorComponentType",o.publishInfoEditComponentType)}}function Jt(t,e){1&t&&c["\u0275\u0275element"](0,"mg-post-short-card",29),2&t&&c["\u0275\u0275property"]("content",e.ngIf)}function Kt(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function Zt(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",25),c["\u0275\u0275elementStart"](1,"div",26),c["\u0275\u0275template"](2,Jt,1,1,"mg-post-short-card",27),c["\u0275\u0275elementStart"](3,"div",28),c["\u0275\u0275template"](4,Kt,1,0,"ng-container",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"](),o=c["\u0275\u0275reference"](4);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",n.previewContent),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngTemplateOutlet",o)}}var Xt,te,ee=((Xt=function(t){n(i,t);var o=r(i);function i(t,e,n,r,a,l,s,c,u){var d,p;return g(this,i),(d=o.call(this,n,t)).rootService=e,d.router=n,d.mingaDesignerDraft=r,d.authInfo=a,d.postProto=l,d.contentEvents=s,d._cdr=c,d.contentModerationInterstitial=u,d._publishInfo={},d.previewContent=(new At.ShortCardView).toObject(),d.publishDate=null,d.unpublishDate=null,d.pinned=!1,d.pinDays=1,d.endPinDate=null,d.initiallyExpanded=window.MINGA_APP_BROWSER,d.publishInfoEditComponents=[],d.publishInfoEditComponentType=null===(p=d.routeData.contentManager)||void 0===p?void 0:p.getPublishInfoEditComponent(),d.initDraft(),d}return p(i,[{key:"template",get:function(){return this.routeData.template}},{key:"ngOnInit",value:function(){var t=this;setTimeout((function(){return t.initPublishInfo()}),0)}},{key:"hasPublishInfoEditComponents",value:function(){return this.publishInfoEditComponents.length>0}},{key:"setPublishInfo",value:function(t){this._publishInfo=t,this.publishInfoEditComponents.forEach((function(e){return e.setPublishInfo(t)}))}},{key:"getPublishInfo",value:function(){return this.getLastPublishInfoEditComponent().getPublishInfo()}},{key:"getPartialPublishInfo",value:function(){var t,n=0,o={},r=e(this.publishInfoEditComponents);try{for(r.s();!(t=r.n()).done;){var i=t.value.getPartialPublishInfo(),a=Object.keys(i).length;a>n&&(o=i,n=a)}}catch(l){r.e(l)}finally{r.f()}return o}},{key:"onPublishInfoEditComponentReady",value:function(t){this.publishInfoEditComponents.push(t),t.setPublishInfo(this._publishInfo)}},{key:"onPublishInfoChange",value:function(t,n){var o,r=e(this.publishInfoEditComponents);try{for(r.s();!(o=r.n()).done;){var i=o.value;i!==n.publishInfoEditComponent&&i.setPublishInfo(t)}}catch(a){r.e(a)}finally{r.f()}}},{key:"closeOverlay",value:function(){this.router.navigate(["",{outlets:{o:null}}])}},{key:"previousStep",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.navigatePrevious();case 2:case"end":return t.stop()}}),t,this)})))}},{key:"_create",value:function(){var t;return Object(y.a)(this,void 0,void 0,u().mark((function e(){var n,o,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDraft(this.mingaDesignerDraft);case 2:return n=e.sent,(o=new Tt.PostInfo).setBody(n.body||""),o.setTitle(n.title||""),o.setLogoAnchor(n.logoAnchor||w.LogoAnchor.LA_NONE),o.setCustomLogoAsset(n.customLogoAssetId||""),o.setStudioContentInfo(jt.StudioContentInfoMapper.fromIStudioContentInfo(n.studioContentInfo)),e.next=7,this.postProto.new(o);case 7:return r=e.sent.getContentHash(),i=this.hasPublishInfoEditComponents()?this.getPublishInfo():this.routeData.contentManager.getDefaultPublishInfo(),e.next=11,null===(t=this.routeData.contentManager)||void 0===t?void 0:t.addContent(r,i);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"_getPostInfo",value:function(){var t=new w.ContentInfoQuery;return t.setContentHash(this.routeData.contentHash),this.postProto.getInfo(t)}},{key:"_update",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e,n,o,r,i,a,l,s,c,g,d,p;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getPostInfo();case 2:return e=t.sent,t.next=5,this.getDraft(this.mingaDesignerDraft);case 5:if(n=t.sent,(o=new Tt.DeltaPostInfo).setContentHash(this.routeData.contentHash),void 0!==n.body&&e.getBody()!=n.body&&((r=new Dt.StringDelta).setNewString(n.body||""),o.setBody(r)),void 0!==n.title&&e.getTitle()!=n.title&&((i=new Dt.StringDelta).setNewString(n.title||""),o.setTitle(i)),void 0!==n.logoAnchor&&e.getLogoAnchor()!=n.logoAnchor&&((a=new w.LogoAnchorDelta).setNewLogoAnchor(n.logoAnchor||0),o.setLogoAnchor(a)),void 0!==n.customLogoAssetId&&e.getCustomLogoAsset()!=n.customLogoAssetId&&((l=new Dt.StringDelta).setNewString(n.customLogoAssetId||""),o.setCustomLogoAsset(l)),o.setStudioContentInfo(jt.StudioContentInfoMapper.fromIStudioContentInfo(n.studioContentInfo)),s=null,!this.hasPublishInfoEditComponents()){t.next=20;break}if(c=this.getPartialPublishInfo(),t.t0=Object.keys(c).length>0,!t.t0){t.next=20;break}return t.next=19,this.routeData.contentManager.moveContent(this.routeData.contentHash,c);case 19:s=t.sent;case 20:return t.next=22,this.postProto.update(o);case 22:return g=t.sent,s?d=s:(p=g.hasModerationResult()?Lt.ModerationResultMapper.toIModerationResult(g.getModerationResult()):null,d={contentContextHash:g.getContentContextHash(),moderationResult:p}),t.abrupt("return",d);case 25:case"end":return t.stop()}}),t,this)})))}},{key:"_save",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.routeData.contentHash){t.next=7;break}return t.next=3,this._update();case 3:e=t.sent,this.contentEvents.emitPostUpdateSuccess({typeString:"post",date:this.publishDate||void 0,endDate:this.unpublishDate||void 0}),t.next=11;break;case 7:return t.next=9,this._create();case 9:e=t.sent,this.contentEvents.emitPostCreateSuccess({typeString:"post",date:this.publishDate||void 0,endDate:this.unpublishDate||void 0});case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this)})))}},{key:"_nextStep",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._save();case 2:return(e=t.sent).moderationResult&&this.contentModerationInterstitial.trigger(this.routeData.contentHash,e.contentContextHash,e.moderationResult),t.next=6,this.mingaDesignerDraft.clearDraft();case 6:return this.contentEvents.emitContentFeedsUpdate(),t.next=9,this.router.navigate(["",{outlets:{o:null}}]);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"nextStep",value:function(t){t&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()),this.rootService.addLoadingPromise(this._nextStep())}},{key:"initPublishInfo",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.routeData.contentHash){t.next=5;break}return t.next=3,this.routeData.contentManager.getPublishInfo(this.routeData.contentHash);case 3:(e=t.sent)&&this.setPublishInfo(e),this._cdr.markForCheck();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"initDraft",value:function(){var t;return Object(y.a)(this,void 0,void 0,u().mark((function e(){var n,o,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("route info",this.routeData),e.prev=1,e.next=4,this.getDraft(this.mingaDesignerDraft);case 4:n=e.sent,console.log("initdraft",n),n.customLogoAssetId&&(o={sizeMap:[["raw",{width:100,height:100,path:n.customLogoAssetId}]]}),this.previewContent=Object.assign(Object.assign({},this.previewContent),{timestamp:Date.now(),body:n.body||"",title:n.title||"",logoAnchor:n.logoAnchor,customLogoImage:o,designedSvg:jt.DesignedSvgMapper.fromIDesignedSvg(n.studioContentInfo.designedSvg).toObject()}),(null===(t=this.authInfo.authInfo)||void 0===t?void 0:t.person)&&(r=this.authInfo.authInfo.person,this.previewContent.authorAvatarUrl=r.profileImageUrl,this.previewContent.authorDisplayName=r.displayName,this.previewContent.authorIconColor=r.badgeIconColor,this.previewContent.authorIconUrl=r.badgeIconUrl,this.previewContent.authorRoleName=r.badgeRoleName,this.previewContent.authorPersonView=Object.assign({},r));case 6:return e.prev=6,this._cdr.markForCheck(),e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[1,,6,9]])})))}},{key:"getLastPublishInfoEditComponent",value:function(){return this.publishInfoEditComponents[this.publishInfoEditComponents.length-1]}}]),i}(C)).\u0275fac=function(t){return new(t||Xt)(c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](Rt.a),c["\u0275\u0275directiveInject"](d.g),c["\u0275\u0275directiveInject"](k),c["\u0275\u0275directiveInject"](Vt.a),c["\u0275\u0275directiveInject"](_.Post),c["\u0275\u0275directiveInject"](zt.a),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](Ft.a))},Xt.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Xt,selectors:[["ng-component"]],features:[c["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:10,consts:[["class","overlay-header-container",4,"mgOverlayStructure","mgOverlayStructureRegion"],["class","top-nav",4,"mgOverlayStructure","mgOverlayStructureRegion"],[4,"mgOverlayStructure","mgOverlayStructureRegion"],["publishButton",""],["class","publish-controls-container",4,"mgOverlayStructure","mgOverlayStructureRegion"],["class","split-content-container sticky",4,"mgOverlayStructure","mgOverlayStructureRegion"],[3,"cancel","keepGoing"],["cancelDialog",""],[1,"overlay-header-container"],[1,"studio-title-header"],["icon","close",1,"mg-align-left",3,"click"],[1,"header-logo-container"],["src","assets/studio/studio-logo-white.png"],[1,"top-nav"],[1,"mg-align-right","nav-show-lt-max-width"],["src","assets/studio/studio-logo-white.png",1,"nav-mobile-studio-logo"],["icon","back",1,"mg-align-left",3,"click"],["fxHide","","fxShow.lt-sm","",1,"mg-align-right",3,"click"],[4,"ngTemplateOutlet"],["mgBubbleBtn","",1,"mg-minicopy","next-button",3,"click"],[1,"publish-controls-container"],["mgExpansionPanel","",3,"expanded"],[1,"mg-headline2"],[3,"publishInfoEditorComponentType","publishInfoEditComponentReady","publishInfoChange"],["publishInfoEditor",""],[1,"split-content-container","sticky"],[1,"preview-short-card-container"],[3,"content",4,"ngIf"],["fxHide","","fxShow.gt-xs","","previewBottom","",1,"preview-next-button-container"],[3,"content"]],template:function(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,Gt,7,0,"div",0),c["\u0275\u0275template"](1,Ut,6,0,"div",1),c["\u0275\u0275template"](2,qt,6,1,"div",2),c["\u0275\u0275template"](3,Qt,4,0,"ng-template",null,3,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](5,Wt,7,2,"div",4),c["\u0275\u0275template"](6,Zt,5,2,"div",5),c["\u0275\u0275elementStart"](7,"mg-minga-designer-cancel-dialog",6,7),c["\u0275\u0275listener"]("cancel",(function(){return e.closeOverlay()}))("keepGoing",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](8).close()})),c["\u0275\u0275elementEnd"]()}2&t&&(c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","header"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","top"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","bottom"),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("mgOverlayStructure",e.publishInfoEditComponentType)("mgOverlayStructureRegion","bottom"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","split-content"))},directives:[I.a,V,F.a,H.b,z.t,N.a,Ht.c,Nt.a,Ht.f,Ht.g,Bt.a,z.o,$t.a],styles:["@media (min-width:600px){.split-content-container[_ngcontent-%COMP%]{margin:32px}}.split-content-container.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:calc(32px + var(--overlay-header-height))}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.step-text[_ngcontent-%COMP%]{font-size:22px}.step-desc-text[_ngcontent-%COMP%], .step-text[_ngcontent-%COMP%]{font-weight:700;margin:4px 8px}.step-desc-text[_ngcontent-%COMP%]{font-size:16px}.step-header[_ngcontent-%COMP%]{margin:0 16px}.step-graphic[_ngcontent-%COMP%]{height:75px;margin:16px 0;width:100px;min-width:100px;background-repeat:no-repeat;background-position:50%;background-image:url(/assets/studio/poster-icon.svg)}@media (max-width:739px){.top-nav[_ngcontent-%COMP%]{background-color:#036;color:#fff}}@media (min-width:740px){.top-nav[_ngcontent-%COMP%], .top-nav.nav-show-lt-max-width[_ngcontent-%COMP%], .top-nav[_ngcontent-%COMP%]   .nav-show-lt-max-width[_ngcontent-%COMP%]{display:none}}.studio-title-header[_ngcontent-%COMP%]{background-color:#036;padding:12px;color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;position:relative;border-top-right-radius:var(--overlay-border-radius,0);border-top-left-radius:var(--overlay-border-radius,0)}.studio-title-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:44px;display:inline-block}.studio-title-header[_ngcontent-%COMP%]   .header-logo-container[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;left:50%;text-align:center;top:50%;transform:translate(-50%,-50%);white-space:nowrap}.studio-title-header[_ngcontent-%COMP%]   mg-overlay-nav-item[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.nav-mobile-studio-logo[_ngcontent-%COMP%]{height:33px}button.next-button[_ngcontent-%COMP%]{--mg-icon-size:12px}.preview-next-button-container[_ngcontent-%COMP%]{text-align:right;margin-top:24px;width:100%}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]{font-size:20px;padding:16px 36px;--mg-icon-size:20px}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:4px}.overlay-header-container[_ngcontent-%COMP%]{display:none}@media (min-width:740px){.overlay-header-container[_ngcontent-%COMP%]{display:block}}.mg-align-right[_ngcontent-%COMP%]{text-align:right}mg-swipe-container[_ngcontent-%COMP%]{display:block;min-height:100px;--mg-swipe-area-padding-bottom:84px}.page-scrollbar-container[_ngcontent-%COMP%]{position:absolute;overflow:hidden;bottom:32px;left:40px;right:40px;border-radius:12px;background-color:#f5f5f5}.page-scrollbar-container.has-bottom-nav[_ngcontent-%COMP%]{bottom:88px}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar-transform[_ngcontent-%COMP%]{width:100%}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar[_ngcontent-%COMP%]{height:24px;border-radius:12px;background-color:#ccc;transition:transform .3s ease}.horizontal-layout-container[_ngcontent-%COMP%]{position:relative}.horizontal-layout-container[_ngcontent-%COMP%]   .nav-arrow[_ngcontent-%COMP%]{top:calc(50% - 42px);position:absolute;z-index:10;--mg-icon-size:24px}.horizontal-layout-container[_ngcontent-%COMP%]   .left-arrow[_ngcontent-%COMP%]{left:0;transform:translateY(-50%)}.horizontal-layout-container[_ngcontent-%COMP%]   .right-arrow[_ngcontent-%COMP%]{right:0;transform:translateY(-50%)}.preview-short-card-container[_ngcontent-%COMP%]{max-width:510px;margin:auto}.publish-controls-container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding:4px 24px;width:100%}mg-overlay-nav-item[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.top-nav[_ngcontent-%COMP%]   .mg-align-right[_ngcontent-%COMP%]{padding-right:8px}"],changeDetection:0}),Xt),ne=a("Ji8J"),oe=a("fy1K"),re=a("cOAp"),ie=a("zkd0"),ae=a("17/J"),le=((te=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||te)},te.\u0275mod=c["\u0275\u0275defineNgModule"]({type:te}),te.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Pt.a,ae.a,ne.a,oe.a,ie.a,Et,re.a,Ot.a,z.c,d.k,Ht.b,Ct.a]]}),te),se=a("YjH6"),ce=a("PLeU"),ue=a("dCoo"),ge=a("ZTz/"),de=a("UhP/"),pe=a("fJ21"),me=["templatePreview"],ve=["designedSvgEditor"];function fe(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",8),c["\u0275\u0275elementStart"](1,"div",9),c["\u0275\u0275elementStart"](2,"mg-overlay-nav-item",10),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](),c["\u0275\u0275reference"](7).open()})),c["\u0275\u0275elementStart"](3,"span"),c["\u0275\u0275text"](4,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"span",11),c["\u0275\u0275element"](6,"img",12),c["\u0275\u0275text"](7," | Create Your Design "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function he(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",13),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",10),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](),c["\u0275\u0275reference"](7).open()})),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-overlay-nav-item",14),c["\u0275\u0275element"](5,"img",15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function xe(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function ye(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",16),c["\u0275\u0275listener"]("click",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onClickBack(t)})),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Back"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-overlay-nav-item",17),c["\u0275\u0275listener"]("click",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onClickNext(t)})),c["\u0275\u0275template"](5,xe,1,0,"ng-container",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){c["\u0275\u0275nextContext"]();var o=c["\u0275\u0275reference"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass.lt-sm","bottom-nav-has-image"),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngTemplateOutlet",o)}}function we(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",19),c["\u0275\u0275listener"]("click",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onClickNext(t)})),c["\u0275\u0275text"](1," Next "),c["\u0275\u0275elementStart"](2,"mg-icon"),c["\u0275\u0275text"](3,"right-arrow-active"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function Ce(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function be(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-minga-designer-template-preview",22,23),c["\u0275\u0275listener"]("designedSvgManipulationsChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onTemplateManipulationsChange(t)}))("slotActivated",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onSlotActivated(t)}))("slotDeactivated",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onSlotDeactivated()}))("designedSvgMetadata",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onTemplateMetadataChange(t)}))("viewerReady",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onViewerReady()})),c["\u0275\u0275elementStart"](2,"div",24),c["\u0275\u0275template"](3,Ce,1,0,"ng-container",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"](2),r=c["\u0275\u0275reference"](4);c["\u0275\u0275property"]("logoAnchor",o.logoAnchor)("customLogo",o.selectedLogoAssetId)("manipulatorToolsEnabled",o.designedSvgManipulatorToolsEnabled)("allowAdditionalSlotRemoval",!0)("designedSvgSrc",null==o.template?null:o.template.templateSvgUrl)("designedSvgData",o.templateData)("designedSvgManipulations",o.templateManipulations),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngTemplateOutlet",r)}}function Se(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",20),c["\u0275\u0275template"](1,be,4,8,"mg-minga-designer-template-preview",21),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.draftReady)}}function Oe(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-image-library-stream",31),c["\u0275\u0275listener"]("selectedAssetIdChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).selectedLogoAssetId=t}))("selectedAssetIdChange",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).onSelectedLogoAssetIdChange()})),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("selectedAssetId",o.selectedLogoAssetId)}}function Pe(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"mg-designed-svg-editor",25,26),c["\u0275\u0275listener"]("designedSvgDataChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().templateData=t}))("designedSvgDataChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onTemplateDataChange(t)}))("selectedStickerChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onSelectedStockStickerChange(t)}))("requestNewTextSlot",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onRequestNewTextSlot()}))("requestNewImageSlot",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onRequestNewImageSlot(t)})),c["\u0275\u0275elementStart"](3,"mg-designed-svg-editor-logo-edit"),c["\u0275\u0275elementStart"](4,"mat-form-field",27),c["\u0275\u0275elementStart"](5,"mat-select",28),c["\u0275\u0275listener"]("ngModelChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().logoAnchor=t})),c["\u0275\u0275elementStart"](6,"mat-option",29),c["\u0275\u0275text"](7," No Logo "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"mat-option",29),c["\u0275\u0275text"](9," Show Logo - Bottom Left "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"mat-option",29),c["\u0275\u0275text"](11," Show Logo - Bottom Right "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"mat-option",29),c["\u0275\u0275text"](13," Show Logo - Top Left "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"mat-option",29),c["\u0275\u0275text"](15," Show Logo - Top Right "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"mat-option",29),c["\u0275\u0275text"](17," Show Logo - Bottom Center "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"mat-option",29),c["\u0275\u0275text"](19," Show Logo - Top Center "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](20,Oe,1,1,"mg-image-library-stream",30),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("designedSvgMetadata",o.templateMetadata)("designedSvgData",o.templateData)("activeSlotId",o.selectedSlotId)("textValidator",o.textValidator)("defaultSlotFontSize",o.defaultSlotFontSize)("defaultSlotTextColor",o.defaultSlotTextColor)("svgViewportScale",o.svgViewportScale),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",o.logoAnchor),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("value",o.LogoAnchor.LA_NONE),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",o.LogoAnchor.LA_BTM_LEFT),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",o.LogoAnchor.LA_BTM_RIGHT),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",o.LogoAnchor.LA_TOP_LEFT),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",o.LogoAnchor.LA_TOP_RIGHT),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",o.LogoAnchor.LA_BTM_CENTER),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",o.LogoAnchor.LA_TOP_CENTER),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",o.logoAnchor!=o.LogoAnchor.LA_NONE)}}var Me,ke,_e,Ie,Ee=((Me=function(o){n(a,o);var i=r(a);function a(t,e,n,o){var r;return g(this,a),(r=i.call(this,e,t)).router=e,r.mingaDesignerDraft=n,r._cdr=o,r._svgViewportScale=0,r.LogoAnchor=w.LogoAnchor,r.draftReady=!1,r.templateData={},r.templateManipulations={},r.templateMetadata=null,r.templateStockImageSlots=[],r.logoAnchor=w.LogoAnchor.LA_NONE,r.selectedLogoAssetId="",r.selectedSlotId="",r.defaultSlotFontSize=0,r.defaultSlotTextColor="",r.initDraft(),r.textValidator=function(t,e){return r.validateText(t,e)},r}return p(a,[{key:"template",get:function(){return this.routeData.template}},{key:"isEditing",get:function(){return!!this.routeData.contentHash}},{key:"designedSvgManipulatorToolsEnabled",get:function(){return B.c.All}},{key:"svgViewportScale",get:function(){return this._svgViewportScale}},{key:"calcSvgViewportScale",value:function(){this.templatePreview&&this.templatePreview.svgViewer&&(this._svgViewportScale=this.templatePreview.svgViewer.getSvgViewportFactor())}},{key:"onViewerReady",value:function(){if(this.templatePreview){var t=this.templatePreview.svgViewer.getTextSlotDefaultStyles();this.defaultSlotFontSize=t.fontSize,this.defaultSlotTextColor=t.color,this.calcSvgViewportScale(),this._cdr.markForCheck()}}},{key:"validateText",value:function(t,e){return{tooLong:!1,valid:!0}}},{key:"initDraft",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.draftReady=!1,t.prev=1,t.next=4,this.getDraft(this.mingaDesignerDraft);case 4:e=t.sent,this.templateData=e.studioContentInfo.designedSvg.svgData,this.templateManipulations=e.studioContentInfo.designedSvg.svgManipulations||{},this.templateStockImageSlots=e.studioContentInfo.designedSvg.stockImageSlots||[],this.logoAnchor=e.logoAnchor||w.LogoAnchor.LA_NONE,this.selectedLogoAssetId=e.customLogoAssetId||"";case 6:return t.prev=6,this.draftReady=!0,this._cdr.markForCheck(),t.finish(6);case 9:case"end":return t.stop()}}),t,this,[[1,,6,9]])})))}},{key:"isTemplateDataFilledIn",value:function(){if(!this.templateMetadata)return!1;var t,n=e([].concat(l(this.templateMetadata.backgroundSlots),l(this.templateMetadata.imageSlots),l(this.templateMetadata.textSlots)));try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!this.templateData[o.fullId])return!1}}catch(r){n.e(r)}finally{n.f()}return!0}},{key:"saveDraft",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mingaDesignerDraft.saveDraft({logoAnchor:this.logoAnchor,customLogoAssetId:this.selectedLogoAssetId,studioContentInfo:{designedSvg:{svgData:this.templateData,svgManipulations:this.templateManipulations,stockImageSlots:this.templateStockImageSlots}}});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"saveDraftDelayed",value:function(){this.mingaDesignerDraft.saveDraftDelayed({logoAnchor:this.logoAnchor,customLogoAssetId:this.selectedLogoAssetId,studioContentInfo:{designedSvg:{svgData:this.templateData,svgManipulations:this.templateManipulations,stockImageSlots:this.templateStockImageSlots}}})}},{key:"onFinish",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.saveDraft();case 2:return t.next=4,this.navigateNext();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"backToTemplateSelect",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.navigatePrevious();case 2:case"end":return t.stop()}}),t,this)})))}},{key:"onCancelConfirm",value:function(t){this.mingaDesignerDraft.clearDraft(),this.isEditing||!t.cancelToTemplateSelect?Object(ce.a)(this.router):this.backToTemplateSelect()}},{key:"onClickNext",value:function(t){this.svgEditor&&this.onFinish()}},{key:"onClickBack",value:function(t){var e;this.svgEditor&&(null===(e=this.cancelDialog)||void 0===e||e.open({cancelToTemplateSelect:!0}))}},{key:"onTemplateMetadataChange",value:function(t){if(this.templateMetadata=t,!this.routeData.contentHash){var n,o=e([].concat(l(t.textSlots),l(t.backgroundSlots)));try{for(o.s();!(n=o.n()).done;){var r=n.value;this.templateData[r.fullId]||(this.templateData[r.fullId]=r.defaultValue)}}catch(v){o.e(v)}finally{o.f()}this.templateData=Object.assign({},this.templateData)}if(0==this.templateStockImageSlots.length){var i,a=!1,s=e(this.templateMetadata.imageSlots);try{for(s.s();!(i=s.n()).done;){var c=i.value,u=c.fullId;this.templateData[u]&&(a=!0,this.templateData[u]==c.defaultValue&&this.templateStockImageSlots.push(u))}}catch(v){s.e(v)}finally{s.f()}if(!a){var g,d=e(this.templateMetadata.imageSlots);try{for(d.s();!(g=d.n()).done;){var p=g.value,m=p.fullId;this.templateStockImageSlots.push(m),this.templateData[m]=p.defaultValue}}catch(v){d.e(v)}finally{d.f()}}}this._cdr.markForCheck()}},{key:"onTemplateManipulationsChange",value:function(t){this.templateManipulations=Object.assign({},t),this._cdr.markForCheck(),this.saveDraftDelayed()}},{key:"onTemplateDataChange",value:function(t){this.templateData=t,this._cdr.markForCheck(),this.saveDraftDelayed()}},{key:"onTemplateBackgroundUpdated",value:function(){}},{key:"onSelectedStockStickerChange",value:function(n){var o;if(n){var r=null===(o=this.templatePreview)||void 0===o?void 0:o.svgViewer;if(r){var i=100,a="";if(n){var l,s=e(n.sizeMap);try{for(s.s();!(l=s.n()).done;){var c=t(l.value,2),u=c[0],g=c[1];if("raw"===u){i*=g.width/g.height,a=g.path;break}}}catch(d){s.e(d)}finally{s.f()}}a&&(r.addAdditionalSlot("img",{src:a,width:i,height:100,type:"sticker"}),this.saveDraftDelayed())}}}},{key:"onSelectedLogoAssetIdChange",value:function(){this.saveDraftDelayed(),this._cdr.markForCheck()}},{key:"onSlotActivated",value:function(t){var e,n,o,r;switch(this.selectedSlotId=t.slotId,t.slotType){case"txt":null===(e=this.svgEditor)||void 0===e||e.gotoTextTab();break;case"bg":null===(n=this.svgEditor)||void 0===n||n.gotoBackgroundTab();break;case"img":"sticker"===t.imageSlotType?null===(o=this.svgEditor)||void 0===o||o.gotoElementsTab():null===(r=this.svgEditor)||void 0===r||r.gotoImageTab()}}},{key:"onSlotDeactivated",value:function(){this.selectedSlotId="",this._cdr.markForCheck()}},{key:"onRequestNewTextSlot",value:function(){var t;if(null===(t=this.templatePreview)||void 0===t?void 0:t.svgViewer){var e="Text",n=this.templatePreview.svgViewer.getDefaultTextSlotValue()||e;"string"!=typeof n&&(n.text=e),this.templatePreview.svgViewer.addAdditionalSlot("txt",n)}}},{key:"onRequestNewImageSlot",value:function(t){var e,n;null===(n=null===(e=this.templatePreview)||void 0===e?void 0:e.svgViewer)||void 0===n||n.addAdditionalSlot("img",t)}}]),a}(C)).\u0275fac=function(t){return new(t||Me)(c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](d.g),c["\u0275\u0275directiveInject"](k),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef))},Me.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Me,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(c["\u0275\u0275viewQuery"](V,3),c["\u0275\u0275viewQuery"](se.a,1),c["\u0275\u0275viewQuery"](me,1),c["\u0275\u0275viewQuery"](ve,1)),2&t&&(c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(e.cancelDialog=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(e.svgEditor=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(e.templatePreview=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(e.designedSvgEditor=n.first))},features:[c["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:9,consts:[["class","overlay-header-container",4,"mgOverlayStructure","mgOverlayStructureRegion"],["class","top-nav",4,"mgOverlayStructure","mgOverlayStructureRegion"],[4,"mgOverlayStructure","mgOverlayStructureRegion"],["nextButton",""],["class","split-content-container sticky",4,"mgOverlayStructure","mgOverlayStructureRegion"],[3,"cancel","keepGoing"],["cancelDialog",""],[4,"ngIf"],[1,"overlay-header-container"],[1,"studio-title-header"],["icon","close",1,"mg-align-left",3,"click"],[1,"header-logo-container"],["src","assets/studio/studio-logo-white.png"],[1,"top-nav"],[1,"mg-align-right"],["src","assets/studio/studio-logo-white.png",1,"nav-mobile-studio-logo"],["icon","back",1,"mg-align-left",3,"ngClass.lt-sm","click"],["fxHide","","fxShow.lt-sm","",1,"mg-align-right",3,"click"],[4,"ngTemplateOutlet"],["mgBubbleBtn","",1,"mg-minicopy","next-button",3,"click"],[1,"split-content-container","sticky"],[3,"logoAnchor","customLogo","manipulatorToolsEnabled","allowAdditionalSlotRemoval","designedSvgSrc","designedSvgData","designedSvgManipulations","designedSvgManipulationsChange","slotActivated","slotDeactivated","designedSvgMetadata","viewerReady",4,"ngIf"],[3,"logoAnchor","customLogo","manipulatorToolsEnabled","allowAdditionalSlotRemoval","designedSvgSrc","designedSvgData","designedSvgManipulations","designedSvgManipulationsChange","slotActivated","slotDeactivated","designedSvgMetadata","viewerReady"],["templatePreview",""],["fxHide","","fxShow.gt-xs","","previewBottom","",1,"preview-next-button-container"],[3,"designedSvgMetadata","designedSvgData","activeSlotId","textValidator","defaultSlotFontSize","defaultSlotTextColor","svgViewportScale","designedSvgDataChange","selectedStickerChange","requestNewTextSlot","requestNewImageSlot"],["designedSvgEditor",""],["mgFormField",""],[3,"ngModel","ngModelChange"],[3,"value"],["tag","logo",3,"selectedAssetId","selectedAssetIdChange",4,"ngIf"],["tag","logo",3,"selectedAssetId","selectedAssetIdChange"]],template:function(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,fe,8,0,"div",0),c["\u0275\u0275template"](1,he,6,0,"div",1),c["\u0275\u0275template"](2,ye,6,2,"div",2),c["\u0275\u0275template"](3,we,4,0,"ng-template",null,3,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](5,Se,2,1,"div",4),c["\u0275\u0275elementStart"](6,"mg-minga-designer-cancel-dialog",5,6),c["\u0275\u0275listener"]("cancel",(function(t){return e.onCancelConfirm(t)}))("keepGoing",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275reference"](7).close()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,Pe,21,16,"ng-container",7)}2&t&&(c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","header"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","top"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","bottom"),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","split-content"),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",e.templateMetadata))},directives:[I.a,V,z.o,F.a,H.a,H.b,z.t,N.a,J,ue.a,ue.b,tt.d,et.a,ge.a,K.t,K.w,de.m,pe.a],styles:["@media (min-width:600px){.split-content-container[_ngcontent-%COMP%]{margin:32px}}.split-content-container.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:calc(32px + var(--overlay-header-height))}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.step-text[_ngcontent-%COMP%]{font-size:22px}.step-desc-text[_ngcontent-%COMP%], .step-text[_ngcontent-%COMP%]{font-weight:700;margin:4px 8px}.step-desc-text[_ngcontent-%COMP%]{font-size:16px}.step-header[_ngcontent-%COMP%]{margin:0 16px}.step-graphic[_ngcontent-%COMP%]{height:75px;margin:16px 0;width:100px;min-width:100px;background-repeat:no-repeat;background-position:50%;background-image:url(/assets/studio/poster-icon.svg)}@media (max-width:739px){.top-nav[_ngcontent-%COMP%]{background-color:#036;color:#fff}}@media (min-width:740px){.top-nav[_ngcontent-%COMP%], .top-nav.nav-show-lt-max-width[_ngcontent-%COMP%], .top-nav[_ngcontent-%COMP%]   .nav-show-lt-max-width[_ngcontent-%COMP%]{display:none}}.studio-title-header[_ngcontent-%COMP%]{background-color:#036;padding:12px;color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;position:relative;border-top-right-radius:var(--overlay-border-radius,0);border-top-left-radius:var(--overlay-border-radius,0)}.studio-title-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:44px;display:inline-block}.studio-title-header[_ngcontent-%COMP%]   .header-logo-container[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;left:50%;text-align:center;top:50%;transform:translate(-50%,-50%);white-space:nowrap}.studio-title-header[_ngcontent-%COMP%]   mg-overlay-nav-item[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.nav-mobile-studio-logo[_ngcontent-%COMP%]{height:33px}button.next-button[_ngcontent-%COMP%]{--mg-icon-size:12px}.preview-next-button-container[_ngcontent-%COMP%]{text-align:right;margin-top:24px;width:100%}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]{font-size:20px;padding:16px 36px;--mg-icon-size:20px}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:4px}.overlay-header-container[_ngcontent-%COMP%]{display:none}@media (min-width:740px){.overlay-header-container[_ngcontent-%COMP%]{display:block}}.mg-align-right[_ngcontent-%COMP%]{text-align:right}mg-swipe-container[_ngcontent-%COMP%]{display:block;min-height:100px;--mg-swipe-area-padding-bottom:84px}.page-scrollbar-container[_ngcontent-%COMP%]{position:absolute;overflow:hidden;bottom:32px;left:40px;right:40px;border-radius:12px;background-color:#f5f5f5}.page-scrollbar-container.has-bottom-nav[_ngcontent-%COMP%]{bottom:88px}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar-transform[_ngcontent-%COMP%]{width:100%}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar[_ngcontent-%COMP%]{height:24px;border-radius:12px;background-color:#ccc;transition:transform .3s ease}.horizontal-layout-container[_ngcontent-%COMP%]{position:relative}.horizontal-layout-container[_ngcontent-%COMP%]   .nav-arrow[_ngcontent-%COMP%]{top:calc(50% - 42px);position:absolute;z-index:10;--mg-icon-size:24px}.horizontal-layout-container[_ngcontent-%COMP%]   .left-arrow[_ngcontent-%COMP%]{left:0;transform:translateY(-50%)}.horizontal-layout-container[_ngcontent-%COMP%]   .right-arrow[_ngcontent-%COMP%]{right:0;transform:translateY(-50%)}mg-designed-svg-editor-logo-edit[_ngcontent-%COMP%]{display:block;margin:0 16px}mg-overlay-nav-item.bottom-nav-has-image[_ngcontent-%COMP%], mg-overlay-nav-item.bottom-nav-has-image[_ngcontent-%COMP%] + mg-overlay-nav-item[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.top-nav[_ngcontent-%COMP%]   .mg-align-right[_ngcontent-%COMP%]{padding-right:8px}"],changeDetection:0}),Me),De=a("tpC3"),Te=a("+WSm"),Ae=((ke=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||ke)},ke.\u0275mod=c["\u0275\u0275defineNgModule"]({type:ke}),ke.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[se.b,Pt.a,_t,Et,Mt.a,De.a,St.a,bt.a,Ot.a,Te.a,z.c,d.k,ge.b,K.m,tt.f,Ct.a]]}),ke),je=a("ACDe"),Le=a("jtHE"),Re=a("Cfvw"),Ve=a("1G5W"),ze=a("65ez"),Fe=((Ie=function(){function t(e){var n=this;g(this,t),this._destroyed$=new Le.a(1),this.mgOnSwipeContainerProgress=new c.EventEmitter,this._swiperProgressHandler=function(){return n.onSwiperProgress(n._swiper)},Object(Re.a)(e.getSwiperInstance()).pipe(Object(Ve.a)(this._destroyed$)).subscribe((function(t){return n.swiperReady(t)}))}return p(t,[{key:"swiperReady",value:function(t){var e=this;this._swiper=t,this._destroyed$.subscribe((function(){return e.cleanupSwiper(t)})),t.on("progress",this._swiperProgressHandler)}},{key:"onSwiperProgress",value:function(t){this.mgOnSwipeContainerProgress.emit(t.progress)}},{key:"cleanupSwiper",value:function(t){t.off("progress",this._swiperProgressHandler)}},{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}}]),t}()).\u0275fac=function(t){return new(t||Ie)(c["\u0275\u0275directiveInject"](ze.a))},Ie.\u0275dir=c["\u0275\u0275defineDirective"]({type:Ie,selectors:[["mg-swipe-container","mgOnSwipeContainerProgress",""]],outputs:{mgOnSwipeContainerProgress:"mgOnSwipeContainerProgress"},exportAs:["mgOnSwipeContainerProgress"]}),Ie),He=((_e=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||_e)},_e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:_e}),_e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[je.a]]}),_e),Ne=a("2Vo4"),Be=a("lJxs"),$e=a("eIep"),Ge=a("zp1y"),Ue=a("/q54"),Ye=a("Hp2Z"),qe=a("Nhcz"),Qe=["splitContent"],We=function(){return{o:null}},Je=function(t){return{outlets:t}},Ke=function(t){return["",t]};function Ze(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"div",11),c["\u0275\u0275elementStart"](1,"div",12),c["\u0275\u0275elementStart"](2,"mg-overlay-nav-item",13),c["\u0275\u0275elementStart"](3,"span"),c["\u0275\u0275text"](4,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"span",14),c["\u0275\u0275element"](6,"img",15),c["\u0275\u0275text"](7," | Pick a Template "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](4,Ke,c["\u0275\u0275pureFunction1"](2,Je,c["\u0275\u0275pureFunction0"](1,We)))))}function Xe(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"div",16),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",13),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-overlay-nav-item",17),c["\u0275\u0275elementStart"](5,"strong",18),c["\u0275\u0275text"](6,"Pick a Template"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](4,Ke,c["\u0275\u0275pureFunction1"](2,Je,c["\u0275\u0275pureFunction0"](1,We)))))}var tn=function(t){return["studio",t,"theme"]},en=function(t){return{o:t}};function nn(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",19),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",20),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Back"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](7,Ke,c["\u0275\u0275pureFunction1"](5,Je,c["\u0275\u0275pureFunction1"](3,en,c["\u0275\u0275pureFunction1"](1,tn,n.parentPath)))))}}function on(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"div",25),c["\u0275\u0275text"](1," FEATURED "),c["\u0275\u0275elementEnd"]())}function rn(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",22),c["\u0275\u0275template"](1,on,2,0,"div",23),c["\u0275\u0275elementStart"](2,"mg-designed-svg-viewer",24),c["\u0275\u0275listener"]("click",(function(t){c["\u0275\u0275restoreView"](n);var o=e.$implicit;return c["\u0275\u0275nextContext"](2).clickTemplate(t,o)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&t){var o=e.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",o.featured),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("designedSvgSrc",o.templateSvgUrl)}}function an(t,e){1&t&&c["\u0275\u0275template"](0,rn,3,2,"div",21),2&t&&c["\u0275\u0275property"]("ngForOf",e.$implicit)}function ln(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button-icon",32),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](3).clickLeftArrow()})),c["\u0275\u0275pipe"](1,"async"),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("disabled",c["\u0275\u0275pipeBind1"](1,1,o.leftArrowDisabled$))}}function sn(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button-icon",33),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](3).clickRightArrow()})),c["\u0275\u0275pipe"](1,"async"),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("disabled",c["\u0275\u0275pipeBind1"](1,1,o.rightArrowDisabled$))}}function cn(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}var un=function(t){return{$implicit:t}};function gn(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",34),c["\u0275\u0275template"](1,cn,1,0,"ng-container",35),c["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;c["\u0275\u0275nextContext"](3);var o=c["\u0275\u0275reference"](11);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",o)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](2,un,n))}}function dn(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",36),c["\u0275\u0275element"](1,"div",37),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"]().ngIf,o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275styleProp"]("width",1/n.length*100+"%")("transform","translateX("+o.scrollProgress*(n.length-1)*100+"%)")}}function pn(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",26),c["\u0275\u0275template"](2,ln,2,3,"mg-button-icon",27),c["\u0275\u0275template"](3,sn,2,3,"mg-button-icon",28),c["\u0275\u0275elementStart"](4,"mg-swipe-container",29),c["\u0275\u0275listener"]("activeIndexChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).activeSwipeIndex$.next(t)}))("mgOnSwipeContainerProgress",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).scrollProgress=t})),c["\u0275\u0275template"](5,gn,2,4,"div",30),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](6,dn,2,4,"div",31),c["\u0275\u0275elementContainerEnd"]()}if(2&t){var o=e.ngIf,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",o.length>1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",o.length>1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("activeIndex",r.activeSwipeIndex$.getValue())("spaceBetween",40)("mousewheel",r.swiperMouseWheelOptions),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",o.length>1)}}function mn(t,e){if(1&t&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,pn,7,7,"ng-container",8),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275elementContainerEnd"]()),2&t){var n=c["\u0275\u0275nextContext"](),o=c["\u0275\u0275reference"](17);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](2,2,n.templatePages$))("ngIfElse",o)}}function vn(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function fn(t,e){if(1&t&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",38),c["\u0275\u0275template"](2,vn,1,0,"ng-container",35),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&t){var n=e.ngIf;c["\u0275\u0275nextContext"](2);var o=c["\u0275\u0275reference"](11);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngTemplateOutlet",o)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](2,un,n))}}function hn(t,e){if(1&t&&(c["\u0275\u0275template"](0,fn,3,4,"ng-container",8),c["\u0275\u0275pipe"](1,"async")),2&t){var n=c["\u0275\u0275nextContext"](),o=c["\u0275\u0275reference"](17);c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](1,2,n.templates$))("ngIfElse",o)}}function xn(t,e){1&t&&c["\u0275\u0275element"](0,"mg-spinner",39)}var yn,wn,Cn=((wn=function(){function e(n,o,r,i,a,l){var s=this;g(this,e),this.mingaDesigner=n,this.route=o,this.router=r,this.mingaDesignerDraft=i,this.mediaObserver=a,this._cdr=l,this.activeSwipeIndex$=new Ne.a(0),this.horizontalLayout$=this.mediaObserver.asObservable().pipe(Object(Be.a)((function(){return s.mediaObserver.isActive("gt-sm")}))),this.swiperMouseWheelOptions={releaseOnEdges:!0},this.scrollProgress=0,this.templates$=this.route.paramMap.pipe(Object(Be.a)((function(t){return t.get("themeId")||""})),Object($e.a)((function(t){return Object(Re.a)(s.mingaDesigner.getTemplates({themeId:t}))}))),this.templatePages$=this.templates$.pipe(Object(Be.a)((function(t){return b.chunk(t,8)}))),this.leftArrowDisabled$=this.activeSwipeIndex$.pipe(Object(Be.a)((function(t){return t<=0}))),this.rightArrowDisabled$=this.activeSwipeIndex$.pipe(Object(Ge.a)(this.templatePages$),Object(Be.a)((function(e){var n=t(e,2);return n[0]>=n[1].length-1})))}return p(e,[{key:"parentPath",get:function(){var t,e;return(null===(e=null===(t=this.route.snapshot.parent)||void 0===t?void 0:t.routeConfig)||void 0===e?void 0:e.path)||""}},{key:"proceedWithTemplate",value:function(t){return Object(y.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mingaDesignerDraft.clearDraft();case 2:return e.next=4,this.router.navigate(["",{outlets:{o:["studio",this.parentPath,"build",t.templateId]}}]);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"clickTemplate",value:function(t,e){this.proceedWithTemplate(e)}},{key:"clickLeftArrow",value:function(){this.activeSwipeIndex$.next(this.activeSwipeIndex$.getValue()-1)}},{key:"clickRightArrow",value:function(){this.activeSwipeIndex$.next(this.activeSwipeIndex$.getValue()+1)}}]),e}()).\u0275fac=function(t){return new(t||wn)(c["\u0275\u0275directiveInject"](x.MingaDesignerService),c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](d.g),c["\u0275\u0275directiveInject"](k),c["\u0275\u0275directiveInject"](Ue.g),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef))},wn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:wn,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&c["\u0275\u0275viewQuery"](Qe,1),2&t&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(e.splitContent=n.first)},decls:18,vars:10,consts:[["class","overlay-header-container",4,"mgOverlayStructure","mgOverlayStructureRegion"],["class","top-nav",4,"mgOverlayStructure","mgOverlayStructureRegion"],["class","bottom-nav",4,"mgOverlayStructure","mgOverlayStructureRegion"],["fxLayout","row","fxLayoutAlign","center center",1,"step-header"],[1,"step-graphic"],[1,"step-text"],[1,"step-desc-text"],["templatePageTpl",""],[4,"ngIf","ngIfElse"],["verticalLayoutTpl",""],["templatesLoading",""],[1,"overlay-header-container"],[1,"studio-title-header"],["icon","close",1,"mg-align-left",3,"routerLink"],[1,"header-logo-container"],["src","assets/studio/studio-logo-white.png"],[1,"top-nav"],[1,"mg-align-right","nav-show-lt-max-width"],[1,"mg-smallcopy"],[1,"bottom-nav"],["icon","back",1,"mg-align-left",3,"routerLink"],["class","svg-template-wrap",4,"ngFor","ngForOf"],[1,"svg-template-wrap"],["class","svg-template-featured",4,"ngIf"],[1,"svg-template",3,"designedSvgSrc","click"],[1,"svg-template-featured"],[1,"horizontal-layout-container"],["class","left-arrow nav-arrow has-bottom-nav","icon","left-arrow-active",3,"disabled","click",4,"ngIf"],["class","right-arrow nav-arrow has-bottom-nav","icon","right-arrow-active",3,"disabled","click",4,"ngIf"],["swipeContainerAlign","top",3,"activeIndex","spaceBetween","mousewheel","activeIndexChange","mgOnSwipeContainerProgress"],["class","svg-templates","gdColumns","repeat(auto-fill, minmax(220px, 1fr))","gdGap","16px 16px",4,"ngFor","ngForOf"],["class","page-scrollbar-container has-bottom-nav",4,"ngIf"],["icon","left-arrow-active",1,"left-arrow","nav-arrow","has-bottom-nav",3,"disabled","click"],["icon","right-arrow-active",1,"right-arrow","nav-arrow","has-bottom-nav",3,"disabled","click"],["gdColumns","repeat(auto-fill, minmax(220px, 1fr))","gdGap","16px 16px",1,"svg-templates"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"page-scrollbar-container","has-bottom-nav"],[1,"page-scrollbar"],["gdColumns","repeat(auto-fill, minmax(220px, 1fr))","gdGap","8px 8px",1,"svg-templates"],["diameter","50","thickness","8",1,"loading-spinner"]],template:function(t,e){if(1&t&&(c["\u0275\u0275template"](0,Ze,8,6,"div",0),c["\u0275\u0275template"](1,Xe,7,6,"div",1),c["\u0275\u0275template"](2,nn,4,9,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275element"](4,"div",4),c["\u0275\u0275elementStart"](5,"div"),c["\u0275\u0275elementStart"](6,"p",5),c["\u0275\u0275text"](7,"STEP 2:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"p",6),c["\u0275\u0275text"](9,"Pick a template to start creating"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](10,an,1,1,"ng-template",null,7,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](12,mn,3,4,"ng-container",8),c["\u0275\u0275pipe"](13,"async"),c["\u0275\u0275template"](14,hn,2,4,"ng-template",null,9,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](16,xn,1,0,"ng-template",null,10,c["\u0275\u0275templateRefExtractor"])),2&t){var n=c["\u0275\u0275reference"](15);c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","header"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","top"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","bottom"),c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](13,8,e.horizontalLayout$))("ngIfElse",n)}},directives:[I.a,T.e,T.d,z.o,F.a,d.h,z.n,Y.a,ze.a,Fe,Ye.a,qe.d,qe.b,z.t,ot.a],pipes:[z.b],styles:["@media (min-width:600px){.split-content-container[_ngcontent-%COMP%]{margin:32px}}.split-content-container.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:calc(32px + var(--overlay-header-height))}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.step-text[_ngcontent-%COMP%]{font-size:22px}.step-desc-text[_ngcontent-%COMP%], .step-text[_ngcontent-%COMP%]{font-weight:700;margin:4px 8px}.step-desc-text[_ngcontent-%COMP%]{font-size:16px}.step-header[_ngcontent-%COMP%]{margin:0 16px}.step-graphic[_ngcontent-%COMP%]{height:75px;margin:16px 0;width:100px;min-width:100px;background-repeat:no-repeat;background-position:50%;background-image:url(/assets/studio/poster-icon.svg)}@media (max-width:739px){.top-nav[_ngcontent-%COMP%]{background-color:#036;color:#fff}}@media (min-width:740px){.top-nav[_ngcontent-%COMP%], .top-nav.nav-show-lt-max-width[_ngcontent-%COMP%], .top-nav[_ngcontent-%COMP%]   .nav-show-lt-max-width[_ngcontent-%COMP%]{display:none}}.studio-title-header[_ngcontent-%COMP%]{background-color:#036;padding:12px;color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;position:relative;border-top-right-radius:var(--overlay-border-radius,0);border-top-left-radius:var(--overlay-border-radius,0)}.studio-title-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:44px;display:inline-block}.studio-title-header[_ngcontent-%COMP%]   .header-logo-container[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;left:50%;text-align:center;top:50%;transform:translate(-50%,-50%);white-space:nowrap}.studio-title-header[_ngcontent-%COMP%]   mg-overlay-nav-item[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.nav-mobile-studio-logo[_ngcontent-%COMP%]{height:33px}button.next-button[_ngcontent-%COMP%]{--mg-icon-size:12px}.preview-next-button-container[_ngcontent-%COMP%]{text-align:right;margin-top:24px;width:100%}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]{font-size:20px;padding:16px 36px;--mg-icon-size:20px}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:4px}.overlay-header-container[_ngcontent-%COMP%]{display:none}@media (min-width:740px){.overlay-header-container[_ngcontent-%COMP%]{display:block}}.mg-align-right[_ngcontent-%COMP%]{text-align:right}mg-swipe-container[_ngcontent-%COMP%]{display:block;min-height:100px;--mg-swipe-area-padding-bottom:84px}.page-scrollbar-container[_ngcontent-%COMP%]{position:absolute;overflow:hidden;bottom:32px;left:40px;right:40px;border-radius:12px;background-color:#f5f5f5}.page-scrollbar-container.has-bottom-nav[_ngcontent-%COMP%]{bottom:88px}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar-transform[_ngcontent-%COMP%]{width:100%}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar[_ngcontent-%COMP%]{height:24px;border-radius:12px;background-color:#ccc;transition:transform .3s ease}.horizontal-layout-container[_ngcontent-%COMP%]{position:relative}.horizontal-layout-container[_ngcontent-%COMP%]   .nav-arrow[_ngcontent-%COMP%]{top:calc(50% - 42px);position:absolute;z-index:10;--mg-icon-size:24px}.horizontal-layout-container[_ngcontent-%COMP%]   .left-arrow[_ngcontent-%COMP%]{left:0;transform:translateY(-50%)}.horizontal-layout-container[_ngcontent-%COMP%]   .right-arrow[_ngcontent-%COMP%]{right:0;transform:translateY(-50%)}mg-designed-svg-viewer[_ngcontent-%COMP%]{cursor:pointer;border-radius:6px;box-shadow:0 4px 16px rgba(0,0,0,.16);transition:transform .1s ease;transform:scale(1)}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.svg-templates[_ngcontent-%COMP%]{padding:0 40px}.svg-templates[_ngcontent-%COMP%]   .svg-template[_ngcontent-%COMP%]{display:block;overflow:hidden}.svg-templates[_ngcontent-%COMP%]   .svg-template-wrap[_ngcontent-%COMP%]{position:relative}.svg-templates[_ngcontent-%COMP%]   .svg-template-wrap[_ngcontent-%COMP%]   .svg-template-featured[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;padding:8px 16px;background-color:#93f;border-radius:6px;color:#fff;font-weight:700;font-size:12px;-webkit-user-select:none;user-select:none}mg-button-icon.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),wn),bn=((yn=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||yn)},yn.\u0275mod=c["\u0275\u0275defineNgModule"]({type:yn}),yn.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Pt.a,$.b,_t,Mt.a,bt.a,Ot.a,je.a,He,z.c,d.k,Ct.a]]}),yn),Sn=a("YnAW"),On=function(){return{o:null}},Pn=function(t){return{outlets:t}},Mn=function(t){return["",t]};function kn(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"div",10),c["\u0275\u0275elementStart"](1,"div",11),c["\u0275\u0275elementStart"](2,"mg-overlay-nav-item",12),c["\u0275\u0275elementStart"](3,"span"),c["\u0275\u0275text"](4,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"span",13),c["\u0275\u0275element"](6,"img",14),c["\u0275\u0275text"](7," | Pick a Category "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](4,Mn,c["\u0275\u0275pureFunction1"](2,Pn,c["\u0275\u0275pureFunction0"](1,On)))))}function _n(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"div",15),c["\u0275\u0275elementStart"](1,"mg-overlay-nav-item",12),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"mg-overlay-nav-item",16),c["\u0275\u0275elementStart"](5,"strong",17),c["\u0275\u0275text"](6,"Pick a Category"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](4,Mn,c["\u0275\u0275pureFunction1"](2,Pn,c["\u0275\u0275pureFunction0"](1,On)))))}function In(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",18),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().clickBlankCanvas()})),c["\u0275\u0275element"](1,"mg-button-icon",19),c["\u0275\u0275elementStart"](2,"p",20),c["\u0275\u0275text"](3,"Start Fresh!"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"p",21),c["\u0275\u0275text"](5,"Start with a blank canvas"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}var En=function(t,e){return["studio",t,"template",e]},Dn=function(t){return{o:t}};function Tn(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"mg-minga-designer-theme-card",23),c["\u0275\u0275elementStart"](1,"p",20),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"p",21),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("imageUrl",n.featuredImageUrl)("routerLink",c["\u0275\u0275pureFunction1"](11,Mn,c["\u0275\u0275pureFunction1"](9,Pn,c["\u0275\u0275pureFunction1"](7,Dn,c["\u0275\u0275pureFunction2"](4,En,o.parentPath,n.themeId))))),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.title),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](n.description||"\xa0")}}function An(t,e){1&t&&c["\u0275\u0275template"](0,Tn,5,13,"mg-minga-designer-theme-card",22),2&t&&c["\u0275\u0275property"]("ngForOf",e.$implicit)}function jn(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button-icon",31),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](3).clickLeftArrow()})),c["\u0275\u0275pipe"](1,"async"),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("disabled",c["\u0275\u0275pipeBind1"](1,1,o.leftArrowDisabled$))}}function Ln(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button-icon",32),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](3).clickRightArrow()})),c["\u0275\u0275pipe"](1,"async"),c["\u0275\u0275elementEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("disabled",c["\u0275\u0275pipeBind1"](1,1,o.rightArrowDisabled$))}}function Rn(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function Vn(t,e){if(1&t&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Rn,1,0,"ng-container",36),c["\u0275\u0275elementContainerEnd"]()),2&t){c["\u0275\u0275nextContext"](4);var n=c["\u0275\u0275reference"](10);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function zn(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}var Fn=function(t){return{$implicit:t}};function Hn(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",33),c["\u0275\u0275template"](1,Vn,2,1,"ng-container",34),c["\u0275\u0275template"](2,zn,1,0,"ng-container",35),c["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,o=e.index;c["\u0275\u0275nextContext"](3);var r=c["\u0275\u0275reference"](12);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==o),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",r)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](3,Fn,n))}}function Nn(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",37),c["\u0275\u0275element"](1,"div",38),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"](2).ngIf,o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275styleProp"]("width",1/n.length*100+"%")("transform","translateX("+o.scrollProgress*(n.length-1)*100+"%)")}}function Bn(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",25),c["\u0275\u0275template"](2,jn,2,3,"mg-button-icon",26),c["\u0275\u0275template"](3,Ln,2,3,"mg-button-icon",27),c["\u0275\u0275elementStart"](4,"mg-swipe-container",28),c["\u0275\u0275listener"]("activeIndexChange",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).activeSwipeIndex$.next(t)}))("mgOnSwipeContainerProgress",(function(t){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).scrollProgress=t})),c["\u0275\u0275template"](5,Hn,3,5,"div",29),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](6,Nn,2,4,"div",30),c["\u0275\u0275elementContainerEnd"]()}if(2&t){var o=c["\u0275\u0275nextContext"]().ngIf,r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",o.length>1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",o.length>1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("activeIndex",r.activeSwipeIndex$.getValue())("spaceBetween",40)("mousewheel",r.swiperMouseWheelOptions),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",o.length>1)}}function $n(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function Gn(t,e){1&t&&c["\u0275\u0275elementContainer"](0)}function Un(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",39),c["\u0275\u0275template"](1,$n,1,0,"ng-container",36),c["\u0275\u0275template"](2,Gn,1,0,"ng-container",35),c["\u0275\u0275pipe"](3,"async"),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"](2),o=c["\u0275\u0275reference"](10),r=c["\u0275\u0275reference"](12);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",o),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",r)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](5,Fn,c["\u0275\u0275pipeBind1"](3,3,n.themes$)))}}function Yn(t,e){if(1&t&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Bn,7,7,"ng-container",8),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275template"](3,Un,4,7,"ng-template",null,24,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementContainerEnd"]()),2&t){var n=c["\u0275\u0275reference"](4),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](2,2,o.horizontalLayout$))("ngIfElse",n)}}function qn(t,e){1&t&&c["\u0275\u0275element"](0,"mg-spinner",40)}var Qn,Wn,Jn,Kn,Zn=((Qn=function(){function e(n,o,r,i){var a=this;g(this,e),this.router=n,this.route=o,this.mingaDesigner=r,this.mediaObserver=i,this.activeSwipeIndex$=new Ne.a(0),this.horizontalLayout$=this.mediaObserver.asObservable().pipe(Object(Be.a)((function(){return a.mediaObserver.isActive("gt-sm")}))),this.swiperMouseWheelOptions={releaseOnEdges:!0},this.scrollProgress=0,this.themes$=Object(Re.a)(this.mingaDesigner.getThemes()),this.themePages$=this.themes$.pipe(Object(Be.a)((function(t){return[null].concat(l(t))})),Object(Be.a)((function(t){var e=b.chunk(t,6);return e[0].splice(0,1),e}))),this.leftArrowDisabled$=this.activeSwipeIndex$.pipe(Object(Be.a)((function(t){return t<=0}))),this.rightArrowDisabled$=this.activeSwipeIndex$.pipe(Object(Ge.a)(this.themePages$),Object(Be.a)((function(e){var n=t(e,2);return n[0]>=n[1].length-1})))}return p(e,[{key:"parentPath",get:function(){var t,e;return(null===(e=null===(t=this.route.snapshot.parent)||void 0===t?void 0:t.routeConfig)||void 0===e?void 0:e.path)||""}},{key:"clickLeftArrow",value:function(){this.activeSwipeIndex$.next(this.activeSwipeIndex$.getValue()-1)}},{key:"clickRightArrow",value:function(){this.activeSwipeIndex$.next(this.activeSwipeIndex$.getValue()+1)}},{key:"clickBlankCanvas",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.router.navigate(["",{outlets:{o:["studio",this.parentPath,"build","blank"]}}]);case 2:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(t){return new(t||Qn)(c["\u0275\u0275directiveInject"](d.g),c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](x.MingaDesignerService),c["\u0275\u0275directiveInject"](Ue.g))},Qn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Qn,selectors:[["ng-component"]],decls:17,vars:8,consts:[["class","overlay-header-container",4,"mgOverlayStructure","mgOverlayStructureRegion"],["class","top-nav",4,"mgOverlayStructure","mgOverlayStructureRegion"],["fxLayout","row","fxLayoutAlign","center center",1,"step-header"],[1,"step-graphic"],[1,"step-text"],[1,"step-desc-text"],["blankCanvasTpl",""],["themesPageTpl",""],[4,"ngIf","ngIfElse"],["themesLoading",""],[1,"overlay-header-container"],[1,"studio-title-header"],["icon","close",1,"mg-align-left",3,"routerLink"],[1,"header-logo-container"],["src","assets/studio/studio-logo-white.png"],[1,"top-nav"],[1,"mg-align-right","nav-show-lt-max-width"],[1,"mg-smallcopy"],["fxLayout","column","fxLayoutAlign","center center",1,"blank-canvas-item","mg-button-hover-harbour",3,"click"],["icon","plus-o"],[1,"theme-title"],[1,"theme-description"],[3,"imageUrl","routerLink",4,"ngFor","ngForOf"],[3,"imageUrl","routerLink"],["verticalLayoutTpl",""],[1,"horizontal-layout-container"],["class","left-arrow nav-arrow","icon","left-arrow-active",3,"disabled","click",4,"ngIf"],["class","right-arrow nav-arrow","icon","right-arrow-active",3,"disabled","click",4,"ngIf"],["swipeContainerAlign","top",3,"activeIndex","spaceBetween","mousewheel","activeIndexChange","mgOnSwipeContainerProgress"],["class","grid-container","gdColumns","repeat(auto-fill, minmax(300px, 1fr))","gdGap","16px 16px",4,"ngFor","ngForOf"],["class","page-scrollbar-container",4,"ngIf"],["icon","left-arrow-active",1,"left-arrow","nav-arrow",3,"disabled","click"],["icon","right-arrow-active",1,"right-arrow","nav-arrow",3,"disabled","click"],["gdColumns","repeat(auto-fill, minmax(300px, 1fr))","gdGap","16px 16px",1,"grid-container"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"page-scrollbar-container"],[1,"page-scrollbar"],["gdColumns","repeat(auto-fill, minmax(220px, 1fr))","gdGap","8px 8px",1,"grid-container"],["diameter","50","thickness","8",1,"loading-spinner"]],template:function(t,e){if(1&t&&(c["\u0275\u0275template"](0,kn,8,6,"div",0),c["\u0275\u0275template"](1,_n,7,6,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275element"](3,"div",3),c["\u0275\u0275elementStart"](4,"div"),c["\u0275\u0275elementStart"](5,"p",4),c["\u0275\u0275text"](6,"STEP 1:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"p",5),c["\u0275\u0275text"](8,"Pick a category"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](9,In,6,0,"ng-template",null,6,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](11,An,1,1,"ng-template",null,7,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](13,Yn,5,4,"ng-container",8),c["\u0275\u0275pipe"](14,"async"),c["\u0275\u0275template"](15,qn,1,0,"ng-template",null,9,c["\u0275\u0275templateRefExtractor"])),2&t){var n=c["\u0275\u0275reference"](16);c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","header"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("mgOverlayStructure",!0)("mgOverlayStructureRegion","top"),c["\u0275\u0275advance"](12),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](14,6,e.themePages$))("ngIfElse",n)}},directives:[I.a,T.e,T.d,z.o,F.a,d.h,Ye.a,z.n,Sn.a,ze.a,Fe,qe.d,qe.b,z.t,ot.a],pipes:[z.b],styles:["@media (min-width:600px){.split-content-container[_ngcontent-%COMP%]{margin:32px}}.split-content-container.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:calc(32px + var(--overlay-header-height))}.step-text[_ngcontent-%COMP%]{font-size:22px}.step-desc-text[_ngcontent-%COMP%], .step-text[_ngcontent-%COMP%]{font-weight:700;margin:4px 8px}.step-desc-text[_ngcontent-%COMP%]{font-size:16px}.step-header[_ngcontent-%COMP%]{margin:0 16px}.step-graphic[_ngcontent-%COMP%]{height:75px;margin:16px 0;width:100px;min-width:100px;background-repeat:no-repeat;background-position:50%;background-image:url(/assets/studio/poster-icon.svg)}@media (max-width:739px){.top-nav[_ngcontent-%COMP%]{background-color:#036;color:#fff}}@media (min-width:740px){.top-nav[_ngcontent-%COMP%], .top-nav.nav-show-lt-max-width[_ngcontent-%COMP%], .top-nav[_ngcontent-%COMP%]   .nav-show-lt-max-width[_ngcontent-%COMP%]{display:none}}.studio-title-header[_ngcontent-%COMP%]{background-color:#036;padding:12px;color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;position:relative;border-top-right-radius:var(--overlay-border-radius,0);border-top-left-radius:var(--overlay-border-radius,0)}.studio-title-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:44px;display:inline-block}.studio-title-header[_ngcontent-%COMP%]   .header-logo-container[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;left:50%;text-align:center;top:50%;transform:translate(-50%,-50%);white-space:nowrap}.studio-title-header[_ngcontent-%COMP%]   mg-overlay-nav-item[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.nav-mobile-studio-logo[_ngcontent-%COMP%]{height:33px}button.next-button[_ngcontent-%COMP%]{--mg-icon-size:12px}.preview-next-button-container[_ngcontent-%COMP%]{text-align:right;margin-top:24px;width:100%}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]{font-size:20px;padding:16px 36px;--mg-icon-size:20px}.preview-next-button-container[_ngcontent-%COMP%]   button.next-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:4px}.overlay-header-container[_ngcontent-%COMP%]{display:none}@media (min-width:740px){.overlay-header-container[_ngcontent-%COMP%]{display:block}}.mg-align-right[_ngcontent-%COMP%]{text-align:right}mg-swipe-container[_ngcontent-%COMP%]{display:block;min-height:100px;--mg-swipe-area-padding-bottom:84px}.page-scrollbar-container[_ngcontent-%COMP%]{position:absolute;overflow:hidden;bottom:32px;left:40px;right:40px;border-radius:12px;background-color:#f5f5f5}.page-scrollbar-container.has-bottom-nav[_ngcontent-%COMP%]{bottom:88px}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar-transform[_ngcontent-%COMP%]{width:100%}.page-scrollbar-container[_ngcontent-%COMP%]   .page-scrollbar[_ngcontent-%COMP%]{height:24px;border-radius:12px;background-color:#ccc;transition:transform .3s ease}.horizontal-layout-container[_ngcontent-%COMP%]{position:relative}.horizontal-layout-container[_ngcontent-%COMP%]   .nav-arrow[_ngcontent-%COMP%]{top:calc(50% - 42px);position:absolute;z-index:10;--mg-icon-size:24px}.horizontal-layout-container[_ngcontent-%COMP%]   .left-arrow[_ngcontent-%COMP%]{left:0;transform:translateY(-50%)}.horizontal-layout-container[_ngcontent-%COMP%]   .right-arrow[_ngcontent-%COMP%]{right:0;transform:translateY(-50%)}mg-minga-designer-theme-card[_ngcontent-%COMP%]{display:block;cursor:pointer;-webkit-user-select:none;user-select:none}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.grid-container[_ngcontent-%COMP%]{min-height:100px;padding:0 40px}.blank-canvas-item[_ngcontent-%COMP%]{padding:16px;background-color:#fff;border-radius:6px;border:1px solid #d3d3d3;cursor:pointer;--mg-icon-size:30px}.theme-title[_ngcontent-%COMP%]{color:#036;font-weight:700;font-size:20px}.theme-description[_ngcontent-%COMP%], .theme-title[_ngcontent-%COMP%]{margin:4px 0;text-align:center;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.theme-description[_ngcontent-%COMP%]{color:#ccc;font-size:11px}mg-button-icon.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),Qn),Xn=a("62tx"),to=((Jn=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||Jn)},Jn.\u0275mod=c["\u0275\u0275defineNgModule"]({type:Jn}),Jn.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[Pt.a,Xn.a,Mt.a,je.a,He,bt.a,z.c,d.k,Ct.a]]}),Jn),eo=((Wn=function(){function t(){g(this,t),this.overlayConfig={wide:!0,containWithinViewport:!0,borderRadius:"20px",background:"linear-gradient(0deg, rgba(151, 64, 250, 0.8), rgba(253, 202, 47, 0.8), rgba(63, 205, 252, 0.8))"}}return p(t,[{key:"registerOnOverlayConfig",value:function(t){t(this.overlayConfig)}},{key:"onOverlayClose",value:function(){return!0}}]),t}()).\u0275fac=function(t){return new(t||Wn)},Wn.\u0275cmp=c["\u0275\u0275defineComponent"]({type:Wn,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&c["\u0275\u0275element"](0,"router-outlet")},directives:[d.l],styles:["[_nghost-%COMP%]{display:block;--overlay-border-radius:$overlayBorderRadius}@media (max-height:700px){[_nghost-%COMP%]{min-height:100vh}}"],changeDetection:0}),Wn),no=a("30/I"),oo=a("yk58"),ro=((Kn=function(t){n(o,t);var e=r(o);function o(t){var n;return g(this,o),(n=e.call(this)).mingaDesignerProto=t,n}return p(o,[{key:"getContentInfo",value:function(t){return Object(y.a)(this,void 0,void 0,u().mark((function e(){var n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new no.MingaDesignerGetContentInfoRequest).setContentHash(t),e.next=4,this.mingaDesignerProto.getContentInfo(n);case 4:return o=e.sent.getInfo(),e.abrupt("return",o?jt.StudioContentInfoMapper.toIStudioContentInfo(o):null);case 6:case"end":return e.stop()}}),e,this)})))}}]),o}(x.MingaDesignerContentInfoService)).\u0275fac=function(t){return new(t||Kn)(c["\u0275\u0275inject"](oo.MingaDesigner))},Kn.\u0275prov=c["\u0275\u0275defineInjectable"]({token:Kn,factory:Kn.\u0275fac,providedIn:"root"}),Kn);function io(t){if(!t)throw new Error("Cannot get minga designer route data for non-studio content");return t}var ao,lo=function(t){n(o,t);var e=r(o);function o(t,n,r,i){var a;return g(this,o),(a=e.call(this,t,n)).snapshot=t,a.injector=n,a.studioContentInfoService=r,a.mingaDesignerService=i,a.templateId="",a.studioContentInfo={templateId:"",designedSvg:{svgUrl:"",svgData:{}}},a}return p(o,[{key:"getContentInfo",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){var e=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.studioContentInfoService.getContentInfo(this.contentHash).then(io).then((function(t){return Object(y.a)(e,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.templateId=t.templateId,e.next=3,this.getTemplateById(t.templateId);case 3:this.template=e.sent,this.studioContentInfo=t;case 5:case"end":return e.stop()}}),e,this)})))}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"getAdditionalRouteData",value:function(){return Object(y.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.templateId||(this.templateId=this.snapshot.paramMap.get("templateId")||this.snapshot.data.fallbackTemplateId||""),t.t0=this.template,t.t0){t.next=6;break}return t.next=5,this.getTemplateById(this.templateId);case 5:this.template=t.sent;case 6:this.studioContentInfo.templateId||(this.studioContentInfo={templateId:this.templateId,designedSvg:{svgUrl:this.template.templateSvgUrl,svgData:{}}});case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getTemplateById",value:function(t){return Object(y.a)(this,void 0,void 0,u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mingaDesignerService.getTemplateById(t);case 2:if(n=e.sent){e.next=5;break}throw new Error("Invalid template id: ".concat(t));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getRouteParams",value:function(){var t;return{templateId:this.templateId,themeId:null===(t=this.template)||void 0===t?void 0:t.themeId,contextHash:this.contextHash,contentHash:this.contentHash,groupHash:this.groupHash,programHash:this.programHash}}}]),o}(a("/Hrl").a),so=a("6ra5"),co=((ao=function(){function t(e,n,o){g(this,t),this.mingaDesignerService=e,this.studioContentInfoService=n,this.injector=o}return p(t,[{key:"resolve",value:function(t,e){return Object(y.a)(this,void 0,void 0,u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new lo(t,this.injector,this.studioContentInfoService,this.mingaDesignerService),e.next=3,n.initDataFromRoute();case 3:return console.log("got initRouteData"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||ao)(c["\u0275\u0275inject"](so.a),c["\u0275\u0275inject"](ro),c["\u0275\u0275inject"](c.Injector))},ao.\u0275prov=c["\u0275\u0275defineInjectable"]({token:ao,factory:ao.\u0275fac,providedIn:"root"}),ao);function uo(t){return{path:t.path,component:t.component,resolve:{routeData:co},data:{nextPath:t.nextPath,previousPath:t.previousPath,contentManagerType:t.contentManager,title:t.title,fallbackTemplateId:t.fallbackTemplateId}}}function go(t,e){return[{path:"".concat(t),component:eo,children:[{path:"theme",component:Zn,data:{title:"Pick a Category"}},{path:"template",component:Cn,data:{title:"Pick a Template"}},{path:"template/:themeId",component:Cn,data:{title:"Pick a Template"}},uo({path:"build/blank",fallbackTemplateId:"blank",component:Ee,contentManager:e,previousPath:"theme",nextPath:"content/blank",title:"Build your template"}),uo({path:"build/:templateId",component:Ee,contentManager:e,previousPath:"template/:themeId",nextPath:"content/:templateId",title:"Build your template"}),uo({path:"content/:templateId",component:wt,contentManager:e,previousPath:"build/:templateId",nextPath:"preview/:templateId",title:"Add content to your template"}),uo({path:"preview/:templateId",component:ee,contentManager:e,previousPath:"content/:templateId",title:"Preview your template"}),uo({path:"edit/build/:contentHash",component:Ee,contentManager:e,previousPath:"template/:themeId",nextPath:"edit/content/:contentHash",title:"Edit Your Template"}),uo({path:"edit/content/:contentHash",component:wt,contentManager:e,previousPath:"edit/build/:contentHash",nextPath:"edit/preview/:contentHash",title:"Edit your template content"}),uo({path:"edit/preview/:contentHash",component:ee,contentManager:e,previousPath:"edit/content/:contentHash",nextPath:"edit/content/:contentHash",title:"Preview your changes"}),uo({path:"edit/build/:contentHash/:contextHash",component:Ee,contentManager:e,previousPath:"template/:themeId",nextPath:"edit/content/:contentHash/:contextHash"}),uo({path:"edit/content/:contentHash/:contextHash",component:wt,contentManager:e,previousPath:"edit/build/:contentHash/:contextHash",nextPath:"edit/preview/:contentHash/:contextHash"}),uo({path:"edit/preview/:contentHash/:contextHash",component:ee,contentManager:e,previousPath:"edit/content/:contentHash/:contextHash"})]}]}var po,mo=[{path:"",pathMatch:"full",redirectTo:"m/theme"}].concat(l(go("m",v.a)),l(go("g",m.a)),l(go("g/:groupHash",m.a)),l(go("p/:programHash",f.a))),vo=((po=p((function t(){g(this,t)}))).\u0275fac=function(t){return new(t||po)},po.\u0275mod=c["\u0275\u0275defineNgModule"]({type:po}),po.\u0275inj=c["\u0275\u0275defineInjector"]({providers:[k,{provide:x.MingaDesignerService,useExisting:so.a},{provide:x.MingaDesignerContentInfoService,useExisting:ro}],imports:[[to,bn,Ae,le,v.b,m.b,h.a,d.k.forChild(mo),s.f]]}),po)}}])}();
//# sourceMappingURL=minga-app-src-app-minga-designer-MingaDesignerRoutes-module-es5.js.map