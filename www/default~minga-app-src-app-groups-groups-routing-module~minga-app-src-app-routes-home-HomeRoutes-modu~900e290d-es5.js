!function(){function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,a){var i=t(e,n);if(i){var r=Object.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(arguments.length<3?e:a):r.value}}).apply(this,arguments)}function t(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,c=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw c}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=o(e);if(t){var i=o(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(i=a.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?r:String(r)),a)}var i,r}function u(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"+erW":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("8Y7J"),i=n("Wgwc"),r=n("VDRc"),c=n("Fudl"),l=function(){var e=function(){function e(t){s(this,e),this._cdr=t,this._initHappened=!1,this._calendarView="month",this._excludeWeekend=!1,this._activeDate=new Date,this._activeDateTitle="",this.calendarViewChange=new a.EventEmitter,this.activeDateChange=new a.EventEmitter}return u(e,[{key:"calendarView",get:function(){return this._calendarView},set:function(e){this._calendarView=e,this._updateActiveDateTitle()}},{key:"activeDateChangeObservable",get:function(){return this._activeDateObservable$},set:function(e){var t=this;e&&(this._activeDateObservable$=e,this._activeDateSub&&this._activeDateSub.unsubscribe(),this._activeDateSub=this._activeDateObservable$.subscribe((function(e){t.changeActiveDate(e,!1)})))}},{key:"excludeWeekend",get:function(){return this._excludeWeekend},set:function(e){this._excludeWeekend=e,this._updateActiveDateTitle()}},{key:"activeDate",get:function(){return this._activeDate},set:function(e){this._activeDate=e,this._initHappened&&this._updateActiveDateTitle()}},{key:"ngOnInit",value:function(){this._updateActiveDateTitle()}},{key:"ngOnDestroy",value:function(){this._activeDateSub&&this._activeDateSub.unsubscribe()}},{key:"changeActiveDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._activeDate=e,this._updateActiveDateTitle(),t&&this.activeDateChange.emit(this._activeDate),this._cdr.markForCheck()}},{key:"changeCalendarView",value:function(e){this._calendarView=e,this._updateActiveDateTitle(),this.calendarViewChange.emit(this._calendarView),this._cdr.markForCheck()}},{key:"getWeekdayDisplay",value:function(e,t){var n=new Date(this._activeDate);return n.setMonth(e-1),n.setDate(t),n.toLocaleDateString(void 0,{weekday:"short"})}},{key:"getEventDisplayTime",value:function(e){if(e.allDay)return"All Day";var t="h:mm a",n="";return n+=i(e.start).format(t),"end"in e&&e.end&&(n+=" - ",n+=i(e.end).format(t)),n}},{key:"activeDateNavLeft",value:function(){var e,t=i(this._activeDate);"month"===this._calendarView?e=t.subtract(1,"M"):"week"===this._calendarView?e=t.subtract(7,"d"):"day"===this._calendarView&&(e=t.subtract(1,"d")),this.changeActiveDate(e.toDate())}},{key:"activeDateNavRight",value:function(){var e,t=i(this._activeDate);"month"===this._calendarView?e=t.add(1,"M"):"week"===this._calendarView?e=t.add(7,"d"):"day"===this._calendarView&&(e=t.add(1,"d")),this.changeActiveDate(e.toDate())}},{key:"_updateActiveDateTitle",value:function(){if("month"===this._calendarView)this._activeDateTitle=this._activeDate.toLocaleDateString(void 0,{month:"long",year:"numeric"});else if("week"===this._calendarView){var e=i(this._activeDate),t=i(e).startOf("week"),n=i(e).endOf("week");this.excludeWeekend&&(t=t.add(1,"d"),n=n.subtract(1,"d"));var a=t.date(),r=n.date(),c=i(this._activeDate).format("MMMM"),l="";t.month()!=n.month()&&(c=t.format("MMM"),l=n.format("MMM")+" "),this._activeDateTitle=c+" "+a+" - "+l+r+" "+i(n).format("YYYY")}else"day"===this._calendarView&&(this._activeDateTitle=this._activeDate.toLocaleDateString(void 0,{month:"long",year:"numeric",day:"numeric",weekday:"short"}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ChangeDetectorRef))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-active-date-range"]],inputs:{calendarView:"calendarView",activeDateChangeObservable:["date-change-observable","activeDateChangeObservable"],excludeWeekend:"excludeWeekend",activeDate:"activeDate"},outputs:{calendarViewChange:"calendarViewChange",activeDateChange:"activeDateChange"},decls:10,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-evenly center",1,"active-date-title-wrap"],["fxLayout","row","fxLayoutAlign","center center"],[1,"active-date-nav","left",3,"click"],[1,"active-date-title"],[1,"active-date-nav","right",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275listener"]("click",(function(){return t.activeDateNavLeft()})),a["\u0275\u0275elementStart"](3,"mg-icon"),a["\u0275\u0275text"](4,"left-arrow-active"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",4),a["\u0275\u0275listener"]("click",(function(){return t.activeDateNavRight()})),a["\u0275\u0275elementStart"](8,"mg-icon"),a["\u0275\u0275text"](9,"right-arrow-active"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](6),a["\u0275\u0275textInterpolate"](t._activeDateTitle))},directives:[r.e,r.d,c.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:flex;flex-direction:column}.active-date-title-wrap[_ngcontent-%COMP%]   .active-date-nav[_ngcontent-%COMP%]{--mg-icon-size:16px;-webkit-user-select:none;user-select:none;color:#5ab3db;cursor:pointer;display:flex;justify-content:center;align-items:center;padding:8px}.active-date-title-wrap[_ngcontent-%COMP%]   .active-date-nav.left[_ngcontent-%COMP%]{padding-right:16px}.active-date-title-wrap[_ngcontent-%COMP%]   .active-date-nav.right[_ngcontent-%COMP%]{padding-left:16px}.active-date-title-wrap[_ngcontent-%COMP%]   .active-date-title[_ngcontent-%COMP%]{min-width:160px;text-align:center;text-transform:uppercase;font-size:16px;font-weight:700}'],changeDetection:0}),e}()},"1Apm":function(t,a,r){"use strict";r.d(a,"a",(function(){return I}));var l=r("zxHu"),d=r("SVse"),v=r("8Y7J"),f=r("Dxy4"),h=r("TN/R"),g=r("Ogcz"),m=["mg-calendar-body",""];function p(e,t){if(1&e&&v["\u0275\u0275element"](0,"td",5),2&e){var n=v["\u0275\u0275nextContext"](2);v["\u0275\u0275styleProp"]("padding-top",n.calculatedPadding,"%")("padding-bottom",n.calculatedPadding,"%"),v["\u0275\u0275attribute"]("colspan",n._firstRowOffset)}}function y(e,t){if(1&e){var n=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"td",6),v["\u0275\u0275listener"]("click",(function(){v["\u0275\u0275restoreView"](n);var e=t.$implicit;return v["\u0275\u0275nextContext"](2)._cellClicked(e)})),v["\u0275\u0275elementStart"](1,"div",7),v["\u0275\u0275element"](2,"span",8),v["\u0275\u0275elementStart"](3,"span",9),v["\u0275\u0275text"](4),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=t.index,r=v["\u0275\u0275nextContext"]().index,c=v["\u0275\u0275nextContext"]();v["\u0275\u0275styleProp"]("width",100/c.numCols,"%")("padding-top",c.calculatedPadding,"%")("padding-bottom",c.calculatedPadding,"%"),v["\u0275\u0275classProp"]("mat-calendar-body-disabled",!a.enabled)("mat-calendar-body-active",c._isActiveCell(r,i))("today",c.todayValue===a.value),v["\u0275\u0275property"]("tabindex",c._isActiveCell(r,i)?0:-1)("ngClass",c.getCellClass(a.value)),v["\u0275\u0275attribute"]("aria-label",a.ariaLabel)("aria-disabled",!a.enabled||null)("aria-selected",c.checkIfSelected(a.value)),v["\u0275\u0275advance"](1),v["\u0275\u0275classProp"]("filtering",c.checkIfFiltering(a.value))("mat-calendar-body-today",c.todayValue===a.value),v["\u0275\u0275property"]("ngClass",c.getCellClass(a.value)),v["\u0275\u0275advance"](3),v["\u0275\u0275textInterpolate"](a.displayValue)}}function w(e,t){if(1&e){var n=v["\u0275\u0275getCurrentView"]();v["\u0275\u0275elementStart"](0,"td",10),v["\u0275\u0275listener"]("click",(function(e){return v["\u0275\u0275restoreView"](n),v["\u0275\u0275nextContext"](2)._onLastRowClick(e)})),v["\u0275\u0275elementEnd"]()}if(2&e){var a=v["\u0275\u0275nextContext"](2);v["\u0275\u0275styleProp"]("padding-top",a.calculatedPadding,"%")("padding-bottom",a.calculatedPadding,"%"),v["\u0275\u0275attribute"]("colspan",a._lastRowOffset)}}function D(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"tr",1),v["\u0275\u0275template"](1,p,1,5,"td",2),v["\u0275\u0275template"](2,y,5,23,"td",3),v["\u0275\u0275template"](3,w,1,5,"td",4),v["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=t.index,i=v["\u0275\u0275nextContext"]();v["\u0275\u0275classProp"]("has-selected",i.checkIfHasActive(a)),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",0===a&&i._firstRowOffset),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngForOf",n),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("ngIf",a===i.rows.length-1&&i._firstRowOffset)}}var b,C,_=((b=function(e){i(a,e);var t=c(a);function a(e,n){var i;return s(this,a),(i=t.call(this,e,n)).elementRef_=e,i.multiSelectDays=[],i.onLastRowClick=new v.EventEmitter,i.filteringDays=[],i.pastMonth=!1,i.calcPadding(),i}return u(a,[{key:"onResize",value:function(e){this.calcPadding()}},{key:"ngAfterViewInit",value:function(){this.calcPadding()}},{key:"calcPadding",value:function(){var e=this.elementRef_.nativeElement.getBoundingClientRect().width+16,t=window.innerWidth;t/3>e&&(e=t/2);var n=23;e<500&&(n=e>400?25:e>375?27:e>350?30:e>325?33:e>300?35:40),this.calculatedPadding=n*this.cellAspectRatio/this.numCols}},{key:"checkIfHasActive",value:function(e){if(!this.todayValue)return!1;var t=this.rows[e];return t[0].value<=this.todayValue&&t[t.length-1].value>=this.todayValue}},{key:"checkIfSelected",value:function(e){if(this.multiSelectDays){var t,a=n(this.multiSelectDays);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i&&i.date&&e===i.date.getDate())return!0}}catch(r){a.e(r)}finally{a.f()}}}},{key:"checkIfFiltering",value:function(e){if(this.filteringDays){var t,a=n(this.filteringDays);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i&&i.date&&e===i.date.getDate())return!0}}catch(r){a.e(r)}finally{a.f()}}}},{key:"getCellClass",value:function(e){if(this.multiSelectDays){var t,a="",i=n(this.multiSelectDays);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r&&r.date&&e===r.date.getDate()){a="selected ",r.going&&(a+="going "),r.past&&(a+="past"),r.checkedIn&&(a+=" checked-in");break}}}catch(c){i.e(c)}finally{i.f()}return""===a&&(a+=this.getMultiDayEventCellClass(e)),a}return e<this.todayValue||this.pastMonth?"past":""}},{key:"getMultiDayEventCellClass",value:function(e){var t,a=n(this.multiSelectDays);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.endDate&&e>i.date.getDate()&&e<=i.endDate.getDate())return"selected"}}catch(r){a.e(r)}finally{a.f()}return""}},{key:"_lastRowOffset",get:function(){return this.rows&&this.rows.length&&this.rows[this.rows.length-1].length?this.numCols-this.rows[this.rows.length-1].length:0}},{key:"_onLastRowClick",value:function(e){this.onLastRowClick.emit(e)}}]),a}(h.b)).\u0275fac=function(e){return new(e||b)(v["\u0275\u0275directiveInject"](v.ElementRef),v["\u0275\u0275directiveInject"](v.NgZone))},b.\u0275cmp=v["\u0275\u0275defineComponent"]({type:b,selectors:[["","mg-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],hostBindings:function(e,t){1&e&&v["\u0275\u0275listener"]("resize",(function(e){return t.onResize(e)}),!1,v["\u0275\u0275resolveWindow"])},inputs:{multiSelectDays:"multiSelectDays",filteringDays:"filteringDays",pastMonth:"pastMonth"},outputs:{onLastRowClick:"onLastRowClick"},exportAs:["matCalendarBody"],features:[v["\u0275\u0275InheritDefinitionFeature"]],attrs:m,decls:1,vars:1,consts:[["role","row","class","mg-calender-body-row",3,"has-selected",4,"ngFor","ngForOf"],["role","row",1,"mg-calender-body-row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"tabindex","mat-calendar-body-disabled","mat-calendar-body-active","width","paddingTop","ngClass","today","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom","click",4,"ngIf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"tabindex","ngClass","click"],[1,"mat-calendar-body-cell-content",3,"ngClass"],[1,"body-cell-content-bg"],[1,"body-cell-content-value"],["aria-hidden","true",1,"mat-calendar-body-label",3,"click"]],template:function(e,t){1&e&&v["\u0275\u0275template"](0,D,4,5,"tr",0),2&e&&v["\u0275\u0275property"]("ngForOf",t.rows)},directives:[d.n,d.o,d.m],styles:[""]}),b),k=r("UhP/"),x=r("HHVM"),O=((C=function(t){i(a,t);var n=c(a);function a(e,t,i,r,c){var l;return s(this,a),(l=n.call(this,e,t,i,r,c)).calendar=t,l}return u(a,[{key:"periodButtonText",get:function(){if("month"==this.currentView){var t=Object(x.day)(this.calendar.activeDate).format("MMMM YYYY");if(t)return t}return e(o(a.prototype),"periodButtonText",this)}}]),a}(h.c)).\u0275fac=function(e){return new(e||C)(v["\u0275\u0275directiveInject"](h.f),v["\u0275\u0275directiveInject"](l.a),v["\u0275\u0275directiveInject"](k.c,8),v["\u0275\u0275directiveInject"](k.e),v["\u0275\u0275directiveInject"](v.ChangeDetectorRef))},C.\u0275cmp=v["\u0275\u0275defineComponent"]({type:C,selectors:[["mg-calendar-header"]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-header"],inputs:{currentView:"currentView"},exportAs:["matCalendarHeader"],features:[v["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:7,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-icon-button","",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-button","",1,"mat-calendar-period-button",3,"disableRipple"],["mat-icon-button","",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(v["\u0275\u0275elementStart"](0,"div",0),v["\u0275\u0275elementStart"](1,"div",1),v["\u0275\u0275elementStart"](2,"button",2),v["\u0275\u0275listener"]("click",(function(){return t.previousClicked()})),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](3,"button",3),v["\u0275\u0275text"](4),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](5,"button",4),v["\u0275\u0275listener"]("click",(function(){return t.nextClicked()})),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&e&&(v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("disabled",!t.previousEnabled()||t.calendar.weekView),v["\u0275\u0275attribute"]("aria-label",t.prevButtonLabel),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("disableRipple",!0),v["\u0275\u0275attribute"]("aria-label",t.periodButtonLabel),v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"](" ",t.periodButtonText," "),v["\u0275\u0275advance"](1),v["\u0275\u0275property"]("disabled",!t.nextEnabled()||t.calendar.weekView),v["\u0275\u0275attribute"]("aria-label",t.nextButtonLabel))},directives:[f.a],styles:["[_nghost-%COMP%]{display:block}"]}),C),M=r("9gLZ");function S(e,t){if(1&e&&(v["\u0275\u0275elementStart"](0,"th"),v["\u0275\u0275text"](1),v["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;v["\u0275\u0275attribute"]("aria-label",n.long),v["\u0275\u0275advance"](1),v["\u0275\u0275textInterpolate1"](" ",n.short||n.narrow," ")}}var E,V,P=((V=function(e){i(a,e);var t=c(a);function a(e,n,i,r){var c;s(this,a),(c=t.call(this,e,n,i,r)).multiSelectDays=[],c.onLastRowClick=new v.EventEmitter,c.filteringDays=[],c.filteredDays=[],c.filteredFilteringDays=[];var l=c._dateAdapter.getFirstDayOfWeek(),o=c._dateAdapter.getDayOfWeekNames("narrow"),d=c._dateAdapter.getDayOfWeekNames("short"),u=c._dateAdapter.getDayOfWeekNames("long").map((function(e,t){return{long:e,narrow:o[t],short:d[t]}}));return c._weekdays=u.slice(l).concat(u.slice(0,l)),c}return u(a,[{key:"ngOnInit",value:function(){this.filterMultiSelectDays(),this.filterFilteringDays()}},{key:"ngOnChanges",value:function(e){e.activeDate&&(this.filterMultiSelectDays(),this.filterFilteringDays()),e.multiSelectDays&&this.filterMultiSelectDays(),e.filteringDays&&this.filterFilteringDays()}},{key:"_addTofilteredDays",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.filteredDays,n=0;n<t.length;++n){var a=t[n];if(a.date.getDate()==e.date.getDate()){if(!a.going&&e.going)return void(t[n]=e);if(!a.checkedIn&&e.checkedIn)return void(t[n]=e)}}t.push(e)}},{key:"isActiveMonthInThePast",value:function(){this._dateAdapter.getMonthNames("short");var e=new Date,t=e.getMonth(),n=e.getFullYear(),a=this._dateAdapter.getYear(this.activeDate);return a<n||!(a>n)&&this._dateAdapter.getMonth(this.activeDate)<t}},{key:"_onLastRowClick",value:function(e){this.onLastRowClick.emit(e)}},{key:"filterMultiSelectDays",value:function(){if(this.filteredDays=[],this.multiSelectDays){var e,t=n(this.multiSelectDays);try{for(t.s();!(e=t.n()).done;){var a=e.value;a&&a.date?a.date.getMonth()!=this._dateAdapter.getMonth(this.activeDate)||a.date.getFullYear()!=this._dateAdapter.getYear(this.activeDate)?a=null:this._addTofilteredDays(a):a=null}}catch(i){t.e(i)}finally{t.f()}}}},{key:"filterFilteringDays",value:function(){if(this.filteredFilteringDays=[],this.filteringDays&&this.filteringDays.length){var e,t=n(this.filteringDays);try{for(t.s();!(e=t.n()).done;){var a=e.value;a&&a.date?a.date.getMonth()!=this._dateAdapter.getMonth(this.activeDate)?a=null:this._addTofilteredDays(a,this.filteredFilteringDays):a=null}}catch(i){t.e(i)}finally{t.f()}}else this.filteredFilteringDays=null}}]),a}(h.j)).\u0275fac=function(e){return new(e||V)(v["\u0275\u0275directiveInject"](v.ChangeDetectorRef),v["\u0275\u0275directiveInject"](k.e,8),v["\u0275\u0275directiveInject"](k.c,8),v["\u0275\u0275directiveInject"](M.b,8))},V.\u0275cmp=v["\u0275\u0275defineComponent"]({type:V,selectors:[["mg-month-view"]],inputs:{multiSelectDays:"multiSelectDays",filteringDays:"filteringDays"},outputs:{onLastRowClick:"onLastRowClick"},exportAs:["matMonthView"],features:[v["\u0275\u0275InheritDefinitionFeature"],v["\u0275\u0275NgOnChangesFeature"]],decls:7,vars:9,consts:[[1,"mat-calendar-table"],[1,"mat-calendar-table-header"],[4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mg-calendar-body","",3,"multiSelectDays","filteringDays","label","rows","todayValue","labelMinRequiredCells","pastMonth","activeCell","onLastRowClick","selectedValueChange"]],template:function(e,t){1&e&&(v["\u0275\u0275elementStart"](0,"table",0),v["\u0275\u0275elementStart"](1,"thead",1),v["\u0275\u0275elementStart"](2,"tr"),v["\u0275\u0275template"](3,S,2,2,"th",2),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](4,"tr"),v["\u0275\u0275element"](5,"th",3),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementStart"](6,"tbody",4),v["\u0275\u0275listener"]("onLastRowClick",(function(e){return t._onLastRowClick(e)}))("selectedValueChange",(function(e){return t._dateSelected(e)})),v["\u0275\u0275elementEnd"](),v["\u0275\u0275elementEnd"]()),2&e&&(v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("ngForOf",t._weekdays),v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("multiSelectDays",t.filteredDays)("filteringDays",t.filteredFilteringDays)("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("labelMinRequiredCells",3)("pastMonth",t.isActiveMonthInThePast())("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[d.n,_],styles:[""]}),V),I=((E=u((function e(){s(this,e)}))).\u0275fac=function(e){return new(e||E)},E.\u0275mod=v["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=v["\u0275\u0275defineInjector"]({imports:[[g.b,d.c,h.g,f.b]]}),E);v["\u0275\u0275setComponentScope"](l.a,[h.a,d.m,O,d.q,d.r,P,h.l,h.k,f.a],[])},SThW:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var a=n("8Y7J"),i=n("Wgwc"),r=n("XNiG"),c=n("DO6O"),l=n("+erW"),o=n("4avL"),d=n("Nhcz"),v=n("SVse"),f=n("iInd"),h=n("Jkk8");function g(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",6),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",i.getWeekdayDisplay(n.month,n.day,n.year)," ")}}function m(e,t){if(1&e&&(a["\u0275\u0275element"](0,"h1",17),a["\u0275\u0275pipe"](1,"mgSafeHtml")),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275property"]("innerHTML",a["\u0275\u0275pipeBind1"](1,1,n.title),a["\u0275\u0275sanitizeHtml"])}}function p(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"p"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.description)}}function y(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"p",18),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n," ")}}function w(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",13),a["\u0275\u0275listener"]("tap",(function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"](3).clickCalendarEventItem.emit(e)})),a["\u0275\u0275template"](1,m,2,3,"h1",14),a["\u0275\u0275template"](2,p,2,1,"p",15),a["\u0275\u0275template"](3,y,2,1,"p",16),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=a["\u0275\u0275nextContext"](3);a["\u0275\u0275styleProp"]("background-color",i.color),a["\u0275\u0275classProp"]("calendar-event-item-clickable",r.clickCalendarEventItem.observers.length>0),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.title),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.description),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.getEventDisplayTime(i.date))}}var D=function(){return["/events","schedule"]},b=function(e){return{start:e}};function C(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",9),a["\u0275\u0275elementStart"](1,"div",10),a["\u0275\u0275elementStart"](2,"span",11),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](4,w,4,7,"div",12),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"](2);a["\u0275\u0275classProp"]("week-view","week"==i.calendarView)("active-calendar-cell",i.isNow(n))("not-within-month-calendar-cell",!i.isWithinMonth(n)&&"week"!=i.calendarView),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction0"](11,D))("queryParams",a["\u0275\u0275pureFunction1"](12,b,n.year+"-"+n.month+"-"+n.day)),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n.day),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n.events)("ngForTrackBy",i._eventTrackBy)}}function _(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",7),a["\u0275\u0275template"](1,C,5,14,"div",8),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("gdColumns","repeat("+i._viewItems[0].length+", minmax(0, 1fr))"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",n)}}var k=["#ce4d4d","#4d57ce","#4dc4ce","#ce4d92","#8ece4d","#ceb54d"];function x(e,t){var n=t+i(e.date.start).day();return k[n%k.length]}function O(e,t){var n=e.title||e.description?"":"(no text)";return{color:e.color||x(e,t),date:e.date,description:e.description||n,key:e.key||"",title:e.title||""}}var M=function(){var e=function(){function e(t,n){s(this,e),this._cdr=t,this.calendarService=n,this._initHappened=!1,this._calendarView="month",this._calendarEvents=[],this._excludeWeekend=!1,this._activeDate=new Date,this.dateChangeSubject=new r.a,this._activeDateTitle="",this._viewItems=[[]],this.calendarViewChange=new a.EventEmitter,this.activeDateChange=new a.EventEmitter,this.clickCalendarEventItem=new a.EventEmitter,this._eventTrackBy=function(e,t){return t.key},this.calendarService.setUseCalendarSettings(!0)}return u(e,[{key:"calendarEvents",get:function(){return this._calendarEvents},set:function(e){this._calendarEvents=e||[],this._initHappened&&this._updateViewItems()}},{key:"calendarView",get:function(){return this._calendarView},set:function(e){this._calendarView=e,this._initHappened&&this._updateViewMode()}},{key:"excludeWeekend",get:function(){return this._excludeWeekend},set:function(e){this._excludeWeekend=e,this._initHappened&&this._updateViewItems()}},{key:"activeDate",get:function(){return this._activeDate},set:function(e){this._activeDate=e,this._initHappened&&(this.calendarService.setActiveDate(e),this._updateViewItems())}},{key:"ngOnInit",value:function(){this._initHappened=!0,this._updateViewItems()}},{key:"ngOnDestroy",value:function(){}},{key:"isNow",value:function(e){var t=new Date,n=new Date(this._activeDate);return n.setMonth(e.month-1),n.setDate(e.day),t.getFullYear()==n.getFullYear()&&t.getMonth()==n.getMonth()&&t.getDate()==n.getDate()}},{key:"isWithinMonth",value:function(e){return e.month-1==this._activeDate.getMonth()}},{key:"changeActiveDate",value:function(e){this._activeDate=e,this._updateViewItems(),this.activeDateChange.emit(this._activeDate),this._cdr.markForCheck()}},{key:"changeCalendarView",value:function(e){this._calendarView=e,this._updateViewItems(),this.calendarViewChange.emit(this._calendarView),this._cdr.markForCheck()}},{key:"getWeekdayDisplay",value:function(e,t,n){var a=new Date(this._activeDate);return a.setMonth(e-1),a.setDate(t),a.setFullYear(n),a.toLocaleDateString(void 0,{weekday:"short"})}},{key:"getEventDisplayTime",value:function(e){if(e.allDay)return"All Day";var t="h:mm a",n="";return n+=i(e.start).format(t),"end"in e&&e.end&&(n+=" - ",n+=i(e.end).format(t)),n}},{key:"activeDateNavToday",value:function(){var e=new Date;this.changeActiveDate(e),this.dateChangeSubject.next(e)}},{key:"_updateViewMode",value:function(){this._updateViewItems()}},{key:"_updateViewItems",value:function(){var e=this;(new Date).getTime();var t,n=i(this._activeDate);switch(this._calendarView){case"month":t=i(n).startOf("month").startOf("week");break;case"week":t=i(n).startOf("week");break;case"day":t=i(n)}this._viewItems=[];var a,r,c,l,o,s=function(t){return e._calendarEvents.filter((function(e){var n=i(e.date.start);return n.year()==t.year()&&n.month()==t.month()&&n.date()==t.date()})).sort((function(e,t){var n=e.date.start.getTime(),a=t.date.start.getTime();return n>a?1:n<a?-1:0})).map(O)},d=0,u=7;if("day"===this._calendarView?u=(d=n.day())+1:this._excludeWeekend&&(d=1,u=6),"month"===this._calendarView||"week"===this._calendarView)for(var v="week"===this._calendarView?1:(a=n.year(),r=n.month()+1,c=new Date(a,r-1,1),l=new Date(a,r,0),o=c.getDay()+l.getDate(),Math.ceil(o/7)),f=0;v>f;++f){for(var h=[],g=!0,m=d;u>m;++m){var p=i(t).add(m+7*f,"d");h.push({day:p.date(),month:p.month()+1,events:s(p),year:p.year()}),g&&n.month()==p.month()&&(g=!1)}this._excludeWeekend&&g||this._viewItems.push(h)}else"day"===this._calendarView&&this._viewItems.push([{day:n.date(),month:n.month()+1,events:s(n),year:n.year()}]);0===this._viewItems.length&&this._viewItems.push([])}},{key:"onActiveDateChange",value:function(e){this.activeDate=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ChangeDetectorRef),a["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-schedule"]],inputs:{calendarEvents:"calendarEvents",calendarView:"calendarView",excludeWeekend:"excludeWeekend",activeDate:"activeDate"},outputs:{calendarViewChange:"calendarViewChange",activeDateChange:"activeDateChange",clickCalendarEventItem:"clickCalendarEventItem"},decls:7,vars:6,consts:[[1,"date-select-row"],[3,"calendarView","date-change-observable","excludeWeekend","activeDateChange"],["type","outline",1,"today-button",3,"click"],[3,"gdColumns"],["class","weekday-text",4,"ngFor","ngForOf"],["class","calendar-row",3,"gdColumns",4,"ngFor","ngForOf"],[1,"weekday-text"],[1,"calendar-row",3,"gdColumns"],["class","calendar-cell",3,"week-view","active-calendar-cell","not-within-month-calendar-cell",4,"ngFor","ngForOf"],[1,"calendar-cell"],[1,"date-number-wrap"],[1,"date-number",3,"routerLink","queryParams"],["class","calendar-event-item",3,"calendar-event-item-clickable","backgroundColor","tap",4,"ngFor","ngForOf","ngForTrackBy"],[1,"calendar-event-item",3,"tap"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],["class","event-time-text",4,"ngIf"],[3,"innerHTML"],[1,"event-time-text"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"mg-calendar-active-date-range",1),a["\u0275\u0275listener"]("activeDateChange",(function(e){return t.onActiveDateChange(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"mg-button",2),a["\u0275\u0275listener"]("click",(function(){return t.activeDateNavToday()})),a["\u0275\u0275text"](3," Go To Today "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",3),a["\u0275\u0275template"](5,g,2,1,"div",4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](6,_,2,2,"div",5)),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("calendarView",t.calendarView)("date-change-observable",t.dateChangeSubject.asObservable())("excludeWeekend",t.excludeWeekend),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("gdColumns","repeat("+t._viewItems[0].length+", 1fr)"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t._viewItems[0]),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t._viewItems))},directives:[l.a,o.a,d.d,v.n,f.h,v.o],pipes:[h.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:flex;flex-direction:column}.calendar-row[_ngcontent-%COMP%]{flex:1}.date-select-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;margin-bottom:30px}.date-select-row[_ngcontent-%COMP%]   .today-button[_ngcontent-%COMP%]{font-size:10px;border-radius:10px;--mg-button-border-radius:2em;--mg-button-padding-horz:1.5em;--mg-button-padding-vert:0.5em;padding-right:8px}.date-select-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-top:12px}.calendar-event-item[_ngcontent-%COMP%]{border-radius:10px;border-top-left-radius:0;padding:4px;margin:8px 4px}.calendar-event-item.calendar-event-item-clickable[_ngcontent-%COMP%]{cursor:pointer}@media (hover:hover){.calendar-event-item.calendar-event-item-clickable[_ngcontent-%COMP%]{transition:transform .1s ease}.calendar-event-item.calendar-event-item-clickable[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.calendar-event-item.calendar-event-item-clickable[_ngcontent-%COMP%]:active{transform:scale(1)}}.calendar-event-item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .calendar-event-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-overflow:ellipsis;overflow:hidden;color:#fff}.calendar-event-item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:10px;font-weight:700}.calendar-event-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:8px}.calendar-cell.not-within-month-calendar-cell[_ngcontent-%COMP%]   .calendar-event-item[_ngcontent-%COMP%]{opacity:.5}.weekday-text[_ngcontent-%COMP%]{color:#737373;font-size:13px}.date-number-wrap[_ngcontent-%COMP%], .weekday-text[_ngcontent-%COMP%]{text-align:center;font-weight:700}.date-number-wrap[_ngcontent-%COMP%]{color:#5ab3db;font-size:20px}.date-number-wrap[_ngcontent-%COMP%]   .date-number[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;border-radius:50%;padding:4px;cursor:pointer}.event-time-text[_ngcontent-%COMP%]{opacity:.75}.calendar-row[_ngcontent-%COMP%] > .calendar-cell[_ngcontent-%COMP%]{background-color:#fff;min-height:60px;border-right:1px solid #e2e2e2;border-bottom:1px solid #e2e2e2}.calendar-row[_ngcontent-%COMP%] > .calendar-cell.not-within-month-calendar-cell[_ngcontent-%COMP%]   .date-number[_ngcontent-%COMP%]{color:#e2e2e2}.calendar-row[_ngcontent-%COMP%] > .calendar-cell.week-view[_ngcontent-%COMP%]{min-height:400px}.calendar-row[_ngcontent-%COMP%] > .calendar-cell.active-calendar-cell[_ngcontent-%COMP%]{border:1.5px solid #1dce4d;z-index:1}.calendar-row[_ngcontent-%COMP%] > .calendar-cell.active-calendar-cell[_ngcontent-%COMP%]   .date-number[_ngcontent-%COMP%]{color:#1dce4d}.calendar-row[_ngcontent-%COMP%]:last-child > .calendar-cell[_ngcontent-%COMP%]{border-bottom:none}.active-date-title-wrap[_ngcontent-%COMP%]{place-content:center space-between;padding:10px 25px}.active-date-title-wrap[_ngcontent-%COMP%]   .active-date-nav[_ngcontent-%COMP%]{--mg-icon-size:16px;-webkit-user-select:none;user-select:none;color:#5ab3db;cursor:pointer;display:flex;justify-content:center;align-items:center}.active-date-title-wrap[_ngcontent-%COMP%]   .active-date-title[_ngcontent-%COMP%]{min-width:160px;text-align:center;text-transform:uppercase;font-size:16px;font-weight:700}.active-date-title-wrap[_ngcontent-%COMP%]   .today-date-nav[_ngcontent-%COMP%]{font-size:14px;font-weight:700;font-family:Muli,sans-serif;color:#036;border:2px solid #036;border-radius:2em;padding:5px 20px;cursor:pointer}.active-date-title-wrap[_ngcontent-%COMP%]   .today-date-nav[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.04)}.today-date-link[_ngcontent-%COMP%]{font-weight:700}.today-date-link[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}mg-calendar-quick-filter[_ngcontent-%COMP%]{font-size:15px}'],changeDetection:0}),e}()},hFlR:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n("SThW");var a,i,r=n("SVse"),c=n("8Y7J"),l=n("u9T3"),o=n("iInd"),d=n("CO6v"),v=(n("+erW"),n("ls3q")),f=((a=u((function e(){s(this,e)}))).\u0275fac=function(e){return new(e||a)},a.\u0275mod=c["\u0275\u0275defineNgModule"]({type:a}),a.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[v.a,r.c,l.a]]}),a),h=n("Ogcz"),g=((i=u((function e(){s(this,e)}))).\u0275fac=function(e){return new(e||i)},i.\u0275mod=c["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[v.a,f,d.a,h.b,r.c,l.a,o.k]]}),i)},zxHu:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var r=a("8Y7J"),l=a("UhP/"),o=a("TN/R"),d=a("M2HC"),v=a("VE1M"),f=a("WH00"),h=a("9gLZ");function g(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-month-view",8),r["\u0275\u0275listener"]("activeDateChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().activeDate=e}))("selectedChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onSelectedChange(e)}))("_userSelection",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]()._userSelected()}))("onLastRowClick",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().toggleExpansion()})),r["\u0275\u0275elementEnd"]()}if(2&e){var a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("multiSelectDays",a.selectedDays)("activeDate",a.activeDate)("selected",a.selected)("dateFilter",a.dateFilter)("maxDate",a.maxDate)("minDate",a.minDate)("filteringDays",a.filteringDays)}}function m(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-year-view",9),r["\u0275\u0275listener"]("selectedChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]()._goToDateInView(e,"month")})),r["\u0275\u0275elementEnd"]()}if(2&e){var a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("activeDate",a.activeDate)("selected",a.selected)("dateFilter",a.dateFilter)("maxDate",a.maxDate)("minDate",a.minDate)}}function p(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-multi-year-view",9),r["\u0275\u0275listener"]("selectedChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]()._goToDateInView(e,"year")})),r["\u0275\u0275elementEnd"]()}if(2&e){var a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("activeDate",a.activeDate)("selected",a.selected)("dateFilter",a.dateFilter)("maxDate",a.maxDate)("minDate",a.minDate)}}var y=function(){var e=function(e){i(a,e);var t=c(a);function a(e,n,i,c,l,o,u,v,f){var h;return s(this,a),(h=t.call(this,n,o,u,v)).contentEvents=c,h.eventContent=l,h.weekViewHideAll=!0,h.subscribeNewDays=[],h.filteringDays=[],h._dateFilter=d.a.ALL,h._weekView=!0,h.weekViewChange=new r.EventEmitter,h.multiSelectDays=[],h.onDateClick=new r.EventEmitter,h._contentEventGoingSub=h.contentEvents.onContentEventGoing.subscribe((function(e){h._onContentEvent(e,null,null)})),h._contentEventCreateSub=h.contentEvents.onPostCreateSuccess.subscribe((function(e){h._onContentEvent(null,e,null)})),h._contentEventCheckInSub=h.contentEvents.onContentEventCheckIn.subscribe((function(e){h._onContentEvent(e,null,null)})),h._contentEventCheckInSuccessSub=h.contentEvents.onContentEventCodeCheckInSuccess.subscribe((function(e){return h._onContentEvent(null,null,e)})),h._unFilterEventSub=h.eventContent.onUnFilterEvents.subscribe((function(e){h.filteringDays=[]})),h._todayMorning=new Date,h._todayMorning.setHours(0),h._todayMorning.setMinutes(0),h._todayMorning.setSeconds(0),h._todayMorning.setMilliseconds(0),h}return u(a,[{key:"weekView",get:function(){return this._weekView},set:function(e){this._weekView=e,this.weekViewChange.emit(e),this._animateWeekViewHiding()}},{key:"filter",get:function(){return this._dateFilter},set:function(e){this._dateFilter=e}},{key:"activeViewDate",get:function(){return this.activeDate},set:function(e){this.activeDate=e||this.activeDate}},{key:"ngOnDestroy",value:function(){this._contentEventGoingSub.unsubscribe(),this._contentEventCreateSub.unsubscribe(),this._unFilterEventSub&&this._unFilterEventSub.unsubscribe()}},{key:"selectedDays",get:function(){return this.multiSelectDays.concat(this.subscribeNewDays)}},{key:"_onContentEvent",value:function(e,t,n){var a=null,i=Date.now();if(e&&e.date?(i=e.date.getTime(),a={date:e.date,going:e.going,past:Date.now()>i,checkedIn:!!e.checkedIn,endDate:e.endDate||null,color:e.color||Object(v.eventCategoryColor)(v.EventCategoryEnum.OTHER)}):t&&"event"===t.typeString&&t.date?(i=t.date.getTime(),a={date:t.date,going:!1,past:Date.now()>i,endDate:t.endDate||null,color:t.color||Object(v.eventCategoryColor)(v.EventCategoryEnum.OTHER)}):n&&n.date&&(i=n.date.getTime(),a={date:n.date,going:!0,checkedIn:!0,past:Date.now()>i,endDate:n.endDate||null,color:e.color||Object(v.eventCategoryColor)(v.EventCategoryEnum.OTHER)}),a){for(var r=0;r<this.subscribeNewDays.length;++r)if(this.subscribeNewDays[r].date.getTime()==i)return void(this.subscribeNewDays[r]=a);if(this.subscribeNewDays.push(a),e&&!e.going)for(var c=0;c<this.multiSelectDays.length;++c){var l=this.multiSelectDays[c];if(l.date.getTime()==i&&l.going)return void(this.multiSelectDays[c].going=!1)}}}},{key:"onSelectedChange",value:function(e){var t=e.valueOf();if(!(this._dateFilter==d.a.UPCOMING&&t<this._todayMorning.getTime()||this._dateFilter==d.a.PAST&&t>this._todayMorning.getTime())){var a=e.toDate();this.onDateClick.emit(a);var i,r={date:a,going:!1},c={going:!1,date:a,color:Object(v.eventCategoryColor)(v.EventCategoryEnum.OTHER)},l=n(this.multiSelectDays);try{for(l.s();!(i=l.n()).done;){if(i.value.date.getTime()==t){r.going=!0,c.going=!0;break}}}catch(o){l.e(o)}finally{l.f()}this.filteringDays=[c],this.eventContent.emitFilterEvent(r)}}},{key:"getCalendarClasses",value:function(){var e="all";switch(this.filter){case d.a.GOING:e="going";break;case d.a.PAST:e="past";break;case d.a.UPCOMING:e="upcoming"}return e}},{key:"_animateWeekViewHiding",value:function(){var e=this;this.weekView?setTimeout((function(){e.weekViewHideAll=!0}),300):this.weekViewHideAll=!1}},{key:"toggleExpansion",value:function(){this.weekView=!this.weekView,this._animateWeekViewHiding()}}]),a}(o.a);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](o.f),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](f.a),r["\u0275\u0275directiveInject"](d.b),r["\u0275\u0275directiveInject"](l.c,8),r["\u0275\u0275directiveInject"](l.e,8),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](h.b,8))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar"]],inputs:{weekView:"weekView",multiSelectDays:"multiSelectDays",filter:"filter",activeViewDate:"activeViewDate"},outputs:{weekViewChange:"weekViewChange",onDateClick:"onDateClick"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:13,consts:[[1,"mat-calendar",3,"ngClass"],[3,"currentView"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"multiSelectDays","activeDate","selected","dateFilter","maxDate","minDate","filteringDays","activeDateChange","selectedChange","_userSelection","onLastRowClick",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","selectedChange",4,"ngSwitchCase"],["matRipple","",1,"calendar-collapse-toggle",3,"click"],[1,"calendar-collapse-toggle-bg"],["mat-icon-button","",1,"mat-calendar-previous-button","toggle",3,"disableRipple"],[3,"multiSelectDays","activeDate","selected","dateFilter","maxDate","minDate","filteringDays","activeDateChange","selectedChange","_userSelection","onLastRowClick"],[3,"activeDate","selected","dateFilter","maxDate","minDate","selectedChange"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"mat-calendar"),r["\u0275\u0275elementStart"](1,"div",0),r["\u0275\u0275element"](2,"mg-calendar-header",1),r["\u0275\u0275elementStart"](3,"div",2),r["\u0275\u0275template"](4,g,1,7,"mg-month-view",3),r["\u0275\u0275template"](5,m,1,5,"mat-year-view",4),r["\u0275\u0275template"](6,p,1,5,"mat-multi-year-view",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",5),r["\u0275\u0275listener"]("click",(function(){return t.toggleExpansion()})),r["\u0275\u0275element"](8,"div",6),r["\u0275\u0275element"](9,"button",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("display","none"),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("weekView",t.weekView)("weekViewHideAll",t.weekViewHideAll),r["\u0275\u0275property"]("ngClass",t.getCalendarClasses()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("currentView",t.currentView),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitch",t.currentView),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","month"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","year"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","multi-year"),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disableRipple",!0))},styles:[""]}),e}()}}])}();
//# sourceMappingURL=default~minga-app-src-app-groups-groups-routing-module~minga-app-src-app-routes-home-HomeRoutes-modu~900e290d-es5.js.map