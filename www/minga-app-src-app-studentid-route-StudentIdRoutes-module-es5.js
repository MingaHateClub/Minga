!function(){function e(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),s=new E(r||[]);return i(o,"_invoke",{value:S(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=d;var m={};function p(){}function g(){}function h(){}var f={};l(f,a,(function(){return this}));var v=Object.getPrototypeOf,C=v&&v(v(w([])));C&&C!==t&&n.call(C,a)&&(f=C);var x=h.prototype=p.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;i(this,"_invoke",{value:function(i,a){function o(){return new t((function(r,o){!function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}})}function S(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return M()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var r=u(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function w(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:M}}function M(){return{value:void 0,done:!0}}return g.prototype=h,i(x,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:g,configurable:!0}),g.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new y(d(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(x),l(x,s,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=w,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,p(i.key),i)}}function m(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{IPaV:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i,r=n("mrSG"),a=n("8Y7J"),o=n("QPZY"),s=n("mI3D"),l=n("ypKM"),u=n("Tcc+"),p=((i=function(){function e(t,n){d(this,e),this.errorReporter=t,this.analytics=n}return m(e,[{key:"sendErrorReport",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,void 0,void 0,c().mark((function i(){var r,a;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=new s.ErrorReportRequest,a=new s.ErrorReportResponse,console.log("GRPCErrorReportRequest: ",r),console.log("GRPCErrorReportResponse: ",a),this.analytics.sendException("[".concat(e,"]: ").concat(t),n),r.setErrorPriority(n),r.setErrorMessage(t),r.setErrorContext(e),i.next=9,this.errorReporter.sendErrorReport(r).catch((function(e){console.error("[ErrorReporter] sendErrorReport error",e);var t=new s.ErrorReportResponse;return t.setStatus(o.StatusCode.ERROR),t}));case 9:a=i.sent,console.log("Error Response Status:",a.getStatus()),console.log("Error Response error_handler_override:",a.getErrorHandlerOverride());case 12:case"end":return i.stop()}}),i,this)})))}}]),e}()).\u0275fac=function(e){return new(e||i)(a["\u0275\u0275inject"](l.ErrorReporter),a["\u0275\u0275inject"](u.a))},i.\u0275prov=a["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},dcfX:function(i,r,s){"use strict";s.r(r),s.d(r,"StudentIdRoutesModule",(function(){return $a}));var l,u=s("8Y7J"),p=s("iInd"),g=s("mrSG"),h=s("vJwY"),f=s("Cnb3"),v=s("2Vo4"),C=s("jtHE"),x=s("1G5W"),b=s("Kj3r"),y=s("lJxs"),S=s("L75u"),_=s("OgRi"),I=s("jNxq"),O=((l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(n,e);var t=o(n);function n(e,i){var r;return d(this,n),(r=t.call(this,i)).studentIdService=e,r.limit=20,r.offset=0,r.threshold=5,r.streamName="studentIdManagerFeed",r}return m(n,[{key:"ngOnDestroy",value:function(){}},{key:"_fetch",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.reachedEnd){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.studentIdService.getMingaStudentIds(this.limit,this.offset,this.filter);case 4:t=e.sent,this.addNewItems(t);case 6:case"end":return e.stop()}}),e,this)})))}}]),n}(S.a)).\u0275fac=function(e){return new(e||l)(u["\u0275\u0275inject"](_.a),u["\u0275\u0275inject"](I.a))},l.\u0275prov=u["\u0275\u0275defineInjectable"]({token:l,factory:l.\u0275fac}),l),E=s("lkjj"),w=s("GFah"),M=s("vYPr"),P=s("UWMR"),k=s("Vwx4"),T=s("QWb5"),L=s("3qIc"),A=s("VDRc"),N=s("SVse"),D=s("Uork"),F=s("OeN6"),R=s("05dM"),j=s("sj4O"),U=s("1nQu"),B=s("4YA2"),G=s("Q2Ze"),V=s("i1AJ"),H=s("ZTz/"),z=s("s7LF"),$=s("UhP/"),q=s("LvDl"),W=s("LQlJ"),K=s("IeKC"),Y=s("mI3D"),Z=function(e){return e.CHANGE_PHOTO="Change Your Photo",e.NO_PHOTO="No Photo",e.GRADE="Grade",e.ACTIVE="Active",e.INACTIVE="Inactive",e.TEMPORARY_PHOTO="Temp Photo",e.PRINT_ID="Print ID",e}({}),J=s("/q54"),Q=s("/YXT"),X=s("IPaV"),ee=s("IheW"),te=s("Fudl"),ne=s("e6WT");function ie(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function re(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function ae(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function oe(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function se(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",22),u["\u0275\u0275template"](1,oe,1,0,"ng-container",17),u["\u0275\u0275elementEnd"]()),2&e){u["\u0275\u0275nextContext"](2);var n=u["\u0275\u0275reference"](10);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n)}}function le(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function ce(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function de(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function ue(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function me(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",15),u["\u0275\u0275elementStart"](2,"div",16),u["\u0275\u0275template"](3,ie,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"div",18),u["\u0275\u0275template"](5,re,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"div",18),u["\u0275\u0275template"](7,ae,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](8,se,2,1,"div",19),u["\u0275\u0275elementStart"](9,"div",20),u["\u0275\u0275template"](10,le,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",20),u["\u0275\u0275template"](12,ce,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"div",21),u["\u0275\u0275template"](14,de,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"div",16),u["\u0275\u0275template"](16,ue,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](),i=u["\u0275\u0275reference"](4),r=u["\u0275\u0275reference"](6),a=u["\u0275\u0275reference"](8),o=u["\u0275\u0275reference"](14),s=u["\u0275\u0275reference"](12),l=u["\u0275\u0275reference"](16),c=u["\u0275\u0275reference"](28);u["\u0275\u0275advance"](1),u["\u0275\u0275classProp"]("input-disabled",n.disable),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",i),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",r),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",a),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.showIdNum),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",o),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",s),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",l),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",c)}}function pe(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function ge(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function he(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function fe(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function ve(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275template"](1,fe,1,0,"ng-container",17),u["\u0275\u0275elementEnd"]()),2&e){u["\u0275\u0275nextContext"](2);var n=u["\u0275\u0275reference"](10);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Ce(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function xe(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function be(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function ye(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Se(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",23),u["\u0275\u0275elementStart"](1,"div",24),u["\u0275\u0275template"](2,pe,1,0,"ng-container",17),u["\u0275\u0275elementStart"](3,"div",25),u["\u0275\u0275template"](4,ge,1,0,"ng-container",17),u["\u0275\u0275template"](5,he,1,0,"ng-container",17),u["\u0275\u0275template"](6,ve,2,1,"div",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",27),u["\u0275\u0275template"](8,Ce,1,0,"ng-container",17),u["\u0275\u0275template"](9,xe,1,0,"ng-container",17),u["\u0275\u0275template"](10,be,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",28),u["\u0275\u0275template"](12,ye,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](),i=u["\u0275\u0275reference"](4),r=u["\u0275\u0275reference"](6),a=u["\u0275\u0275reference"](8),o=u["\u0275\u0275reference"](12),s=u["\u0275\u0275reference"](14),l=u["\u0275\u0275reference"](28),c=u["\u0275\u0275reference"](16);u["\u0275\u0275classProp"]("input-disabled",n.disable),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",i),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",r),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",a),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.showIdNum),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",o),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",s),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",l),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",c)}}function _e(e,t){1&e&&u["\u0275\u0275element"](0,"div",34)}function Ie(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",35),u["\u0275\u0275element"](1,"img",36),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("src",n.studentId.image,u["\u0275\u0275sanitizeUrl"])}}function Oe(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",37),u["\u0275\u0275elementStart"](1,"mg-icon",38),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).downloadIdImage()})),u["\u0275\u0275text"](2,"download-o"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}}function Ee(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",29),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().changeStudentIdImage()})),u["\u0275\u0275template"](1,_e,1,0,"div",30),u["\u0275\u0275template"](2,Ie,2,1,"div",31),u["\u0275\u0275elementStart"](3,"div",32),u["\u0275\u0275elementStart"](4,"span"),u["\u0275\u0275text"](5),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](6,Oe,3,0,"div",33)}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!i.studentId.image),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.studentId.image),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](i.MESSAGES.CHANGE_PHOTO),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.canDownloadImage&&i.studentId.image)}}function we(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-form-field",39),u["\u0275\u0275elementStart"](1,"input",40),u["\u0275\u0275listener"]("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().firstName=e}))("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onFirstNameChange(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("readonly",i.disable)("required",!0)("ngModel",i.firstName)}}function Me(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-form-field",39),u["\u0275\u0275elementStart"](1,"input",41),u["\u0275\u0275listener"]("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().lastName=e}))("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onLastNameChange(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("readonly",i.disable)("required",!0)("ngModel",i.lastName)}}function Pe(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-form-field",42),u["\u0275\u0275elementStart"](1,"input",43,44),u["\u0275\u0275listener"]("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().studentIdNumber=e}))("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onStudentIdChange(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("readonly",i.disable)("ngModel",i.studentIdNumber)}}function ke(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",45),u["\u0275\u0275element"](1,"span",46),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275styleProp"]("background-image","url("+n.studentId.badgeIconUrl+")")}}function Te(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.GRADE," ")}}function Le(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span",47),u["\u0275\u0275template"](1,Te,2,1,"span",26),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275classProp"]("not-avail",!n.studentId.grade),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.isOnMobile),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.studentId.grade||"N/A"," ")}}function Ae(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Ne(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function De(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Fe(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Re(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function je(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",49),u["\u0275\u0275template"](2,Ae,1,0,"ng-container",17),u["\u0275\u0275template"](3,Ne,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"div",49),u["\u0275\u0275template"](5,De,1,0,"ng-container",17),u["\u0275\u0275template"](6,Fe,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",49),u["\u0275\u0275template"](8,Re,1,0,"ng-container",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){u["\u0275\u0275nextContext"](2);var n=u["\u0275\u0275reference"](18),i=u["\u0275\u0275reference"](20),r=u["\u0275\u0275reference"](24),a=u["\u0275\u0275reference"](26),o=u["\u0275\u0275reference"](22);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",n),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",i),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",r),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",a),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",o)}}function Ue(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Be(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Ge(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Ve(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function He(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function ze(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,Ue,1,0,"ng-container",17),u["\u0275\u0275template"](2,Be,1,0,"ng-container",17),u["\u0275\u0275template"](3,Ge,1,0,"ng-container",17),u["\u0275\u0275template"](4,Ve,1,0,"ng-container",17),u["\u0275\u0275template"](5,He,1,0,"ng-container",17),u["\u0275\u0275elementContainerEnd"]()),2&e){u["\u0275\u0275nextContext"](2);var n=u["\u0275\u0275reference"](18),i=u["\u0275\u0275reference"](20),r=u["\u0275\u0275reference"](22),a=u["\u0275\u0275reference"](24),o=u["\u0275\u0275reference"](26);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",i),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",r),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",a),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",o)}}function $e(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",48),u["\u0275\u0275template"](1,je,9,5,"ng-container",26),u["\u0275\u0275template"](2,ze,6,5,"ng-container",26),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.isOnMobile),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!n.isOnMobile)}}function qe(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",50),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().setActive()})),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275classProp"]("disabled",!i.studentId.active),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",i.MESSAGES.ACTIVE," ")}}function We(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",51),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().toggleTemp()})),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275classProp"]("disabled",!i.studentId.tempPhoto),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",i.MESSAGES.TEMPORARY_PHOTO," ")}}function Ke(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",52),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().togglePrintId()})),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275classProp"]("disabled",!i.studentId.printId),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",i.MESSAGES.PRINT_ID," ")}}function Ye(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",53),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().setInactive()})),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275classProp"]("disabled",i.studentId.active),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",i.MESSAGES.INACTIVE," ")}}function Ze(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",54),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275classProp"]("disabled",!n.noPhoto),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.NO_PHOTO," ")}}function Je(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",55),u["\u0275\u0275elementStart"](1,"div",56),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().launchStudentIdView()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}}var Qe,Xe=((Qe=function(){function e(t,n,i,r,a,o,s,l,c,m){var p=this;d(this,e),this.media=t,this.studentIdService=n,this.snackBar=i,this.idUploaderDialog=r,this.studentIdImageService=a,this.errorReporting=o,this._cdr=s,this.router=l,this.permissions=c,this.httpService=m,this.firstName="",this.lastName="",this.studentIdNumber="",this._firstNameText$=new v.a(""),this._lastNameText$=new v.a(""),this._studentIdNumberText$=new v.a(""),this._destroyed$=new C.a(1),this.mqAlias="",this.isOnMobile=!0,this.mobileBreakpoints=W.a,this.disable=!1,this.showIdNum=!0,this.canDownloadImage=!1,this.itemChange=new u.EventEmitter,this.pictureChange=new u.EventEmitter,this.MESSAGES=Z,this.printPermission=!1,t.asObservable().pipe(Object(x.a)(this._destroyed$)).subscribe((function(e){p.isOnMobile=!!p.mobileBreakpoints.includes(e[0].mqAlias),p._cdr.markForCheck()})),this._firstNameText$.pipe(Object(x.a)(this._destroyed$),Object(b.a)(500)).subscribe((function(e){p._studentId&&p._orginalStudentId&&e&&(p._studentId.firstName=e,p.emitItemChange())})),this._lastNameText$.pipe(Object(x.a)(this._destroyed$),Object(b.a)(500)).subscribe((function(e){p._studentId&&p._orginalStudentId&&e&&(p._studentId.lastName=e,p.emitItemChange())})),this._studentIdNumberText$.pipe(Object(x.a)(this._destroyed$),Object(b.a)(500)).subscribe((function(e){p._studentId&&p._orginalStudentId&&p.studentIdNumber==e&&e!=p._orginalStudentId.studentIdNumber&&(p._studentId.studentIdNumber=e,p.emitItemChange())}))}return m(e,[{key:"studentIdResponse",set:function(e){this._orginalStudentId=void 0,this._handleStudentIdResponse(e)}},{key:"studentId",get:function(){return this._studentId}},{key:"noPhoto",get:function(){return!this.studentId||!this.studentId.tempPhoto&&!this.studentId.image&&!this.studentId.fileName}},{key:"ngOnInit",value:function(){this.printPermission=this.permissions.hasPermission(f.MingaPermission.ADMINISTER_STUDENT_ID)}},{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}},{key:"emitItemChange",value:function(){if(!this.disable&&this._studentId&&this._orginalStudentId){for(var e=Object.entries(this._studentId),i={personHash:this._studentId.personHash,image:this._studentId.image},r=["personHash","image"],a=[],o=0,s=e;o<s.length;o++){var l=n(s[o],2),c=l[0],d=l[1];q.isEqual(this._orginalStudentId[c],d)||r.includes(c)||(i[c]=d,a.push(c))}if(a.length){this.itemChange.emit(i);var u,m=t(a);try{for(m.s();!(u=m.n()).done;){var p=u.value;this._orginalStudentId[p]=this._studentId[p]}}catch(g){m.e(g)}finally{m.f()}}}}},{key:"setActive",value:function(){this.disable||this.studentId&&(this.studentId.active=!0,this.emitItemChange())}},{key:"setInactive",value:function(){this.disable||this.studentId&&(this.studentId.active=!1,this.emitItemChange())}},{key:"toggleTemp",value:function(){this.disable||this.studentId&&(this.studentId.fileName||this.studentId.image?(this.studentId.tempPhoto=!this.studentId.tempPhoto,this.emitItemChange()):this.snackBar.open("Cannot set as temporary photo without a photo"))}},{key:"togglePrintId",value:function(){this.disable||this.studentId&&(this.studentId.printId=!this.studentId.printId,this.emitItemChange())}},{key:"onFirstNameChange",value:function(e){this.disable||this._firstNameText$.next(e)}},{key:"onLastNameChange",value:function(e){this.disable||this._lastNameText$.next(e)}},{key:"onStudentIdChange",value:function(e){this.disable||this._studentIdNumberText$.next(e)}},{key:"changeStudentIdImage",value:function(){var e;return Object(g.a)(this,void 0,void 0,c().mark((function t(){var n,i=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.disable){t.next=2;break}return t.abrupt("return");case 2:if(this.disable=!0,n="",t.t0=null===(e=this._studentId)||void 0===e?void 0:e.fileName,!t.t0){t.next=9;break}return t.next=8,this.studentIdImageService.getFilePathToStudentIdImage(this.studentId.fileName,K.b.RAW);case 8:n=t.sent;case 9:this._studentId&&this.idUploaderDialog.open({data:{personHash:this._studentId.personHash,currentImage:n||this._studentId.image}}).afterClosed().subscribe((function(e){e&&(e.deleteImage&&i._studentId?(i.studentIdService.deleteStudentIdImage(i._studentId.personHash),i._studentId.fileName=void 0,i._studentId.image="",i._studentId.noPhoto=!0,i._studentId.tempPhoto=!1,i._cdr.markForCheck(),i.emitItemChange()):e.fileName&&i._studentId&&(i._studentId.fileName||(i._studentId.tempPhoto=!0),i._studentId.fileName=e.fileName,e.previewUrl&&(i._studentId.image=e.previewUrl),i._cdr.markForCheck(),i.emitItemChange()))})),this.disable=!1;case 11:case"end":return t.stop()}}),t,this)})))}},{key:"launchStudentIdView",value:function(){var e,t;(null===(e=this._studentId)||void 0===e?void 0:e.personHash)&&this.router.navigate(["",{outlets:{o:["student-id",null===(t=this._studentId)||void 0===t?void 0:t.personHash,!0]}}],{})}},{key:"_handleStudentIdResponse",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._studentId={personHash:e.personHash||"",image:"",studentIdNumber:e.studentIdNumber||"",grade:e.grade||"",name:e.name||"",firstName:e.firstName||"",lastName:e.lastName||"",fileName:e.fileName||"",active:!!e.active,tempPhoto:!!e.tempPhoto,printId:!!e.printId,roleType:e.roleType||"",badgeIconUrl:e.badgeIconUrl||""},this.firstName=this._studentId.firstName||"",this.lastName=this._studentId.lastName||"",this.studentIdNumber=this._studentId.studentIdNumber||"",this._studentId.image||!this._studentId.fileName){t.next=12;break}return t.prev=1,t.next=4,this.studentIdImageService.getFilePathToStudentIdImage(this._studentId.fileName,K.b.AVATAR);case 4:this._studentId.image=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),console.error("[StudentIdManagerCardComponent] error occurred while getting file path for student id image: ",t.t0),t.next=12,this.errorReporting.sendErrorReport("client student-id-manage-card.component","error occurred while getting file path for student id image",Y.errorPriority.WARN);case 12:this._orginalStudentId=q.cloneDeep(this._studentId),this._cdr.markForCheck();case 13:case"end":return t.stop()}}),t,this,[[1,7]])})))}},{key:"downloadIdImage",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.studentId.fileName){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.studentIdImageService.getFilePathToStudentIdImage(this.studentId.fileName,K.b.RAW);case 4:return t=e.sent,e.next=7,this.httpService.get(t,{responseType:"arraybuffer"}).subscribe((function(e){var t=n.studentId.fileName.indexOf(".");if(-1==t)return!1;var i=n.studentId.fileName.substr(t+1),r=new Blob([e],{type:"image/"+i});Object(h.a)(r,n.studentId.studentIdNumber+"."+i,"image/"+i)}));case 7:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Qe)(u["\u0275\u0275directiveInject"](J.g),u["\u0275\u0275directiveInject"](_.a),u["\u0275\u0275directiveInject"](P.b),u["\u0275\u0275directiveInject"](Q.b),u["\u0275\u0275directiveInject"](K.a),u["\u0275\u0275directiveInject"](X.a),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](p.g),u["\u0275\u0275directiveInject"](k.c),u["\u0275\u0275directiveInject"](ee.a))},Qe.\u0275cmp=u["\u0275\u0275defineComponent"]({type:Qe,selectors:[["mg-student-id-manage-card"]],inputs:{studentIdResponse:"studentIdResponse",disable:"disable",showIdNum:"showIdNum",canDownloadImage:"canDownloadImage"},outputs:{itemChange:"itemChange",pictureChange:"pictureChange"},decls:29,vars:2,consts:[[4,"ngIf","ngIfElse"],["mobileLayoutTpl",""],["imageTpl",""],["firstNameTpl",""],["lastNameTpl",""],["idNumberTpl",""],["roleTpl",""],["gradeTpl",""],["statusTpl",""],["statusActiveTpl",""],["statusTempPhotoTpl",""],["statusPrintIdTpl",""],["statusInactiveTpl",""],["statusNoPhotoTpl",""],["viewIdTpl",""],["fxLayout","row","fxLayoutGap","25px",1,"item-card"],["fxFlex","7"],[4,"ngTemplateOutlet"],["fxFlex","14"],["fxFlex","12",4,"ngIf"],["fxFlex","5"],["fxFlex","25"],["fxFlex","12"],["fxLayout","column","fxLayoutGap","15px",1,"item-card"],["fxLayout","row"],[1,"mobile-inputs-container"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-around center"],[1,"status-row"],["fxLayoutAlign","center center",1,"image-input-container",3,"click"],["class","image",4,"ngIf"],["class","image filled",4,"ngIf"],["fxLayoutAlign","center center",1,"change-image"],["class","download-image","fxLayoutAlign","center center",4,"ngIf"],[1,"image"],[1,"image","filled"],[3,"src"],["fxLayoutAlign","center center",1,"download-image"],[3,"click"],["mgFormField","","hideRequiredMarker","","mgNoHintMargin","true","appearance","outline"],["type","text","matInput","","name","firstName","minlength","1","maxlength","25",3,"readonly","required","ngModel","ngModelChange"],["type","text","matInput","","name","lastName","minlength","1","maxlength","25",3,"readonly","required","ngModel","ngModelChange"],["mgFormField","","hideOptionalMarker","","mgNoHintMargin","true","appearance","outline"],["matInput","","type","text","name","idNumber","maxlength","20",3,"readonly","ngModel","ngModelChange"],["idNumber","ngModel"],[1,"role-grade-container"],[1,"badge-img"],["fxLayout","column","fxLayoutAlign","center",1,"grade-text"],[1,"status-container"],[1,"status-item-row"],[1,"status-item","active",3,"click"],[1,"status-item","temp-photo",3,"click"],[1,"status-item","print-id",3,"click"],[1,"status-item","inactive",3,"click"],[1,"status-item","no-photo"],[1,"view-id-button-container"],[1,"view-id-button",3,"click"]],template:function(e,t){if(1&e&&(u["\u0275\u0275template"](0,me,17,10,"ng-container",0),u["\u0275\u0275template"](1,Se,13,10,"ng-template",null,1,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](3,Ee,7,4,"ng-template",null,2,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](5,we,2,3,"ng-template",null,3,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](7,Me,2,3,"ng-template",null,4,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](9,Pe,3,2,"ng-template",null,5,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](11,ke,2,2,"ng-template",null,6,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](13,Le,3,4,"ng-template",null,7,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](15,$e,3,2,"ng-template",null,8,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](17,qe,2,3,"ng-template",null,9,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](19,We,2,3,"ng-template",null,10,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](21,Ke,2,3,"ng-template",null,11,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](23,Ye,2,3,"ng-template",null,12,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](25,Ze,2,3,"ng-template",null,13,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](27,Je,2,0,"ng-template",null,14,u["\u0275\u0275templateRefExtractor"])),2&e){var n=u["\u0275\u0275reference"](2);u["\u0275\u0275property"]("ngIf",!t.isOnMobile)("ngIfElse",n)}},directives:[N.o,A.e,A.f,A.b,N.t,A.d,te.a,G.d,V.a,ne.b,z.d,z.o,z.n,z.B,z.t,z.w],styles:[".item-card[_ngcontent-%COMP%]{display:block;font-weight:700;background-color:#fff;padding:12px;margin-bottom:10px;align-items:center;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 6px rgba(0,0,0,.15);text-align:center;min-height:118px}.item-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}@media print,screen and (max-width:59.99875em){.item-card[_ngcontent-%COMP%]{width:100%;padding:18px 20px}}.mobile-inputs-container[_ngcontent-%COMP%]{flex-grow:1;margin-left:8px;width:100%;overflow:hidden}.mobile-inputs-container[_ngcontent-%COMP%]   .name-input-container[_ngcontent-%COMP%]{margin-bottom:2px}.status-row[_ngcontent-%COMP%]{border-top:2px solid #f4f4f4;text-align:center}.status-row[_ngcontent-%COMP%]   .status-title-text[_ngcontent-%COMP%]{color:#b2b2b2;font-weight:400;margin:8.5px auto 4px}.download-image[_ngcontent-%COMP%]{padding-top:5px}.download-image[_ngcontent-%COMP%]:hover{cursor:pointer}@media print,screen and (max-width:37.49875em){.download-image[_ngcontent-%COMP%]{display:none!important}}.image-input-container[_ngcontent-%COMP%]{display:inline-flex;position:relative}.image-input-container[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%]{width:60px;height:65px}@media print,screen and (max-width:59.99875em){.image-input-container[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%]{width:102px;height:90px}}.image-input-container[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%]:not(.filled){background-size:100%;background-repeat:no-repeat;background-image:url(/assets/student-id/placeholder-profile-pic.png);background-position:50%;border-radius:4px}@media print,screen and (max-width:59.99875em){.image-input-container[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%]:not(.filled){background-size:100%}}.image-input-container[_ngcontent-%COMP%] > .image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;image-orientation:from-image}.image-input-container[_ngcontent-%COMP%]   .change-image[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.35);opacity:0;cursor:pointer;transition:opacity .3s ease-in-out;font-size:12px;color:#fff;text-align:center;border-radius:4px}.image-input-container[_ngcontent-%COMP%]   .change-image[_ngcontent-%COMP%]:hover{opacity:1}mat-form-field[_ngcontent-%COMP%]{--mg-form-input-outline-color:#609fc9;--mg-form-field-height:40px}.grade-text[_ngcontent-%COMP%]{display:inline-flex}@media print,screen and (max-width:59.99875em){.grade-text[_ngcontent-%COMP%]{font-size:13px}}.grade-text.not-avail[_ngcontent-%COMP%]{color:#e2e2e2}.status-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:30% 30% 30%;justify-content:center;row-gap:10px;column-gap:10px}@media print,screen and (max-width:79.99875em){.status-container[_ngcontent-%COMP%]{grid-template-columns:45% 45%;max-width:232px;margin:auto;justify-content:center}}@media print,screen and (max-width:59.99875em){.status-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:232px;margin:18px auto 0;justify-content:center}.status-container[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{width:110px}.status-container[_ngcontent-%COMP%]   .status-item-row[_ngcontent-%COMP%] > .status-item[_ngcontent-%COMP%]:first-child{margin-right:10px}}.status-item[_ngcontent-%COMP%]{display:inline-flex;max-width:110px;min-width:80px;height:30px;font-size:.7647058824rem;color:#fff;justify-content:center;align-items:center;border-radius:8px;cursor:pointer}.status-item[_ngcontent-%COMP%], .status-item.disabled[_ngcontent-%COMP%]{background-color:#e2e2e2}.status-item.disabled[_ngcontent-%COMP%]:hover, .status-item[_ngcontent-%COMP%]:hover{background-color:#c9c9c9}.status-item.active[_ngcontent-%COMP%]:not(.disabled){background-color:#99baad}.status-item.active[_ngcontent-%COMP%]:not(.disabled):hover{background-color:#b7cfc5}.status-item.inactive[_ngcontent-%COMP%]:not(.disabled){background-color:#4d6bbf}.status-item.inactive[_ngcontent-%COMP%]:not(.disabled):hover{background-color:#738acc}.status-item.no-photo[_ngcontent-%COMP%]:not(.disabled){background-color:#755a9f}.status-item.no-photo[_ngcontent-%COMP%]:not(.disabled):hover{background-color:#9079b3}.status-item.temp-photo[_ngcontent-%COMP%]:not(.disabled){background-color:#609fc9}.status-item.temp-photo[_ngcontent-%COMP%]:not(.disabled):hover{background-color:#86b6d6}.status-item.print-id[_ngcontent-%COMP%]:not(.disabled){background-color:#6aa29e}.status-item.print-id[_ngcontent-%COMP%]:not(.disabled):hover{background-color:#89b6b2}.status-item.print-now[_ngcontent-%COMP%]:not(.disabled){background-color:initial;color:#036}.status-item.print-now[_ngcontent-%COMP%]:not(.disabled):hover{opacity:.7}.status-item.print-now[_ngcontent-%COMP%]:not(.disabled)   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:16px;margin-left:4px}.view-id-button[_ngcontent-%COMP%]{background-image:url(/assets/teacher-tools/student-id-icon.svg);background-repeat:no-repeat;background-size:contain;height:65px;width:60px;cursor:pointer}.view-id-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.student-id-icon-custom[_ngcontent-%COMP%], mg-file-input-upload[_ngcontent-%COMP%]{width:86px;height:76px;margin:auto;border-radius:5px;overflow:hidden}@media print,screen and (max-width:59.99875em){.student-id-icon-custom[_ngcontent-%COMP%], mg-file-input-upload[_ngcontent-%COMP%]{width:102px;height:90px}}.badge-img[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-position:center bottom;mask-position:center bottom;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.input-disabled[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{--mg-form-input-hover-color:#000}.input-disabled[_ngcontent-%COMP%]   .image-input-container[_ngcontent-%COMP%], .input-disabled[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),Qe),et=s("ura0"),tt=s("kCL4");function nt(e,t){1&e&&u["\u0275\u0275element"](0,"mg-spinner")}function it(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",25),u["\u0275\u0275elementStart"](2,"div",26),u["\u0275\u0275elementStart"](3,"mg-count-tile",27),u["\u0275\u0275listener"]("tileClicked",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClickFilterActive()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"mg-count-tile",27),u["\u0275\u0275listener"]("tileClicked",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClickFilterInactive()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"mg-count-tile",27),u["\u0275\u0275listener"]("tileClicked",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClickFilterNoPhoto()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mg-count-tile",27),u["\u0275\u0275listener"]("tileClicked",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClickFilterTempPhoto()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"mg-count-tile",27),u["\u0275\u0275listener"]("tileClicked",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClickFilterPrintId()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("count",i.activeCount)("label","Active")("isActive",i.selectedFilter==i.selectedFilterOptions.ACTIVE)("color","#99BAAD")("icon","checkin-6"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("count",i.inactiveCount)("label","Inactive")("isActive",i.selectedFilter==i.selectedFilterOptions.INACTIVE)("color","#4D6BBF")("icon","inactive-o"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("count",i.noPhotoCount)("label","No Photo")("isActive",i.selectedFilter==i.selectedFilterOptions.NO_PHOTO)("color","#755A9F")("icon","no-photo-o"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("count",i.tempPhotoCount)("label","Temp Photo")("isActive",i.selectedFilter==i.selectedFilterOptions.TEMP_PHOTO)("color","#609FC9")("icon","temp-photo-o"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("count",i.printIdCount)("label","Print ID")("isActive",i.selectedFilter==i.selectedFilterOptions.PRINT_ID)("color","#6AA29E")("icon","print-o")}}function rt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",31),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275property"]("value",n.roleType),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name," ")}}var at=function(){return{standalone:!0}};function ot(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-form-field",28),u["\u0275\u0275elementStart"](1,"mat-label"),u["\u0275\u0275text"](2,"Filter by Role"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"mat-select",29),u["\u0275\u0275listener"]("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().roleTypeFilter=e}))("selectionChange",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().updateFilter()})),u["\u0275\u0275elementStart"](4,"mat-option"),u["\u0275\u0275text"](5,"None"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](6,rt,2,2,"mat-option",30),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.ngIf,r=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("mgHideOptionalMarker",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModelOptions",u["\u0275\u0275pureFunction0"](4,at))("ngModel",r.roleTypeFilter),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",i)}}function st(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",31),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275property"]("value",n),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n," ")}}function lt(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-form-field",28),u["\u0275\u0275elementStart"](1,"mat-label"),u["\u0275\u0275text"](2,"Filter by Grade"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"mat-select",32),u["\u0275\u0275listener"]("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().gradeFilter=e}))("selectionChange",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().updateFilter()})),u["\u0275\u0275elementStart"](4,"mat-option"),u["\u0275\u0275text"](5,"None"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](6,st,2,2,"mat-option",30),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.ngIf,r=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("mgHideOptionalMarker",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModelOptions",u["\u0275\u0275pureFunction0"](4,at))("ngModel",r.gradeFilter),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",i)}}function ct(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function dt(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",33),u["\u0275\u0275text"](1," ID Number "),u["\u0275\u0275elementEnd"]())}function ut(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mg-student-id-manage-card",34),u["\u0275\u0275listener"]("itemChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onStudentIdChange(e)})),u["\u0275\u0275pipe"](1,"async"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("studentIdResponse",i)("disable",r.disableEdits)("showIdNum",!u["\u0275\u0275pipeBind1"](1,4,r.hideIdNum$)||r.canManage)("canDownloadImage",r.canManage)}}function mt(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",37),u["\u0275\u0275elementStart"](1,"mg-generic-button",38),u["\u0275\u0275listener"]("onClick",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).launchDownloadList()})),u["\u0275\u0275text"](2," Export List "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hasRipples",!1)("isRounded",!1))}function pt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",35),u["\u0275\u0275template"](1,mt,3,2,"div",36),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.canManage)}}var gt,ht,ft=function(e){return e[e.ACTIVE=1]="ACTIVE",e[e.INACTIVE=2]="INACTIVE",e[e.NO_PHOTO=3]="NO_PHOTO",e[e.TEMP_PHOTO=4]="TEMP_PHOTO",e[e.PRINT_ID=5]="PRINT_ID",e[e.NONE=6]="NONE",e}({}),vt=((gt=function(){function e(t,n,i,r,a,o,s,l,c,u){var m=this;d(this,e),this.studentIdService=t,this._cdr=n,this.rolesService=i,this.rootService=r,this.studentIdManager=a,this.snackBar=o,this.permissions=s,this.gradeService=l,this.ds=c,this._settingService=u,this.searchText="",this.searchTextDebounced="",this._searchText$=new v.a(""),this._destroyed$=new C.a(1),this.loadedCounts=!1,this.activeCount=0,this.inactiveCount=0,this.tempPhotoCount=0,this.noPhotoCount=0,this.printIdCount=0,this.disableEdits=!1,this.canManage=!1,this.roleTypeFilter="",this.gradeFilter="",this.personHashFilter="",this.selectedFilter=ft.NONE,this.selectedFilterOptions=ft,this._searchText$.pipe(Object(x.a)(this._destroyed$),Object(b.a)(500)).subscribe((function(e){m.searchTextDebounced!=e&&(m.searchTextDebounced=e,m.updateFilter(),m._cdr.markForCheck())})),this.availableFilterRoles$=this.rolesService.availableCommentPermitableRoles$.pipe(Object(y.a)((function(e){return e.map((function(e){return{name:e.name,roleType:e.roleType}}))}))),this.availableGrade$=this.gradeService.grades$,this.retrieveCountInfo(),this.initRoles(),this.initGrades(),this.canManage=this.permissions.hasPermission(f.MingaPermission.ADMINISTER_STUDENT_ID),this.disableEdits=!this.canManage,this.hideIdNum$=this._settingService.getSettingValueObs(f.mingaSettingTypes.HIDE_ID_NUM)}return m(e,[{key:"updateFilter",value:function(){var e={};switch(this.selectedFilter){case ft.ACTIVE:e.activeStatus=!0;break;case ft.INACTIVE:e.inactiveStatus=!0;break;case ft.NO_PHOTO:e.noPhotoStatus=!0;break;case ft.TEMP_PHOTO:e.tempPhotoStatus=!0;break;case ft.PRINT_ID:e.printIdStatus=!0}this.searchTextDebounced.length&&(e.searchNameId=this.searchTextDebounced),this.roleTypeFilter&&(e.role=this.roleTypeFilter),this.gradeFilter&&(e.grade=this.gradeFilter),this.personHashFilter&&(e.personHash=this.personHashFilter),this.streamFilter=e}},{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}},{key:"initRoles",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rolesService.fetchIfNeeded();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"initGrades",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gradeService.fetchIfNeeded();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"retrieveCountInfo",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t,n,i,r,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.studentIdService.getStatusCounts();case 2:t=e.sent,n=t.active,i=t.inactive,r=t.tempPhoto,a=t.noPhoto,o=t.printId,this.activeCount=n,this.inactiveCount=i,this.tempPhotoCount=r,this.noPhotoCount=a,this.printIdCount=o,this.loadedCounts=!0;case 9:case"end":return e.stop()}}),e,this)})))}},{key:"onClickFilterActive",value:function(){this.selectedFilter=this.selectedFilter==ft.ACTIVE?ft.NONE:ft.ACTIVE,this.updateFilter()}},{key:"onClickFilterInactive",value:function(){this.selectedFilter=this.selectedFilter==ft.INACTIVE?ft.NONE:ft.INACTIVE,this.updateFilter()}},{key:"onClickFilterNoPhoto",value:function(){this.selectedFilter=this.selectedFilter==ft.NO_PHOTO?ft.NONE:ft.NO_PHOTO,this.updateFilter()}},{key:"onClickFilterTempPhoto",value:function(){this.selectedFilter=this.selectedFilter==ft.TEMP_PHOTO?ft.NONE:ft.TEMP_PHOTO,this.updateFilter()}},{key:"onClickFilterPrintId",value:function(){this.selectedFilter=this.selectedFilter==ft.PRINT_ID?ft.NONE:ft.PRINT_ID,this.updateFilter()}},{key:"onSearchTextChange",value:function(e){this._searchText$.next(e)}},{key:"onSearchUserChange",value:function(e){this.personHashFilter=e?e.hash:null,this.updateFilter()}},{key:"onStudentIdChange",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.permissions.hasPermission(f.MingaPermission.ADMINISTER_STUDENT_ID)){t.next=10;break}return t.prev=1,t.next=4,this.rootService.addLoadingPromise(this.studentIdService.updateStudentId(e));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",(t.t0.message&&this.snackBar.open(t.t0.message),void console.warn("onStudentIdChange update error occured: ",t.t0)));case 9:"tempPhoto"in e&&(e.tempPhoto?this.tempPhotoCount++:this.tempPhotoCount>0&&this.tempPhotoCount--),"active"in e&&(e.active?(this.activeCount++,this.inactiveCount>0&&this.inactiveCount--):(this.activeCount>0&&this.activeCount--,this.inactiveCount++)),"printId"in e&&(e.printId?this.printIdCount++:this.printIdCount>0&&this.printIdCount--),"noPhoto"in e&&this.noPhotoCount++,e.fileName&&this.noPhotoCount>0&&this.noPhotoCount--,this._cdr.markForCheck();case 10:case"end":return t.stop()}}),t,this,[[1,6]])})))}},{key:"clearSearch",value:function(){this.searchText="",this.searchTextDebounced="",this.updateFilter(),this._cdr.markForCheck()}},{key:"launchDownloadList",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t,n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.studentIdService.downloadList(this.streamFilter),n="",i=new Uint8Array(0),e.next=4,this.rootService.addLoadingPromise(new Promise((function(e,r){t.subscribe((function(e){if(e.hasChunk()){var t=e.getChunk_asU8(),r=new Uint8Array(i.length+t.length);r.set(i),r.set(t,i.length),i=r}else e.hasFilename()&&(n=e.getFilename())}),r,e)})));case 4:Object(h.a)(i,n);case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||gt)(u["\u0275\u0275directiveInject"](_.a),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E.a),u["\u0275\u0275directiveInject"](w.a),u["\u0275\u0275directiveInject"](M.StudentIdManager),u["\u0275\u0275directiveInject"](P.b),u["\u0275\u0275directiveInject"](k.c),u["\u0275\u0275directiveInject"](T.b),u["\u0275\u0275directiveInject"](O),u["\u0275\u0275directiveInject"](L.a))},gt.\u0275cmp=u["\u0275\u0275defineComponent"]({type:gt,selectors:[["mg-student-id-manage-page"]],features:[u["\u0275\u0275ProvidersFeature"]([O])],decls:44,vars:17,consts:[[1,"manager-overlay-subpage-header"],["fxLayoutAlign","space-between flex-start",1,"header"],[1,"col","left","status-items"],[4,"ngIf"],[1,"col","right"],[1,"filter-inputs"],[1,"search-input-container"],[3,"label","onPersonSelected"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","center center","fxLayoutGap","10px",1,"filter-inputs-dropdowns"],["fxFlex","50","fxFlex.lt-sm","auto"],["mgFormField","","mgNoHintMargin","true","appearance","outline",3,"mgHideOptionalMarker",4,"ngIf"],["fxFlex",""],[1,"manager-overlay-subpage-content","white-bg"],[4,"ngTemplateOutlet"],[1,"student-id-list"],["fxLayoutGap","25px",1,"student-id-list-header"],["fxFlex","7"],["fxFlex","14","fxLayoutAlign","start"],["fxFlex","12","fxLayoutAlign","start",4,"ngIf"],["fxFlex","5"],["fxFlex","25"],[3,"dataSource","filter"],["streamItemTemplate",""],["mg-empty-state","",3,"title","subtitle"],["quickActionsTemplate",""],[1,"status-item-wrapper"],["count-tile-container",""],[3,"count","label","isActive","color","icon","tileClicked"],["mgFormField","","mgNoHintMargin","true","appearance","outline",3,"mgHideOptionalMarker"],["name","roleType",3,"ngModelOptions","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","gradeSelect",3,"ngModelOptions","ngModel","ngModelChange","selectionChange"],["fxFlex","12","fxLayoutAlign","start"],[3,"studentIdResponse","disable","showIdNum","canDownloadImage","itemChange"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","15px",1,"quick-action-container"],["fxFlex","nogrow","fxHide.lt-md","",4,"ngIf"],["fxFlex","nogrow","fxHide.lt-md",""],["colorTheme","navy","size","small","paddingSize","none","variant","clear","iconLeft","download-o",3,"hasRipples","isRounded","onClick"]],template:function(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275template"](3,nt,1,0,"mg-spinner",3),u["\u0275\u0275template"](4,it,8,25,"ng-container",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",4),u["\u0275\u0275elementStart"](6,"div",5),u["\u0275\u0275elementStart"](7,"div",6),u["\u0275\u0275elementStart"](8,"mg-people-search-input",7),u["\u0275\u0275listener"]("onPersonSelected",(function(e){return t.onSearchUserChange(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"div",8),u["\u0275\u0275elementStart"](10,"div",9),u["\u0275\u0275elementStart"](11,"div"),u["\u0275\u0275template"](12,ot,7,5,"mat-form-field",10),u["\u0275\u0275pipe"](13,"async"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"div",11),u["\u0275\u0275elementStart"](15,"div"),u["\u0275\u0275template"](16,lt,7,5,"mat-form-field",10),u["\u0275\u0275pipe"](17,"async"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"div",12),u["\u0275\u0275template"](19,ct,1,0,"ng-container",13),u["\u0275\u0275elementStart"](20,"div",14),u["\u0275\u0275elementStart"](21,"div",15),u["\u0275\u0275elementStart"](22,"div",16),u["\u0275\u0275text"](23,"Photo"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"div",17),u["\u0275\u0275text"](25," First Name "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"div",17),u["\u0275\u0275text"](27," Last Name "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](28,dt,2,0,"div",18),u["\u0275\u0275pipe"](29,"async"),u["\u0275\u0275elementStart"](30,"div",19),u["\u0275\u0275text"](31,"Grade"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](32,"div",19),u["\u0275\u0275text"](33,"Role"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](34,"div",20),u["\u0275\u0275text"](35,"Status"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"div",16),u["\u0275\u0275text"](37,"View ID"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"mg-paged-scroller",21),u["\u0275\u0275template"](39,ut,2,6,"ng-template",null,22,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275element"](41,"mg-empty-state",23),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](42,pt,2,1,"ng-template",null,24,u["\u0275\u0275templateRefExtractor"])),2&e){var n=u["\u0275\u0275reference"](43);u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",!t.loadedCounts),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.loadedCounts),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("label","Search by Name or ID"),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",u["\u0275\u0275pipeBind1"](13,11,t.availableFilterRoles$)),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",u["\u0275\u0275pipeBind1"](17,13,t.availableGrade$)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngTemplateOutlet",n),u["\u0275\u0275advance"](9),u["\u0275\u0275property"]("ngIf",!u["\u0275\u0275pipeBind1"](29,15,t.hideIdNum$)||t.canManage),u["\u0275\u0275advance"](10),u["\u0275\u0275property"]("dataSource",t.ds)("filter",t.streamFilter),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("title","No Student IDs found")("subtitle","Try changing your search or filtering and try again.")}},directives:[A.d,N.o,D.a,A.e,A.f,A.b,N.t,F.a,R.a,j.a,U.a,B.a,G.d,V.a,G.h,H.a,z.t,z.w,$.m,N.n,Xe,et.b,tt.a],pipes:[N.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}.manager-overlay-subpage[_ngcontent-%COMP%]{margin-bottom:3.5294117647rem}.manager-overlay-subpage-header[_ngcontent-%COMP%]{background:#f4f4f4;padding:1.1764705882rem 20%;box-sizing:border-box;margin:-20px -20% 0;width:calc(140%)}.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;display:block}}.manager-overlay-subpage-content[_ngcontent-%COMP%]{flex:1;padding:1.1764705882rem 0;box-sizing:border-box}.manager-overlay-subpage-content.white-bg[_ngcontent-%COMP%]{background-color:#fff}.quick-action-container[_ngcontent-%COMP%]{margin-bottom:1.1764705882rem}.quick-action-container[_ngcontent-%COMP%]:empty{display:none}.quick-action-btn[_ngcontent-%COMP%]{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;border-radius:0;text-align:inherit;box-shadow:none;color:inherit;font:inherit;padding:0;margin:0;background:none;border:none;outline:none;box-sizing:border-box;cursor:pointer;font-size:.8823529412rem;color:#036;display:inline-flex;align-items:center;justify-content:center;--mg-icon-size:20px}.quick-action-btn[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:.2941176471rem}.quick-action-btn[_ngcontent-%COMP%]:hover{opacity:.7}@media print,screen and (max-width:37.49875em){.quick-action-btn[_ngcontent-%COMP%]{display:none}}.manager-layout-loading-container[_ngcontent-%COMP%]{padding:2.9411764706rem 0}.header-title[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.header-title[_ngcontent-%COMP%]{text-align:center;display:block}}@media print,screen and (max-width:59.99875em){.header[_ngcontent-%COMP%]   .col.right[_ngcontent-%COMP%]{flex-basis:100%}}.download-btn[_ngcontent-%COMP%]{--mg-button-border-radius:2em;--mg-button-padding-vert:9px;--mg-button-padding-horz:40px}.filter-inputs[_ngcontent-%COMP%]{--mg-form-input-background-color:#fff;--mg-form-input-outline-color:#609fc9}.filter-inputs[_ngcontent-%COMP%]   .role-input-container[_ngcontent-%COMP%], .filter-inputs[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-bottom:10px}@media print,screen and (max-width:79.99875em){.filter-inputs[_ngcontent-%COMP%]{flex:1 auto}}.filter-inputs-dropdowns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}@media print,screen and (max-width:37.49875em){.filter-inputs-dropdowns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-of-type{margin-bottom:10px}}@media print,screen and (max-width:59.99875em){.status-items[_ngcontent-%COMP%]{display:none}}.student-id-list[_ngcontent-%COMP%]   .student-id-list-header[_ngcontent-%COMP%]{margin-bottom:15px;padding:0 12px;font-size:.8823529412rem;font-weight:700;color:#b2b2b2}.student-id-list[_ngcontent-%COMP%]   .student-id-list-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center}@media print,screen and (max-width:79.99875em){.student-id-list[_ngcontent-%COMP%]   .student-id-list-header[_ngcontent-%COMP%]{display:none!important}}"],changeDetection:0}),gt),Ct=s("u9T3"),xt=s("Tj54"),bt=s("OLhe"),yt=s("IkgF"),St=s("CO6v"),_t=s("NG9B"),It=s("HxU+"),Ot=s("ls3q"),Et=s("7Tcv"),wt=s("p+4T"),Mt=s("ugqS"),Pt=s("Ogcz"),kt=((ht=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||ht)},ht.\u0275mod=u["\u0275\u0275defineNgModule"]({type:ht}),ht.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[Ot.a,It.a,Pt.b,Mt.a,St.a,wt.a,Q.a,N.c,z.m,G.f,ne.c,H.b,Ct.a,xt.b,p.k]]}),ht),Tt=s("rJgo"),Lt=s("O2jg"),At=function(e){return e.HEADER_TITLE="ID Manager",e}({}),Nt=s("EZOG"),Dt=s("tOtK");function Ft(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mg-icon"),u["\u0275\u0275text"](1,"student-id-o"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](2)),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("\xa0 ",n.MESSAGES.HEADER_TITLE," ")}}var Rt,jt,Ut,Bt=((jt=function(){function e(t,n,i,r,a){var o=this;d(this,e),this.media=t,this.studentIdRouteService=i,this.router=r,this.url=a,this.MESSAGES=At,this.openedSideNav=!1,this.mqAlias="",this.colorTheme=Lt.a.ID_MANAGER,this.tabs=[],this.tabLabels=[],this.tabIndex=0,this.lastUrlSegment="",t.asObservable().subscribe((function(e){o.mqAlias=e[0].mqAlias})),n.data.subscribe((function(e){o._handleRouteTabs(e.tabs)})),n.url.subscribe((function(e){var t=o.url.path().split("/");t.length&&(o.lastUrlSegment=t[t.length-1],o._syncUrlWithTab())}))}return m(e,[{key:"onOverlayClose",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.studentIdRouteService.returnFromStudentId();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onTabIndexChange",value:function(e){this.tabs[e]&&this.router.navigate(["/studentid/"+this.tabs[e].path,{outlets:{o:null}}])}},{key:"goToRoute",value:function(e){e&&this.router.navigateByUrl(e)}},{key:"_handleRouteTabs",value:function(e){var n,i=t(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.studentIdRouteService.hasTabRoutePermissions(r.permissions)&&(this.tabs.push(r),this.tabLabels.push(r.title))}}catch(a){i.e(a)}finally{i.f()}this.tabs.length&&this._syncUrlWithTab()}},{key:"onSideNav",value:function(e){this.openedSideNav=!this.openedSideNav}},{key:"_syncUrlWithTab",value:function(){if(this.tabs.length&&this.lastUrlSegment)for(var e=0;e<this.tabs.length;e++)this.tabs[e].path==this.lastUrlSegment&&(this.tabIndex=e)}}]),e}()).\u0275fac=function(e){return new(e||jt)(u["\u0275\u0275directiveInject"](J.g),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](Nt.a),u["\u0275\u0275directiveInject"](p.g),u["\u0275\u0275directiveInject"](N.l))},jt.\u0275cmp=u["\u0275\u0275defineComponent"]({type:jt,selectors:[["mg-student-id-page"]],decls:4,vars:1,consts:[[3,"colorTheme","overlayClose"],["overlayTitle",""]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mg-manager-overlay",0),u["\u0275\u0275listener"]("overlayClose",(function(){return t.onOverlayClose()})),u["\u0275\u0275template"](1,Ft,3,1,"ng-template",null,1,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275element"](3,"router-outlet"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("colorTheme",t.colorTheme)},directives:[Dt.a,p.l,te.a],styles:[".nav-icon[_ngcontent-%COMP%]{--mg-icon-size:42px;cursor:pointer;padding:10px 20px;color:#fff}.minga-logo[_ngcontent-%COMP%]{height:32px;margin-right:15px;color:#fff}@media (orientation:landscape){.minga-logo[_ngcontent-%COMP%]{height:8vh}}@media (orientation:portrait){.minga-logo[_ngcontent-%COMP%]{height:8vw}}@media (orientation:landscape) and (max-height:375px){.minga-logo[_ngcontent-%COMP%]{height:30px}}@media (orientation:portrait) and (max-width:375px){.minga-logo[_ngcontent-%COMP%]{height:30px}}@media (min-width:400px){.minga-logo[_ngcontent-%COMP%]{height:32px}}@media (max-width:530px){.minga-logo[_ngcontent-%COMP%]{display:none}}.header-logo-container[_ngcontent-%COMP%]{text-align:center}.header-menu[_ngcontent-%COMP%]{text-align:right}.header-menu-list[_ngcontent-%COMP%]{list-style:none;list-style-type:none;padding:0;margin:0}.header-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:10px}.header-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:25px}.header-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{--mg-icon-size:18px;color:#1c2f59;text-decoration:none;display:inline-flex;align-items:center;padding:5px 13px}.header-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#e9d68f}.header-menu-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .header-menu-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:hover{background:#fff}.text-icon-wrap[_ngcontent-%COMP%]{font-size:17px;display:inline-flex;align-items:center;color:#fff}"],changeDetection:0}),jt),Gt=((Rt=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||Rt)},Rt.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Rt}),Rt.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[Ot.a,Lt.b,N.c,Ct.a,p.k,Tt.c]]}),Rt),Vt=s("rNFI"),Ht=s("j7EK"),zt=((Ut=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||Ut)},Ut.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Ut}),Ut.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[Gt,kt,St.a,Ot.a,It.a,Et.a,_t.a,Vt.a,Ht.b,yt.a,bt.a,N.c,z.m,Ct.a,G.f,ne.c,H.b,xt.b]]}),Ut),$t=s("XNiG"),qt=s("/4+J"),Wt=s("k/kw"),Kt=s("fC9k"),Yt=s("wIoi"),Zt=function(e){return e.HELP_TOOLTIP_FOR_OFFLINE_STICKERS="Allows the app to save the users current stickers to their device, so the stickers will be displayed regardless of internet connection. However, the stickers may be out of date if they've recently changed.",e.WARNING_FOR_TEMP_PHOTOS="By enabling this setting, students will be able to upload their own Student ID photo. Do you still wish to proceed? We recommend you do not turn this on.",e.STAFF_CHANGE_PICTURE="ID picture can be changed in the user profile",e}({}),Jt=s("iELJ"),Qt=s("jMqV"),Xt=s("o1f5"),en=s("E4Uz"),tn=s("o4Yh"),nn=s("acpF"),rn=s("+ZML"),an=s("alHs"),on=["backgroundColorPreview"],sn=["fontColorPreview"],ln=["gradeColorPreview"];function cn(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",37),u["\u0275\u0275elementStart"](3,"div",12),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",38),u["\u0275\u0275text"](6,"Background"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",39),u["\u0275\u0275listener"]("colorPickerChange",(function(e){u["\u0275\u0275restoreView"](n);var i=t.index;return u["\u0275\u0275nextContext"]().onGradeColorChange(e,i,!0)}))("colorPickerCancel",(function(){u["\u0275\u0275restoreView"](n);var e=t.index;return u["\u0275\u0275nextContext"]().onGradeColorChange("",e,!0)})),u["\u0275\u0275element"](8,"div",15,40),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"div",41),u["\u0275\u0275elementStart"](11,"div",38),u["\u0275\u0275text"](12,"Font"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"div",39),u["\u0275\u0275listener"]("colorPickerChange",(function(e){u["\u0275\u0275restoreView"](n);var i=t.index;return u["\u0275\u0275nextContext"]().onGradeColorChange(e,i,!1)}))("colorPickerCancel",(function(){u["\u0275\u0275restoreView"](n);var e=t.index;return u["\u0275\u0275nextContext"]().onGradeColorChange("",e,!1)})),u["\u0275\u0275element"](14,"div",15,40),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("no-action",!a.canCreateIdsWithMinga),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](i.grade),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("colorPicker",i.value[0])("cpCloseClickOutside",!1)("cpOKButton",!0)("cpOKButtonText","Apply")("cpCancelButton",!0)("cpCancelButtonText","Reset")("cpWidth","200px")("cpPosition",a.gradeCPPosition(r)),u["\u0275\u0275advance"](3),u["\u0275\u0275classProp"]("no-action",!a.canCreateIdsWithMinga),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("colorPicker",i.value[1])("cpCloseClickOutside",!1)("cpOKButton",!0)("cpOKButtonText","Apply")("cpCancelButton",!0)("cpCancelButtonText","Reset")("cpWidth","200px")("cpPosition",a.gradeCPPosition(r))}}var dn,un=function(e){return[e]},mn=((dn=function(){function e(t,n,i){var r=this;d(this,e),this._cdr=t,this.dialog=n,this.mingaSettingStore=i,this.TOOL_TIPS=Zt,this.canCreateIdsWithMinga=!1,this.idSchoolName="",this.schoolLogoAssetPath="",this.idBackgroundColor="#BEBEBE",this.defaultIdBackgroundColor="#1c2f59",this.idFontColor="#000000",this.defaultFontColor="#FFFFFF",this.barcodeType="CODE128",this.canUploadTemporaryPhotos=!1,this.showCustomLifeline="",this.isCustomLifelineContentLoaded=!1,this.canSetCustomGradeColors=!1,this.idGradeColors={},this.gradeColorItems=[],this.studentIdSettings=f.mingaSettingTypes,this._destroyed$=new C.a(1),this._showCustomLifeline$=new v.a(null),this.onSettingChanged=new u.EventEmitter,this.delayedUpdate$=new $t.a,this.delayedUpdateSub$=this.delayedUpdate$.pipe(Object(b.a)(1e3),Object(x.a)(this._destroyed$)),this.delayedUpdateSub$.subscribe((function(e){r._onUpdateSetting(e)})),this._showCustomLifeline$.pipe(Object(x.a)(this._destroyed$),Object(b.a)(1500)).subscribe((function(e){r.isCustomLifelineContentLoaded?(r._onUpdateSetting({keyName:r.studentIdSettings.ID_SHOW_CUSTOM_LIFELINE,value:e}),r._cdr.markForCheck()):r.isCustomLifelineContentLoaded=!0}))}return m(e,[{key:"initialSettings",set:function(e){this._initStudentIdSettings(e)}},{key:"schoolType",set:function(e){this.mingaSchoolType=e,this._initGradeColorItems(this.idGradeColors)}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.delayedUpdate$.unsubscribe(),this._destroyed$.next(),this._destroyed$.complete()}},{key:"ngAfterViewInit",value:function(){var e=this;this._setBackgroundColorPreview(),this._setFontColorPreview(),this.gradeColorPreviews.changes.subscribe((function(t){Object.keys(e.gradeColorItems).length&&e._initGradeColorPreviews(t.toArray())}))}},{key:"onCreateIdsWithMingaChange",value:function(){this._onUpdateSetting({keyName:this.studentIdSettings.ID_MINGA_STUDENT_ID,value:this.canCreateIdsWithMinga})}},{key:"onSchoolNameChange",value:function(){this.canCreateIdsWithMinga&&this.delayedUpdate$.next({keyName:this.studentIdSettings.ID_SCHOOL_NAME,value:this.idSchoolName})}},{key:"onSchoolLogoPhotoChange",value:function(){this.canCreateIdsWithMinga&&this._onUpdateSetting({keyName:this.studentIdSettings.ID_LOGO_ASSET_PATH,value:this.schoolLogoAssetPath})}},{key:"onBackgroundColorChange",value:function(e){this.canCreateIdsWithMinga&&(this.idBackgroundColor=e,this.delayedUpdate$.next({keyName:this.studentIdSettings.ID_BACKGROUND_COLOR,value:this.idBackgroundColor}),this._setBackgroundColorPreview())}},{key:"onFontColorChange",value:function(e){this.canCreateIdsWithMinga&&(this.idFontColor=e,this.delayedUpdate$.next({keyName:this.studentIdSettings.ID_FONT_COLOR,value:this.idFontColor}),this._setFontColorPreview())}},{key:"onGradeColorChange",value:function(e,t,n){if(this.canCreateIdsWithMinga){var i=this.gradeColorItems[t];i&&(n?(this.gradeColorItems[t].value[0]=e,this.gradeColorPreviews.find((function(e,n){return n==2*t})).nativeElement.style.setProperty("background-color",e||"")):(this.gradeColorItems[t].value[1]=e,this.gradeColorPreviews.find((function(e,n){return n==2*t+1})).nativeElement.style.setProperty("background-color",e||"")),this.idGradeColors[i.grade]=this.gradeColorItems[t].value,this.delayedUpdate$.next({keyName:this.studentIdSettings.ID_GRADE_COLORS,value:this.idGradeColors}))}}},{key:"onEnableGradeColorsChange",value:function(){this.canCreateIdsWithMinga&&(this.canSetCustomGradeColors=!this.canSetCustomGradeColors,this._onUpdateSetting({keyName:this.studentIdSettings.ID_ENABLE_GRADE_COLORS,value:this.canSetCustomGradeColors}))}},{key:"onBarcodeTypeChange",value:function(e){this.canCreateIdsWithMinga&&this._onUpdateSetting({keyName:this.studentIdSettings.ID_BARCODE_TYPE,value:e})}},{key:"onShowCustomLifelineChange",value:function(){this.canCreateIdsWithMinga&&this._showCustomLifeline$.next(this.showCustomLifeline)}},{key:"_onUpdateSetting",value:function(e){this.mingaSettingStore.updateSetting(e.keyName,e.value),this.onSettingChanged.emit({keyName:e.keyName,value:JSON.stringify(e.value)})}},{key:"_initStudentIdSettings",value:function(e){this.canCreateIdsWithMinga=e.idMingaStudentId,this.idSchoolName=e.idSchoolName,this.schoolLogoAssetPath=e.idLogoAssetPath,this.idBackgroundColor=e.idBackgroundColor,this.barcodeType=e.idBarcodeType,this.idFontColor=e.idFontColor,this.canUploadTemporaryPhotos=e.idUploadTempPhoto,this.showCustomLifeline=e.idShowCustomLifeline,this.canSetCustomGradeColors=e.idEnableGradeColors,this.idGradeColors=e.idGradeColors}},{key:"_initGradeColorItems",value:function(e){var t=this;this.gradeColorItems=[],f.GradeFunctions.getAllowedGrades(this.mingaSchoolType).forEach((function(n,i){var r=e[n];"string"==typeof r?r=[r,""]:void 0===r&&(r=["",""]),t.gradeColorItems.push({grade:n,value:r})}))}},{key:"_setBackgroundColorPreview",value:function(){this.backgroundColorPreview&&this.backgroundColorPreview.nativeElement.style.setProperty("background-color",this.idBackgroundColor||"")}},{key:"_setFontColorPreview",value:function(){this.fontColorPreview&&this.fontColorPreview.nativeElement.style.setProperty("background-color",this.idFontColor||"")}},{key:"_initGradeColorPreviews",value:function(e){this.gradeColorItems.forEach((function(t,n){var i=e.find((function(e,t){return t==2*n}));i&&i.nativeElement.style.setProperty("background-color",t.value[0]);var r=e.find((function(e,t){return t==2*n+1}));r&&r.nativeElement.style.setProperty("background-color",t.value[1])})),this._cdr.markForCheck()}},{key:"gradeCPPosition",value:function(e){var t="left",n="bottom-";return e>6&&(n="top-"),e%2==0&&(t="right"),n+t}}]),e}()).\u0275fac=function(e){return new(e||dn)(u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](Jt.b),u["\u0275\u0275directiveInject"](L.a))},dn.\u0275cmp=u["\u0275\u0275defineComponent"]({type:dn,selectors:[["mg-student-id-select-settings"]],viewQuery:function(e,t){var n;1&e&&(u["\u0275\u0275viewQuery"](on,1),u["\u0275\u0275viewQuery"](sn,1),u["\u0275\u0275viewQuery"](ln,1)),2&e&&(u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.backgroundColorPreview=n.first),u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.fontColorPreview=n.first),u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.gradeColorPreviews=n))},inputs:{initialSettings:"initialSettings",schoolType:"schoolType"},outputs:{onSettingChanged:"onSettingChanged"},decls:83,vars:79,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign","space-between center",1,"settings-item"],[1,"settings-header"],[1,"no-mg",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutAlign","flex-start","fxLayoutGap","10px",1,"settings-item"],["fxFlex","60","mgFormField","","hideRequiredMarker","","appearance","outline",1,"school-name-input"],["matInput","","required","","type","text","placeHolder","School Name","minLength","3","maxLength","300",3,"ngModel","ngModelChange"],["fxLayout","row","fxFlex","40","fxLayoutAlign",""],[1,"setting-title","setting-title-logo","bold"],[1,"image-input"],["accept","image/*","customTitleText","Upload","previewAspectRatio","2:1",3,"showFileDetails","ngModel","onFileUpload","ngModelChange"],[1,"horiz-divider"],[1,"setting-title","bold"],[1,"setting-title"],["cpOutputFormat","hex",1,"pick-color-img",3,"colorPicker","cpPresetColors","cpCloseClickOutside","cpOKButton","cpOKButtonText","cpPosition","colorPickerChange"],[1,"color-preview"],["backgroundColorPreview",""],["fontColorPreview",""],["hideToggle","true",3,"disabled","expanded"],[1,"setting-title","bold",3,"click"],[1,"no-mg","grade-color-toggle",3,"disabled","ngModel","ngModelChange"],[1,"grade-color-grid"],[4,"ngFor","ngForOf"],[1,"barcode-type-select",3,"ngModel","ngModelChange"],[3,"value"],[1,"settings-item"],[3,"setting","label"],[3,"setting","label","warning"],[3,"setting","label","helpTooltip"],[3,"setting","helpTooltip","label"],["fxLayout","row","fxLayoutAlign","start center",1,"settings-item"],[3,"setting","label","helpText","min","required"],["fxLayout","column","fxLayoutAlign","center",1,"settings-item"],[1,"setting-title","mobile"],[1,"custom-lifeline"],[3,"ngModel","ngModelChange"],["fxLayout","column"],["fxLayout","row","fxLayoutAlign","space-between center",1,"grade-color-top"],[1,"setting-title","setting-title-color","bold"],["cpOutputFormat","hex",1,"pick-color-grade",3,"colorPicker","cpCloseClickOutside","cpOKButton","cpOKButtonText","cpCancelButton","cpCancelButtonText","cpWidth","cpPosition","colorPickerChange","colorPickerCancel"],["gradeColorPreview",""],["fxLayout","row",1,"grade-color-bottom"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275text"](3,"Create IDs with Minga"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"mat-slide-toggle",3),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.canCreateIdsWithMinga=e}))("ngModelChange",(function(){return t.onCreateIdsWithMingaChange()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",4),u["\u0275\u0275elementStart"](6,"mat-form-field",5),u["\u0275\u0275elementStart"](7,"mat-label"),u["\u0275\u0275text"](8,"School Name"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"input",6),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.idSchoolName=e}))("ngModelChange",(function(){return t.onSchoolNameChange()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"div",7),u["\u0275\u0275elementStart"](11,"div",8),u["\u0275\u0275text"](12,"School Logo"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"div",9),u["\u0275\u0275elementStart"](14,"mg-file-input-upload",10),u["\u0275\u0275listener"]("onFileUpload",(function(){return t.onSchoolLogoPhotoChange()}))("ngModelChange",(function(e){return t.schoolLogoAssetPath=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](15,"div",11),u["\u0275\u0275elementStart"](16,"div",12),u["\u0275\u0275text"](17,"Digital Student IDs"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"div",1),u["\u0275\u0275elementStart"](19,"div",13),u["\u0275\u0275text"](20,"ID Background Color"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"div",14),u["\u0275\u0275listener"]("colorPickerChange",(function(e){return t.onBackgroundColorChange(e)})),u["\u0275\u0275element"](22,"div",15,16),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"div",1),u["\u0275\u0275elementStart"](25,"div",13),u["\u0275\u0275text"](26,"ID Font Color"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"div",14),u["\u0275\u0275listener"]("colorPickerChange",(function(e){return t.onFontColorChange(e)})),u["\u0275\u0275element"](28,"div",15,17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](30,"div",11),u["\u0275\u0275elementStart"](31,"mat-expansion-panel",18),u["\u0275\u0275elementStart"](32,"mat-expansion-panel-header",19),u["\u0275\u0275listener"]("click",(function(){return t.onEnableGradeColorsChange()})),u["\u0275\u0275elementStart"](33,"mat-panel-title"),u["\u0275\u0275text"](34," Custom Background Colors Per Grade "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"mat-panel-description"),u["\u0275\u0275elementStart"](36,"mat-slide-toggle",20),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.canSetCustomGradeColors=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](37,"div",21),u["\u0275\u0275template"](38,cn,16,21,"ng-container",22),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](39,"div",11),u["\u0275\u0275elementStart"](40,"div",1),u["\u0275\u0275elementStart"](41,"div",13),u["\u0275\u0275text"](42,"Barcode type on ID"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](43,"mat-select",23),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.barcodeType=e}))("ngModelChange",(function(e){return t.onBarcodeTypeChange(e)})),u["\u0275\u0275elementStart"](44,"mat-option",24),u["\u0275\u0275text"](45,"CODE128"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](46,"mat-option",24),u["\u0275\u0275text"](47,"CODE39"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"div",25),u["\u0275\u0275element"](49,"mg-setting-toggle",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](50,"div",25),u["\u0275\u0275element"](51,"mg-setting-toggle",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"div",25),u["\u0275\u0275element"](53,"mg-setting-toggle",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](54,"div",25),u["\u0275\u0275element"](55,"mg-setting-toggle",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](56,"div",25),u["\u0275\u0275element"](57,"mg-setting-toggle",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](58,"div",25),u["\u0275\u0275element"](59,"mg-setting-toggle",27),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](60,"div",25),u["\u0275\u0275element"](61,"mg-setting-toggle",28),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](62,"div",25),u["\u0275\u0275element"](63,"mg-setting-toggle",29),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](64,"div",30),u["\u0275\u0275element"](65,"mg-setting-number-textbox",31),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](66,"div",11),u["\u0275\u0275elementStart"](67,"div",25),u["\u0275\u0275elementStart"](68,"mat-expansion-panel"),u["\u0275\u0275elementStart"](69,"mat-expansion-panel-header",12),u["\u0275\u0275text"](70," Suicide Hotline Page Settings "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](71,"div",25),u["\u0275\u0275element"](72,"mg-setting-toggle",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](73,"div",25),u["\u0275\u0275element"](74,"mg-setting-toggle",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](75,"div",25),u["\u0275\u0275element"](76,"mg-setting-toggle",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](77,"div",32),u["\u0275\u0275elementStart"](78,"div",33),u["\u0275\u0275text"](79,"Add Custom Info"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](80,"div",34),u["\u0275\u0275elementStart"](81,"quill-editor",35),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.showCustomLifeline=e}))("ngModelChange",(function(){return t.onShowCustomLifelineChange()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](82,"div",11),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",t.canCreateIdsWithMinga),u["\u0275\u0275advance"](1),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",t.idSchoolName),u["\u0275\u0275advance"](4),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("showFileDetails",!1)("ngModel",t.schoolLogoAssetPath),u["\u0275\u0275advance"](4),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("colorPicker",t.idBackgroundColor)("cpPresetColors",u["\u0275\u0275pureFunction1"](75,un,t.defaultIdBackgroundColor))("cpCloseClickOutside",!1)("cpOKButton",!0)("cpOKButtonText","Close")("cpPosition","left"),u["\u0275\u0275advance"](3),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("colorPicker",t.idFontColor)("cpPresetColors",u["\u0275\u0275pureFunction1"](77,un,t.defaultFontColor))("cpCloseClickOutside",!1)("cpOKButton",!0)("cpOKButtonText","Close")("cpPosition","left"),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("disabled",!t.canCreateIdsWithMinga)("expanded",t.canSetCustomGradeColors),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("disabled",!t.canCreateIdsWithMinga)("ngModel",t.canSetCustomGradeColors),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",t.gradeColorItems),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",t.barcodeType),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("value","CODE128"),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("value","CODE39"),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_SHOW_ROLE)("label","Show Role on ID"),u["\u0275\u0275advance"](1),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_SHOW_GRADE)("label","Show Grade on ID"),u["\u0275\u0275advance"](1),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_SHOW_ID_FIELD_1)("label","Show ID Field 1 on ID"),u["\u0275\u0275advance"](1),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_SHOW_ID_FIELD_2)("label","Show ID Field 2 on ID"),u["\u0275\u0275advance"](1),u["\u0275\u0275classProp"]("no-action",!t.canCreateIdsWithMinga),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("setting",t.studentIdSettings.HIDE_ID_NUM_ON_IDS)("label","Hide ID Number on ID"),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_UPLOAD_TEMP_PHOTO)("label","Students Can Upload Temporary Photos")("warning",t.TOOL_TIPS.WARNING_FOR_TEMP_PHOTOS),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_STAFF_CHANGE_PICTURE)("label","Teachers / Staff can upload their own ID pictures")("helpTooltip",t.TOOL_TIPS.STAFF_CHANGE_PICTURE),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_ENABLE_OFFLINE)("helpTooltip",t.TOOL_TIPS.HELP_TOOLTIP_FOR_OFFLINE_STICKERS)("label","Enable Offline Stickers"),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_CLOCK_FONT_SIZE)("label","Student ID Clock Size")("helpText","Adjust the size of the clock located atop the ID. Scale the clock font size in terms of percentage(%)")("min",0)("required",!0),u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_SHOW_ENGLISH_SUICIDE_LIFELINE)("label","Show English National Suicide Prevention Lifeline"),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_SHOW_SPANISH_SUICIDE_LIFELINE)("label","Show Spanish Suicide Prevention Lifeline"),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("setting",t.studentIdSettings.ID_SHOW_DOMESTIC_VIOLENCE_HOTLINE)("label","Show Domestic Violence Hotline"),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngModel",t.showCustomLifeline))},directives:[A.e,A.d,Qt.a,z.t,z.w,A.f,G.d,A.b,G.h,ne.b,z.d,z.B,Xt.a,en.a,tn.c,tn.f,tn.g,tn.e,N.n,H.a,$.m,nn.a,rn.a,an.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:block;background-color:#fff;font-size:17px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.container[_ngcontent-%COMP%]{margin-bottom:30px}.settings-item[_ngcontent-%COMP%]{margin:15px 0}.settings-header[_ngcontent-%COMP%]{width:-webkit-fill-available;font-family:Muli,sans-serif;line-height:1.35;font-weight:700;color:#036}@media (orientation:landscape){.settings-header[_ngcontent-%COMP%]{font-size:4.6376811594vh}}@media (orientation:portrait){.settings-header[_ngcontent-%COMP%]{font-size:4.6376811594vw}}@media (orientation:landscape) and (max-height:414px){.settings-header[_ngcontent-%COMP%]{font-size:19.2px}}@media (orientation:portrait) and (max-width:414px){.settings-header[_ngcontent-%COMP%]{font-size:19.2px}}@media (min-width:439.875px){.settings-header[_ngcontent-%COMP%]{font-size:20.4px}}.school-name-input[_ngcontent-%COMP%]{height:60px}.school-logo-custom[_ngcontent-%COMP%], mg-file-input-upload[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin:auto;overflow:hidden;--mg-file-input-icon-size-desktop:25px;--mg-file-input-icon-size-mobile:25px;--mg-file-input-icon-color:$mingaBlue1}.school-logo-custom[_ngcontent-%COMP%]  .drop-info .text, mg-file-input-upload[_ngcontent-%COMP%]  .drop-info .text{font-size:12px!important;margin-top:-8px}.school-logo-custom[_ngcontent-%COMP%]  .file-input-upload, mg-file-input-upload[_ngcontent-%COMP%]  .file-input-upload{padding-bottom:100%!important}.setting-title[_ngcontent-%COMP%]{font-size:.9411764706rem;font-weight:700;width:-webkit-fill-available;width:fill-available;width:--webkit-fill-available;color:#036}.setting-title-logo[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 10px}.setting-title.bold[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.setting-title-color[_ngcontent-%COMP%]{text-align:right}@media print,screen and (max-width:59.99875em){.setting-title.mobile[_ngcontent-%COMP%]{width:250px;font-size:.8823529412rem;line-height:1.2}}.pick-color-grade[_ngcontent-%COMP%]{margin-left:10px}.color-input[_ngcontent-%COMP%]{font-size:14px;height:45px;width:100px;margin:0 5px}.color-preview[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:5px;border:1px solid #d0d0d0}.grade-color-toggle[_ngcontent-%COMP%]{pointer-events:none;overflow:hidden}.grade-color-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:auto;gap:15px 40px}@media print,screen and (max-width:59.99875em){.grade-color-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);gap:8px 40px}}.grade-color-top[_ngcontent-%COMP%]{padding-bottom:5px}.grade-color-bottom[_ngcontent-%COMP%]{align-items:center;justify-content:right}.no-action[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.horiz-divider[_ngcontent-%COMP%]{border-top:1px solid #ccc;margin:10px 0}.custom-lifeline[_ngcontent-%COMP%]{margin-top:10px;max-width:100%}.barcode-type-select[_ngcontent-%COMP%], .custom-lifeline[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #d0d0d0}.barcode-type-select[_ngcontent-%COMP%]{max-width:110px;padding:3px}mat-expansion-panel[_ngcontent-%COMP%]{overflow:inherit}mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]{justify-content:flex-end;margin-right:0}mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0}mat-form-field-wrapper[_ngcontent-%COMP%]{padding:0!important}mg-setting-toggle[_ngcontent-%COMP%]{--mg-setting-toggle-title-font-weight:bold}mg-setting-number-textbox[_ngcontent-%COMP%]{--mg-setting-number-text-font-weight:bold}div.setting-title[_ngcontent-%COMP%]{font-size:17px}'],changeDetection:0}),dn),pn=s("PqYM"),gn=s("w1tV"),hn=s("u3Fk");function fn(e,t){if(1&e&&(u["\u0275\u0275element"](0,"mg-student-id-view",3),u["\u0275\u0275pipe"](1,"async")),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("studentIdInfo",n.studentIdInfo)("studentIdMingaSettings",n.studentIdMingaSettings)("canUseCustomColorsByGrade",u["\u0275\u0275pipeBind1"](1,3,n.canUseCustomColorsByGrade$))}}var vn,Cn=((vn=function(){function e(t,n){d(this,e),this._studentIdService=t,this._settingService=n,this.currentDate$=Object(pn.a)(0,1e3).pipe(Object(y.a)((function(){return new Date})),Object(gn.a)()),this.idClockFontSize$=this._settingService.getSettingValueObs(f.mingaSettingTypes.ID_CLOCK_FONT_SIZE).pipe(Object(y.a)((function(e){return 1+e/100}))),this.canUseCustomColorsByGrade$=this._settingService.getSettingValueObs(f.mingaSettingTypes.ID_GRADE_COLORS)}return m(e,[{key:"ngOnDestroy",value:function(){this.studentInfoSub.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.studentInfoSub=this._studentIdService.studentId$.subscribe((function(t){t&&(e.studentIdInfo={image:"",name:"",firstName:"George",lastName:"Washington",grade:e.grade||"12",studentIdNumber:"5555555",mingaAddress:t.mingaAddress||"",roleType:"STUDENT",icons:[],personHash:"",active:!0,idField1:"ID Field 1",idField2:"ID Field 2"})}))}}]),e}()).\u0275fac=function(e){return new(e||vn)(u["\u0275\u0275directiveInject"](_.a),u["\u0275\u0275directiveInject"](L.a))},vn.\u0275cmp=u["\u0275\u0275defineComponent"]({type:vn,selectors:[["mg-student-id-settings-preview"]],inputs:{grade:"grade",studentIdMingaSettings:"studentIdMingaSettings"},decls:7,vars:11,consts:[[1,"preview-container"],[1,"preview-clock"],[3,"studentIdInfo","studentIdMingaSettings","canUseCustomColorsByGrade",4,"ngIf"],[3,"studentIdInfo","studentIdMingaSettings","canUseCustomColorsByGrade"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275pipe"](2,"async"),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"date"),u["\u0275\u0275pipe"](5,"async"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](6,fn,2,5,"mg-student-id-view",2),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275styleProp"]("font-size",u["\u0275\u0275pipeBind1"](2,4,t.idClockFontSize$),"rem"),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind2"](4,6,u["\u0275\u0275pipeBind1"](5,9,t.currentDate$),"HH:mm:ss")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",t.studentIdInfo&&t.studentIdMingaSettings))},directives:[N.o,hn.a],pipes:[N.b,N.f],styles:[".preview-container[_ngcontent-%COMP%]{max-width:22.3529411765rem}.preview-clock[_ngcontent-%COMP%]{text-align:center;font-weight:700;padding:.5rem}"]}),vn),xn=s("w8an");function bn(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function yn(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Sn(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",9),u["\u0275\u0275elementStart"](2,"div"),u["\u0275\u0275template"](3,bn,1,0,"ng-container",10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"div"),u["\u0275\u0275template"](5,yn,1,0,"ng-container",10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){u["\u0275\u0275nextContext"]();var n=u["\u0275\u0275reference"](13),i=u["\u0275\u0275reference"](11);u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngTemplateOutlet",n),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",i)}}function _n(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function In(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function On(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",11),u["\u0275\u0275template"](1,_n,1,0,"ng-container",10),u["\u0275\u0275template"](2,In,1,0,"ng-container",10),u["\u0275\u0275elementEnd"]()),2&e){u["\u0275\u0275nextContext"]();var n=u["\u0275\u0275reference"](11),i=u["\u0275\u0275reference"](13);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",i)}}function En(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mg-student-id-select-settings",15),u["\u0275\u0275listener"]("onSettingChanged",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).updateIdSetting(e)})),u["\u0275\u0275pipe"](1,"async"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("schoolType",i.mingaSchoolType)("initialSettings",u["\u0275\u0275pipeBind1"](1,2,i.idSettings$))}}function wn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",12),u["\u0275\u0275template"](1,En,2,4,"mg-student-id-select-settings",13),u["\u0275\u0275pipe"](2,"hasPermission"),u["\u0275\u0275element"](3,"mg-membership-list-table",14),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",u["\u0275\u0275pipeBind1"](2,3,"ADMINISTER_STUDENT_ID_SETTINGS")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hideHeader",!0)("types",n.LIST_TYPES)}}function Mn(e,t){if(1&e&&u["\u0275\u0275element"](0,"mg-student-id-settings-preview",20),2&e){var n=t.ngIf,i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("grade",i.sampleGrade)("studentIdMingaSettings",n)}}function Pn(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",17),u["\u0275\u0275elementStart"](2,"div",18),u["\u0275\u0275text"](3," SAMPLE "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,Mn,1,2,"mg-student-id-settings-preview",19),u["\u0275\u0275pipe"](5,"async"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",n.sampleGrade&&u["\u0275\u0275pipeBind1"](5,1,n.idSettings$))}}function kn(e,t){if(1&e&&(u["\u0275\u0275template"](0,Pn,6,3,"ng-container",16),u["\u0275\u0275pipe"](1,"async")),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("ngIf",u["\u0275\u0275pipeBind1"](1,1,n.shouldPreview$))}}var Tn,Ln,An,Nn,Dn=((Tn=function(){function e(t,n,i,r,a,o){var s=this;d(this,e),this.mingaManager=t,this.studentIdService=n,this.media=i,this._cdr=r,this.listMembershipService=a,this._permissionsService=o,this.idSettingsLists=[],this.LIST_TYPES=[qt.MembershipListType.ID_MANAGER],this._destroyed$=new C.a(1),this._reloadListsDebounce$=new $t.a,this.isOnMobile=!0,this.mobileBreakpoints=W.a,this.idSettings$=this.studentIdService.idSettings$,this.shouldPreview$=this.idSettings$.pipe(Object(y.a)((function(e){return e.idMingaStudentId}))),this._initStudentIdLists(),this._initGradeDependentSettings(),this._mqAliasSubscription=i.asObservable().pipe(Object(x.a)(this._destroyed$)).subscribe((function(e){s.isOnMobile=!!s.mobileBreakpoints.includes(e[0].mqAlias),s._cdr.markForCheck()})),this._reloadListsDebounce$.pipe(Object(b.a)(300),Object(x.a)(this._destroyed$)).subscribe((function(){return Object(g.a)(s,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initStudentIdLists();case 2:case"end":return e.stop()}}),e,this)})))}))}return m(e,[{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}},{key:"updateIdSetting",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mingaManager.updateUserMingaSettings(e.keyName,e.value);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"reloadLists",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._reloadListsDebounce$.next();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_initStudentIdLists",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[qt.MembershipListType.ID_MANAGER],this._permissionsService.hasPermission(f.MingaPermission.ADMINISTER_STUDENT_ID_SETTINGS)&&t.push(qt.MembershipListType.NO_ACCESS),e.next=4,this.listMembershipService.getOrCreateMembershipLists(t);case 4:this.idSettingsLists=e.sent,this._cdr.markForCheck();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"_initGradeDependentSettings",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mingaManager.getMingaSchoolType();case 2:this.mingaSchoolType=e.sent,t=f.GradeFunctions.getAllowedGrades(this.mingaSchoolType),this.sampleGrade=t[0],this._cdr.markForCheck();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Tn)(u["\u0275\u0275directiveInject"](Wt.a),u["\u0275\u0275directiveInject"](_.a),u["\u0275\u0275directiveInject"](J.g),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](Kt.a),u["\u0275\u0275directiveInject"](k.c))},Tn.\u0275cmp=u["\u0275\u0275defineComponent"]({type:Tn,selectors:[["mg-student-id-settings-page"]],decls:14,vars:2,consts:[[1,"manager-overlay-subpage-header"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutAlign","start center","fxLayoutAlign.lt-sm","start stretch","fxLayoutGap.lt-sm","15px"],["fxFlex","grow"],[1,"manager-overlay-subpage-content","white-bg"],[1,"section","card"],[4,"ngIf","ngIfElse"],["mobileLayoutTpl",""],["settingsTpl",""],["previewTpl",""],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","80px",1,"settings-preview-container"],[4,"ngTemplateOutlet"],["fxLayout","column",1,"settings-preview-container"],["fxLayout","column","fxLayoutGap","20px",1,"settings-container"],[3,"schoolType","initialSettings","onSettingChanged",4,"ngIf"],[3,"hideHeader","types"],[3,"schoolType","initialSettings","onSettingChanged"],[4,"ngIf"],["fxLayoutGap.lt-sm","40px",1,"student-id-preview"],["fxLayoutAlign","center center",1,"sample-text"],[3,"grade","studentIdMingaSettings",4,"ngIf"],[3,"grade","studentIdMingaSettings"]],template:function(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275elementStart"](3,"h2"),u["\u0275\u0275text"](4,"Settings"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",3),u["\u0275\u0275elementStart"](6,"section",4),u["\u0275\u0275template"](7,Sn,6,2,"ng-container",5),u["\u0275\u0275template"](8,On,3,2,"ng-template",null,6,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](10,wn,4,5,"ng-template",null,7,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](12,kn,2,3,"ng-template",null,8,u["\u0275\u0275templateRefExtractor"])),2&e){var n=u["\u0275\u0275reference"](9);u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("ngIf",!t.isOnMobile)("ngIfElse",n)}},directives:[A.e,A.d,A.f,A.b,N.o,N.t,Yt.a,mn,Cn],pipes:[xn.a,N.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}.manager-overlay-subpage[_ngcontent-%COMP%]{margin-bottom:3.5294117647rem}.manager-overlay-subpage-header[_ngcontent-%COMP%]{background:#f4f4f4;padding:1.1764705882rem 20%;box-sizing:border-box;margin:-20px -20% 0;width:calc(140%)}.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;display:block}}.manager-overlay-subpage-content[_ngcontent-%COMP%]{flex:1;padding:1.1764705882rem 0;box-sizing:border-box}.manager-overlay-subpage-content.white-bg[_ngcontent-%COMP%]{background-color:#fff}.quick-action-container[_ngcontent-%COMP%]{margin-bottom:1.1764705882rem}.quick-action-container[_ngcontent-%COMP%]:empty{display:none}.quick-action-btn[_ngcontent-%COMP%]{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;border-radius:0;text-align:inherit;box-shadow:none;color:inherit;font:inherit;padding:0;margin:0;background:none;border:none;outline:none;box-sizing:border-box;cursor:pointer;font-size:.8823529412rem;color:#036;display:inline-flex;align-items:center;justify-content:center;--mg-icon-size:20px}.quick-action-btn[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:.2941176471rem}.quick-action-btn[_ngcontent-%COMP%]:hover{opacity:.7}@media print,screen and (max-width:37.49875em){.quick-action-btn[_ngcontent-%COMP%]{display:none}}.manager-layout-loading-container[_ngcontent-%COMP%]{padding:2.9411764706rem 0}.header-title[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.header-title[_ngcontent-%COMP%]{text-align:center;display:block}}[_nghost-%COMP%]{height:100%}@media print,screen and (min-width:37.5em){.settings-preview-container[_ngcontent-%COMP%]{padding:15px}}mg-student-id-select-settings[_ngcontent-%COMP%]{padding:15px;margin-top:5px;box-shadow:0 0 6px rgba(0,0,0,.15);margin-bottom:10px}@media print,screen and (min-width:37.5em){mg-student-id-select-settings[_ngcontent-%COMP%]{width:500px;padding:30px}}mg-membership-list-view[_ngcontent-%COMP%]{width:100%}@media print,screen and (min-width:37.5em){mg-membership-list-view[_ngcontent-%COMP%]{width:560px}}.student-id-preview[_ngcontent-%COMP%]{max-width:380px;position:relative;box-shadow:0 0 6px rgba(0,0,0,.15)}@media print,screen and (max-width:59.99875em){.student-id-preview[_ngcontent-%COMP%]{margin:40px 0}}.student-id-preview[_ngcontent-%COMP%]   .sample-text[_ngcontent-%COMP%]{position:absolute;top:45%;z-index:4;font-weight:900;font-size:80px;color:#fff;opacity:.5;transform:rotate(-15deg);letter-spacing:10px}"],changeDetection:0}),Tn),Fn=s("ygam"),Rn=((Ln=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||Ln)},Ln.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Ln}),Ln.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[St.a,Ot.a,wt.a,en.b,Mt.a,k.b,Pt.b,Fn.a,N.c,p.k,Ct.a,Qt.b,G.f,z.m,ne.c,tn.b,H.b,an.b]]}),Ln),jn=s("LJN2"),Un=((An=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||An)},An.\u0275mod=u["\u0275\u0275defineNgModule"]({type:An}),An.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[jn.a,N.c,p.k,Ct.a]]}),An),Bn=s("zJTi"),Gn=((Nn=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||Nn)},Nn.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Nn}),Nn.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[St.a,Ot.a,Rn,Un,k.b,Bn.a,N.c,p.k,Tt.c,Ct.a]]}),Nn),Vn=Uint8Array,Hn=Uint16Array,zn=Int32Array,$n=new Vn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qn=new Vn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Wn=new Vn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kn=function(e,t){for(var n=new Hn(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var r=new zn(n[30]);for(i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r:r}},Yn=Kn($n,2),Zn=Yn.b,Jn=Yn.r;Zn[28]=258,Jn[258]=28;for(var Qn=Kn(qn,0).b,Xn=new Hn(32768),ei=0;ei<32768;++ei){var ti=(43690&ei)>>1|(21845&ei)<<1;Xn[ei]=((65280&(ti=(61680&(ti=(52428&ti)>>2|(13107&ti)<<2))>>4|(3855&ti)<<4))>>8|(255&ti)<<8)>>1}var ni=function(e,t,n){for(var i=e.length,r=0,a=new Hn(t);r<i;++r)e[r]&&++a[e[r]-1];var o,s=new Hn(t);for(r=1;r<t;++r)s[r]=s[r-1]+a[r-1]<<1;if(n){o=new Hn(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var c=r<<4|e[r],d=t-e[r],u=s[e[r]-1]++<<d,m=u|(1<<d)-1;u<=m;++u)o[Xn[u]>>l]=c}else for(o=new Hn(i),r=0;r<i;++r)e[r]&&(o[r]=Xn[s[e[r]-1]++]>>15-e[r]);return o},ii=new Vn(288);for(ei=0;ei<144;++ei)ii[ei]=8;for(ei=144;ei<256;++ei)ii[ei]=9;for(ei=256;ei<280;++ei)ii[ei]=7;for(ei=280;ei<288;++ei)ii[ei]=8;var ri=new Vn(32);for(ei=0;ei<32;++ei)ri[ei]=5;var ai=ni(ii,9,1),oi=ni(ri,5,1),si=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},li=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&n},ci=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},di=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var i=new Vn(n-t);return i.set(e.subarray(t,n)),i},ui=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mi=function e(t,n,i){var r=new Error(n||ui[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,e),!i)throw r;return r},pi=new Vn(0),gi=function(e,t){return e[t]|e[t+1]<<8},hi=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},fi=function(e,t){return hi(e,t)+4294967296*hi(e,t+4)};function vi(e,t){return function(e,t,n,i){var r=e.length,a=i?i.length:0;if(!r||t.f&&!t.l)return n||new Vn(0);var o=!n||2!=t.i,s=t.i;n||(n=new Vn(3*r));var l,c=function(e){var t=n.length;if(e>t){var i=new Vn(Math.max(2*t,e));i.set(n),n=i}},d=t.f||0,u=t.p||0,m=t.b||0,p=t.l,g=t.d,h=t.m,f=t.n,v=8*r;do{if(!p){d=li(e,u,1);var C=li(e,u+1,3);if(u+=3,!C){var x=e[(l=u,(k=4+((l+7)/8|0))-4)]|e[k-3]<<8,b=k+x;if(b>r){s&&mi(0);break}o&&c(m+x),n.set(e.subarray(k,b),m),t.b=m+=x,t.p=u=8*b,t.f=d;continue}if(1==C)p=ai,g=oi,h=9,f=5;else if(2==C){var y=li(e,u,31)+257,S=li(e,u+10,15)+4,_=y+li(e,u+5,31)+1;u+=14;for(var I=new Vn(_),O=new Vn(19),E=0;E<S;++E)O[Wn[E]]=li(e,u+3*E,7);u+=3*S;var w=si(O),M=(1<<w)-1,P=ni(O,w,1);for(E=0;E<_;){var k,T=P[li(e,u,M)];if(u+=15&T,(k=T>>4)<16)I[E++]=k;else{var L=0,A=0;for(16==k?(A=3+li(e,u,3),u+=2,L=I[E-1]):17==k?(A=3+li(e,u,7),u+=3):18==k&&(A=11+li(e,u,127),u+=7);A--;)I[E++]=L}}var N=I.subarray(0,y),D=I.subarray(y);h=si(N),f=si(D),p=ni(N,h,1),g=ni(D,f,1)}else mi(1);if(u>v){s&&mi(0);break}}o&&c(m+131072);for(var F=(1<<h)-1,R=(1<<f)-1,j=u;;j=u){var U=(L=p[ci(e,u)&F])>>4;if((u+=15&L)>v){s&&mi(0);break}if(L||mi(2),U<256)n[m++]=U;else{if(256==U){j=u,p=null;break}var B=U-254;U>264&&(B=li(e,u,(1<<(H=$n[E=U-257]))-1)+Zn[E],u+=H);var G=g[ci(e,u)&R],V=G>>4;if(G||mi(3),u+=15&G,D=Qn[V],V>3){var H=qn[V];D+=ci(e,u)&(1<<H)-1,u+=H}if(u>v){s&&mi(0);break}o&&c(m+131072);var z=m+B;if(m<D){var $=a-D,q=Math.min(D,z);for($+m<0&&mi(3);m<q;++m)n[m]=i[$+m]}for(;m<z;m+=4)n[m]=n[m-D],n[m+1]=n[m+1-D],n[m+2]=n[m+2-D],n[m+3]=n[m+3-D];m=z}}t.l=p,t.p=j,t.b=m,t.f=d,p&&(d=1,t.m=h,t.d=g,t.n=f)}while(!d);return m==n.length?n:di(n,0,m)}(e,{i:2},t&&t.out,t&&t.dictionary)}var Ci="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ci.decode(pi,{stream:!0})}catch(qa){}var xi=function(e,t){return t+30+gi(e,t+26)+gi(e,t+28)},bi=function(e,t,n){var i=gi(e,t+28),r=function(e,t){if(t){for(var n="",i=0;i<e.length;i+=16384)n+=String.fromCharCode.apply(null,e.subarray(i,i+16384));return n}if(Ci)return Ci.decode(e);var r=function(e){for(var t="",n=0;;){var i=e[n++],r=(i>127)+(i>223)+(i>239);if(n+r>e.length)return{s:t,r:di(e,n-1)};r?3==r?(i=((15&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|i>>10,56320|1023&i)):t+=String.fromCharCode(1&r?(31&i)<<6|63&e[n++]:(15&i)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(i)}}(e),a=r.s;return(n=r.r).length&&mi(8),a}(e.subarray(t+46,t+46+i),!(2048&gi(e,t+8))),a=t+46+i,o=hi(e,t+20),s=n&&4294967295==o?yi(e,a):[o,hi(e,t+24),hi(e,t+42)],l=s[0],c=s[1],d=s[2];return[gi(e,t+10),l,c,r,a+gi(e,t+30)+gi(e,t+32),d]},yi=function(e,t){for(;1!=gi(e,t);t+=4+gi(e,t+2));return[fi(e,t+12),fi(e,t+4),fi(e,t+20)]};function Si(e,t){for(var n={},i=e.length-22;101010256!=hi(e,i);--i)(!i||e.length-i>65558)&&mi(13);var r=gi(e,i+8);if(!r)return{};var a=hi(e,i+16),o=4294967295==a||65535==r;if(o){var s=hi(e,i-12);(o=101075792==hi(e,s))&&(r=hi(e,s+32),a=hi(e,s+48))}for(var l=t&&t.filter,c=0;c<r;++c){var d=bi(e,a,o),u=d[0],m=d[1],p=d[2],g=d[3],h=d[4],f=xi(e,d[5]);a=h,l&&!l({name:g,size:m,originalSize:p,compression:u})||(u?8==u?n[g]=vi(e.subarray(f,f+m),{out:new Vn(p)}):mi(14,"unknown compression type "+u):n[g]=di(e,f,f+m))}return n}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var _i=s("JcrP"),Ii=s("vvTe"),Oi=s("mE1D"),Ei=s("cHiK"),wi=s("T0RT"),Mi=function(){return{standalone:!0}};function Pi(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div"),u["\u0275\u0275elementStart"](2,"mg-file-input",1),u["\u0275\u0275listener"]("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().files=e}))("ngModelChange",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onFileInputChange()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("showFileDetails",!1)("dropOnElementOnly",!0)("multiple",!0)("ngModelOptions",u["\u0275\u0275pureFunction0"](5,Mi))("ngModel",i.files)}}function ki(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",2),u["\u0275\u0275element"](2,"div",3),u["\u0275\u0275elementStart"](3,"h2"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](n.files[0].name)}}var Ti,Li,Ai=((Ti=function(){function e(t){d(this,e),this.matDialog=t,this.studentFileUploaded=new u.EventEmitter,this.fileProcessed=!1,this.files=[]}return m(e,[{key:"ngOnInit",value:function(){}},{key:"onFileInputChange",value:function(){this.files&&0!==this.files.length&&this.files[0]&&this._launchXlsUploader(this.files[0])}},{key:"_launchXlsUploader",value:function(e){var t=this,n=new Oi.d,i=new Oi.r,r=new Oi.l,a=new Oi.f,o=new Oi.k,s=new Oi.e;this.matDialog.open(Ei.a,{data:{fields:[n,i,r,a,o,s],file:e,allowNoIdField:!0,onValidate:function(e){for(var t=[],l=0;l<e.length;l++){var c=e[l],d=n.getValue(c),u=i.getValue(c),m=r.getValue(c),p=a.getValue(c),g=o.getValue(c);d||u||m||p&&g||t.push({recordIndex:l,errors:["Missing an email, studentId, name or first name and last name field"]}),s.getValue(c)||t.push({recordIndex:l,errors:["Missing a required field: File Name"]})}return{formatErrors:[],rowErrors:t}}},panelClass:"mg-no-padding-dialog"}).afterClosed().subscribe((function(e){e.length>0&&(t.fileProcessed=!0,t.studentFileUploaded.emit(e))}))}}]),e}()).\u0275fac=function(e){return new(e||Ti)(u["\u0275\u0275directiveInject"](Jt.b))},Ti.\u0275cmp=u["\u0275\u0275defineComponent"]({type:Ti,selectors:[["mg-student-id-map-file-upload"]],outputs:{studentFileUploaded:"studentFileUploaded"},decls:2,vars:2,consts:[[4,"ngIf"],["name","uploader-input","icon","upload-icon-o","customTitleText","First Upload Student File","helperText","Drag and Drop ID File to Upload","customBottomText","(click to browse)","accept",".xls, .xlsx, .csv","compactIcon","list_file-o",3,"showFileDetails","dropOnElementOnly","multiple","ngModelOptions","ngModel","ngModelChange"],[1,"successful-upload"],[1,"success-checkmark"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,Pi,3,6,"ng-container",0),u["\u0275\u0275template"](1,ki,5,1,"ng-container",0)),2&e&&(u["\u0275\u0275property"]("ngIf",!t.fileProcessed),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.fileProcessed))},directives:[N.o,wi.a,z.t,z.w],styles:[".success-checkmark[_ngcontent-%COMP%]{background-color:#fff;color:#4caf50;-webkit-mask-image:url(/assets/icon/checkmark.svg);mask-image:url(/assets/icon/checkmark.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:.6em;mask-size:.6em;background-color:#4caf50;background-size:200px;-webkit-mask-size:40px;transform:none;display:inline-block;height:22px;width:100%;margin:20px 0 0}.successful-upload[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50;font-size:18px;font-weight:700;padding:0;margin:10px 0 20px}"],changeDetection:0}),Ti),Ni=s("B3cG"),Di=function(){return{standalone:!0}},Fi=((Li=function(){function e(){d(this,e),this.files=[],this.customTitleText=null,this.customBottomText=null,this.helperText="",this.accept=Ni.a,this.filesSelected=new u.EventEmitter}return m(e,[{key:"ngOnInit",value:function(){}},{key:"onFileSelected",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.files&&0!==this.files.length&&this.files[0],!e.t0){e.next=4;break}return e.next=4,this.filesSelected.emit(this.files);case 4:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Li)},Li.\u0275cmp=u["\u0275\u0275defineComponent"]({type:Li,selectors:[["mg-student-id-mass-uploader"]],inputs:{customTitleText:"customTitleText",customBottomText:"customBottomText",helperText:"helperText",accept:"accept"},outputs:{filesSelected:"filesSelected"},decls:1,vars:10,consts:[["name","uploader-input","icon","upload-icon-o",3,"showFileDetails","dropOnElementOnly","multiple","accept","ngModelOptions","customTitleText","helperText","customBottomText","ngModel","ngModelChange"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mg-file-input",0),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.files=e}))("ngModelChange",(function(){return t.onFileSelected()})),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("showFileDetails",!1)("dropOnElementOnly",!0)("multiple",!0)("accept",t.accept)("ngModelOptions",u["\u0275\u0275pureFunction0"](9,Di))("customTitleText",t.customTitleText)("helperText",t.helperText)("customBottomText",t.customBottomText)("ngModel",t.files)},directives:[wi.a,z.t,z.w],styles:[""],changeDetection:0}),Li),Ri=s("pzvA"),ji=s("BTe0");function Ui(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Bi(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,Ui,1,0,"ng-container",8),u["\u0275\u0275elementContainerEnd"]()),2&e){u["\u0275\u0275nextContext"]();var n=u["\u0275\u0275reference"](10);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Gi(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Vi(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,Gi,1,0,"ng-container",8),u["\u0275\u0275elementContainerEnd"]()),2&e){u["\u0275\u0275nextContext"]();var n=u["\u0275\u0275reference"](12);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Hi(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function zi(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,Hi,1,0,"ng-container",8),u["\u0275\u0275elementContainerEnd"]()),2&e){u["\u0275\u0275nextContext"]();var n=u["\u0275\u0275reference"](14);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",n)}}function $i(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",9),u["\u0275\u0275elementStart"](1,"div",10),u["\u0275\u0275elementStart"](2,"div",11),u["\u0275\u0275elementStart"](3,"h2"),u["\u0275\u0275text"](4,"Option 1"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"mg-student-id-map-file-upload",12),u["\u0275\u0275listener"]("studentFileUploaded",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onStudentIdMapFileUpload(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mg-student-id-mass-uploader",13),u["\u0275\u0275listener"]("filesSelected",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onImagesSelected(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",14),u["\u0275\u0275elementStart"](8,"p"),u["\u0275\u0275text"](9," Each file should contain a column for the student ID and the photo file name "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"div",15),u["\u0275\u0275elementStart"](11,"h2"),u["\u0275\u0275text"](12,"Option 2"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"mg-student-id-mass-uploader",16),u["\u0275\u0275listener"]("filesSelected",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onImagesSelected(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"div",14),u["\u0275\u0275elementStart"](15,"p"),u["\u0275\u0275text"](16," Default file names for photos must be [idnumber.jpg] or [idnumber.png]. "),u["\u0275\u0275element"](17,"br"),u["\u0275\u0275text"](18,"Ex: 422309.jpg"),u["\u0275\u0275element"](19,"br"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"p"),u["\u0275\u0275element"](21,"br"),u["\u0275\u0275text"](22," For best results, upload in small batches of a few hundred images, and make sure the images you are uploading are less than 1mb in size each. "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}}function qi(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",22),u["\u0275\u0275elementStart"](2,"strong"),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](4,"br"),u["\u0275\u0275elementStart"](5,"span"),u["\u0275\u0275text"](6),u["\u0275\u0275pipe"](7,"async"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate2"](" Uploaded ",n," of ",i.totalFileCount," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"]("Currently Uploading ",u["\u0275\u0275pipeBind1"](7,3,i.currentFileName$),"...")}}function Wi(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",23),u["\u0275\u0275element"](2,"mat-progress-bar",24),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("value",n/i.totalFileCount*100)}}function Ki(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",17),u["\u0275\u0275elementStart"](1,"div",18),u["\u0275\u0275element"](2,"div",19),u["\u0275\u0275template"](3,qi,8,5,"ng-container",4),u["\u0275\u0275pipe"](4,"async"),u["\u0275\u0275template"](5,Wi,3,1,"ng-container",4),u["\u0275\u0275pipe"](6,"async"),u["\u0275\u0275elementStart"](7,"div",20),u["\u0275\u0275elementStart"](8,"mg-button-outline",21),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onUploadCancelled()})),u["\u0275\u0275text"](9,"Cancel Upload"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",u["\u0275\u0275pipeBind1"](4,2,i.currentCount$)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",u["\u0275\u0275pipeBind1"](6,4,i.currentCount$))}}function Yi(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",28),u["\u0275\u0275elementStart"](1,"div",29),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"div",30),u["\u0275\u0275elementStart"](4,"mg-button-outline",21),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onDownloadErrorsClicked()})),u["\u0275\u0275text"](5," Download All Errors "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" There's ",i.uploadErrors.length>1?i.uploadErrors.length+" errors":i.uploadErrors.length+" error"," to resolve. ")}}function Zi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",25),u["\u0275\u0275elementStart"](1,"h2",26),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](3,Yi,6,1,"div",27),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" Successfully imported ",n.successfulUploads>1?n.successfulUploads+" images":n.successfulUploads+" image"," to the list. "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.uploadErrors.length>0)}}var Ji,Qi,Xi,er,tr=function(e){return e[e.SETUP=1]="SETUP",e[e.UPLOADING=2]="UPLOADING",e[e.SUMMARY=3]="SUMMARY",e}({}),nr=((Ji=function(){function e(t,n,i){d(this,e),this.studentIdService=t,this.studentIdImageService=n,this._cdr=i,this.listUploaderRows=[],this.uploadErrors=[],this.files=[],this.enablePhotoUpload=!1,this.currentUploadState=tr.SETUP,this.uploadStates=tr,this.totalFileCount=0,this.successfulUploads=0,this.uploadCanceled=!1,this.currentFileSubject=new v.a(""),this.currentFileName$=this.currentFileSubject.asObservable(),this.currentCountSubject=new v.a(0),this.currentCount$=this.currentCountSubject.asObservable(),this.fileMap=new Map}return m(e,[{key:"ngOnInit",value:function(){}},{key:"onStudentIdMapFileUpload",value:function(e){this.listUploaderRows=e,this.enablePhotoUpload=!0}},{key:"getMimeTypeFromArrayBuffer",value:function(e){if(e.length>=4){for(var t=new Array(4),n=0;n<4;n++)t[n]=e[n].toString(16);switch(t.join("").toUpperCase()){case"89504E47":return"image/png";case"47494638":return"image/gif";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";default:return null}}return null}},{key:"onImagesSelected",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function i(){var r,a,o,s,l,d,u,m,p,g,h,f,v;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=[],a=t(e),i.prev=2,a.s();case 4:if((o=a.n()).done){i.next=17;break}if("application/zip"!==(s=o.value).type){i.next=14;break}return i.next=9,s.arrayBuffer();case 9:for(l=i.sent,d=Si(new Uint8Array(l)),u=0,m=Object.entries(d);u<m.length;u++)p=n(m[u],2),g=p[0],h=p[1],(null==(f=this.getMimeTypeFromArrayBuffer(h))?void 0:f.includes("image"))&&(v=new File([h],g,{type:f}),r.push(v));i.next=15;break;case 14:r.push(s);case 15:i.next=4;break;case 17:i.next=22;break;case 19:i.prev=19,i.t0=i.catch(2),a.e(i.t0);case 22:return i.prev=22,a.f(),i.finish(22);case 25:this.files=r,this.totalFileCount=e.length,this.currentUploadState=tr.UPLOADING,this.triggerIdUploads();case 26:case"end":return i.stop()}}),i,this,[[2,19,22,25]])})))}},{key:"onDownloadErrorsClicked",value:function(){this.downloadXlsx()}},{key:"onUploadCancelled",value:function(){this.uploadCanceled=!0}},{key:"triggerIdUploads",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.listUploaderRows.length>0)){e.next=5;break}return e.next=3,this._uploadIdsUsingList();case 3:e.next=7;break;case 5:return e.next=7,this._uploadIdsUsingImageFileNames();case 7:this.currentUploadState=tr.SUMMARY,this.uploadCanceled=!1,this._cdr.markForCheck();case 10:case"end":return e.stop()}}),e,this)})))}},{key:"_uploadIdsUsingList",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t,n,i,r,a=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="studentId",n=this.listUploaderRows[0],i=!1,n.studentId?t="studentId":n.email?t="email":n.name?t="name":n.firstName&&n.lastName&&(t="name",i=!0),r=new Map,e.next=7,this._getAllIdsInMinga();case 7:return e.sent.forEach((function(e){r.set(e[t],e)})),this.listUploaderRows.forEach((function(e){var t=e.fileName;Array.isArray(t)||a.fileMap.set(t,e)})),e.next=11,this._processFiles((function(e){var n=a.fileMap.get(e.name);if(!n)throw new Error("File was not in map file");var o=n[t];if(i&&(o=(new Oi.f).getValue(n).toLowerCase()+" "+(new Oi.k).getValue(n).toLowerCase()),!Array.isArray(o))return r.get(o)}));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"_uploadIdsUsingImageFileNames",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Map,e.next=3,this._getAllIdsInMinga();case 3:return e.sent.forEach((function(e){t.set(e.studentId,e)})),e.next=6,this._processFiles((function(e){var n=Object(Ii.getFileTitle)(e.name);return t.get(n)}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"_processFiles",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){var n,i,r=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c().mark((function t(){var n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.files[i],r.currentCountSubject.next(i),r.currentFileSubject.next(n.name),!r.uploadCanceled){t.next=5;break}r.uploadErrors.push({fileName:n.name,errors:["Upload cancelled"]}),t.next=18;break;case 5:if(t.prev=5,!(a=e(n))){t.next=12;break}return t.next=10,r._uploadFile(n,a.personHash).catch((function(e){r.uploadErrors.push({fileName:n.name,errors:[e.message]})}));case 10:t.next=13;break;case 12:r.uploadErrors.push({fileName:n.name,errors:["No matching person in Minga"]});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),r.uploadErrors.push({fileName:n.name,errors:[t.t0]});case 18:case"end":return t.stop()}}),t,null,[[5,15]])})),i=0;case 2:if(!(i<this.files.length)){t.next=7;break}return t.delegateYield(n(),"t0",4);case 4:i++,t.next=2;break;case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_getAllIdsInMinga",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.studentIdService.getAllIdListItemsInMinga();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_uploadFile",value:function(e,t){return Object(g.a)(this,void 0,void 0,c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.studentIdImageService.uploadFile(e,t);case 2:return n.next=4,this._saveToBackend(t+"."+Object(Ii.getFileExtension)(e.name),t);case 4:this.successfulUploads++;case 5:case"end":return n.stop()}}),n,this)})))}},{key:"_saveToBackend",value:function(e,t){return Object(g.a)(this,void 0,void 0,c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.studentIdService.bulkUpdateStudentIdImage([{fileName:e,personHash:t}]));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"downloadXlsx",value:function(){var e=this._createXlsxWorkbook();_i.c(e,"id-upload-errors.xlsx")}},{key:"_createXlsxWorkbook",value:function(){var e=_i.b.book_new(),t=this.uploadErrors.map((function(e,t){var n;return n=Array.isArray(e.errors)?e.errors.join("\n"):e.errors,[e.fileName,n]}));t.unshift(["File name","Errors"]);var n=_i.b.aoa_to_sheet(t,{cellDates:!0});return n["!cols"]||(n["!cols"]=[]),_i.b.book_append_sheet(e,n),e}}]),e}()).\u0275fac=function(e){return new(e||Ji)(u["\u0275\u0275directiveInject"](_.a),u["\u0275\u0275directiveInject"](K.a),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef))},Ji.\u0275cmp=u["\u0275\u0275defineComponent"]({type:Ji,selectors:[["mg-student-id-mass-upload-page"]],decls:15,vars:3,consts:[[1,"manager-overlay-subpage-header"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutAlign","start center","fxLayoutAlign.lt-sm","start stretch","fxLayoutGap.lt-sm","15px"],["fxFlex","grow"],["fxLayout","row"],[4,"ngIf"],["setupTpl",""],["uploadingTpl",""],["summaryTpl",""],[4,"ngTemplateOutlet"],["fxLayout","row","fxLayoutAlign","center start",1,"uploader-container"],["fxLayout","row","fxLayout.xs","column"],["fxLayout","column","fxLayoutAlign","start center","fxFlex","50%","fxFlex.xs","100%",1,"column"],[3,"studentFileUploaded"],["customTitleText","Then Upload Photos","helperText","Drag and Drop Photos to Upload","customBottomText","(click to browse)",3,"filesSelected"],[1,"student-id-mass-uploader-helper-text"],["fxLayout","column","fxLayoutAlign","start center","fxFlex","50%","fxFlex.xs","100%","fxFlexAlign","auto",1,"column"],["customTitleText","Upload Photos or Zip files and assign them to your student list within Minga automatically by file name","customBottomText","(click to browse)","accept","image/jpeg,image/png,image/gif,application/zip",3,"filesSelected"],[1,"progress-container"],["fxLayout","column",1,"progress-inner"],[1,"progress-inner-loader"],["fxLayout","row","fxLayoutAlign","center center"],[3,"click"],[1,"progress-inner-text"],["fxLayoutAlign","center center",1,"progress-bar"],[3,"value"],[1,"summary-container"],[1,"success"],["fxLayout","row","fxLayoutAlign","space-between center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"error"],["fxLayoutAlign","end center"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275elementStart"](3,"h2"),u["\u0275\u0275text"](4,"Mass Photo Upload"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",3),u["\u0275\u0275template"](6,Bi,2,1,"ng-container",4),u["\u0275\u0275template"](7,Vi,2,1,"ng-container",4),u["\u0275\u0275template"](8,zi,2,1,"ng-container",4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](9,$i,23,0,"ng-template",null,5,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](11,Ki,10,6,"ng-template",null,6,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](13,Zi,4,2,"ng-template",null,7,u["\u0275\u0275templateRefExtractor"])),2&e&&(u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngIf",t.currentUploadState==t.uploadStates.SETUP),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.currentUploadState==t.uploadStates.UPLOADING),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.currentUploadState==t.uploadStates.SUMMARY))},directives:[A.e,A.d,A.f,A.b,N.o,N.t,Ai,Fi,A.a,Ri.a,ji.a],pipes:[N.b],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}.manager-overlay-subpage[_ngcontent-%COMP%]{margin-bottom:3.5294117647rem}.manager-overlay-subpage-header[_ngcontent-%COMP%]{background:#f4f4f4;padding:1.1764705882rem 20%;box-sizing:border-box;margin:-20px -20% 0;width:calc(140%)}.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;display:block}}.manager-overlay-subpage-content[_ngcontent-%COMP%]{flex:1;padding:1.1764705882rem 0;box-sizing:border-box}.manager-overlay-subpage-content.white-bg[_ngcontent-%COMP%]{background-color:#fff}.quick-action-container[_ngcontent-%COMP%]{margin-bottom:1.1764705882rem}.quick-action-container[_ngcontent-%COMP%]:empty{display:none}.quick-action-btn[_ngcontent-%COMP%]{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;border-radius:0;text-align:inherit;box-shadow:none;color:inherit;font:inherit;padding:0;margin:0;background:none;border:none;outline:none;box-sizing:border-box;cursor:pointer;font-size:.8823529412rem;color:#036;display:inline-flex;align-items:center;justify-content:center;--mg-icon-size:20px}.quick-action-btn[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:.2941176471rem}.quick-action-btn[_ngcontent-%COMP%]:hover{opacity:.7}@media print,screen and (max-width:37.49875em){.quick-action-btn[_ngcontent-%COMP%]{display:none}}.manager-layout-loading-container[_ngcontent-%COMP%]{padding:2.9411764706rem 0}.header-title[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.header-title[_ngcontent-%COMP%]{text-align:center;display:block}}.column[_ngcontent-%COMP%]{padding:40px}.column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#036;font-size:23px;padding:0;margin:0 0 10px;display:block;text-align:center;font-weight:700}mg-student-id-map-file-upload[_ngcontent-%COMP%], mg-student-id-mass-uploader[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:6px;padding:0 10px;background:#fff;margin-bottom:20px;max-width:500px;width:100%;text-align:center;line-height:1.2;box-sizing:border-box;box-shadow:0 0 6px rgba(0,0,0,.17)}mg-student-id-map-file-upload[_ngcontent-%COMP%]     .drop-area .icon-o, mg-student-id-mass-uploader[_ngcontent-%COMP%]     .drop-area .icon-o{width:40px!important;height:40px!important;padding:0;color:#036!important;margin:0 auto!important}mg-student-id-map-file-upload[_ngcontent-%COMP%]     .drop-area h2 .text, mg-student-id-mass-uploader[_ngcontent-%COMP%]     .drop-area h2 .text{font-size:23px!important;line-height:1.2}mg-student-id-map-file-upload[_ngcontent-%COMP%]     .drop-area .sub-text, mg-student-id-mass-uploader[_ngcontent-%COMP%]     .drop-area .sub-text{color:#036!important;font-weight:700!important;font-size:16px;font-weight:400!important;margin-bottom:5px!important}mg-student-id-map-file-upload[_ngcontent-%COMP%]     .drop-area .sub-text:last-child, mg-student-id-mass-uploader[_ngcontent-%COMP%]     .drop-area .sub-text:last-child{margin-bottom:0!important}mg-student-id-map-file-upload[_ngcontent-%COMP%]:last-child, mg-student-id-mass-uploader[_ngcontent-%COMP%]:last-child{margin-bottom:0}.student-id-mass-uploader-helper-text[_ngcontent-%COMP%]{text-align:center}.student-id-mass-uploader-helper-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#036;max-width:400px;font-size:16px;margin:0;padding:0 15px;box-sizing:border-box}.progress-inner[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]{width:80%;max-width:1152px;padding-top:100px;margin:0 auto;box-sizing:border-box}@media (min-width:768px){.progress-inner[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]{width:100%;padding:16px}}.progress-container[_ngcontent-%COMP%]{width:100%}.progress-bar[_ngcontent-%COMP%]{width:25%;margin:auto;padding-bottom:10px;padding-top:10px}.progress-inner[_ngcontent-%COMP%]{margin-top:30px}.progress-inner-text[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;span-font-size:15px}.progress-inner-loader[_ngcontent-%COMP%]{width:270px;height:280px;margin:0 auto 50px;position:relative}.progress-inner-loader[_ngcontent-%COMP%]:after, .progress-inner-loader[_ngcontent-%COMP%]:before{display:block;content:"";width:162px;height:204px;position:absolute;background-size:cover;animation:swing .75s ease-in-out infinite alternate}.progress-inner-loader[_ngcontent-%COMP%]:before{background-image:url(/assets/student-id/id-placeholder-girl.svg);left:0;top:0}.progress-inner-loader[_ngcontent-%COMP%]:after{background-image:url(/assets/student-id/id-placeholder-boy.svg);right:0;bottom:0}@keyframes swing{0%{transform:rotate(3deg)}to{transform:rotate(-3deg)}}.summary-container[_ngcontent-%COMP%]   h2.success[_ngcontent-%COMP%]{color:#4ba083;font-size:27px;font-weight:700;padding:0;margin:0}.error[_ngcontent-%COMP%]{color:#ce6560;padding:15px 0;margin:0;font-size:23px;font-weight:700}.uploader-container[_ngcontent-%COMP%]{width:100%}'],changeDetection:0}),Ji),ir=s("9F0b"),rr=((er=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||er)},er.\u0275mod=u["\u0275\u0275defineNgModule"]({type:er}),er.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[Ei.b,St.a,ir.c,z.m,N.c]]}),er),ar=((Xi=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||Xi)},Xi.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Xi}),Xi.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[ir.c,N.c,z.m]]}),Xi),or=((Qi=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||Qi)},Qi.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Qi}),Qi.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[rr,ar,St.a,N.c,ji.b,Ct.a]]}),Qi),sr=s("tfHx"),lr=s("Ggka"),cr=function(e){return e.MODAL_TITLE="Select an Image",e.BUTTON_LABEL_SAVE="Select",e.BUTTON_LABEL_PENDING_UPLOAD="Uploading...",e}({}),dr=s("yaoB"),ur=s("jcBT"),mr=s("StFh");function pr(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function gr(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function hr(e,t){if(1&e&&u["\u0275\u0275template"](0,gr,1,0,"ng-container",1),2&e){u["\u0275\u0275nextContext"]();var n=u["\u0275\u0275reference"](8);u["\u0275\u0275property"]("ngTemplateOutlet",n)}}function fr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",10),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=t.$implicit;return u["\u0275\u0275nextContext"](2).updateSelectedBanner(e)})),u["\u0275\u0275element"](1,"mg-image",11),u["\u0275\u0275pipe"](2,"mgImageUrls"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275classProp"]("selected-border",i.getBannerHash()==r.selectedBannerHash),u["\u0275\u0275property"]("srcs",u["\u0275\u0275pipeBind2"](2,3,i.getImage(),r._imagePreviewSizes))}}function vr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",5),u["\u0275\u0275elementStart"](1,"div",6),u["\u0275\u0275elementStart"](2,"div",7),u["\u0275\u0275elementStart"](3,"mg-file-input-upload",8),u["\u0275\u0275listener"]("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().selectedAssetPath=e}))("onFileUpload",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().saveUploadedAsset(e)}))("onStatusChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onStatusChange(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,fr,3,6,"div",9),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275classProp"]("selected-border",i.selectedAssetPath),u["\u0275\u0275property"]("showFileDetails",!1)("ngModel",i.selectedAssetPath),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",i.stickerImageList)}}function Cr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",12),u["\u0275\u0275elementStart"](1,"div"),u["\u0275\u0275elementStart"](2,"mg-generic-button",13),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onSubmit()})),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("isDisabled",!i.canSubmit),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",i.canSubmit?i.MESSAGES.BUTTON_LABEL_SAVE:i.MESSAGES.BUTTON_LABEL_PENDING_UPLOAD," ")}}var xr,br,yr=((xr=function(){function e(t,n){d(this,e),this.data=t,this._modalOverlay=n,this.stickerImageList=[],this.selectedAssetPath="",this.selectedBannerHash="",this.MESSAGES=cr,this.modalBg=sr.c.PURPLE,this._uploadStatus="VALID",this._imagePreviewSizes=["blurloading1",["studio","bannerlibpreview","cardbanner"]],t.stickerImageList&&(this.stickerImageList=t.stickerImageList),t.assetPath?this.selectedAssetPath=t.assetPath:t.bannerHash&&(this.selectedBannerHash=t.bannerHash)}return m(e,[{key:"canSubmit",get:function(){return"PENDING"!==this._uploadStatus}},{key:"onSubmit",value:function(){this.canSubmit&&this._modalOverlay.close(sr.f.SUBMIT,{assetPath:this.selectedAssetPath,bannerHash:this.selectedBannerHash,bannerImage:this.selectedBannerImage})}},{key:"updateSelectedBanner",value:function(e){this.selectedBannerHash=e.getBannerHash(),this.selectedAssetPath="",this.selectedBannerImage=e.getImage()}},{key:"saveUploadedAsset",value:function(e){this.selectedBannerHash=""}},{key:"onStatusChange",value:function(e){this._uploadStatus=e}}]),e}()).\u0275fac=function(e){return new(e||xr)(u["\u0275\u0275directiveInject"](sr.b),u["\u0275\u0275directiveInject"](sr.d))},xr.\u0275cmp=u["\u0275\u0275defineComponent"]({type:xr,selectors:[["mg-sticker-selector-dialog"]],decls:9,vars:4,consts:[["size","auto",3,"overlayTitle","headerBackground","isLoading"],[4,"ngTemplateOutlet"],["overlayFooter",""],["mainContent",""],["modalFooterTemplate",""],[1,"stickers-container"],["fxLayout","row wrap","fxLayoutAlign","center","fxLayoutGap","15px"],[1,"sticker-item","image-uploader"],["accept","image/*","icon","camera","customTitleText","Upload Your Own","previewAspectRatio","2:1",1,"sticker-image-uploader",3,"showFileDetails","ngModel","ngModelChange","onFileUpload","onStatusChange"],["class","sticker-item",3,"click",4,"ngFor","ngForOf"],[1,"sticker-item",3,"click"],[3,"srcs"],["fxLayout","row","fxLayoutAlign","end center",1,"overlay-footer"],["colorTheme","aqua",3,"isDisabled","click"]],template:function(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mg-overlay-primary",0),u["\u0275\u0275elementContainerStart"](1),u["\u0275\u0275template"](2,pr,1,0,"ng-container",1),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275template"](3,hr,1,1,"ng-template",null,2,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,vr,5,5,"ng-template",null,3,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](7,Cr,4,2,"ng-template",null,4,u["\u0275\u0275templateRefExtractor"])),2&e){var n=u["\u0275\u0275reference"](6);u["\u0275\u0275property"]("overlayTitle",t.MESSAGES.MODAL_TITLE)("headerBackground",t.modalBg)("isLoading",!1),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",n)}},directives:[dr.a,N.t,A.e,A.d,A.f,Xt.a,z.t,z.w,N.n,ur.a,tt.a],pipes:[mr.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.stickers-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.sticker-item[_ngcontent-%COMP%]{height:80px;width:80px;margin:15px}.sticker-item[_ngcontent-%COMP%]   mg-image[_ngcontent-%COMP%]{height:100%;width:100%;cursor:pointer}@media print,screen and (min-width:37.5em){.sticker-item[_ngcontent-%COMP%]{height:110px;width:110px}}.image-uploader[_ngcontent-%COMP%]{position:relative}.image-uploader[_ngcontent-%COMP%]   mg-image[_ngcontent-%COMP%]{position:absolute}mg-file-input-upload[_ngcontent-%COMP%]{width:80px;height:80px;position:absolute;background-color:#f4f4f4;border-radius:50%;overflow:hidden;z-index:1;--mg-file-input-icon-size-desktop:30px;--mg-file-input-icon-size-mobile:30px;--mg-file-input-icon-color:#036}mg-file-input-upload[_ngcontent-%COMP%]  .drop-info .text{font-size:9px!important;margin-top:-8px}mg-file-input-upload[_ngcontent-%COMP%]  .file-input-upload{padding-bottom:100%!important}@media print,screen and (min-width:37.5em){mg-file-input-upload[_ngcontent-%COMP%]{height:110px;width:110px}}.selected-border[_ngcontent-%COMP%]{border:3px solid transparent;outline:6px solid #e1c764;border-radius:50%}'],changeDetection:0}),xr),Sr=s("5H0S"),_r=function(e){return e.MODAL_TITLE_EDIT="Edit Sticker",e.MODAL_TITLE_NEW="Create Sticker",e.BUTTON_LABEL_SAVE="Save",e.BUTTON_LABEL_DELETE="Delete",e.BUTTON_LABEL_CANCEL="Cancel",e.BUTTON_LABEL_CREATE="Create",e.BUTTON_LABEL_SAVING="Saving",e.ERROR_SAVING="Failed to save sticker",e.ERROR_DELETING="Failed to delete your sticker, try again",e.DELETE_DIALOG_CONFIRM="Are you sure you want to delete this sticker?",e.DELETE_DIALOG_DISCARD="Are you sure you want to discard this sticker?",e.FIELD_LABEL_IMAGE="Select an Image",e.FIELD_LABEL_NAME="Name",e.FIELD_LABEL_PRIORITY="Priority (optional)",e.FIELD_LABEL_PRIORITY_HINT="Position the sticker further up/down the list. 0 represents the highest priority",e}({}),Ir=s("Fawd"),Or=s("AdbN"),Er=s("TNy8"),wr=((br=function(){function e(t){d(this,e),this._bannerLibrary=t}return m(e,[{key:"getStickerImageList",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Ir.BannerLibraryGetAllByType).setType(Or.BannerType.STICKER),e.next=4,this._bannerLibrary.getAllByType(t);case 4:return e.abrupt("return",e.sent.getBannersList());case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getStickerPath",value:function(e){return(null==e?void 0:e.assetPath)?e.assetPath:(null==e?void 0:e.bannerImage)?e.bannerImage:""}}]),e}()).\u0275fac=function(e){return new(e||br)(u["\u0275\u0275inject"](Er.BannerLibrary))},br.\u0275prov=u["\u0275\u0275defineInjectable"]({token:br,factory:br.\u0275fac,providedIn:"root"}),br),Mr=s("q1Ec");function Pr(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function kr(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}function Tr(e,t){if(1&e&&u["\u0275\u0275template"](0,kr,1,0,"ng-container",1),2&e){u["\u0275\u0275nextContext"]();var n=u["\u0275\u0275reference"](8);u["\u0275\u0275property"]("ngTemplateOutlet",n)}}var Lr=function(){return["bannerlibpreview","cardbanner"]},Ar=function(e){return["blurloading1",e]};function Nr(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"mg-image",13),u["\u0275\u0275pipe"](2,"mgImageUrls"),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("srcs",u["\u0275\u0275pipeBind2"](2,2,n.stickerImage,u["\u0275\u0275pureFunction1"](6,Ar,u["\u0275\u0275pureFunction0"](5,Lr))))("background-size","contain")}}function Dr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",14),u["\u0275\u0275elementStart"](1,"mg-icon"),u["\u0275\u0275text"](2,"camera"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())}function Fr(e,t){if(1&e&&u["\u0275\u0275element"](0,"mg-form-text-input",15),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("label",n.MESSAGES.FIELD_LABEL_NAME)("control",n.form.get(n.FORM_FIELDS.NAME))("placeholder",n.MESSAGES.FIELD_LABEL_NAME)}}function Rr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"mg-membership-list-table",16),u["\u0275\u0275listener"]("listUpdated",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onMembershipListChange(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hideHeader",!0)("lists",i.membershipList)}}var jr=function(){return{"min-width.px":620}};function Ur(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",5),u["\u0275\u0275elementStart"](1,"div",6),u["\u0275\u0275elementStart"](2,"div",7),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onOpenStickerDialogClicked()})),u["\u0275\u0275template"](3,Nr,3,8,"ng-container",8),u["\u0275\u0275template"](4,Dr,3,0,"ng-template",null,9,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementStart"](6,"label"),u["\u0275\u0275text"](7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](8,Fr,1,3,"mg-form-text-input",10),u["\u0275\u0275element"](9,"mg-form-text-input",11),u["\u0275\u0275template"](10,Rr,2,2,"ng-container",12),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](5),r=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("ngStyle.gt-md",u["\u0275\u0275pureFunction0"](10,jr)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",r.stickerImage)("ngIfElse",i),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](r.MESSAGES.FIELD_LABEL_IMAGE),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!r.isNoAccess),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("label",r.MESSAGES.FIELD_LABEL_PRIORITY)("hint",r.MESSAGES.FIELD_LABEL_PRIORITY_HINT)("control",r.form.get(r.FORM_FIELDS.PRIORITY))("step",1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!r.isNewItem)}}function Br(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275elementStart"](1,"mg-generic-button",19),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onClickDeleteConfirm()})),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("isRounded",!1),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",i.MESSAGES.BUTTON_LABEL_DELETE," ")}}function Gr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",17),u["\u0275\u0275template"](1,Br,3,2,"div",12),u["\u0275\u0275elementStart"](2,"div"),u["\u0275\u0275elementStart"](3,"mg-generic-button",18),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onSubmit()})),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("fxLayoutAlign",i.isNoAccess||i.isNewItem?"end center":"space-between center"),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!i.isNoAccess&&!i.isNewItem),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("isDisabled",!i.canSubmit),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",i.saveLabel," ")}}var Vr,Hr=function(e){return e.NAME="NAME",e.PRIORITY="PRIORITY",e.STICKER_IMAGE="STICKER_IMAGE",e}({}),zr=((Vr=function(){function t(n,i,r,a,o,s,l,c,u,m){var p;d(this,t),this.dialogData=n,this._editModalOverlayRef=i,this._fb=r,this._cdr=a,this._membershipManager=o,this._dialog=s,this._snackBar=l,this._stickerBanners=c,this._stickerModal=u,this._rootService=m,this.stickerImage="",this.formState="idle",this.MESSAGES=_r,this.FORM_FIELDS=Hr,this.isNewItem=!1,this._startedAsNewItem=!1,this.initialLoad=!1,this.isNoAccess=!1,this.modalBg=sr.c.PURPLE,this.form=this._fb.group((e(p={},Hr.NAME,["",[z.D.required,z.D.minLength(1),z.D.maxLength(25)]]),e(p,Hr.PRIORITY,[0,[lr.a.PositiveIntegerValidator()]]),e(p,Hr.STICKER_IMAGE,["",[z.D.required]]),p))}return m(t,[{key:"canSubmit",get:function(){return"submitting"!==this.formState&&(this.isNewItem?this.form.dirty&&this.form.valid:this.form.valid)}},{key:"membershipList",get:function(){return this.list?[{id:this.list.id}]:[{type:qt.MembershipListType.STICKER}]}},{key:"saveLabel",get:function(){return"submitting"===this.formState?this.MESSAGES.BUTTON_LABEL_SAVING:this.isNewItem?this.MESSAGES.BUTTON_LABEL_CREATE:this.MESSAGES.BUTTON_LABEL_SAVE}},{key:"ngOnInit",value:function(){var e,t,n,i=this;this.isNewItem=!(null===(t=null===(e=this.dialogData)||void 0===e?void 0:e.item)||void 0===t?void 0:t.id),this._startedAsNewItem=this.isNewItem,this.list=Object.assign({},(null===(n=this.dialogData)||void 0===n?void 0:n.item)||{}),this._listsUpdatedSub=this._membershipManager.listUpdated$.subscribe((function(e){e&&i._refreshList()}));var r=this.form.get(Hr.NAME),a=this.form.get(Hr.PRIORITY);r.setValue(this.list.name),a.setValue(this.list.priority),this._updateStickerPath(this.list),this.isNoAccess=this.list.listType===qt.MembershipListType.NO_ACCESS}},{key:"ngOnDestroy",value:function(){this._listsUpdatedSub.unsubscribe()}},{key:"onSubmit",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canSubmit){e.next=18;break}return this.formState="submitting",e.prev=2,t=this.form.get(Hr.NAME).value,n=this.form.get(Hr.PRIORITY).value,e.next=6,this._rootService.addLoadingPromise(this._updateList({name:t,priority:n}));case 6:if(this.list=e.sent,this.isNewItem){e.next=9;break}return e.abrupt("return",this._editModalOverlayRef.close(this._startedAsNewItem?sr.f.CREATE:sr.f.SUBMIT,{item:this.list}));case 9:this.isNewItem=!1,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),this._snackBar.open(_r.ERROR_SAVING);case 15:return e.prev=15,this.formState="idle",this._cdr.markForCheck(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})))}},{key:"_updateStickerPath",value:function(e){this.stickerImage=this._stickerBanners.getStickerPath(e),this.form.get(Hr.STICKER_IMAGE).setValue(this.stickerImage),this._cdr.markForCheck()}},{key:"_refreshList",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.isNewItem,e.t0){e.next=6;break}return e.next=4,this._membershipManager.getMembershipList(this.list.id);case 4:this.list=e.sent,this._cdr.markForCheck();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"_updateList",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object.assign(Object.assign({},this.list),e||{})).listType=qt.MembershipListType.STICKER,t.next=4,this._membershipManager.updateMembershipList(n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"onMembershipListChange",value:function(e){this.list=Object.assign({},e),this._cdr.markForCheck()}},{key:"onClickDeleteConfirm",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._dialog.open(Sr.a,{data:{text:{description:this.isNewItem?_r.DELETE_DIALOG_DISCARD:_r.DELETE_DIALOG_CONFIRM,deleteBtn:"Delete"}}}).afterClosed().subscribe((function(e){return Object(g.a)(t,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._deleteList(e);case 1:case"end":return t.stop()}}),t,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onOpenStickerDialogClicked",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){var t=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this._stickerModal,e.t1=yr,e.t2=this.list.assetPath,e.t3=this.list.bannerHash,e.next=6,this._getStickerList();case 6:e.t4=e.sent,e.t5={assetPath:e.t2,bannerHash:e.t3,stickerImageList:e.t4},e.t6={data:e.t5},e.t0.open.call(e.t0,e.t1,e.t6).afterClosed.subscribe((function(e){t._updateSticker(e)}));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"_updateSticker",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){var n,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:n=e.type,i=e.data,n===sr.f.SUBMIT&&(i.assetPath?(this.list.assetPath=i.assetPath,this.list.bannerHash=""):i.bannerHash&&(this.list.bannerHash=i.bannerHash,this.list.assetPath="",i.bannerImage&&(this.list.bannerImage=i.bannerImage)),this._updateStickerPath(this.list));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"_deleteList",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e&&e.confirmed&&!e.cancelled){t.next=3;break}return t.abrupt("return");case 3:if(!this.isNewItem){t.next=7;break}this._editModalOverlayRef.close(sr.f.CLOSE),t.next=10;break;case 7:return t.next=9,this._membershipManager.deleteMembershipList(this.list.id);case 9:this._editModalOverlayRef.close(sr.f.DELETE,{item:this.list});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),this._snackBar.open(_r.ERROR_DELETING);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"_getStickerList",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._stickerBanners.getStickerImageList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(e){return new(e||Vr)(u["\u0275\u0275directiveInject"](sr.b),u["\u0275\u0275directiveInject"](sr.d),u["\u0275\u0275directiveInject"](z.g),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](Kt.a),u["\u0275\u0275directiveInject"](Jt.b),u["\u0275\u0275directiveInject"](P.b),u["\u0275\u0275directiveInject"](wr),u["\u0275\u0275directiveInject"](sr.e),u["\u0275\u0275directiveInject"](w.a))},Vr.\u0275cmp=u["\u0275\u0275defineComponent"]({type:Vr,selectors:[["mg-sis-edit"]],decls:9,vars:4,consts:[["size","auto",3,"overlayTitle","headerBackground","isLoading"],[4,"ngTemplateOutlet"],["overlayFooter",""],["mainContent",""],["modalFooterTemplate",""],["fxLayout","column","fxLayoutAlign","start stretch","fxLayoutGap","15px",3,"ngStyle.gt-md"],[1,"image"],[3,"click"],[4,"ngIf","ngIfElse"],["placeholder",""],[3,"label","control","placeholder",4,"ngIf"],["inputType","number","widthSize","medium",3,"label","hint","control","step"],[4,"ngIf"],[1,"student-id-icon-custom",3,"srcs","background-size"],["fxLayoutAlign","center center",1,"placeholder-sticker"],[3,"label","control","placeholder"],[3,"hideHeader","lists","listUpdated"],["fxLayout","row",1,"overlay-footer",3,"fxLayoutAlign"],["colorTheme","aqua",3,"isDisabled","click"],["colorTheme","red","variant","clear","paddingSize","none",3,"isRounded","click"]],template:function(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mg-overlay-primary",0),u["\u0275\u0275elementContainerStart"](1),u["\u0275\u0275template"](2,Pr,1,0,"ng-container",1),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275template"](3,Tr,1,1,"ng-template",null,2,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,Ur,11,11,"ng-template",null,3,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](7,Gr,5,4,"ng-template",null,4,u["\u0275\u0275templateRefExtractor"])),2&e){var n=u["\u0275\u0275reference"](6);u["\u0275\u0275property"]("overlayTitle",t.isNewItem?t.MESSAGES.MODAL_TITLE_NEW:t.MESSAGES.MODAL_TITLE_EDIT)("headerBackground",t.modalBg)("isLoading",t.initialLoad),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",n)}},directives:[dr.a,N.t,A.e,A.d,A.f,et.c,N.o,Mr.a,ur.a,te.a,Yt.a,tt.a],pipes:[mr.a],styles:['.image[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;display:inline-block}.image[_ngcontent-%COMP%]   mg-image[_ngcontent-%COMP%]{height:50px;width:50px;margin:auto}.image[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#4ba0cb;font-weight:700;font-size:.8823529412rem;cursor:pointer}.membership-manage[_ngcontent-%COMP%]{flex-direction:column!important}.membership-manage[_ngcontent-%COMP%]:before{content:"";width:100%;border-top:1px solid #ccc;padding:.5882352941rem 0}.membership-manage[_ngcontent-%COMP%]:after{content:"";width:100%;border-bottom:1px solid #ccc;padding:.5882352941rem 0}'],changeDetection:0}),Vr),$r=function(e){return e.PAGE_TITLE="Sticker Types",e.BUTTON_LABEL_CREATE="Create Sticker",e.NO_RESULTS_TITLE="No ID stickers added yet",e.NO_RESULTS_MESSAGE="",e.SNACK_UPDATE_SUCCESS="Sticker Updated",e.SNACK_DELETE_SUCCESS="Sticker Deleted",e.SNACK_CREATE_SUCCESS="Sticker Created",e.SNACK_UPDATE_FAIL="Error Updating Sticker",e}({}),qr=s("o8tc"),Wr=s("944/"),Kr=s("LUZP"),Yr=s("OaSA"),Zr=s("QT1V"),Jr=function(e){return e.COLUMN_LABEL_NAME="Sticker Name",e.COLUMN_LABEL_MEMBER_COUNT="Members",e.COLUMN_LABEL_MANAGE_MEMBERS="Manage Members",e.COLUMN_LABEL_STATUS="Status",e.COLUMN_LABEL_EDIT="Edit",e}({}),Qr=["icon","name","memberCount","manageMembers","status","edit","mobile"],Xr=s("M4qg"),ea=s("4avL"),ta=s("fXzf");function na(e,t){1&e&&u["\u0275\u0275element"](0,"mat-header-cell")}var ia=function(e){return{$implicit:e}};function ra(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-cell"),u["\u0275\u0275elementContainer"](1,18),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275nextContext"]();var i=u["\u0275\u0275reference"](25);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",u["\u0275\u0275pureFunction1"](2,ia,n))}}function aa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-header-cell",19),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.COLUMN_LABEL_NAME," ")}}function oa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-cell"),u["\u0275\u0275elementStart"](1,"span"),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function sa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-header-cell",19),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.COLUMN_LABEL_MEMBER_COUNT," ")}}function la(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-cell"),u["\u0275\u0275elementStart"](1,"mg-button",20),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=t.$implicit;return u["\u0275\u0275nextContext"]().openMembersList(e)})),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",null==i?null:i.memberCount," ")}}function ca(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-header-cell",19),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.COLUMN_LABEL_MANAGE_MEMBERS," ")}}function da(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-cell"),u["\u0275\u0275elementContainer"](1,18),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275nextContext"]();var i=u["\u0275\u0275reference"](29);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",u["\u0275\u0275pureFunction1"](2,ia,n))}}function ua(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-header-cell",21),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.COLUMN_LABEL_STATUS," ")}}function ma(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-cell"),u["\u0275\u0275elementContainer"](1,18),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275nextContext"]();var i=u["\u0275\u0275reference"](27);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngTemplateOutlet",i)("ngTemplateOutletContext",u["\u0275\u0275pureFunction1"](2,ia,n))}}function pa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-header-cell"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.MESSAGES.COLUMN_LABEL_EDIT," ")}}function ga(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-cell"),u["\u0275\u0275elementStart"](1,"mg-generic-button",22),u["\u0275\u0275listener"]("onClick",(function(){u["\u0275\u0275restoreView"](n);var e=t.$implicit;return u["\u0275\u0275nextContext"]().openEditSticker(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hasRipples",!1)("isRounded",!1))}function ha(e,t){1&e&&u["\u0275\u0275element"](0,"mat-header-cell")}function fa(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-cell",23),u["\u0275\u0275elementStart"](1,"div",24),u["\u0275\u0275elementStart"](2,"div",25),u["\u0275\u0275elementStart"](3,"div",26),u["\u0275\u0275elementContainer"](4,18),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",27),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",26),u["\u0275\u0275elementStart"](8,"mg-generic-button",22),u["\u0275\u0275listener"]("onClick",(function(){u["\u0275\u0275restoreView"](n);var e=t.$implicit;return u["\u0275\u0275nextContext"]().openEditSticker(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"div",28),u["\u0275\u0275elementStart"](10,"div",26),u["\u0275\u0275elementContainer"](11,18),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"div",28),u["\u0275\u0275elementStart"](13,"div",26),u["\u0275\u0275elementContainer"](14,18),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;u["\u0275\u0275nextContext"]();var r=u["\u0275\u0275reference"](25),a=u["\u0275\u0275reference"](27),o=u["\u0275\u0275reference"](29);u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngTemplateOutlet",r)("ngTemplateOutletContext",u["\u0275\u0275pureFunction1"](9,ia,i)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",i.name," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hasRipples",!1)("isRounded",!1),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngTemplateOutlet",a)("ngTemplateOutletContext",u["\u0275\u0275pureFunction1"](11,ia,i)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngTemplateOutlet",o)("ngTemplateOutletContext",u["\u0275\u0275pureFunction1"](13,ia,i))}}function va(e,t){1&e&&u["\u0275\u0275element"](0,"mat-header-row")}function Ca(e,t){1&e&&u["\u0275\u0275element"](0,"mat-row")}var xa=function(){return["bannerlibpreview","cardbanner"]},ba=function(e){return["blurloading1",e]};function ya(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"mg-image",31),u["\u0275\u0275pipe"](2,"mgImageUrls"),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit,i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("srcs",u["\u0275\u0275pipeBind2"](2,1,i.getStickerPath(n),u["\u0275\u0275pureFunction1"](5,ba,u["\u0275\u0275pureFunction0"](4,xa))))}}function Sa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",29),u["\u0275\u0275template"](1,ya,3,7,"ng-container",30),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.getStickerPath(n))}}function _a(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mg-activate-deactivate-toggle-button",33),u["\u0275\u0275listener"]("onToggleStateChange",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"]().onChangeStatus(e)})),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275property"]("initialState",null==i?null:i.active)}}function Ia(e,t){if(1&e&&u["\u0275\u0275template"](0,_a,1,1,"mg-activate-deactivate-toggle-button",32),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("ngIf",n.listType!==i.listTypes.NO_ACCESS)}}function Oa(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",34),u["\u0275\u0275elementStart"](1,"mg-generic-button",35),u["\u0275\u0275listener"]("onClick",(function(){u["\u0275\u0275restoreView"](n);var e=t.$implicit;return u["\u0275\u0275nextContext"]().openAddMembers(e)})),u["\u0275\u0275text"](2," Add "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"mg-generic-button",36),u["\u0275\u0275listener"]("onClick",(function(){u["\u0275\u0275restoreView"](n);var e=t.$implicit;return u["\u0275\u0275nextContext"]().openRemoveMembers(e)})),u["\u0275\u0275text"](4," Remove "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"mg-generic-button",37),u["\u0275\u0275listener"]("onClick",(function(){u["\u0275\u0275restoreView"](n);var e=t.$implicit;return u["\u0275\u0275nextContext"]().openRemoveAllMembers(e)})),u["\u0275\u0275text"](6," Remove All "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("isRounded",!1),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("isRounded",!1)("isDisabled",0===(null==i?null:i.memberCount)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("isRounded",!1)("isDisabled",0===(null==i?null:i.memberCount))}}var Ea,wa=((Ea=function(){function e(t,n,i,r,a,o){d(this,e),this._stickerBannerService=t,this._modalOverlay=n,this._listService=i,this._cdr=r,this._matDialog=a,this._peopleSelector=o,this.dataSource=new Yr.k([]),this.DISPLAYED_COLUMNS=Qr,this.MESSAGES=Jr,this.listTypes=qt.MembershipListType,this.statusChange=new u.EventEmitter,this.openEditModal=new u.EventEmitter}return m(e,[{key:"data",set:function(e){this.dataSource.data=e,this.dataSource.sort=this.sort}},{key:"trackById",value:function(e,t){return t.id||e}},{key:"openEditSticker",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.openEditModal.emit(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"onChangeStatus",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.statusChange.emit(e);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getStickerPath",value:function(e){return this._stickerBannerService.getStickerPath(e)}},{key:"openMembersList",value:function(e){e.id&&this._modalOverlay.open(Zr.a,{data:{membershipListId:e.id},disposeOnNavigation:!1})}},{key:"openAddMembers",value:function(e){this._peopleSelector.open("List Membership","add",{title:e.name,data:{contextHash:e.contextHash,listId:e.id,listType:e.listType,name:e.name}})}},{key:"openRemoveMembers",value:function(e){this._peopleSelector.open("List Membership","remove",{title:e.name,data:{contextHash:e.contextHash,listId:e.id,listType:e.listType,name:e.name}})}},{key:"openRemoveAllMembers",value:function(e){var t=this;this._matDialog.open(Sr.a,{data:{text:{description:"Are you sure you want to remove all the members from ".concat(e.name,"?")}}}).afterClosed().subscribe((function(n){(null==n?void 0:n.confirmed)&&(t._listService.removeAllMembersFromList(e.id),t._cdr.markForCheck())}))}}]),e}()).\u0275fac=function(e){return new(e||Ea)(u["\u0275\u0275directiveInject"](wr),u["\u0275\u0275directiveInject"](sr.e),u["\u0275\u0275directiveInject"](Kt.a),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](Jt.b),u["\u0275\u0275directiveInject"](Xr.PeopleSelectorService))},Ea.\u0275cmp=u["\u0275\u0275defineComponent"]({type:Ea,selectors:[["mg-sis-table"]],viewQuery:function(e,t){var n;1&e&&(u["\u0275\u0275viewQuery"](Yr.j,1),u["\u0275\u0275viewQuery"](Kr.a,1)),2&e&&(u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.table=n.first),u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.sort=n.first))},inputs:{data:"data"},outputs:{statusChange:"statusChange",openEditModal:"openEditModal"},decls:30,vars:4,consts:[["matSort","",3,"dataSource","trackBy"],["matColumnDef","icon"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","memberCount"],["matColumnDef","manageMembers"],["matColumnDef","status"],["mat-sort-header","","class","status-header",4,"matHeaderCellDef"],["matColumnDef","edit"],["matColumnDef","mobile"],["class","mobile-block",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["assetTemplate",""],["statusTemplate",""],["manageMembersTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-sort-header",""],["type","clear",3,"click"],["mat-sort-header","",1,"status-header"],["colorTheme","navy","iconLeft","edit-o","size","large","paddingSize","none","variant","clear",3,"hasRipples","isRounded","onClick"],[1,"mobile-block"],["fxLayout","column","fxLayoutAlign","start stretch","fxLayoutGap","10px",1,"mobile-list"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px"],["fxFlex","nogrow"],["fxFlex","grow",1,"mobile-list-title"],["fxLayout","row","fxLayoutAlign","center center",1,"mobile-column-item"],[1,"image"],[4,"ngIf"],["background-size","contain",1,"student-id-icon-custom",3,"srcs"],["class","status-toggle",3,"initialState","onToggleStateChange",4,"ngIf"],[1,"status-toggle",3,"initialState","onToggleStateChange"],["fxLayout","flex","fxLayout","center center","fxLayoutGap","10px"],["colorTheme","navy","variant","secondary","size","xsmall","paddingSize","small",3,"isRounded","onClick"],["colorTheme","navy","variant","secondary","size","xsmall","paddingSize","small",3,"isRounded","isDisabled","onClick"],["colorTheme","red","variant","secondary","size","xsmall","paddingSize","small",3,"isRounded","isDisabled","onClick"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mat-table",0),u["\u0275\u0275elementContainerStart"](1,1),u["\u0275\u0275template"](2,na,1,0,"mat-header-cell",2),u["\u0275\u0275template"](3,ra,2,4,"mat-cell",3),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementContainerStart"](4,4),u["\u0275\u0275template"](5,aa,2,1,"mat-header-cell",5),u["\u0275\u0275template"](6,oa,3,1,"mat-cell",3),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementContainerStart"](7,6),u["\u0275\u0275template"](8,sa,2,1,"mat-header-cell",5),u["\u0275\u0275template"](9,la,3,1,"mat-cell",3),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementContainerStart"](10,7),u["\u0275\u0275template"](11,ca,2,1,"mat-header-cell",5),u["\u0275\u0275template"](12,da,2,4,"mat-cell",3),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementContainerStart"](13,8),u["\u0275\u0275template"](14,ua,2,1,"mat-header-cell",9),u["\u0275\u0275template"](15,ma,2,4,"mat-cell",3),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementContainerStart"](16,10),u["\u0275\u0275template"](17,pa,2,1,"mat-header-cell",2),u["\u0275\u0275template"](18,ga,2,2,"mat-cell",3),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementContainerStart"](19,11),u["\u0275\u0275template"](20,ha,1,0,"mat-header-cell",2),u["\u0275\u0275template"](21,fa,15,15,"mat-cell",12),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275template"](22,va,1,0,"mat-header-row",13),u["\u0275\u0275template"](23,Ca,1,0,"mat-row",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](24,Sa,2,1,"ng-template",null,15,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](26,Ia,1,1,"ng-template",null,16,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](28,Oa,7,5,"ng-template",null,17,u["\u0275\u0275templateRefExtractor"])),2&e&&(u["\u0275\u0275property"]("dataSource",t.dataSource)("trackBy",t.trackById),u["\u0275\u0275advance"](22),u["\u0275\u0275property"]("matHeaderRowDef",t.DISPLAYED_COLUMNS),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("matRowDefColumns",t.DISPLAYED_COLUMNS))},directives:[Yr.j,Kr.a,Yr.c,Yr.e,Yr.b,Yr.g,Yr.i,Yr.d,Yr.a,N.t,Kr.b,ea.a,tt.a,A.e,A.d,A.f,A.b,Yr.f,Yr.h,N.o,ur.a,ta.a],pipes:[mr.a],styles:[".mobile-list[_ngcontent-%COMP%]{width:100%}.mobile-list.more-details[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1);padding-top:10px;margin-top:10px}.mobile-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1);padding-bottom:10px}.mobile-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:only-child):last-child{border-bottom:none;padding-bottom:0}.mobile-list-title[_ngcontent-%COMP%]{font-size:1.1764705882rem;text-align:left}.mobile-list-label[_ngcontent-%COMP%]{text-align:left;color:rgba(0,0,0,.6)}.mobile-list-value[_ngcontent-%COMP%]{text-align:right}.mobile-list-status[_ngcontent-%COMP%]{margin-top:.8823529412rem}.mobile-list-view-more[_ngcontent-%COMP%]{margin-top:.5882352941rem}.more-details-container[_ngcontent-%COMP%]{overflow:hidden}.mobile-block[_ngcontent-%COMP%]{display:block}.empty-state-container[_ngcontent-%COMP%]   mg-empty-state[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.mat-column-infiniteScrollLoading[_ngcontent-%COMP%], .mat-column-staticLoading[_ngcontent-%COMP%]{width:100%;justify-content:center!important;align-items:center}.multiline-ellipsis[_ngcontent-%COMP%]{display:-webkit-box;max-width:100%;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}mat-table[_ngcontent-%COMP%]{background:none}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{border:none;padding:0 .4411764706rem}@media print,screen and (max-width:59.99875em){mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{display:none}}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{color:#b2b2b2;font-size:.8823529412rem;font-weight:700;margin:0 .4411764706rem;justify-content:start}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]{margin-bottom:.8823529412rem;padding:.5882352941rem .4411764706rem;background:#fff;border:none;border-radius:.2941176471rem;box-shadow:0 0 6px rgba(0,0,0,.15)}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{font-size:.9411764706rem;color:#073869;font-weight:600;margin:0 .4411764706rem;justify-content:start}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:0}mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}mat-paginator[_ngcontent-%COMP%]{background:none;display:block;margin-top:.8823529412rem}mat-paginator[_ngcontent-%COMP%]     .mat-paginator-container{padding:0}mat-paginator[_ngcontent-%COMP%]     .mat-paginator-range-label{margin:0 .4705882353rem 0 0;padding-top:.2941176471rem}mat-paginator[_ngcontent-%COMP%]     .mat-paginator-page-size-label{margin:0 .4705882353rem 0 0}mat-paginator[_ngcontent-%COMP%]     mat-form-field{width:auto;max-width:100px;margin:0}mat-paginator[_ngcontent-%COMP%]     mat-form-field .mat-form-field-wrapper{margin:0;padding:0}@media print,screen and (max-width:59.99875em){mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]{padding:1.1764705882rem}}.mat-column-edit[_ngcontent-%COMP%], .mat-column-icon[_ngcontent-%COMP%], .mat-column-manageMembers[_ngcontent-%COMP%], .mat-column-memberCount[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{display:none}@media print,screen and (min-width:60em){.mat-column-edit[_ngcontent-%COMP%], .mat-column-icon[_ngcontent-%COMP%], .mat-column-manageMembers[_ngcontent-%COMP%], .mat-column-memberCount[_ngcontent-%COMP%], .mat-column-name[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{display:flex}}.mat-column-icon[_ngcontent-%COMP%]{flex:0 3.5294117647rem}@media print,screen and (min-width:60em){.mat-column-name[_ngcontent-%COMP%]{flex:0 18%}}.mat-column-memberCount[_ngcontent-%COMP%]{flex:0 10%}.mat-column-manageMembers[_ngcontent-%COMP%], .mat-column-memberCount[_ngcontent-%COMP%], .mat-column-status[_ngcontent-%COMP%]{justify-content:center!important}.mat-column-edit[_ngcontent-%COMP%]{flex:0 1.7647058824rem}.mat-column-edit[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:30px}@media print,screen and (min-width:60em){.mat-column-mobile[_ngcontent-%COMP%]{display:none}}.mat-column-manageMembers[_ngcontent-%COMP%]{flex:0 18.8235294118rem}.image[_ngcontent-%COMP%]{width:100%}.image[_ngcontent-%COMP%]   mg-image[_ngcontent-%COMP%]{height:50px;width:50px;margin:auto}@media print,screen and (max-width:59.99875em){.image[_ngcontent-%COMP%]{max-width:30%}}mat-table[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   mat-header-cell.status-header[_ngcontent-%COMP%]{justify-content:center}.mobile-column-item[_ngcontent-%COMP%]{padding:.5882352941rem 0}.mobile-column-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.mobile-list-title[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"],changeDetection:0}),Ea);function Ma(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"h2",5),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.MESSAGES.PAGE_TITLE)}}function Pa(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275elementStart"](1,"div",7),u["\u0275\u0275elementStart"](2,"mg-generic-button",8),u["\u0275\u0275listener"]("onClick",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClickCreateSticker()})),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",i.MESSAGES.BUTTON_LABEL_CREATE," ")}}function ka(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mg-sis-table",9),u["\u0275\u0275listener"]("statusChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onStatusChange(e)}))("openEditModal",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onOpenEditModal(e)})),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("data",i.lists)}}function Ta(e,t){if(1&e&&u["\u0275\u0275element"](0,"mg-empty-state",10),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("title",n.MESSAGES.NO_RESULTS_TITLE)("subtitle",n.MESSAGES.NO_RESULTS_MESSAGE)}}var La,Aa,Na,Da={backdrop:sr.a.DARK_BLUE,disposeOnNavigation:!1,data:{}},Fa=((La=function(){function e(t,n,i,r,a){var o=this;d(this,e),this._cdr=t,this._stickersService=n,this._snackBar=i,this._membershipManager=r,this._modalOverlay=a,this.lists=[],this.loading=!0,this.MESSAGES=$r,this._listsUpdatedSub=this._membershipManager.listUpdated$.subscribe((function(e){e&&o._fetchLists()}))}return m(e,[{key:"ngOnInit",value:function(){this._fetchLists()}},{key:"ngOnDestroy",value:function(){var e;null===(e=this._listsUpdatedSub)||void 0===e||e.unsubscribe()}},{key:"_fetchLists",value:function(){return Object(g.a)(this,void 0,void 0,c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._stickersService.getStickersAndNoAccessList();case 3:this.lists=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this._snackBar.open("An error occured trying to fetch stickers. Please try again");case 9:return e.prev=9,this.loading=!1,this._cdr.markForCheck(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})))}},{key:"onClickCreateSticker",value:function(){this._openModal()}},{key:"_openModal",value:function(e){var t=this;this._modalOverlay.open(zr,Object.assign(Object.assign({},Da),{data:e||{}})).afterClosed.subscribe((function(e){if(e){var n=e.type;n===sr.f.SUBMIT&&t._snackBar.open($r.SNACK_UPDATE_SUCCESS),n===sr.f.DELETE&&t._snackBar.open($r.SNACK_DELETE_SUCCESS),n===sr.f.CREATE&&t._snackBar.open($r.SNACK_CREATE_SUCCESS),t._fetchLists()}}))}},{key:"onOpenEditModal",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._openModal({item:e});case 1:case"end":return t.stop()}}),t,this)})))}},{key:"onStatusChange",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e).active=!n.active,this._updateMembershipList(n);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"_updateMembershipList",value:function(e){return Object(g.a)(this,void 0,void 0,c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._membershipManager.updateMembershipList(e);case 3:this._snackBar.open($r.SNACK_UPDATE_SUCCESS),this._cdr.markForCheck(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this._snackBar.open($r.SNACK_UPDATE_FAIL);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}()).\u0275fac=function(e){return new(e||La)(u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](qr.a),u["\u0275\u0275directiveInject"](P.b),u["\u0275\u0275directiveInject"](Kt.a),u["\u0275\u0275directiveInject"](sr.e))},La.\u0275cmp=u["\u0275\u0275defineComponent"]({type:La,selectors:[["mg-student-id-stickers"]],decls:8,vars:3,consts:[[3,"loading"],["headerLeft",""],["headerRight",""],[3,"data","statusChange","openEditModal",4,"ngIf","ngIfElse"],["noResults",""],[1,"header-title"],[1,"header-right"],["fxFlex","noshrink","fxFlex.lt-sm","grow","fxFlexAlign","center"],["colorTheme","aqua",3,"onClick"],[3,"data","statusChange","openEditModal"],[3,"title","subtitle"]],template:function(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mg-manager-overlay-subpage",0),u["\u0275\u0275template"](1,Ma,2,1,"ng-template",null,1,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](3,Pa,4,1,"ng-template",null,2,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](5,ka,1,1,"mg-sis-table",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](6,Ta,1,2,"ng-template",null,4,u["\u0275\u0275templateRefExtractor"])),2&e){var n=u["\u0275\u0275reference"](7);u["\u0275\u0275property"]("loading",t.loading),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",(null==t.lists?null:t.lists.length)>0)("ngIfElse",n)}},directives:[Wr.a,N.o,A.b,A.a,tt.a,wa,R.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}.manager-overlay-subpage[_ngcontent-%COMP%]{margin-bottom:3.5294117647rem}.manager-overlay-subpage-header[_ngcontent-%COMP%]{background:#f4f4f4;padding:1.1764705882rem 20%;box-sizing:border-box;margin:-20px -20% 0;width:calc(140%)}.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.manager-overlay-subpage-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;display:block}}.manager-overlay-subpage-content[_ngcontent-%COMP%]{flex:1;padding:1.1764705882rem 0;box-sizing:border-box}.manager-overlay-subpage-content.white-bg[_ngcontent-%COMP%]{background-color:#fff}.quick-action-container[_ngcontent-%COMP%]{margin-bottom:1.1764705882rem}.quick-action-container[_ngcontent-%COMP%]:empty{display:none}.quick-action-btn[_ngcontent-%COMP%]{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;border-radius:0;text-align:inherit;box-shadow:none;color:inherit;font:inherit;padding:0;margin:0;background:none;border:none;outline:none;box-sizing:border-box;cursor:pointer;font-size:.8823529412rem;color:#036;display:inline-flex;align-items:center;justify-content:center;--mg-icon-size:20px}.quick-action-btn[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:.2941176471rem}.quick-action-btn[_ngcontent-%COMP%]:hover{opacity:.7}@media print,screen and (max-width:37.49875em){.quick-action-btn[_ngcontent-%COMP%]{display:none}}.manager-layout-loading-container[_ngcontent-%COMP%]{padding:2.9411764706rem 0}.header-title[_ngcontent-%COMP%]{display:inline-block;font-size:1.2941176471rem;font-weight:800;color:#036;padding:0;margin:0}@media print,screen and (max-width:37.49875em){.header-title[_ngcontent-%COMP%]{text-align:center;display:block}}@media print,screen and (max-width:59.99875em){.header-right[_ngcontent-%COMP%]{text-align:center}}"],changeDetection:0}),La),Ra=function(e){return e.ROOT="studentid",e.DASHBOARD="manage",e.STICKERS="stickers",e.PHOTOS="uplaod",e.SETTINGS="settings",e}({}),ja=[{path:"",pathMatch:"full",redirectTo:"manage"},{path:"",component:Bt,data:{defaultRootPath:Ra.ROOT,tabs:[{title:"Dashboard",path:Ra.DASHBOARD,permissions:{atLeastOne:[f.MingaPermission.MINGA_PEOPLE_MANAGE,f.MingaPermission.ADMINISTER_STUDENT_ID,f.MingaPermission.VIEW_STUDENT_ID_DASHBOARD]}},{title:"Stickers",path:Ra.STICKERS,permissions:{atLeastOne:[f.MingaPermission.MINGA_PEOPLE_MANAGE,f.MingaPermission.ADMINISTER_STUDENT_ID]}},{title:"Photos",path:Ra.PHOTOS,permissions:{atLeastOne:[f.MingaPermission.MINGA_PEOPLE_MANAGE,f.MingaPermission.ADMINISTER_STUDENT_ID]}},{title:"Settings",path:Ra.SETTINGS,permissions:{atLeastOne:[f.MingaPermission.MINGA_PEOPLE_MANAGE,f.MingaPermission.ADMINISTER_STUDENT_ID_SETTINGS]}}]},children:[{path:Ra.DASHBOARD,component:vt,data:{title:"Manage Student IDs"}},{path:Ra.STICKERS,component:Fa,data:{title:"Manage ID Stickers"}},{path:Ra.PHOTOS,component:nr,data:{title:"Manage ID Photos"}},{path:Ra.SETTINGS,component:Dn,data:{title:"Manage ID Settings"}}]}],Ua=s("Ynp+"),Ba=s("pMoy"),Ga=s("eRNI"),Va=s("1uLP"),Ha=s("37Vl"),za=((Na=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||Na)},Na.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Na}),Na.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[_t.a,bt.a,Lt.b,Ha.a,Mt.a,Ga.a,Ot.a,Pt.b,sr.g,Va.a,St.a,Bn.a,N.c,Ct.a,Yr.l,Kr.c,z.m,ne.c,H.b,Ba.b,Ua.c,G.f,z.A]]}),Na),$a=((Aa=m((function e(){d(this,e)}))).\u0275fac=function(e){return new(e||Aa)},Aa.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Aa}),Aa.\u0275inj=u["\u0275\u0275defineInjector"]({imports:[[zt,Gn,or,za,p.k.forChild(ja)]]}),Aa)},dfi4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReporterClient=t.LocaleSyncClient=t.AppConfigClient=t.ErrorReporter=t.LocaleSync=t.AppConfig=void 0;var i=n("mI3D"),r=m((function e(){d(this,e)}));t.AppConfig=r,r.serviceName="AppConfig",r.getAppConfig={methodName:"getAppConfig",service:r,requestStream:!1,responseStream:!1,requestType:i.AppConfigRequest,responseType:i.AppConfigResponse};var a=m((function e(){d(this,e)}));t.LocaleSync=a,a.serviceName="LocaleSync",a.getLocaleSync={methodName:"getLocaleSync",service:a,requestStream:!1,responseStream:!1,requestType:i.LocaleSyncRequest,responseType:i.LocaleSyncResponse};var o=m((function e(){d(this,e)}));t.ErrorReporter=o,o.serviceName="ErrorReporter",o.sendErrorReport={methodName:"sendErrorReport",service:o,requestStream:!1,responseStream:!1,requestType:i.ErrorReportRequest,responseType:i.ErrorReportResponse},t.AppConfigClient=function(){function e(){d(this,e)}return m(e,[{key:"getAppConfig",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}(),t.LocaleSyncClient=function(){function e(){d(this,e)}return m(e,[{key:"getLocaleSync",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}(),t.ErrorReporterClient=function(){function e(){d(this,e)}return m(e,[{key:"sendErrorReport",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}()},ypKM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReporter=t.LocaleSync=t.AppConfig=void 0,n("8Y7J");var i=n("+6wJ"),r=n("dfi4"),a=n("8Y7J"),o=function(){function e(t){d(this,e),this._ngZone=t}return m(e,[{key:"getAppConfig",value:function(e,t,n){var a,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,d=i.grpc.invoke(r.AppConfig.getAppConfig,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return a.cancel=function(){return d.close()},a}}]),e}();t.AppConfig=o,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.NgZone))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"});var s=function(){function e(t){d(this,e),this._ngZone=t}return m(e,[{key:"getLocaleSync",value:function(e,t,n){var a,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,d=i.grpc.invoke(r.LocaleSync.getLocaleSync,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return a.cancel=function(){return d.close()},a}}]),e}();t.LocaleSync=s,s.\u0275fac=function(e){return new(e||s)(a.\u0275\u0275inject(a.NgZone))},s.\u0275prov=a.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"});var l=function(){function e(t){d(this,e),this._ngZone=t}return m(e,[{key:"sendErrorReport",value:function(e,t,n){var a,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,d=i.grpc.invoke(r.ErrorReporter.sendErrorReport,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return a.cancel=function(){return d.close()},a}}]),e}();t.ErrorReporter=l,l.\u0275fac=function(e){return new(e||l)(a.\u0275\u0275inject(a.NgZone))},l.\u0275prov=a.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}])}();
//# sourceMappingURL=minga-app-src-app-studentid-route-StudentIdRoutes-module-es5.js.map