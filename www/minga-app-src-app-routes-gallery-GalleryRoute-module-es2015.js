(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{jKai:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n("mrSG"),i=n("8Y7J"),a=n("86jm"),r=n("B8CN"),l=n("2Vo4"),c=n("eIep"),s=n("SxV6"),m=n("lHZB"),g=n("Eh7J"),p=n("HSxi");let d=(()=>{class t extends a.a{constructor(t,e,n){super(t,e),this.mingaGalleryProto=t,this.reportService=e,this.groupsFacade=n,this.groupHashSubj=new l.a(""),this.setGroupFromHash(""),this.groupHash$=this.groupHashSubj.asObservable(),this._group$=this.groupHash$.pipe(Object(c.a)(t=>this.groupsFacade.getGroup(t)))}setGroupFromHash(t){return Object(o.a)(this,void 0,void 0,(function*(){this.groupHashSubj.next(t)}))}_getGroup(){return Object(o.a)(this,void 0,void 0,(function*(){if(!this._group$)throw new Error("GroupGalleryService called without a group");const t=yield this._group$.pipe(Object(s.a)()).toPromise();if(t)return t;throw new Error("GroupGalleryService could not find group from the given group hash")}))}fetchSummary(){return Object(o.a)(this,void 0,void 0,(function*(){this._group$&&this._group$.pipe(Object(s.a)(t=>null!=t&&null!=t.hash)).subscribe(t=>{this._fetchSummary()})}))}_fetchSummary(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this._getGroup(),e=new r.MingaGallerySummaryRequest,n=this._loading.getValue();e.setGroupHash(t.hash);try{n||this._loading.next(!0);const t=yield this.mingaGalleryProto.summary(e);this._summary.next(t.toObject())}finally{n||this._loading.next(!1)}}))}getSearchPhotoTotal(t){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this._getGroup(),n=new r.MingaGalleryGetPhotoTotalRequest;return n.setSearchQuery(t),n.setGroupHash(e.hash),(yield this.mingaGalleryProto.getPhotoTotal(n)).getPhotoTotal()}))}addPhoto(t){return Object(o.a)(this,void 0,void 0,(function*(){return yield this._addPhoto(this._summary,t)}))}deletePhoto(t){return Object(o.a)(this,void 0,void 0,(function*(){return yield this._deletePhoto(this._summary,t)}))}resolvePhoto(t){return Object(o.a)(this,void 0,void 0,(function*(){return yield this._resolvePhoto(t)}))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](m.MingaGallery),i["\u0275\u0275inject"](g.a),i["\u0275\u0275inject"](p.b))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ksT5:function(t,e,n){"use strict";n.r(e),n.d(e,"GalleryRouteModule",(function(){return se}));var o=n("SVse"),i=n("8Y7J"),a=n("u9T3"),r=n("iInd"),l=n("TSSN"),c=n("CO6v"),s=n("J+IA"),m=n("NG9B"),g=n("468e"),p=n("mrSG"),d=n("jaBy"),f=n("+3nk"),h=n("aT9T"),C=n("VRyK"),M=n("LRne"),P=n("itXk"),_=n("2Vo4"),O=n("IzEk"),u=n("128B"),x=n("lJxs"),b=n("7wxJ"),y=n("GFah"),v=n("B3cG"),w=n("JVed"),I=n("Eh7J"),S=n("Tcc+"),k=n("DpBH"),z=n("Fudl"),G=n("VDRc"),E=n("ah9P"),j=n("jcBT"),T=n("4avL"),$=n("StFh"),H=n("Jkk8");const R=["lightbox"],D=["itemsContainerElement"];function L(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"mg-button",23),i["\u0275\u0275listener"]("click",(function(e){i["\u0275\u0275restoreView"](t);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().resolveItemClick(e,n.item)})),i["\u0275\u0275text"](2,"Resolve"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function B(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"mg-button",23),i["\u0275\u0275listener"]("click",(function(e){i["\u0275\u0275restoreView"](t);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().publishItemClick(e,n.item)})),i["\u0275\u0275text"](2,"Publish"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function F(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",24),i["\u0275\u0275elementStart"](1,"mg-icon",4),i["\u0275\u0275listener"]("click",(function(e){i["\u0275\u0275restoreView"](t);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().reportItemClick(e,n.item)})),i["\u0275\u0275text"](2,"warning-o"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function A(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",25),i["\u0275\u0275elementStart"](1,"mg-icon",4),i["\u0275\u0275listener"]("click",(function(e){i["\u0275\u0275restoreView"](t);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().deleteItemClick(e,n.item)})),i["\u0275\u0275text"](2,"trash-o"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function Y(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1,"Event:\xa0"),i["\u0275\u0275elementEnd"]())}function V(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1,"Events:\xa0"),i["\u0275\u0275elementEnd"]())}function N(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1,",\xa0"),i["\u0275\u0275elementEnd"]())}function q(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",26),i["\u0275\u0275template"](1,Y,2,0,"span",14),i["\u0275\u0275template"](2,V,2,0,"span",14),i["\u0275\u0275elementStart"](3,"a",27),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit;return i["\u0275\u0275nextContext"](2).openEventGallery(n.contextHash)})),i["\u0275\u0275elementStart"](4,"span",28),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,N,2,0,"span",14),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=e.count,o=e.index;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0==o&&1==n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0==o&&n>1),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.contentTagTitle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",o!==(n||0)-1)}}function W(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1,",\xa0"),i["\u0275\u0275elementEnd"]())}function Q(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"a",31),i["\u0275\u0275listener"]("click",(function(t){const n=e.$implicit;return n.clickHandler&&n.clickHandler(t)})),i["\u0275\u0275elementStart"](2,"span",28),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,W,2,0,"span",14),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=e.$implicit,n=e.index,o=i["\u0275\u0275nextContext"](2).$implicit;let a=null;i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("has-click-handler",t.clickHandler),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,4,t.name$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",n!==((null==(a=i["\u0275\u0275pipeBind1"](6,6,o.viewTags$))?null:a.length)||0)-1)}}function Z(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ... and ",i["\u0275\u0275pipeBind1"](2,1,t.hiddenTagsCount$)," more ")}}function U(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",29),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2,"With:\xa0"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,Q,7,8,"ng-container",30),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275template"](5,Z,3,3,"span",14),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](4,2,t.viewTags$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(i["\u0275\u0275pipeBind1"](6,4,t.hiddenTagsCount$)||0)>0)}}const J=function(){return["blurloading1","longcardbanner"]};function X(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",9),i["\u0275\u0275elementStart"](1,"div",10),i["\u0275\u0275elementStart"](2,"div",11),i["\u0275\u0275elementStart"](3,"div",12),i["\u0275\u0275elementStart"](4,"div",13),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,L,3,0,"div",14),i["\u0275\u0275template"](8,B,3,0,"div",14),i["\u0275\u0275template"](9,F,3,0,"div",15),i["\u0275\u0275template"](10,A,3,0,"div",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",17),i["\u0275\u0275elementStart"](12,"mg-image",18),i["\u0275\u0275listener"]("contextmenu",(function(n){i["\u0275\u0275restoreView"](t);const o=e.$implicit;return i["\u0275\u0275nextContext"]().onContextmenu(n,o.item)})),i["\u0275\u0275pipe"](13,"mgImageUrls"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",19),i["\u0275\u0275elementStart"](15,"strong"),i["\u0275\u0275text"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](17,",\xa0 "),i["\u0275\u0275elementStart"](18,"span"),i["\u0275\u0275text"](19),i["\u0275\u0275pipe"](20,"date"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](21,q,7,4,"div",20),i["\u0275\u0275pipe"](22,"async"),i["\u0275\u0275element"](23,"div",21),i["\u0275\u0275pipe"](24,"mgSafeHtml"),i["\u0275\u0275template"](25,U,7,6,"div",22),i["\u0275\u0275pipe"](26,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=e.index,o=i["\u0275\u0275nextContext"]();let a=null;i["\u0275\u0275styleProp"]("transform","translateX("+100*(t.item.index-n)+"vw)"),i["\u0275\u0275classProp"]("item-active",t.item.index==o._activeGlobalIndex),i["\u0275\u0275advance"](1),i["\u0275\u0275styleProp"]("width",o.lightBoxImageWidth(t.item.imageInfo,t.item.tags.length>0),"px"),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate2"](" Image ",t.item.index+1," of ",i["\u0275\u0275pipeBind1"](6,21,null==o.dataSource?null:o.dataSource.total$)," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.item.shouldShowResolve&&(null==t.moderationOptions?null:t.moderationOptions.resolve)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",null==t.moderationOptions?null:t.moderationOptions.publish),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.item.shouldShowReport&&(null==t.moderationOptions?null:t.moderationOptions.report)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.item.shouldShowDelete&&(null==t.moderationOptions?null:t.moderationOptions.delete)),i["\u0275\u0275advance"](2),i["\u0275\u0275styleProp"]("height",o.lightBoxImageHeight(t.item.imageInfo,t.item.tags.length>0),"px"),i["\u0275\u0275property"]("active",t.item.index==o._activeGlobalIndex||!1)("srcs",i["\u0275\u0275pipeBind2"](13,23,t.item.imageInfo,i["\u0275\u0275pureFunction0"](35,J))),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](t.item.authorDisplayName),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](20,26,t.item.timestamp,"MMM d, y")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](22,29,t.viewEvents$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind1"](24,31,t.item.description),i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",(null==(a=i["\u0275\u0275pipeBind1"](26,33,t.viewTags$))?null:a.length)>0)}}function K(t,e){const n=t.tags.length,o=Object(C.a)(...t.tags.map(t=>t.name$.pipe(Object(O.a)(1)))).pipe(Object(u.a)((t,e)=>t+e.length,0)),i=Object(C.a)(...t.tags.map(t=>t.name$.pipe(Object(O.a)(1),Object(x.a)(e=>Object(M.a)({resolvedName:e,tag:t}))))).pipe(Object(b.a)(),Object(x.a)(e=>{const n=innerWidth/12*((t&&t.imageInfo?t.imageInfo.sizeMap[1][1].width:1200)/(t&&t.imageInfo?t.imageInfo.sizeMap[1][1].height:900)),o=[];let i=0;for(const t of e){if(i+=t.resolvedName.length,i>=n)break;t.resolvedName&&o.push(t.tag)}return o})),a=i.pipe(Object(x.a)(t=>n-t.length)),r=Object(P.b)(i,e.getAllEvents()).pipe(Object(x.a)(([t,e])=>t.map(t=>e.find(e=>e.hash==t.id)).filter(t=>!!t).map(t=>t))),l=Object(P.b)(i,r).pipe(Object(x.a)(([t,e])=>t.map(t=>e.find(e=>e.hash==t.id)?null:t).filter(t=>!!t).map(t=>t)));return{item:t,viewTags$:l,tagCharCount$:o,hiddenTagsCount$:a,viewEvents$:r}}let tt=(()=>{class t{constructor(t,e,n,o,a,r,l,c){this.ngZone=t,this.cdr=e,this.rootService=n,this.fileDownloader=o,this.eventsFacade=a,this.router=r,this.reportService=l,this.analyticsService=c,this._dataSource=null,this._activeGlobalIndex=-1,this._viewItemsInfo=[],this._lastPanDelta=0,this._itemsContainerWidth=0,this._itemsContainerPanPosition=0,this._frameHandler=0,this._dataSrcItemsSub=null,this._hmjs=null,this._trackBy=(t,e)=>e.id,this.deleteItem=new i.EventEmitter,this.resolveItem=new i.EventEmitter,this.reportItem=new i.EventEmitter,this.closed=new i.EventEmitter,this._viewItems=new _.a([]),this.viewItems$=this._viewItems.asObservable()}set dataSource(t){this._dataSource=t,this._dataSource&&(this._dataSrcItemsSub&&(this._dataSrcItemsSub.unsubscribe(),this._dataSrcItemsSub=null),this._dataSrcItemsSub=this._dataSource.items$.subscribe(t=>{const e=this._viewItems.getValue(),n=[],o=[];for(t.forEach(t=>{const i=e.findIndex(e=>e.item.id==t.id);-1===i?o.push(K(t,this.eventsFacade)):n[i]=K(t,this.eventsFacade)});o.length;){const t=o.pop(),e=n.findIndex(t=>!t);-1===e?n.push(t):n[e]=t}const i=n.filter(t=>!!t).map(t=>t);i.forEach(t=>{const e=`${t.item.id}`;t.moderationOptions={};const n=this.reportService.hasGalleryPhotoBeenDeleted(e),o=!n;t.moderationOptions.resolve=this.reportService.isReported({galleryPhotoUuid:e}),t.moderationOptions.delete=o&&t.item.shouldShowDelete,t.moderationOptions.report=!n,t.moderationOptions.publish=!o}),this._viewItemsInfo=i.map(t=>({globalIndex:t.item.index,id:t.item.id})),this.calcContainerWidth(),this._viewItems.next(i),this.slideToActive(),this.cdr.markForCheck()}))}get dataSource(){return this._dataSource}get itemsContainerWidth(){return this._itemsContainerWidth}onWindowResize(){this.calcContainerWidth(),this.slideToActive(),this.cdr.markForCheck()}viewTags(t){return t.length}deleteItemClick(t,e){this.deleteItem.emit({item:e,leaveGallery:!!this.reportService.consumeGalleryPhotoModerationLightbox()})}resolveItemClick(t,e){this.resolveItem.emit({item:e,leaveGallery:!!this.reportService.consumeGalleryPhotoModerationLightbox()}),this.close()}reportItemClick(t,e){this.close(),this.reportService.consumeGalleryPhotoModerationLightbox()?this.reportService.backAndOpenReportOverlay(`${e.id}`):this.reportItem.emit(e)}publishItemClick(t,e){return Object(p.a)(this,void 0,void 0,(function*(){const t=`${e.id}`,n=this.reportService.getDeletedPhotoReasons(t);yield this.rootService.addLoadingPromise(this.reportService.overrideAI({contentHash:"",contextHash:"",reasonList:n.reasons,galleryPhotoUuid:t})),this.close(),this.closed.emit(!!this.reportService.consumeGalleryPhotoModerationLightbox())}))}openEventGallery(t){this.close(),this.router.navigate(["gallery","event",t])}onContextmenu(t,e){t.preventDefault(),t.stopImmediatePropagation();const n=Object(d.d)(e.imageInfo,"raw");this.rootService.openGlobalMenu({x:t.pageX,y:t.pageY,items:[{click:()=>this.fileDownloader.downloadFromUrl(n),name:"Download"}]})}setActiveByGlobalIndex(t){this._activeGlobalIndex=t}setActiveFromId(t){for(const e of this._viewItemsInfo)if(e.id==t)return void(this._activeGlobalIndex=e.globalIndex);this._activeGlobalIndex=-1}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const t=this.itemsContainerElement.nativeElement,e=this.contentContainerElement.nativeElement,n=new h.a.Pan({});this._hmjs=new h.a.Manager(e,{}),this._hmjs.add([n]),this._hmjs.on("panstart",e=>this.onPanstart(e,t)),this._hmjs.on("panend",e=>this.onPanend(e,t)),this._hmjs.on("pancancel",e=>this.onPancancel(e,t)),this._hmjs.on("panleft panright",e=>this.onPanmove(e,t))}),this.analyticsService.sendViewGalleryPost()}ngOnDestroy(){this._dataSrcItemsSub&&(this._dataSrcItemsSub.unsubscribe(),this._dataSrcItemsSub=null),this._hmjs&&(this._hmjs.destroy&&this._hmjs.destroy(),this._hmjs=null)}_getGlobalIndexRange(){let t=0;for(const n of this._viewItemsInfo)n.globalIndex>t&&(t=n.globalIndex);let e=t;for(const n of this._viewItemsInfo)n.globalIndex<e&&(e=n.globalIndex);return{biggestIndex:t,smallestIndex:e}}calcContainerWidth(){const{biggestIndex:t}=this._getGlobalIndexRange();this._itemsContainerWidth=t*window.innerWidth}open(){var t;null===(t=this.lightbox)||void 0===t||t.open()}close(){var t;null===(t=this.lightbox)||void 0===t||t.close()}getViewItemImagePadding(t){const e=t.sizeMap[0][1];return e.height/e.width*100+"%"}_lightBoxContainerSize(t){const e=innerHeight-Math.max(100,innerHeight*(t?.35:.25));let n;return n=innerWidth<600?innerWidth-32:innerWidth-Math.max(50,.1*innerWidth),{width:n,height:e}}lightBoxImageWidth(t,e){return Object(f.a)(t.sizeMap[0][1],this._lightBoxContainerSize(e)).width}lightBoxImageHeight(t,e){return Object(f.a)(t.sizeMap[0][1],this._lightBoxContainerSize(e)).height}slideTo(t){}snapTo(t){}slideNext(){var t;this.analyticsService.sendViewGalleryPost(),this._activeGlobalIndex+=1,this.slideToActive(),null===(t=this.dataSource)||void 0===t||t.next(),this.cdr.markForCheck()}slidePrevious(){var t;this.analyticsService.sendViewGalleryPost(),this._activeGlobalIndex-=1,this.slideToActive(),null===(t=this.dataSource)||void 0===t||t.previous(),this.cdr.markForCheck()}hasNext(){const{biggestIndex:t}=this._getGlobalIndexRange();return this._activeGlobalIndex+1<=t}hasPrevious(){const{smallestIndex:t}=this._getGlobalIndexRange();return this._activeGlobalIndex-1>=t}_setNearestToActive(){const t=this._itemsContainerPanPosition,e=window.innerWidth,{biggestIndex:n}=this._getGlobalIndexRange(),o=Math.max(0,Math.min(Math.abs(Math.round(t/e)),n));this._itemsContainerPanPosition=-o*e,this._activeGlobalIndex=o}slideToNearest(){this._setNearestToActive(),this.update(),this.cdr.markForCheck()}slideToActive(){const t=window.innerWidth,e=-this._activeGlobalIndex*t;this.itemsContainerElement.nativeElement.style.transform=`translate3d(${e}px, 0px, 0px)`,this._itemsContainerPanPosition=e,this.update()}snapToActive(){}snapToNearest(){}update(){this._update(this.itemsContainerElement.nativeElement)}onPanstart(t,e){this._lastPanDelta=0,e.style.transitionDuration="0ms"}onPanend(t,e){var n,o;const i=Math.min(Math.max(t.overallVelocityX,-3),3);this._itemsContainerPanPosition+=i*(.1*innerWidth),e.style.transitionDuration="";const a=this._activeGlobalIndex;this._setNearestToActive(),this._activeGlobalIndex!=a&&(this._activeGlobalIndex>a?null===(n=this.dataSource)||void 0===n||n.next():this._activeGlobalIndex<a&&(null===(o=this.dataSource)||void 0===o||o.previous()),this.update(),this.cdr.markForCheck())}onPancancel(t,e){e.style.transitionDuration="",this.slideToActive()}onPanmove(t,e){const{biggestIndex:n}=this._getGlobalIndexRange(),o=t.deltaX*function(t,e,n){return t>0&&0===e||t<0&&e===n-1?.12:1}(t.deltaX,this._activeGlobalIndex,n+1);this._itemsContainerPanPosition+=o-this._lastPanDelta,this._lastPanDelta=o,this._frameHandler||(this._frameHandler=requestAnimationFrame(()=>{this._frameHandler=0,this._update(e)}))}_update(t){t.style.transform=`translate3d(${this._itemsContainerPanPosition}px, 0px, 0px)`}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](y.a),i["\u0275\u0275directiveInject"](v.b),i["\u0275\u0275directiveInject"](w.a),i["\u0275\u0275directiveInject"](r.g),i["\u0275\u0275directiveInject"](I.a),i["\u0275\u0275directiveInject"](S.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["mg-gallery-lightbox"]],viewQuery:function(t,e){if(1&t&&(i["\u0275\u0275viewQuery"](R,3),i["\u0275\u0275viewQuery"](D,3),i["\u0275\u0275viewQuery"](D,3)),2&t){let t;i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.lightbox=t.first),i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.itemsContainerElement=t.first),i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.contentContainerElement=t.first)}},hostBindings:function(t,e){1&t&&i["\u0275\u0275listener"]("resize",(function(){return e.onWindowResize()}),!1,i["\u0275\u0275resolveWindow"])},inputs:{dataSource:"dataSource"},outputs:{deleteItem:"deleteItem",resolveItem:"resolveItem",reportItem:"reportItem",closed:"closed"},decls:15,vars:8,consts:[["lightbox",""],[1,"close-icon",3,"click"],[1,"content-container"],[1,"nav-left"],[3,"click"],[1,"nav-right"],[1,"items-container"],["itemsContainerElement",""],["class","item-container",3,"item-active","transform",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item-container"],[1,"item-content-wrap"],[1,"item-content"],["fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","start center",1,"mg-smallcopy","photo-count"],["fxFlex","auto"],[4,"ngIf"],["title","Report",4,"ngIf"],["title","Delete",4,"ngIf"],["mgPinchZoom","",1,"image-container"],[3,"active","srcs","contextmenu"],[1,"mg-smallcopy","author-info"],["class","event-tags mg-smallcopy",4,"ngFor","ngForOf"],[1,"photo-description","mg-smallcopy",3,"innerHTML"],["class","gallery-tags mg-smallcopy",4,"ngIf"],["type","outline","color","green",1,"micro",3,"click"],["title","Report"],["title","Delete"],[1,"event-tags","mg-smallcopy"],["href","javascript:;",1,"has-click-handler",3,"click"],[1,"tag-name"],[1,"gallery-tags","mg-smallcopy"],[4,"ngFor","ngForOf"],["href","javascript:;",1,"gallery-tag",3,"click"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"mg-lightbox",null,0),i["\u0275\u0275elementStart"](2,"mg-icon",1),i["\u0275\u0275listener"]("click",(function(){return e.close()})),i["\u0275\u0275text"](3,"close-active"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275elementStart"](5,"div",3),i["\u0275\u0275elementStart"](6,"mg-icon",4),i["\u0275\u0275listener"]("click",(function(){return e.slidePrevious()})),i["\u0275\u0275text"](7,"left-arrow-active"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",5),i["\u0275\u0275elementStart"](9,"mg-icon",4),i["\u0275\u0275listener"]("click",(function(){return e.slideNext()})),i["\u0275\u0275text"](10,"right-arrow-active"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"div",6,7),i["\u0275\u0275template"](13,X,27,36,"div",8),i["\u0275\u0275pipe"](14,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](5),i["\u0275\u0275classProp"]("disabled",!e.hasPrevious()),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("disabled",!e.hasNext()),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](14,6,e.viewItems$))("ngForTrackBy",e._trackBy))},directives:[k.a,z.a,o.n,G.e,G.f,G.d,G.b,o.o,E.a,j.a,T.a],pipes:[o.b,$.a,o.f,H.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.4em) scale(.75);width:133.3333333333%}.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.39999em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.3em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-form-field-autofill-control[_ngcontent-%COMP%]:-webkit-autofill + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.29999em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.29998em) scale(.75);width:133.3333533333%}@media print{.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.29997em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-form-field-autofill-control[_ngcontent-%COMP%]:-webkit-autofill + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.29996em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.29995em) scale(.75)}}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-fill.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-.65em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-fill.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-.64999em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-outline.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.65em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-outline.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.64999em) scale(.75);width:133.3333433333%}.mat-ripple[_ngcontent-%COMP%]{overflow:hidden;position:relative}.mat-ripple[_ngcontent-%COMP%]:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded[_ngcontent-%COMP%]{overflow:visible}.mat-ripple-element[_ngcontent-%COMP%]{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale(0)}.cdk-high-contrast-active[_ngcontent-%COMP%]   .mat-ripple-element[_ngcontent-%COMP%]{display:none}.cdk-visually-hidden[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-pane[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{pointer-events:auto;box-sizing:border-box;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%], .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}@keyframes cdk-text-field-autofill-start{\n  }@keyframes cdk-text-field-autofill-end{\n  }.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}textarea.cdk-textarea-autosize[_ngcontent-%COMP%]{resize:none}textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:2px 0!important;box-sizing:initial!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox[_ngcontent-%COMP%]{padding:2px 0!important;box-sizing:initial!important;height:0!important}.mat-focus-indicator[_ngcontent-%COMP%], .mat-mdc-focus-indicator[_ngcontent-%COMP%]{position:relative}.mat-badge-content[_ngcontent-%COMP%]{font-weight:600;font-size:12px;font-family:Muli,sans-serif}.mat-badge-small[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-size:9px}.mat-badge-large[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-size:24px}.mat-h1[_ngcontent-%COMP%], .mat-headline[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:400 19px/19px Muli,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2[_ngcontent-%COMP%], .mat-h3[_ngcontent-%COMP%], .mat-h4[_ngcontent-%COMP%], .mat-subheading-1[_ngcontent-%COMP%], .mat-subheading-2[_ngcontent-%COMP%], .mat-title[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font:400 16px/16px Muli,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font:400 calc(16px * .83)/16px Muli,sans-serif;margin:0 0 12px}.mat-h6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font:400 calc(16px * .67)/16px Muli,sans-serif;margin:0 0 12px}.mat-body-2[_ngcontent-%COMP%], .mat-body-strong[_ngcontent-%COMP%]{font:700 16px/16px Muli,sans-serif;letter-spacing:normal}.mat-body[_ngcontent-%COMP%], .mat-body-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]{font:400 16px/16px Muli,sans-serif;letter-spacing:normal}.mat-body-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}.mat-caption[_ngcontent-%COMP%], .mat-small[_ngcontent-%COMP%]{font:400 10px/10px Muli,sans-serif;letter-spacing:normal}.mat-display-4[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-display-4[_ngcontent-%COMP%]{font:300 112px/112px Muli,sans-serif;letter-spacing:-.05em;margin:0 0 56px}.mat-display-3[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-display-3[_ngcontent-%COMP%]{font:400 56px/56px Muli,sans-serif;letter-spacing:-.02em;margin:0 0 64px}.mat-display-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-display-2[_ngcontent-%COMP%]{font:400 45px/48px Muli,sans-serif;letter-spacing:-.005em;margin:0 0 64px}.mat-display-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-display-1[_ngcontent-%COMP%]{font:400 34px/40px Muli,sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-bottom-sheet-container[_ngcontent-%COMP%]{font:400 16px/16px Muli,sans-serif;letter-spacing:normal}.mat-button[_ngcontent-%COMP%], .mat-fab[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-mini-fab[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:16px;font-weight:400}.mat-button-toggle[_ngcontent-%COMP%], .mat-card[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-card-title[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.mat-card-content[_ngcontent-%COMP%], .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .mat-card-subtitle[_ngcontent-%COMP%]{font-size:16px}.mat-checkbox-layout[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{line-height:16px}.mat-chip[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.mat-chip[_ngcontent-%COMP%]   .mat-chip-remove.mat-icon[_ngcontent-%COMP%], .mat-chip[_ngcontent-%COMP%]   .mat-chip-trailing-icon.mat-icon[_ngcontent-%COMP%]{font-size:18px}.mat-table[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-header-cell[_ngcontent-%COMP%]{font-size:10px;font-weight:700}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:16px}.mat-calendar[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-calendar-body[_ngcontent-%COMP%]{font-size:13px}.mat-calendar-body-label[_ngcontent-%COMP%], .mat-calendar-period-button[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-calendar-table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px;font-weight:400}.mat-dialog-title[_ngcontent-%COMP%]{font:400 16px/16px Muli,sans-serif;letter-spacing:normal}.mat-expansion-panel-header[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:16px;font-weight:400}.mat-expansion-panel-content[_ngcontent-%COMP%]{font:400 16px/16px Muli,sans-serif;letter-spacing:normal}.mat-form-field[_ngcontent-%COMP%]{font-size:inherit;font-weight:400;line-height:1.2;font-family:Muli,sans-serif;letter-spacing:normal}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1.4em}.mat-form-field-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:150%;line-height:1.2}.mat-form-field-prefix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%], .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.mat-form-field-prefix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:1.2em;line-height:1.2}.mat-form-field-infix[_ngcontent-%COMP%]{padding:.5em 0;border-top:.9em solid transparent}.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.39998em) scale(.75);width:133.3333533333%}.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.39997em) scale(.75);width:133.3333633333%}.mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-.9em;padding-top:.9em}.mat-form-field-label[_ngcontent-%COMP%]{top:1.4em}.mat-form-field-underline[_ngcontent-%COMP%]{bottom:1.4em}.mat-form-field-subscript-wrapper[_ngcontent-%COMP%]{font-size:75%;margin-top:.6666666667em;top:calc(100% - 1.8666666667em)}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1.25em}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.4em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.00106px);-ms-transform:translateY(-1.29994em) scale(.75);width:133.3333933333%}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-form-field-autofill-control[_ngcontent-%COMP%]:-webkit-autofill + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.00107px);-ms-transform:translateY(-1.29993em) scale(.75);width:133.3334033333%}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.00108px);-ms-transform:translateY(-1.29992em) scale(.75);width:133.3334133333%}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{top:1.3em}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]{bottom:1.25em}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-subscript-wrapper[_ngcontent-%COMP%]{margin-top:.4666666667em;top:calc(100% - 1.6666666667em)}@media print{.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.29991em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-form-field-autofill-control[_ngcontent-%COMP%]:-webkit-autofill + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.2999em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.29989em) scale(.75)}}.mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.25em 0 .75em}.mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{top:1.15em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-fill.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-.64998em) scale(.75);width:133.3333533333%}.mat-form-field-appearance-fill.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-.64997em) scale(.75);width:133.3333633333%}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:1em 0}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{top:1.9em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-outline.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.64998em) scale(.75);width:133.3333533333%}.mat-form-field-appearance-outline.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.64997em) scale(.75);width:133.3333633333%}.mat-grid-tile-footer[_ngcontent-%COMP%], .mat-grid-tile-header[_ngcontent-%COMP%]{font-size:16px}.mat-grid-tile-footer[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%], .mat-grid-tile-header[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2), .mat-grid-tile-header[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2){font-size:10px}input.mat-input-element[_ngcontent-%COMP%]{margin-top:-.1em}.mat-menu-item[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:16px;font-weight:400}.mat-paginator[_ngcontent-%COMP%], .mat-paginator-page-size[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:10px}.mat-radio-button[_ngcontent-%COMP%], .mat-select[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-select-trigger[_ngcontent-%COMP%]{height:1.2em}.mat-slide-toggle-content[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-slider-thumb-label-text[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:10px;font-weight:700}.mat-stepper-horizontal[_ngcontent-%COMP%], .mat-stepper-vertical[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-step-label[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-step-sub-label-error[_ngcontent-%COMP%]{font-weight:400}.mat-step-label-error[_ngcontent-%COMP%]{font-size:16px}.mat-step-label-selected[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.mat-tab-group[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-tab-label[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:16px;font-weight:400}.mat-toolbar[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font:400 16px/16px Muli,sans-serif;letter-spacing:normal;margin:0}.mat-tooltip[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset[_ngcontent-%COMP%]{font-size:14px;padding-top:8px;padding-bottom:8px}.mat-list-item[_ngcontent-%COMP%], .mat-list-option[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:16px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2), .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{font-size:16px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2){font-size:16px}.mat-list-base[_ngcontent-%COMP%]   .mat-subheader[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:16px;font-weight:700}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:10px}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2), .mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{font-size:10px}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2){font-size:10px}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-subheader[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:10px;font-weight:700}.mat-option[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:16px}.mat-optgroup-label[_ngcontent-%COMP%]{font:700 16px/16px Muli,sans-serif;letter-spacing:normal}.mat-simple-snackbar[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:16px}.mat-simple-snackbar-action[_ngcontent-%COMP%]{line-height:1;font-family:inherit;font-size:inherit;font-weight:400}.mat-tree[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-nested-tree-node[_ngcontent-%COMP%], .mat-tree-node[_ngcontent-%COMP%]{font-weight:400;font-size:16px}@media (min-width:768px){.mat-badge-content[_ngcontent-%COMP%]{font-weight:600;font-size:12px;font-family:Muli,sans-serif}.mat-badge-small[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-size:9px}.mat-badge-large[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{font-size:24px}.mat-h1[_ngcontent-%COMP%], .mat-headline[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:400 20px/24px Muli,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2[_ngcontent-%COMP%], .mat-h3[_ngcontent-%COMP%], .mat-h4[_ngcontent-%COMP%], .mat-subheading-1[_ngcontent-%COMP%], .mat-subheading-2[_ngcontent-%COMP%], .mat-title[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font:400 17px/20.4px Muli,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font:400 calc(17px * .83)/20.4px Muli,sans-serif;margin:0 0 12px}.mat-h6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font:400 calc(17px * .67)/20.4px Muli,sans-serif;margin:0 0 12px}.mat-body-2[_ngcontent-%COMP%], .mat-body-strong[_ngcontent-%COMP%]{font:700 17px/20.4px Muli,sans-serif;letter-spacing:normal}.mat-body[_ngcontent-%COMP%], .mat-body-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]{font:400 17px/20.4px Muli,sans-serif;letter-spacing:normal}.mat-body-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}.mat-caption[_ngcontent-%COMP%], .mat-small[_ngcontent-%COMP%]{font:400 13px/15.6px Muli,sans-serif;letter-spacing:normal}.mat-display-4[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-display-4[_ngcontent-%COMP%]{font:300 112px/112px Muli,sans-serif;letter-spacing:-.05em;margin:0 0 56px}.mat-display-3[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-display-3[_ngcontent-%COMP%]{font:400 56px/56px Muli,sans-serif;letter-spacing:-.02em;margin:0 0 64px}.mat-display-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-display-2[_ngcontent-%COMP%]{font:400 45px/48px Muli,sans-serif;letter-spacing:-.005em;margin:0 0 64px}.mat-display-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-display-1[_ngcontent-%COMP%]{font:400 34px/40px Muli,sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-bottom-sheet-container[_ngcontent-%COMP%]{font:400 17px/20.4px Muli,sans-serif;letter-spacing:normal}.mat-button[_ngcontent-%COMP%], .mat-fab[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-mini-fab[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:17px;font-weight:400}.mat-button-toggle[_ngcontent-%COMP%], .mat-card[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:400}.mat-card-content[_ngcontent-%COMP%], .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .mat-card-subtitle[_ngcontent-%COMP%]{font-size:17px}.mat-checkbox[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-checkbox-layout[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{line-height:20.4px}.mat-chip[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.mat-chip[_ngcontent-%COMP%]   .mat-chip-remove.mat-icon[_ngcontent-%COMP%], .mat-chip[_ngcontent-%COMP%]   .mat-chip-trailing-icon.mat-icon[_ngcontent-%COMP%]{font-size:18px}.mat-table[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-header-cell[_ngcontent-%COMP%]{font-size:13px;font-weight:700}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:17px}.mat-calendar[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-calendar-body[_ngcontent-%COMP%]{font-size:13px}.mat-calendar-body-label[_ngcontent-%COMP%], .mat-calendar-period-button[_ngcontent-%COMP%]{font-size:17px;font-weight:400}.mat-calendar-table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px;font-weight:400}.mat-dialog-title[_ngcontent-%COMP%]{font:400 17px/20.4px Muli,sans-serif;letter-spacing:normal}.mat-expansion-panel-header[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:17px;font-weight:400}.mat-expansion-panel-content[_ngcontent-%COMP%]{font:400 17px/20.4px Muli,sans-serif;letter-spacing:normal}.mat-form-field[_ngcontent-%COMP%]{font-size:inherit;font-weight:400;line-height:1.2;font-family:Muli,sans-serif;letter-spacing:normal}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1.4em}.mat-form-field-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:150%;line-height:1.2}.mat-form-field-prefix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%], .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.mat-form-field-prefix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:1.2em;line-height:1.2}.mat-form-field-infix[_ngcontent-%COMP%]{padding:.5em 0;border-top:.9em solid transparent}.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.39996em) scale(.75);width:133.3333733333%}.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.39995em) scale(.75);width:133.3333833333%}.mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-.9em;padding-top:.9em}.mat-form-field-label[_ngcontent-%COMP%]{top:1.4em}.mat-form-field-underline[_ngcontent-%COMP%]{bottom:1.4em}.mat-form-field-subscript-wrapper[_ngcontent-%COMP%]{font-size:75%;margin-top:.6666666667em;top:calc(100% - 1.8666666667em)}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1.25em}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.4em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.00112px);-ms-transform:translateY(-1.29988em) scale(.75);width:133.3334533333%}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-form-field-autofill-control[_ngcontent-%COMP%]:-webkit-autofill + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.00113px);-ms-transform:translateY(-1.29987em) scale(.75);width:133.3334633333%}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75) perspective(100px) translateZ(.00114px);-ms-transform:translateY(-1.29986em) scale(.75);width:133.3334733333%}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{top:1.3em}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]{bottom:1.25em}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-subscript-wrapper[_ngcontent-%COMP%]{margin-top:.4666666667em;top:calc(100% - 1.6666666667em)}}@media print and (min-width:768px){.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.29985em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-form-field-autofill-control[_ngcontent-%COMP%]:-webkit-autofill + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.29984em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.29983em) scale(.75)}}@media (min-width:768px){.mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.25em 0 .75em}.mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{top:1.15em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-fill.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-.64996em) scale(.75);width:133.3333733333%}.mat-form-field-appearance-fill.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-.64995em) scale(.75);width:133.3333833333%}}@media (min-width:768px){.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:1em 0}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{top:1.9em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-form-field-appearance-outline.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[_ngcontent-%COMP%]:focus + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.64996em) scale(.75);width:133.3333733333%}.mat-form-field-appearance-outline.mat-form-field-can-float[_ngcontent-%COMP%]   .mat-input-server[label][_ngcontent-%COMP%]:not(:label-shown) + .mat-form-field-label-wrapper[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.64995em) scale(.75);width:133.3333833333%}}@media (min-width:768px){.mat-grid-tile-footer[_ngcontent-%COMP%], .mat-grid-tile-header[_ngcontent-%COMP%]{font-size:17px}.mat-grid-tile-footer[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%], .mat-grid-tile-header[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2), .mat-grid-tile-header[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2){font-size:13px}}@media (min-width:768px){input.mat-input-element[_ngcontent-%COMP%]{margin-top:-.1em}}@media (min-width:768px){.mat-menu-item[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:17px;font-weight:400}}@media (min-width:768px){.mat-paginator[_ngcontent-%COMP%], .mat-paginator-page-size[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:13px}}@media (min-width:768px){.mat-radio-button[_ngcontent-%COMP%], .mat-select[_ngcontent-%COMP%]{font-family:Muli,sans-serif}}@media (min-width:768px){.mat-select-trigger[_ngcontent-%COMP%]{height:1.2em}}@media (min-width:768px){.mat-slide-toggle-content[_ngcontent-%COMP%]{font-family:Muli,sans-serif}}@media (min-width:768px){.mat-slider-thumb-label-text[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:13px;font-weight:700}}@media (min-width:768px){.mat-stepper-horizontal[_ngcontent-%COMP%], .mat-stepper-vertical[_ngcontent-%COMP%]{font-family:Muli,sans-serif}}@media (min-width:768px){.mat-step-label[_ngcontent-%COMP%]{font-size:17px;font-weight:400}}@media (min-width:768px){.mat-step-sub-label-error[_ngcontent-%COMP%]{font-weight:400}}@media (min-width:768px){.mat-step-label-error[_ngcontent-%COMP%]{font-size:17px}}@media (min-width:768px){.mat-step-label-selected[_ngcontent-%COMP%]{font-size:17px;font-weight:700}}@media (min-width:768px){.mat-tab-group[_ngcontent-%COMP%]{font-family:Muli,sans-serif}}@media (min-width:768px){.mat-tab-label[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:17px;font-weight:400}}@media (min-width:768px){.mat-toolbar[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font:400 17px/20.4px Muli,sans-serif;letter-spacing:normal;margin:0}}@media (min-width:768px){.mat-tooltip[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}}@media (min-width:768px){.mat-tooltip-handset[_ngcontent-%COMP%]{font-size:14px;padding-top:8px;padding-bottom:8px}}@media (min-width:768px){.mat-list-item[_ngcontent-%COMP%], .mat-list-option[_ngcontent-%COMP%]{font-family:Muli,sans-serif}}@media (min-width:768px){.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:17px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2), .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{font-size:17px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2){font-size:17px}.mat-list-base[_ngcontent-%COMP%]   .mat-subheader[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:17px;font-weight:700}}@media (min-width:768px){.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{font-size:13px}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2), .mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{font-size:13px}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-line[_ngcontent-%COMP%]:nth-child(n+2){font-size:13px}.mat-list-base[dense][_ngcontent-%COMP%]   .mat-subheader[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:13px;font-weight:700}}@media (min-width:768px){.mat-option[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:17px}}@media (min-width:768px){.mat-optgroup-label[_ngcontent-%COMP%]{font:700 17px/20.4px Muli,sans-serif;letter-spacing:normal}}@media (min-width:768px){.mat-simple-snackbar[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-size:17px}}@media (min-width:768px){.mat-simple-snackbar-action[_ngcontent-%COMP%]{line-height:1;font-family:inherit;font-size:inherit;font-weight:400}}@media (min-width:768px){.mat-tree[_ngcontent-%COMP%]{font-family:Muli,sans-serif}}@media (min-width:768px){.mat-nested-tree-node[_ngcontent-%COMP%], .mat-tree-node[_ngcontent-%COMP%]{font-weight:400;font-size:17px}}.mat-checkbox[_ngcontent-%COMP%]{font-family:Muli,sans-serif}.mat-checkbox-layout[_ngcontent-%COMP%]   .mat-checkbox-label[_ngcontent-%COMP%]{line-height:24px}.content-container[_ngcontent-%COMP%]{color:#f5f5f5;margin:auto;overflow:hidden;position:relative;z-index:1}.item-container[_ngcontent-%COMP%]{min-width:100vw;max-width:100vw}.items-container[_ngcontent-%COMP%]{will-change:transform;transition-property:transform;transition-duration:.3s;transition-timing-function:ease-out;transform:translateZ(0);display:flex;width:100%}.item-content-wrap[_ngcontent-%COMP%]{margin:auto}@media (min-width:600px){.item-content[_ngcontent-%COMP%]{margin:16px}}.close-icon[_ngcontent-%COMP%]{color:#fff;display:inline-block;margin:24px 16px 0;cursor:pointer}.photo-count[_ngcontent-%COMP%]{margin:8px 0;--mg-icon-size:1.2em}.author-info[_ngcontent-%COMP%]{color:#f5f5f5;margin:8px 0}.event-tags[_ngcontent-%COMP%], .gallery-tags[_ngcontent-%COMP%]{color:#ccc}.event-tags[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .gallery-tags[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:default;color:#f5f5f5;text-decoration:none;white-space:normal}.event-tags[_ngcontent-%COMP%]   a.has-click-handler[_ngcontent-%COMP%], .gallery-tags[_ngcontent-%COMP%]   a.has-click-handler[_ngcontent-%COMP%]{cursor:pointer;color:#3cf}.event-tags[_ngcontent-%COMP%]   a.has-click-handler[_ngcontent-%COMP%]:hover, .gallery-tags[_ngcontent-%COMP%]   a.has-click-handler[_ngcontent-%COMP%]:hover{text-decoration:underline}.event-tags[_ngcontent-%COMP%]   .tag-name[_ngcontent-%COMP%], .gallery-tags[_ngcontent-%COMP%]   .tag-name[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap}.event-tags[_ngcontent-%COMP%]{color:#f5f5f5;display:inline-block}.event-tags[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700}.photo-description[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#fff;color:#f5f5f5;margin:8px 0;max-height:2.4em;line-height:1.2em;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:439.875px){.photo-description[_ngcontent-%COMP%]{font-size:13.8125px}}.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;margin:1em 0}.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1;line-height:1.25}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4.1213768116vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4.1213768116vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:17.0625px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:17.0625px}}@media (min-width:433.7142857143px){.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:17.875px}}.photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1;line-height:1.2}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3.5326086957vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3.5326086957vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14.625px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14.625px}}@media (min-width:437px){.photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15.4375px}}.photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:439.875px){.photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13.8125px}}.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1;text-transform:uppercase}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.7475845411vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.7475845411vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:11.375px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:11.375px}}@media (min-width:443.5714285714px){.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:12.1875px}}.photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1;text-transform:uppercase}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:2.7475845411vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:2.7475845411vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:11.375px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:11.375px}}@media (min-width:443.5714285714px){.photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12.1875px}}.photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1;text-transform:uppercase}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:2.7475845411vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:2.7475845411vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:11.375px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:11.375px}}@media (min-width:443.5714285714px){.photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12.1875px}}.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1em 0 .5em}.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:1em 0 0}.photo-description[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#fff}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:439.875px){.photo-description[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:13.8125px}}.photo-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#93f;cursor:pointer;text-decoration:none}@media (orientation:landscape){.photo-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){.photo-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){.photo-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){.photo-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:439.875px){.photo-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13.8125px}}.photo-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.photo-description[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{color:#999;cursor:default;pointer-events:none}.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:last-child, .photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:last-child, .photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:last-child, .photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:last-child, .photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]:last-child, .photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]:last-child, .photo-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin:1em 0}.photo-description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] + p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin:.5em 0}.photo-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin:-.25em 0 .5em}.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] + p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] + p[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin:0 0 .5em}.photo-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]:last-child, .photo-description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]:last-child, .photo-description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]:last-child{margin:0 0 1em}.photo-description[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{border-left:4px solid #fff;padding-left:1em;margin:1em 0 1em 1em;font-style:italic}.photo-description[_ngcontent-%COMP%]   .body-content[_ngcontent-%COMP%], .photo-description[_ngcontent-%COMP%]   .body-contents[_ngcontent-%COMP%]{color:#fff}mg-image[_ngcontent-%COMP%]{margin:auto}.nav-left[_ngcontent-%COMP%]{left:0}.nav-left[_ngcontent-%COMP%], .nav-right[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;transform:translateY(-50%)}.nav-right[_ngcontent-%COMP%]{right:0}.nav-left[_ngcontent-%COMP%], .nav-right[_ngcontent-%COMP%]{z-index:3}@media (max-width:599px){.nav-left[_ngcontent-%COMP%], .nav-right[_ngcontent-%COMP%]{display:none}}.nav-left[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%], .nav-right[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{padding:8px}.nav-left.disabled[_ngcontent-%COMP%], .nav-right.disabled[_ngcontent-%COMP%]{cursor:default;opacity:.5;pointer-events:none}'],changeDetection:0}),t})();var et=n("ugqS"),nt=n("ACDe"),ot=n("zkd0"),it=n("ls3q"),at=n("Vwx4"),rt=n("Ogcz"),lt=n("l2ko");let ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[lt.a,nt.a,rt.b,et.a,it.a,ot.a,c.a,at.b,o.c,a.a,r.k]]}),t})();var st=n("m9yI"),mt=n("lHZB"),gt=n("2nPA"),pt=n("HQAS"),dt=n("0cKA"),ft=n("05dM"),ht=n("c1S6"),Ct=n("3+9S");function Mt(t,e){1&t&&(i["\u0275\u0275element"](0,"mg-empty-state",4),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275pipe"](2,"translate")),2&t&&i["\u0275\u0275property"]("title",i["\u0275\u0275pipeBind1"](1,2,"emptyState.photoGallery.title"))("subtitle",i["\u0275\u0275pipeBind1"](2,4,"emptyState.photoGallery.subtitle"))}function Pt(t,e){if(1&t&&i["\u0275\u0275element"](0,"mg-empty-state",5),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275propertyInterpolate1"]("title","No results for '",t.query,"'")}}function _t(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",10),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2).$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.title," ")}}const Ot=function(){return["bannerlibpreview","cardbanner"]},ut=function(t){return["blurloading1",t]};function xt(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"mg-image",12),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](t);const n=e.index,o=e.$implicit,a=i["\u0275\u0275nextContext"](2).itemIndex;return i["\u0275\u0275nextContext"]()._openItem(a,n,o)})),i["\u0275\u0275pipe"](2,"mgImageUrls"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("tileWidth",n.getTileWidth(t))("tileHeight",n.getTileHeight(t)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("srcs",i["\u0275\u0275pipeBind2"](2,3,t.imageInfo,i["\u0275\u0275pureFunction1"](7,ut,i["\u0275\u0275pureFunction0"](6,Ot))))}}function bt(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,_t,2,1,"div",7),i["\u0275\u0275elementStart"](2,"mg-fit-grid",8),i["\u0275\u0275template"](3,xt,3,9,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit,e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("rowHeight",109)("maxAspectRatio",e.maxAspectRatio)("minAspectRatio",e.minAspectRatio),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.itemList)("ngForTrackBy",e.trackBy)}}function yt(t,e){1&t&&i["\u0275\u0275template"](0,bt,4,6,"ng-container",6),2&t&&i["\u0275\u0275property"]("ngIf",e.$implicit.itemList.length>0)}let vt=(()=>{class t{constructor(t){this._mingaGalleryProto=t,this.contentHash="",this.groupHash="",this.query="",this.streamControlCreated=new i.EventEmitter,this.openItem=new i.EventEmitter,this.trackBy=(t,e)=>e.galleryPhotoUuid}get streamService(){return this._mingaGalleryProto}restartStream(){this.streamScroller.restartStream()}ngOnInit(){}ngOnDestroy(){}get filter(){const t={};return this.query&&(t.query=this.query),this.contentHash&&(t.contentHash=this.contentHash),this.groupHash&&(t.groupHash=this.groupHash),t}getTileWidth(t){var e;const n=t.imageInfo;return(null===(e=((null==n?void 0:n.sizeMap)||[])[0][1])||void 0===e?void 0:e.width)||0}getTileHeight(t){var e;const n=t.imageInfo;return(null===(e=((null==n?void 0:n.sizeMap)||[])[0][1])||void 0===e?void 0:e.height)||0}_openItem(t,e,n){this.openItem.emit({itemIndex:t,photoIndex:e,tile:n})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](mt.MingaGallery))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["mg-gallery-feed"]],viewQuery:function(t,e){if(1&t&&i["\u0275\u0275viewQuery"](st.a,3),2&t){let t;i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.streamScroller=t.first)}},inputs:{contentHash:"contentHash",groupHash:"groupHash",query:"query",maxAspectRatio:"maxAspectRatio",minAspectRatio:"minAspectRatio"},outputs:{openItem:"openItem",streamControlCreated:"streamControlCreated"},decls:5,vars:8,consts:[["mgStreamControl","GalleryFeed","rpcStream","streamV2","rpcControl","streamV2Control",3,"mgTrimmed","filter","service","bufferAmount","loadThreshold","streamControlCreated"],["mg-stream-empty","",3,"title","subtitle",4,"ngIf","ngIfElse"],["searchEmptyState",""],["mgStreamItem",""],["mg-stream-empty","",3,"title","subtitle"],["mg-stream-empty","",3,"title"],[4,"ngIf"],["class","gallery-section-title mg-smallcopy",4,"ngIf"],[3,"rowHeight","maxAspectRatio","minAspectRatio"],["mgFitGridTile","",3,"tileWidth","tileHeight",4,"ngFor","ngForOf","ngForTrackBy"],[1,"gallery-section-title","mg-smallcopy"],["mgFitGridTile","",3,"tileWidth","tileHeight"],[1,"tile-image",3,"srcs","click"]],template:function(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"mg-stream-scroller",0),i["\u0275\u0275listener"]("streamControlCreated",(function(t){return e.streamControlCreated.emit(t)})),i["\u0275\u0275template"](1,Mt,3,6,"mg-empty-state",1),i["\u0275\u0275template"](2,Pt,1,1,"ng-template",null,2,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](4,yt,1,1,"ng-template",3),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275reference"](3);i["\u0275\u0275property"]("mgTrimmed",!0)("filter",e.filter)("service",e.streamService)("mgTrimmed",!0)("bufferAmount",2)("loadThreshold",3),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.query)("ngIfElse",t)}},directives:[gt.a,pt.a,o.o,dt.a,ft.a,ht.a,o.n,Ct.a,j.a],pipes:[l.d,$.a],styles:["[_nghost-%COMP%]{--feed-item-margin-side:0px;--feed-item-margin-vert:0px}.tile-image[_ngcontent-%COMP%]{height:100%;border:1px solid #fff;background-color:#fff}.gallery-section-title[_ngcontent-%COMP%]{text-align:center;padding:16px;font-weight:700;color:#737373}"],changeDetection:0}),t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[g.a,st.b,et.a,rt.b,m.a,o.c,l.c]]}),t})();var It=n("txl0"),St=n("yHCs"),kt=n("jKai"),zt=n("HSxi");let Gt=(()=>{class t{constructor(t,e,n,o,i){this.eventsFacade=t,this.mingaService=e,this.eventService=n,this.groupService=o,this.groupsFacade=i}resolve(t,e){return Object(p.a)(this,void 0,void 0,(function*(){const e=t.params.eventContextHash||"",n=t.params.groupHash||"",o=yield this.groupsFacade.getParentGroupHashes();return e?(yield this.eventService.setEventFromContextHash(e),{eventContent$:this.eventsFacade.getEventByContextHash(e),group$:Object(M.a)(null),galleryService:this.eventService}):n?(yield this.groupService.setGroupFromHash(n),{group$:this.groupsFacade.getGroup(n),galleryService:this.groupService,eventContent$:Object(M.a)(void 0)}):o&&o.length>0?(yield this.groupService.setGroupFromHash(o[0]),{group$:this.groupsFacade.getGroup(o[0]),galleryService:this.groupService,eventContent$:Object(M.a)(void 0)}):{galleryService:this.mingaService,group$:Object(M.a)(null),eventContent$:Object(M.a)(void 0)}}))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](w.a),i["\u0275\u0275inject"](It.a),i["\u0275\u0275inject"](St.a),i["\u0275\u0275inject"](kt.a),i["\u0275\u0275inject"](zt.b))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})();var Et=n("DjdL"),jt=n("wXXL"),Tt=n("B8CN"),$t=n("Cnb3"),Ht=n("PqYM"),Rt=n("Cfvw"),Dt=n("6eBy"),Lt=n("UXun"),Bt=n("/uUt"),Ft=n("eIep"),At=n("JF7H"),Yt=n("UWMR"),Vt=n("+/Hu"),Nt=n("zc8W"),qt=n("Cgve"),Wt=n("+Ce8"),Qt=n("cKGL");const Zt=["multipleItemGalleryLightBox"],Ut=["singleItemGalleryLightBox"],Jt=["deletePhotoDialog"];function Xt(t,e){1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"strong"),i["\u0275\u0275text"](2,"--"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](3," photos "),i["\u0275\u0275elementContainerEnd"]())}function Kt(t,e){if(1&t&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"strong"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275elementContainerEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,2,t.photoTotal$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",1==i["\u0275\u0275pipeBind1"](5,4,t.photoTotal$)?" photo":" photos"," ")}}function te(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"mg-button",19),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275text"](3,"Add Photo"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pipeBind1"](2,1,t.addPhotoRouterLink$))}}function ee(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();let e=null;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==(e=i["\u0275\u0275pipeBind1"](2,1,t.eventContent$))?null:e.contentTagTitle)}}function ne(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();let e=null;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](null==(e=i["\u0275\u0275pipeBind1"](2,1,t.group$))?null:e.name)}}function oe(t,e,n){return t.slice(0,e).reduce((t,e)=>t+e.item.itemList.length,n)}class ie{constructor(t,e,n,o,i,a,r){this.galleryItem=t,this.index=e,this.galleryRoute=n,this.authService=o,this.permissions=i,this.mentionsService=a,this.authInfoService=r,this.tags=t.tagList.map(t=>{let e,n="";return t.contentTag?n=t.contentTag.contentHash:t.groupTag?n=t.groupTag.groupHash:t.personTag&&(n=t.personTag.personHash),e=t.personTag&&t.personTag.displayName?Object(M.a)(jt.a+t.personTag.displayName):this.mentionsService.getMentionable(n).pipe(Object(x.a)(t=>t?jt.a+t.displayName:"")),{id:n,name$:e,clickHandler:e=>this.galleryRoute.onTagClick(e,t)}})}get authorDisplayName(){return this.galleryItem.authorDisplayName}get authorPersonHash(){return this.galleryItem.authorPersonHash}get shouldShowDelete(){return this.permissions.hasPermission($t.MingaPermission.GALLERY_DELETE_OTHERS_PHOTO)||this.authInfoService.authPersonHash===this.authorPersonHash}get shouldShowResolve(){return this.permissions.hasPermission($t.MingaPermission.CONTENT_REPORTS_MANAGE)}get shouldShowReport(){return this.permissions.hasPermission($t.MingaPermission.CONTENT_REPORT_CREATE)}get description(){return this.galleryItem.description}get id(){return this.galleryItem.galleryPhotoUuid}get timestamp(){return this.galleryItem.timestamp}get imageInfo(){return this.galleryItem.imageInfo||{sizeMap:[]}}}class ae{constructor(t,e,n,o,i,a,r){this.galleryRoute=t,this.authService=e,this.permissions=n,this.router=o,this.mentionsService=i,this.lightbox=a,this.authInfoService=r,this.total$=new _.a(0),this.items$=new _.a([])}hasNext(){return!1}hasPrevious(){return!1}next(){}previous(){}setGalleryItem(t){const e=new ie(t,0,this.galleryRoute,this.authService,this.permissions,this.mentionsService,this.authInfoService);this.items$.next([e]),this.total$.next(1)}dispose(){this.items$.complete(),this.total$.complete()}}class re{constructor(t,e,n,o,i,a,r,l,c){this.galleryRoute=t,this.stream=n,this.authService=o,this.permissions=i,this.router=a,this.mentionsService=r,this.lightbox=l,this.authInfoService=c,this.currentIndex=0,this.total$=e,this.items$=new _.a([])}next(){this.currentIndex+=1,this._updateViewItems()}hasNext(){return this.currentIndex<this.stream.length&&!this.stream.frontExhausted}previous(){this.currentIndex-=1,this._updateViewItems()}hasPrevious(){return this.currentIndex>0}dispose(){this.items$.complete()}setViewItemsAt(t,e){const n=this.stream._getItems(),o=oe(n,t,e);this.currentIndex=o,this._updateViewItems(n)}_updateViewItems(t=this.stream._getItems()){const e=this.currentIndex,n=Math.abs(Math.min(0,e-1)),o=Math.max(0,e-1),i=e+1+1+n,a=Math.min(0,e-1),r=function(t,e,n){const o=[];for(const i of t)if(o.push(...i.item.itemList),o.length>n)break;return o.slice(e,n)}(t,o,i),l=t[t.length-1],c=l.item.itemList.slice(Math.max(0,l.item.itemList.length-3));for(let s=0;3>s;++s){const t=r[r.length-s-1];if(!t){this.stream.seekFront();break}for(const e of c)if(t.galleryPhotoUuid===e.galleryPhotoUuid){this.stream.seekFront();break}}this.items$.next(r.map((t,n)=>new ie(t,e-1-a+n,this.galleryRoute,this.authService,this.permissions,this.mentionsService,this.authInfoService)))}}let le=(()=>{class t{constructor(t,e,n,o,i,a,r,l,c,s,m,g,p,d){this.mingaGallery=t,this.authService=e,this.permissions=n,this.rootService=o,this.mingaSnackbar=i,this.router=a,this.mentionsService=r,this.groupsFacade=l,this.route=c,this.cdr=s,this.search=m,this._location=g,this.analyticsService=p,this.authInfoService=d,this._stream=null,this._searchText$=new _.a(""),this.galleryDataSource=null,this.singleGalleryDataSource=null,this.searchText="",this.initRouteData(),this.trackBy=(t,e)=>t,this.searchText$=this._searchText$.asObservable(),this.searchTextDebounced$=this.searchText$.pipe(Object(Dt.a)(t=>t?Object(Ht.a)(300):Object(Ht.a)(0)),Object(Lt.a)(1),Object(Bt.a)()),this.photoTotal$=Object(P.b)(this.routeProvidedGalleryService.summary$,this.searchTextDebounced$).pipe(Object(Ft.a)(([t,e])=>e?Object(Rt.a)(this.routeProvidedGalleryService.getSearchPhotoTotal(e)):Object(M.a)(t.photoTotal)),Object(Lt.a)(1)),this.aspectRatioPerRow$=this.routeProvidedGalleryService.summary$.pipe(Object(x.a)(t=>t.photoAspectRatioPerRow)),this.summaryLoading$=this.routeProvidedGalleryService.loading$,this.photoTotalLoading$=this.summaryLoading$}initRouteData(){const t=this.route.snapshot.data.galleryData;this.routeProvidedGalleryService=t.galleryService,this.eventContent$=t.eventContent$,this.group$=t.group$,this.addPhotoRouterLink$=Object(P.b)(this.eventContent$,this.group$).pipe(Object(x.a)(([t,e])=>{const n=["gallery","add"];return t?(n.push("event"),n.push(t.contextHash)):e&&(n.push("group"),n.push(e.hash)),["",{outlets:{o:n}}]}))}clearQueryParams(){this.router.navigate(["/gallery"],{})}onSearchText(t){this._searchText$.next(t)}onReportItem(t){this.router.navigate(["",{outlets:{o:["report","",t.id]}}])}onDeleteItem(t){this.deletePhotoDialog.open().beforeClosed().subscribe(e=>{!0===e&&(this.rootService.addLoadingPromise(this._deleteItem(t.item)),t.leaveGallery&&this._location.back())})}onResolveItem(t){return Object(p.a)(this,void 0,void 0,(function*(){const e=`${t.item.id}`;yield this.rootService.addLoadingPromise(this.routeProvidedGalleryService.resolvePhoto(e)),t.leaveGallery&&this._location.back()}))}onLightboxClose(t){t&&this._location.back()}_deleteItem(t){var e,n;return Object(p.a)(this,void 0,void 0,(function*(){const o=t.id;if(!o||"string"!=typeof o)throw new Error(`Cannot delete gallery lightbox item with invalid id ${o}`);let i=!1;try{i=yield this.routeProvidedGalleryService.deletePhoto({galleryPhotoUuid:o})}catch(a){console.error(a),i=!1}i?(this.mingaSnackbar.open("Successfully deleted photo"),null===(e=this.galleryLightbox)||void 0===e||e.close(),null===(n=this._stream)||void 0===n||n.restart()):this.mingaSnackbar.open("Something went wrong while deleting your photo. Please try again later")}))}initSingleGalleryDataSource(){if(!this.singleGalleryLightbox)throw new Error("could not initialize singleGalleryDataSource as singleGalleryLightbox isn't available");this.singleGalleryDataSource=new ae(this,this.authService,this.permissions,this.router,this.mentionsService,this.singleGalleryLightbox,this.authInfoService)}setupRouterListener(){this.route.params.subscribe(t=>{"photoHash"in t&&this.singleGalleryLightbox&&this.retrieveAndOpenImage(t.photoHash),"eventContextHash"in t&&this.initRouteData()})}openSingleImage(t){if(!this.singleGalleryDataSource||!this.singleGalleryLightbox)throw new Error("could not open singleGalleryLightbox as singleGalleryDataSource wasn't initialized");this.singleGalleryDataSource.setGalleryItem(t),this.singleGalleryLightbox.setActiveByGlobalIndex(0),this.singleGalleryLightbox.slideToActive(),this.singleGalleryLightbox.open()}retrieveAndOpenImage(t){return Object(p.a)(this,void 0,void 0,(function*(){const e=new Tt.MingaGalleryPhotoRequest;e.setGalleryPhotoUuid(t);const n=(yield this.rootService.addLoadingPromise(this.mingaGallery.getPhoto(e))).getPhoto();if(n){const t=n.toObject();this.openSingleImage(t)}else this.mingaSnackbar.open("Something went wrong while opening your photo. Please try again later")}))}ngOnInit(){this.groupsFacade.dispatchLoadAll(),this.routeProvidedGalleryService.fetchSummary(),this.initSingleGalleryDataSource(),this.setupRouterListener(),window.history.state.search&&this.search.setSearchQuery(window.history.state.search)}ngOnDestroy(){this.search.resetSearch(),this.galleryLightbox&&this.galleryLightbox.close(),this.singleGalleryLightbox&&this.singleGalleryLightbox.close(),this.galleryDataSource&&(this.galleryDataSource.dispose(),this.galleryDataSource=null),this.singleGalleryDataSource&&(this.singleGalleryDataSource.dispose(),this.singleGalleryDataSource=null)}openImage(t){var e;if(!this.galleryLightbox||!this.galleryDataSource)return;const n=(null===(e=this._stream)||void 0===e?void 0:e._getItems())||[],{itemIndex:o,photoIndex:i}=t;this.galleryLightbox.setActiveByGlobalIndex(oe(n,o,i)),this.galleryDataSource.setViewItemsAt(o,i),this.galleryLightbox.open()}getTileWidth(t){var e;const n=t.imageInfo;return(null===(e=((null==n?void 0:n.sizeMap)||[])[0][1])||void 0===e?void 0:e.width)||0}getTileHeight(t){var e;const n=t.imageInfo;return(null===(e=((null==n?void 0:n.sizeMap)||[])[0][1])||void 0===e?void 0:e.height)||0}onStreamControlCreated(t){if(this._stream=t,this.galleryDataSource&&this.galleryDataSource.dispose(),!this.galleryLightbox)throw new Error("Stream control create happened before ngOnInit");this.galleryDataSource=new re(this,this.photoTotal$,t,this.authService,this.permissions,this.router,this.mentionsService,this.galleryLightbox,this.authInfoService)}onTagClick(t,e){var n,o,i;const a=(null===(n=t.target)||void 0===n?void 0:n.textContent)||"";e.contentTag?this.analyticsService.sendGalleryHashTaggedClicked({type:"event"}):e.groupTag?this.analyticsService.sendGalleryHashTaggedClicked({type:"group"}):e.personTag&&this.analyticsService.sendGalleryHashTaggedClicked({type:"person"}),a&&(this.searchText='"'+a+'"',this.search.setSearchQuery(this.searchText),null===(o=this.galleryLightbox)||void 0===o||o.close(),null===(i=this.singleGalleryLightbox)||void 0===i||i.close(),this.cdr.markForCheck(),this.router.navigateByUrl("/gallery",{state:{search:this.searchText}})),e&&e.groupTag&&this.router.navigateByUrl("/gallery/group/"+e.groupTag.groupHash)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](mt.MingaGallery),i["\u0275\u0275directiveInject"](At.a),i["\u0275\u0275directiveInject"](at.c),i["\u0275\u0275directiveInject"](y.a),i["\u0275\u0275directiveInject"](Yt.b),i["\u0275\u0275directiveInject"](r.g),i["\u0275\u0275directiveInject"](Vt.b),i["\u0275\u0275directiveInject"](zt.b),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](Et.f),i["\u0275\u0275directiveInject"](o.k),i["\u0275\u0275directiveInject"](S.a),i["\u0275\u0275directiveInject"](Nt.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(i["\u0275\u0275viewQuery"](Zt,3),i["\u0275\u0275viewQuery"](Ut,3),i["\u0275\u0275viewQuery"](Jt,3)),2&t){let t;i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.galleryLightbox=t.first),i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.singleGalleryLightbox=t.first),i["\u0275\u0275queryRefresh"](t=i["\u0275\u0275loadQuery"]())&&(e.deletePhotoDialog=t.first)}},decls:38,vars:30,consts:[["searchPlaceholder","Search Gallery",3,"searchQueryChange"],["deletePhotoDialog",""],["type","text",1,"normal",3,"mg-dialog-action"],["type","outline",1,"normal",3,"mg-dialog-action"],[3,"dataSource","deleteItem","reportItem","resolveItem"],["multipleItemGalleryLightBox",""],[3,"dataSource","deleteItem","closed","reportItem","resolveItem"],["singleItemGalleryLightBox",""],["fxLayout","row","fxLayoutGap","8px",1,"photo-album-header"],[3,"click"],["fxFlex","auto",3,"click"],[1,"mg-headline2"],[1,"mg-smallcopy","photos-count"],[4,"ngIf","ngIfElse"],["totalCountTpl",""],[4,"hasPermission"],[1,"mg-smallcopy","gallery-subtitle"],[4,"ngIf"],[3,"contentHash","groupHash","query","maxAspectRatio","minAspectRatio","openItem","streamControlCreated"],["type","outline",1,"normal",3,"routerLink"]],template:function(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"mg-search-active-route",0),i["\u0275\u0275listener"]("searchQueryChange",(function(t){return e.onSearchText(t)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](1,"mg-dialog",null,1),i["\u0275\u0275elementStart"](3,"mg-dialog-title"),i["\u0275\u0275text"](4,"Are you sure you want to delete this photo?"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"mg-dialog-content"),i["\u0275\u0275text"](6," This action cannot be undone. "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"mg-button",2),i["\u0275\u0275text"](8,"Cancel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"mg-button",3),i["\u0275\u0275text"](10,"Delete Photo"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"mg-gallery-lightbox",4,5),i["\u0275\u0275listener"]("deleteItem",(function(t){return e.onDeleteItem(t)}))("reportItem",(function(t){return e.onReportItem(t)}))("resolveItem",(function(t){return e.onResolveItem(t)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"mg-gallery-lightbox",6,7),i["\u0275\u0275listener"]("deleteItem",(function(t){return e.onDeleteItem(t)}))("closed",(function(t){return e.onLightboxClose(t)}))("reportItem",(function(t){return e.onReportItem(t)}))("resolveItem",(function(t){return e.onResolveItem(t)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",8),i["\u0275\u0275elementStart"](16,"mg-icon",9),i["\u0275\u0275listener"]("click",(function(){return e.clearQueryParams()})),i["\u0275\u0275text"](17,"camera-o"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"div",10),i["\u0275\u0275listener"]("click",(function(){return e.clearQueryParams()})),i["\u0275\u0275elementStart"](19,"h1",11),i["\u0275\u0275text"](20,"Photo Gallery"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"p",12),i["\u0275\u0275template"](22,Xt,4,0,"ng-container",13),i["\u0275\u0275pipe"](23,"async"),i["\u0275\u0275template"](24,Kt,6,6,"ng-template",null,14,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](26,te,4,3,"div",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"div",16),i["\u0275\u0275template"](28,ee,3,3,"span",17),i["\u0275\u0275pipe"](29,"async"),i["\u0275\u0275template"](30,ne,3,3,"span",17),i["\u0275\u0275pipe"](31,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"mg-gallery-feed",18),i["\u0275\u0275listener"]("openItem",(function(t){return e.openImage(t)}))("streamControlCreated",(function(t){return e.onStreamControlCreated(t)})),i["\u0275\u0275pipe"](33,"async"),i["\u0275\u0275pipe"](34,"async"),i["\u0275\u0275pipe"](35,"async"),i["\u0275\u0275pipe"](36,"async"),i["\u0275\u0275pipe"](37,"async"),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275reference"](25);let n=null,o=null;i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("mg-dialog-action",!1),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("mg-dialog-action",!0),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("dataSource",e.galleryDataSource),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("dataSource",e.singleGalleryDataSource),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](23,14,e.photoTotalLoading$))("ngIfElse",t),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("hasPermission","GALLERY_ADD_PHOTO"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](29,16,e.eventContent$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](31,18,e.group$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("contentHash",null==(n=i["\u0275\u0275pipeBind1"](33,20,e.eventContent$))?null:n.hash)("groupHash",null==(o=i["\u0275\u0275pipeBind1"](34,22,e.group$))?null:o.hash)("query",i["\u0275\u0275pipeBind1"](35,24,e.searchTextDebounced$))("maxAspectRatio",i["\u0275\u0275pipeBind1"](36,26,e.aspectRatioPerRow$))("minAspectRatio",i["\u0275\u0275pipeBind1"](37,28,e.aspectRatioPerRow$))}},directives:[qt.a,Wt.a,Wt.d,Wt.c,T.a,Wt.b,tt,G.e,G.f,z.a,G.b,o.o,Qt.a,vt,r.h],pipes:[o.b],styles:["[_nghost-%COMP%]{--feed-item-margin-side:0px;--feed-item-margin-vert:0px}.photo-album-header[_ngcontent-%COMP%]{margin:16px 0}@media (max-width:599px){.photo-album-header[_ngcontent-%COMP%]{margin:16px}}.photo-album-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .photo-album-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.photo-album-header[_ngcontent-%COMP%] > mg-icon[_ngcontent-%COMP%]:hover, .photo-album-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:hover{cursor:pointer}.tile-image[_ngcontent-%COMP%]{height:100%;border:1px solid #fff;background-color:#fff}.photos-count[_ngcontent-%COMP%]{color:#737373}.gallery-section-title[_ngcontent-%COMP%]{padding:16px;color:#737373}.gallery-section-title[_ngcontent-%COMP%], .gallery-subtitle[_ngcontent-%COMP%]{text-align:center;font-weight:700}"],changeDetection:0}),t})();const ce=[{path:"",component:le,resolve:{galleryData:Gt},data:{title:"Photo Gallery"}},{path:"event/:eventContextHash",component:le,resolve:{galleryData:Gt},data:{title:"Event Photo Gallery"}},{path:"event/:eventContextHash/:photoHash",component:le,resolve:{galleryData:Gt},data:{title:"Event Photo Gallery"}},{path:"group/:groupHash",component:le,resolve:{galleryData:Gt},data:{title:"Group Photo Gallery"}}];let se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[St.a,Gt],imports:[[g.a,it.a,c.a,st.b,et.a,rt.b,at.b,m.a,ct,s.a,Et.d,wt,o.c,a.a,l.c,r.k,r.k.forChild(ce)]]}),t})()}}]);
//# sourceMappingURL=minga-app-src-app-routes-gallery-GalleryRoute-module-es2015.js.map