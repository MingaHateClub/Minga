(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"73/i":function(e,n,t){"use strict";t.r(n),t.d(n,"ProgramMingasRoutingModule",(function(){return _}));var o=t("8Y7J"),r=t("iInd"),i=t("mrSG"),a=t("PLeU"),s=t("l6At"),c=t("IPaV"),g=t("YTnL"),p=t("GFah"),l=t("SVse"),m=t("f44v");function d(e,n){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",4),o["\u0275\u0275element"](1,"div",5),o["\u0275\u0275elementStart"](2,"mat-chip-list",6),o["\u0275\u0275elementStart"](3,"mat-chip"),o["\u0275\u0275text"](4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"p"),o["\u0275\u0275text"](6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=n.$implicit,t=o["\u0275\u0275nextContext"]();o["\u0275\u0275classProp"]("paused",e.paused),o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("background-image","url("+(e.mingaLogo||t.defaultMingaLogoPath)+")"),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"](" ",e.paused?"paused":"live"," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.mingaName)}}let u=(()=>{class e{constructor(e,n,t,o,r,i){this.route=e,this.router=n,this.errorReporting=t,this.programManager=o,this.rootService=r,this.cdr=i,this.mingas=[],this.programHash="",this.defaultMingaLogoPath="assets/Minga_icon.svg",this.setupRouterListener()}setupRouterListener(){this.route.params.subscribe(e=>{"hash"in e?(this.programHash=e.hash,this.mingas.length||this.rootService.addLoadingPromise(this.getMingas())):(console.error("[ProgramMingasComponent] no hash available to get content!"),this.onOverlayClose())})}getMingas(){return Object(i.a)(this,void 0,void 0,(function*(){const e=new s.ProgramInfoQuery;e.setProgramHash(this.programHash);const n=yield this.programManager.getMingas(e);this.mingas=n.getMingaList().map(e=>e.toObject()),this.cdr.markForCheck()}))}get overlayPrevious(){return{icon:"back",text:"Back"}}hasOverlayPrevious(){return this.overlayPrevious}onOverlayPrevious(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}onOverlayClose(){return Object(i.a)(this,void 0,void 0,(function*(){return yield Object(a.a)(this.router),!0}))}}return e.\u0275fac=function(n){return new(n||e)(o["\u0275\u0275directiveInject"](r.a),o["\u0275\u0275directiveInject"](r.g),o["\u0275\u0275directiveInject"](c.a),o["\u0275\u0275directiveInject"](g.ProgramManager),o["\u0275\u0275directiveInject"](p.a),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"mingas-count"],[1,"mingas-count-text"],[1,"mingas-container"],["class","minga-row",3,"paused",4,"ngFor","ngForOf"],[1,"minga-row"],[1,"minga-logo"],[1,"mg-smallcopy"]],template:function(e,n){1&e&&(o["\u0275\u0275elementStart"](0,"p",0),o["\u0275\u0275elementStart"](1,"span",1),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",2),o["\u0275\u0275template"](4,d,7,6,"div",3),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](1==n.mingas.length?n.mingas.length+" Minga":n.mingas.length+" Mingas"),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",n.mingas))},directives:[l.n,m.c,m.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.mingas-count[_ngcontent-%COMP%]{margin:24px 16px 16px}@media (min-width:600px){.mingas-count[_ngcontent-%COMP%]{margin:32px 32px 16px}}.mingas-count[_ngcontent-%COMP%]   .mingas-count-text[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.mingas-count[_ngcontent-%COMP%]   .mingas-count-text[_ngcontent-%COMP%]{font-size:3.3816425121vh}}@media (orientation:portrait){.mingas-count[_ngcontent-%COMP%]   .mingas-count-text[_ngcontent-%COMP%]{font-size:3.3816425121vw}}@media (orientation:landscape) and (max-height:414px){.mingas-count[_ngcontent-%COMP%]   .mingas-count-text[_ngcontent-%COMP%]{font-size:14px}}@media (orientation:portrait) and (max-width:414px){.mingas-count[_ngcontent-%COMP%]   .mingas-count-text[_ngcontent-%COMP%]{font-size:14px}}@media (min-width:439.875px){.mingas-count[_ngcontent-%COMP%]   .mingas-count-text[_ngcontent-%COMP%]{font-size:14.875px}}.mingas-container[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #ccc;margin-bottom:32px}.minga-row[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding:4px 16px;display:flex;align-items:center}.minga-row.paused[_ngcontent-%COMP%]{background-color:rgba(255,204,0,.15)}.minga-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;font-weight:700}@media (orientation:landscape){.minga-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.minga-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.minga-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.minga-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.minga-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}.minga-row[_ngcontent-%COMP%]   .minga-logo[_ngcontent-%COMP%]{height:35px;width:35px;border-radius:50%;margin-right:16px;background-size:contain}.minga-row[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;margin-right:16px}@media (orientation:landscape){.minga-row[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.minga-row[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.minga-row[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.minga-row[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.minga-row[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:13px}}'],changeDetection:0}),e})();var h=t("CL15");let f=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[h.a,l.c,m.e]]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[f,r.k.forChild([{path:"",component:u}])]]}),e})()},IPaV:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var o=t("mrSG"),r=t("8Y7J"),i=t("QPZY"),a=t("mI3D"),s=t("ypKM"),c=t("Tcc+");let g=(()=>{class e{constructor(e,n){this.errorReporter=e,this.analytics=n}sendErrorReport(e,n,t=0){return Object(o.a)(this,void 0,void 0,(function*(){let o=new a.ErrorReportRequest,r=new a.ErrorReportResponse;console.log("GRPCErrorReportRequest: ",o),console.log("GRPCErrorReportResponse: ",r),this.analytics.sendException(`[${e}]: ${n}`,t),o.setErrorPriority(t),o.setErrorMessage(n),o.setErrorContext(e),r=yield this.errorReporter.sendErrorReport(o).catch(e=>{console.error("[ErrorReporter] sendErrorReport error",e);let n=new a.ErrorReportResponse;return n.setStatus(i.StatusCode.ERROR),n}),console.log("Error Response Status:",r.getStatus()),console.log("Error Response error_handler_override:",r.getErrorHandlerOverride())}))}}return e.\u0275fac=function(n){return new(n||e)(r["\u0275\u0275inject"](s.ErrorReporter),r["\u0275\u0275inject"](c.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},dfi4:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorReporterClient=n.LocaleSyncClient=n.AppConfigClient=n.ErrorReporter=n.LocaleSync=n.AppConfig=void 0;const o=t("mI3D");class r{}n.AppConfig=r,r.serviceName="AppConfig",r.getAppConfig={methodName:"getAppConfig",service:r,requestStream:!1,responseStream:!1,requestType:o.AppConfigRequest,responseType:o.AppConfigResponse};class i{}n.LocaleSync=i,i.serviceName="LocaleSync",i.getLocaleSync={methodName:"getLocaleSync",service:i,requestStream:!1,responseStream:!1,requestType:o.LocaleSyncRequest,responseType:o.LocaleSyncResponse};class a{}n.ErrorReporter=a,a.serviceName="ErrorReporter",a.sendErrorReport={methodName:"sendErrorReport",service:a,requestStream:!1,responseStream:!1,requestType:o.ErrorReportRequest,responseType:o.ErrorReportResponse},n.AppConfigClient=class{getAppConfig(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},n.LocaleSyncClient=class{getLocaleSync(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},n.ErrorReporterClient=class{sendErrorReport(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},ypKM:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorReporter=n.LocaleSync=n.AppConfig=void 0,t("8Y7J");const o=t("+6wJ"),r=t("dfi4"),i=t("8Y7J");class a{constructor(e){this._ngZone=e}getAppConfig(e,n,t){let i,a,s;"function"==typeof n?a=n:(s=n,a=t),a||(i=new Promise((e,n)=>{a=(t,o)=>{t?n(t):e(o)}}));let c=null,g=o.grpc.invoke(r.AppConfig.getAppConfig,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>c=e,onMessage:e=>this._ngZone.run(()=>{a(null,e,c||new o.grpc.Metadata)}),onEnd:(e,n,t)=>this._ngZone.run(()=>{if(e!=o.grpc.Code.OK){let t=new Error(n);t.code=e,a(t)}})});return i.cancel=()=>g.close(),i}}n.AppConfig=a,a.\u0275fac=function(e){return new(e||a)(i.\u0275\u0275inject(i.NgZone))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"});class s{constructor(e){this._ngZone=e}getLocaleSync(e,n,t){let i,a,s;"function"==typeof n?a=n:(s=n,a=t),a||(i=new Promise((e,n)=>{a=(t,o)=>{t?n(t):e(o)}}));let c=null,g=o.grpc.invoke(r.LocaleSync.getLocaleSync,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>c=e,onMessage:e=>this._ngZone.run(()=>{a(null,e,c||new o.grpc.Metadata)}),onEnd:(e,n,t)=>this._ngZone.run(()=>{if(e!=o.grpc.Code.OK){let t=new Error(n);t.code=e,a(t)}})});return i.cancel=()=>g.close(),i}}n.LocaleSync=s,s.\u0275fac=function(e){return new(e||s)(i.\u0275\u0275inject(i.NgZone))},s.\u0275prov=i.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"});class c{constructor(e){this._ngZone=e}sendErrorReport(e,n,t){let i,a,s;"function"==typeof n?a=n:(s=n,a=t),a||(i=new Promise((e,n)=>{a=(t,o)=>{t?n(t):e(o)}}));let c=null,g=o.grpc.invoke(r.ErrorReporter.sendErrorReport,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>c=e,onMessage:e=>this._ngZone.run(()=>{a(null,e,c||new o.grpc.Metadata)}),onEnd:(e,n,t)=>this._ngZone.run(()=>{if(e!=o.grpc.Code.OK){let t=new Error(n);t.code=e,a(t)}})});return i.cancel=()=>g.close(),i}}n.ErrorReporter=c,c.\u0275fac=function(e){return new(e||c)(i.\u0275\u0275inject(i.NgZone))},c.\u0275prov=i.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}}]);
//# sourceMappingURL=minga-app-src-app-components-Overlay-ProgramMingas-ProgramMingasRouting-module-es2015.js.map