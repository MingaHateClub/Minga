(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{A7V7:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("8Y7J"),i=n("s7LF"),r=n("VDRc"),o=n("Hp2Z");const l={provide:i.r,useExisting:Object(a.forwardRef)(()=>s),multi:!0};let s=(()=>{class e{constructor(){this.value="left"}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}selectAlignment(e,t){this.value=e,this._onChange&&this._onChange(e),this._onTouched&&this._onTouched(),t&&(t.preventDefault(),t.stopPropagation())}writeValue(e){null===e?this.value="left":"string"==typeof e?this.value=e:console.warn("<mg-alignment-selector> invalid write value:",e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-alignment-selector"]],features:[a["\u0275\u0275ProvidersFeature"]([l])],decls:4,vars:6,consts:[["fxLayout","row",1,"mg-alignment-selector"],["icon","left-justified",1,"align-option","left-align-option",3,"click"],["icon","center-justified",1,"align-option","center-align-option",3,"click"],["icon","right-justified",1,"align-option","right-align-option",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"mg-button-icon",1),a["\u0275\u0275listener"]("click",(function(e){return t.selectAlignment("left",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"mg-button-icon",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAlignment("center",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"mg-button-icon",3),a["\u0275\u0275listener"]("click",(function(e){return t.selectAlignment("right",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("active","left"===t.value),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("active","center"===t.value),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("active","right"===t.value))},directives:[r.e,o.a],styles:[".align-option[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()},Qne4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n("A7V7");var a=n("8Y7J"),i=n("u9T3"),r=n("CO6v");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[r.a,i.a]]}),e})()},oT4f:function(e,t,n){"use strict";n.r(t),n.d(t,"BannerOverlayRoutesModule",(function(){return Me}));var a=n("8Y7J"),i=n("iInd"),r=n("oTGS"),o=n("mrSG"),l=n("A75Z"),s=n("Fawd"),c=n("s+7n"),d=n("AdbN"),m=n("Cnb3"),h=n("gEWx"),g=n("GFah"),p=n("TNy8"),u=n("UWMR"),f=n("jNxq"),v=n("SYVq"),b=n("s7LF"),x=n("SVse"),y=n("o1f5"),C=n("pMoy"),E=n("Q2Ze"),M=n("ZTz/"),S=n("e6WT"),w=n("o4Yh"),O=n("f44v"),A=n("Fudl");function T(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-chip",3),a["\u0275\u0275listener"]("remove",(function(){a["\u0275\u0275restoreView"](e);const n=t.index,i=t.$implicit;return a["\u0275\u0275nextContext"]().removeTag(n,i)})),a["\u0275\u0275text"](1),a["\u0275\u0275elementStart"](2,"mg-icon",4),a["\u0275\u0275text"](3,"close-active"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;a["\u0275\u0275property"]("removable",!0),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.name," ")}}const H=function(){return{standalone:!0}},I={provide:b.r,useExisting:Object(a.forwardRef)(()=>F),multi:!0};let F=(()=>{class e{constructor(){this.placeholder="",this.tags=[],this.tagInputValue=""}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){null===e?this.tags=[]:"string"==typeof e?this.tags=[{name:e}]:Array.isArray(e)?this.tags=e.map(e=>"string"==typeof e?{name:e}:e):console.warn("<mg-tag-input> Invalid write value:",e)}removeTag(e,t){this.tags.splice(e,1),this.triggerChange()}triggerChange(){this._onChange&&(this._onChange(this.tags.map(e=>e.name)),this._onTouched())}pushTag(e){this.tags.push({name:e.trim()}),this.triggerChange()}onInput(e){const t=this.tagInputValue;","===t[t.length-1]&&(this.pushTag(t.substring(0,t.length-1)),this.tagInputValue="")}onKeypress(e){"Enter"===e.key&&(this.pushTag(this.tagInputValue),this.tagInputValue="")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-tag-input"]],inputs:{placeholder:"placeholder"},features:[a["\u0275\u0275ProvidersFeature"]([I])],decls:4,vars:6,consts:[["matInput","","type","text","autocomplete","off",3,"placeholder","ngModelOptions","ngModel","keypress","input","ngModelChange"],[3,"selectable"],["color","primary",3,"removable","remove",4,"ngFor","ngForOf"],["color","primary",3,"removable","remove"],["matChipRemove","",1,"chip-close"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-form-field"),a["\u0275\u0275elementStart"](1,"input",0),a["\u0275\u0275listener"]("keypress",(function(e){return t.onKeypress(e)}))("input",(function(e){return t.onInput(e)}))("ngModelChange",(function(e){return t.tagInputValue=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"mat-chip-list",1),a["\u0275\u0275template"](3,T,4,2,"mat-chip",2),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("placeholder",t.placeholder)("ngModelOptions",a["\u0275\u0275pureFunction0"](5,H))("ngModel",t.tagInputValue),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("selectable",!1),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.tags))},directives:[E.d,S.b,b.d,b.t,b.w,O.c,x.n,O.a,A.a,O.d],styles:[".chip-close[_ngcontent-%COMP%]{width:1em;height:1em}mat-chip[_ngcontent-%COMP%]{margin:3px 6px!important}mat-chip.mat-chip[_ngcontent-%COMP%]:not(.mat-basic-chip){box-shadow:none!important}"]}),e})();var _=n("UhP/"),B=n("mPVK");const P={provide:b.r,useExisting:Object(a.forwardRef)(()=>L),multi:!0};let L=(()=>{class e{constructor(){this.value="topleft"}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}selectAnchor(e,t){this.value=e,this._onChange&&this._onChange(e),this._onTouched&&this._onTouched(),t&&(t.preventDefault(),t.stopPropagation())}writeValue(e){null===e?this.value="":"string"==typeof e?this.value=e:console.warn("Invalid writeValue for <mg-anchor-selector>:",e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-anchor-selector"]],features:[a["\u0275\u0275ProvidersFeature"]([P])],decls:13,vars:18,consts:[["fxLayout","column",1,"mg-anchor-selector"],["fxLayout","row",1,"anchor-options","top-anchor-options"],["fxFlex","",1,"anchor-option",3,"click"],["fxLayout","row",1,"anchor-options","mid-anchor-options"],["fxLayout","row",1,"anchor-options","btm-anchor-options"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("topleft",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("topcenter",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("topright",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275elementStart"](6,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("midleft",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("midcenter",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("midright",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",4),a["\u0275\u0275elementStart"](10,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("btmleft",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("btmcenter",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"div",2),a["\u0275\u0275listener"]("click",(function(e){return t.selectAnchor("btmright",e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](2),a["\u0275\u0275classProp"]("mg-selected","topleft"==t.value),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("mg-selected","topcenter"==t.value),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("mg-selected","topright"==t.value),a["\u0275\u0275advance"](2),a["\u0275\u0275classProp"]("mg-selected","midleft"==t.value),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("mg-selected","midcenter"==t.value),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("mg-selected","midright"==t.value),a["\u0275\u0275advance"](2),a["\u0275\u0275classProp"]("mg-selected","btmleft"==t.value),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("mg-selected","btmcenter"==t.value),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("mg-selected","btmright"==t.value))},styles:[".anchor-options[_ngcontent-%COMP%]{margin:0 .2em}.anchor-option[_ngcontent-%COMP%]{margin:.2em .4em;height:1.2em;border:1px solid #ccc;background-color:#fff;cursor:pointer}.anchor-option.mg-selected[_ngcontent-%COMP%]{background-color:#737373}[disabled][_nghost-%COMP%]   .anchor-option[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]}),e})();var k=n("A7V7");const V=["bannerContainer"];function j(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",21),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("ngStyle",e.calcHeadlineStyle()),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.previewHeadlineText," ")}}const R=function(){return{standalone:!0}};function N(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",8),a["\u0275\u0275elementStart"](1,"mat-form-field"),a["\u0275\u0275elementStart"](2,"input",22),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().previewHeadlineText=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"mat-hint",13),a["\u0275\u0275text"](4,"This is only for previewing headlines"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",e.previewHeadlineText)("ngModelOptions",a["\u0275\u0275pureFunction0"](2,R))}}function D(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275property"]("value",e.value),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function z(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,",italic"),a["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",36),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"](2);a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.fontError," ")}}function W(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-expansion-panel",16),a["\u0275\u0275elementStart"](1,"mat-expansion-panel-header"),a["\u0275\u0275elementStart"](2,"mat-panel-title"),a["\u0275\u0275text"](3,"Headline font"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",24),a["\u0275\u0275elementStart"](5,"div",25),a["\u0275\u0275elementStart"](6,"div"),a["\u0275\u0275text"](7,"Min Font Size"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"mat-slider",26),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().minFontSize=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",25),a["\u0275\u0275elementStart"](10,"div"),a["\u0275\u0275text"](11,"Max Font Size"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"mat-slider",27),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().maxFontSize=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div"),a["\u0275\u0275elementStart"](14,"mat-form-field"),a["\u0275\u0275elementStart"](15,"input",28),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().fontFamily=t}))("ngModelChange",(function(){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().fontFamilyChanged()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"div"),a["\u0275\u0275elementStart"](17,"mat-form-field"),a["\u0275\u0275elementStart"](18,"input",29),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().fontWeight=t}))("ngModelChange",(function(){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().fontFamilyChanged()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](19,"mat-hint"),a["\u0275\u0275text"](20,"ex: 600"),a["\u0275\u0275template"](21,z,2,0,"span",30),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"div"),a["\u0275\u0275elementStart"](23,"mat-checkbox",31),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().fontItalic=t})),a["\u0275\u0275text"](24,"Italic"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"div",17),a["\u0275\u0275elementStart"](26,"mat-checkbox",32),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().enableFontLineHeight=t})),a["\u0275\u0275text"](27," Line Height "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"div",33),a["\u0275\u0275elementStart"](29,"mat-slider",34),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().fontLineHeight=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](30,G,2,1,"div",35),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngModel",e.minFontSize),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",e.maxFontSize),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngModel",e.fontFamily),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngModel",e.fontWeight),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",e.fontItalic),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",e.fontItalic),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngModelOptions",a["\u0275\u0275pureFunction0"](11,R))("ngModel",e.enableFontLineHeight),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("disabled",!e.enableFontLineHeight)("ngModel",e.fontLineHeight),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.fontError)}}function Y(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-expansion-panel",16),a["\u0275\u0275elementStart"](1,"mat-expansion-panel-header"),a["\u0275\u0275elementStart"](2,"mat-panel-title"),a["\u0275\u0275text"](3,"Headline position & alignment"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",24),a["\u0275\u0275elementStart"](5,"div",25),a["\u0275\u0275elementStart"](6,"div"),a["\u0275\u0275text"](7,"Offset X"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"mat-slider",37),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().offsetX=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"div",25),a["\u0275\u0275elementStart"](10,"div"),a["\u0275\u0275text"](11,"Offset Y"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"mat-slider",38),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().offsetY=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"div"),a["\u0275\u0275elementStart"](14,"mg-anchor-selector",39),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().headlineAnchor=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"mg-alignment-selector",40),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().headlineAlignment=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngModel",e.offsetX),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",e.offsetY),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",e.headlineAnchor),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",e.headlineAlignment)}}function U(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-expansion-panel",41),a["\u0275\u0275elementStart"](1,"mat-expansion-panel-header",42),a["\u0275\u0275elementStart"](2,"mat-panel-title"),a["\u0275\u0275text"](3,"Font color"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"mat-panel-description",43),a["\u0275\u0275elementStart"](5,"div",44),a["\u0275\u0275element"](6,"div",25),a["\u0275\u0275elementStart"](7,"input",45),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().fontColor=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](8,"div",46),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("ngModel",e.fontColor),a["\u0275\u0275advance"](1),a["\u0275\u0275styleProp"]("background-color",e.fontColor)}}function q(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mg-icon",47),a["\u0275\u0275text"](1,"warning-o"),a["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"mat-checkbox",32),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.$implicit.enabled=e}))("ngModelChange",(function(n){a["\u0275\u0275restoreView"](e);const i=t.$implicit;return a["\u0275\u0275nextContext"]().categoryToggle(i.value,n)})),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModelOptions",a["\u0275\u0275pureFunction0"](3,R))("ngModel",e.enabled),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.name," ")}}let K=(()=>{class e{constructor(e,t,n,a,i,r,o){this.router=e,this.ngZone=t,this.rootService=n,this.bannerLibrary=a,this.mingaSnack=i,this.streamManager=r,this.route=o,this.categories=[{name:"Art",value:s.Banner.Category.ART},{name:"Causes",value:s.Banner.Category.CAUSES},{name:"Food",value:s.Banner.Category.FOOD},{name:"General",value:s.Banner.Category.GENERAL},{name:"School Events",value:s.Banner.Category.SCHOOL_EVENTS},{name:"Seasonal",value:s.Banner.Category.SEASONAL},{name:"Sports",value:s.Banner.Category.SPORTS},{name:"Group Banner",value:s.Banner.Category.GROUP}],this.bannerTypes=[{name:"Event",value:d.BannerType.EVENT},{name:"Challenge Header",value:d.BannerType.CHALLENGE_HEADER},{name:"Challenge Response Background",value:d.BannerType.CHALLENGE_BG},{name:"Badge",value:d.BannerType.BADGE},{name:"Sticker",value:d.BannerType.STICKER},{name:"Hall Pass",value:d.BannerType.HALL_PASS}],this._initialBannerImageAsset="",this.bannerImageAsset="",this.allowHeadline=!0,this.headlineAnchor="topleft",this.headlineAlignment="left",this.previewHeadlineText="The lazy fox jumped over the brown dog",this.offsetX=8,this.offsetY=12,this.fontColor="#ffffff",this.fontFamily="",this.fontWeight="",this.fontItalic=!1,this.fontLineHeight=1,this.minFontSize=4,this.maxFontSize=8,this.bannerCategories=[],this.selectBannerType=d.BannerType.EVENT,this.bannerReferenceText="",this.enableFontLineHeight=!1,this.fontError="",this.bannerHash="",this.bannerTags=[],this.categoriesError="",this._preventDeactive=!0,this.route.params.subscribe(e=>{e.bannerHash?(this.bannerHash=e.bannerHash,this._initBannerData()):(this.bannerHash="",this._clearBannerData())})}_initBannerData(){return Object(o.a)(this,void 0,void 0,(function*(){const e=new s.BannerLibraryGet;e.setBannerHash(this.bannerHash);const t=yield this.bannerLibrary.get(e);if(this._initialBannerImageAsset=t.getBannerHash(),t.hasHeadlineOptions()){this.allowHeadline=!0;const e=t.getHeadlineOptions();this.fontColor=e.getFontColor(),this.fontFamily=e.getFontFamily(),this.fontItalic=e.getItalic();const n=e.getLineHeight();switch(n?(this.enableFontLineHeight=!0,this.fontLineHeight=n):this.enableFontLineHeight=!1,this.fontWeight=e.getFontWeight(),this.minFontSize=e.getMinFontSize(),this.maxFontSize=e.getMaxFontSize(),this.fontFamilyChanged(),e.getAlign()){case s.Banner.HeadlineOptions.Align.CENTER:this.headlineAlignment="center";break;case s.Banner.HeadlineOptions.Align.LEFT:this.headlineAlignment="left";break;case s.Banner.HeadlineOptions.Align.RIGHT:this.headlineAlignment="right"}switch(e.getAnchor()){case s.Banner.HeadlineOptions.Anchor.TOP_LEFT:this.headlineAnchor="topleft";break;case s.Banner.HeadlineOptions.Anchor.TOP_CENTER:this.headlineAnchor="topcenter";break;case s.Banner.HeadlineOptions.Anchor.TOP_RIGHT:this.headlineAnchor="topright";break;case s.Banner.HeadlineOptions.Anchor.MID_LEFT:this.headlineAnchor="midleft";break;case s.Banner.HeadlineOptions.Anchor.MID_CENTER:this.headlineAnchor="midcenter";break;case s.Banner.HeadlineOptions.Anchor.MID_RIGHT:this.headlineAnchor="midright";break;case s.Banner.HeadlineOptions.Anchor.BTM_LEFT:this.headlineAnchor="btmleft";break;case s.Banner.HeadlineOptions.Anchor.BTM_CENTER:this.headlineAnchor="btmcenter";break;case s.Banner.HeadlineOptions.Anchor.BTM_RIGHT:this.headlineAnchor="btmright"}}else this.allowHeadline=!1;if(t.hasImage()){const e=t.getImage().getSizeMap().get("raw");e&&(this.bannerImageAsset=e.getPath())}this.bannerTags=t.getKeywordList(),this.bannerCategories=t.getCategoryList();const n=t.getType();this.selectBannerType=Object(h.$enum)(d.BannerType).asValueOrDefault(n,d.BannerType.EVENT),this._syncBannerCategories()}))}_syncBannerCategories(){this.categories.forEach(e=>e.enabled=!1);for(let e of this.bannerCategories)for(let t of this.categories)if(e===t.value){t.enabled=!0;break}}_clearBannerData(){return Object(o.a)(this,void 0,void 0,(function*(){this._initialBannerImageAsset="",this._preventDeactive=!0,this.bannerImageAsset="",this.allowHeadline=!0,this.headlineAnchor="topleft",this.headlineAlignment="left",this.offsetX=8,this.offsetY=12,this.fontColor="#ffffff",this.fontFamily="",this.fontFamilyChanged(),this.fontWeight="",this.fontItalic=!1,this.fontLineHeight=1,this.minFontSize=4,this.maxFontSize=8,this.bannerTags=[],this.bannerCategories=[],this._syncBannerCategories(),this.selectBannerType=d.BannerType.EVENT,this.enableFontLineHeight=!1}))}preventNavigation(){return this._preventDeactive?"Are you sure you want to close the banner editor?":""}categoryToggle(e,t){if(t)this.bannerCategories.push(e);else{const t=this.bannerCategories.indexOf(e);t>-1&&this.bannerCategories.splice(t,1)}this.bannerCategories.length>0&&(this.categoriesError="")}registerOnOverlayNextDisabled(e){this.onOverlayNextDisabled=e}registerOnOverlayPreviousDisabled(e){this.onOverlayPreviousDisabled=e}ngOnInit(){}getBannerContainerWidth(){return this.bannerContainer?this.bannerContainer.nativeElement.offsetWidth:0}hasOverlayNext(){return{text:this.bannerHash?"Save":"Publish",icon:"publish-o"}}hasOverlayPrevious(){return{text:"Close",icon:"close"}}onOverlayNext(){return Object(o.a)(this,void 0,void 0,(function*(){this.onOverlayNextDisabled(!0),yield this.rootService.addLoadingPromise(this.submit()).catch(e=>{console.error(e)}),this.onOverlayNextDisabled(!1)}))}onOverlayPrevious(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}onOverlayClose(){return Object(o.a)(this,void 0,void 0,(function*(){return this.router.navigate(["",{outlets:{o:null}}])}))}fontColorClick(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}calcHeadlineStyle(){const e={},t=this.getBannerContainerWidth(),n=this.offsetX,a=this.offsetY;switch(this.headlineAnchor){case"topleft":e.top=a+"%",e.left=n+"%",e.right=50-n+"%";break;case"topcenter":e.top=a+"%",e.left=n+"%",e.right=n+"%";break;case"topright":e.top=a+"%",e.right=n+"%",e.left=50-n+"%";break;case"midleft":e.left=n+"%",e.top="50%",e.transform="translateY(-50%)",e.right=50-n+"%";break;case"midright":e.right=n+"%",e.top="50%",e.transform="translateY(-50%)",e.left=50-n+"%";break;case"midcenter":e.right=n+"%",e.left=n+"%",e.top="50%",e.transform="translateY(-50%)";break;case"btmleft":e.bottom=a+"%",e.left=n+"%",e.right=50-n+"%";break;case"btmright":e.bottom=a+"%",e.right=n+"%",e.left=50-n+"%";break;case"btmcenter":e.bottom=a+"%",e.left=n+"%",e.right=n+"%"}const i=this.previewHeadlineText.length/42;let r=Object(m.lerp)(this.maxFontSize,this.minFontSize,i);return r=t*(r/100),e.fontSize=r+"px",e.textAlign=this.headlineAlignment,e.color=this.fontColor,e.fontFamily=this.fontFamily,e.fontWeight=this.fontWeight,this.fontItalic&&(e.fontStyle="italic"),e.lineHeight=this.enableFontLineHeight&&this.fontLineHeight>0?this.fontLineHeight:"normal",e}getHeadlineAnchorEnum(){let e=0;switch(this.headlineAnchor){case"topleft":e=s.Banner.HeadlineOptions.Anchor.TOP_LEFT;break;case"topcenter":e=s.Banner.HeadlineOptions.Anchor.TOP_CENTER;break;case"topright":e=s.Banner.HeadlineOptions.Anchor.TOP_RIGHT;break;case"midleft":e=s.Banner.HeadlineOptions.Anchor.MID_LEFT;break;case"midright":e=s.Banner.HeadlineOptions.Anchor.MID_RIGHT;break;case"midcenter":e=s.Banner.HeadlineOptions.Anchor.MID_CENTER;break;case"btmleft":e=s.Banner.HeadlineOptions.Anchor.BTM_LEFT;break;case"btmright":e=s.Banner.HeadlineOptions.Anchor.BTM_RIGHT;break;case"btmcenter":e=s.Banner.HeadlineOptions.Anchor.BTM_CENTER}return e}getHeadlineAlignEnum(){let e=0;switch(this.headlineAlignment){case"left":e=s.Banner.HeadlineOptions.Align.LEFT;break;case"right":e=s.Banner.HeadlineOptions.Align.RIGHT;break;case"center":e=s.Banner.HeadlineOptions.Align.CENTER}return e}fontFamilyChanged(){const e=this.fontFamily,t=this.fontWeight;if(!e)return;clearTimeout(this.fontFamilyChangedTimeout);let n=e;t&&(n+=":"+t),this.fontFamilyChangedTimeout=setTimeout(()=>{Object(l.a)(n)},1e3)}createHeadlineOptionsMessage(){const e=new s.Banner.HeadlineOptions;return e.setFontColor(this.fontColor),e.setFontFamily(this.fontFamily),e.setFontWeight(this.fontWeight),e.setOffsetX(this.offsetX/100),e.setOffsetY(this.offsetY/100),e.setAlign(this.getHeadlineAlignEnum()),e.setAnchor(this.getHeadlineAnchorEnum()),e.setItalic(this.fontItalic),e.setMaxFontSize(this.maxFontSize||3),e.setMinFontSize(this.minFontSize||3),e.setLineHeight(this.enableFontLineHeight?this.fontLineHeight:0),e}_validateAsset(){return!!this.bannerImageAsset||(this.mingaSnack.open("You must supply an image","ok"),!1)}_validateCategories(){const e=this.bannerCategories.length>0;return e||(this.categoriesError="Need to select at least 1 category",this.mingaSnack.open(this.categoriesError,"ok")),e}_submitAdd(){return Object(o.a)(this,void 0,void 0,(function*(){const e=new s.BannerLibraryAdd;if(e.setCategoryList(this.bannerCategories),e.setKeywordList(this.bannerTags),e.setAsset(this.bannerImageAsset),e.setType(this.selectBannerType),this.allowHeadline){const t=this.createHeadlineOptionsMessage();e.setHeadlineOptions(t)}this.bannerReferenceText&&e.setReference(this.bannerReferenceText),yield this.bannerLibrary.add(e)}))}_submitUpdate(){return Object(o.a)(this,void 0,void 0,(function*(){const e=new s.BannerLibraryUpdate;e.setBannerHash(this.bannerHash),e.setCategoryList(this.bannerCategories),e.setKeywordList(this.bannerTags);const t=new c.StringValue;if(t.setValue(this.bannerImageAsset),e.setNewAsset(t),e.setType(this.selectBannerType),this.allowHeadline){const t=this.createHeadlineOptionsMessage();e.setHeadlineOptions(t)}yield this.bannerLibrary.update(e)}))}submit(){return Object(o.a)(this,void 0,void 0,(function*(){this._validateAsset()&&this._validateCategories()&&(this.bannerHash?yield this._submitUpdate():yield this._submitAdd(),this._preventDeactive=!1,yield this.onOverlayClose(),yield this.streamManager.restartStreamIfAvailable("BannerLibrary"))}))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](i.g),a["\u0275\u0275directiveInject"](a.NgZone),a["\u0275\u0275directiveInject"](g.a),a["\u0275\u0275directiveInject"](p.BannerLibrary),a["\u0275\u0275directiveInject"](u.b),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-banner-editor"]],viewQuery:function(e,t){if(1&e&&a["\u0275\u0275viewQuery"](V,3),2&e){let e;a["\u0275\u0275queryRefresh"](e=a["\u0275\u0275loadQuery"]())&&(t.bannerContainer=e.first)}},decls:38,vars:19,consts:[[3,"component"],[1,"preview-upload-wrap"],["bannerContainer",""],["class","preview-headline",3,"ngStyle",4,"ngIf"],["previewSize","700","previewAspectRatio","16:9","name","banner-editor-image",3,"multiple","ngModel","ngModelChange"],[1,"input-margin","allow-headline-wrap"],["name","allowHeadline",3,"ngModel","ngModelChange"],["class","input-margin",4,"ngIf"],[1,"input-margin"],["mgFormField",""],["name","bannerType",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","maxlength","100","placeholder","Reference key (Optional)",3,"ngModel","ngModelOptions","ngModelChange"],["align","start"],["class","bordered",4,"ngIf"],["hideToggle","","disabled","","class","font-color-expansion-panel bordered",4,"ngIf"],[1,"bordered"],["fxLayout","row","fxLayoutAlign","start center"],["class","error",4,"ngIf"],[4,"ngFor","ngForOf"],["name","bannerTags","placeholder","Enter keywords separated by a comma",3,"ngModel","ngModelChange"],[1,"preview-headline",3,"ngStyle"],["matInput","","type","text","maxlength","42","placeholder","Preview headline",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value"],["fxLayout","row"],["fxFlex",""],["step","0.5","min","3","max","12","name","minFontSize",3,"ngModel","ngModelChange"],["step","0.5","min","3","max","12","name","maxFontSize",3,"ngModel","ngModelChange"],["matInput","","type","text","name","fontFamily","placeholder","Font Family",3,"ngModel","ngModelChange"],["matInput","","type","text","name","fontWeight","placeholder","Font Weight",3,"ngModel","ngModelChange"],[4,"ngIf"],["name","fontItalic",3,"ngModel","ngModelChange"],[3,"ngModelOptions","ngModel","ngModelChange"],["fxFlex","",2,"padding-left","16px"],["step","0.1","min","0.5","max","2.5","name","fontLineHeight",3,"disabled","ngModel","ngModelChange"],["class","font-error",4,"ngIf"],[1,"font-error"],["min","0","max","25","name","offsetX",3,"ngModel","ngModelChange"],["min","0","max","35","name","offsetY",3,"ngModel","ngModelChange"],["name","headlineAnchor",3,"ngModel","ngModelChange"],["name","headlineAlignment",3,"ngModel","ngModelChange"],["hideToggle","","disabled","",1,"font-color-expansion-panel","bordered"],[1,"font-color-panel-header"],[1,"font-color-panel-description"],["fxLayout","row",1,"font-color-panel-description-inner"],["fxFlex","","type","text","max","7","name","fontColor",1,"font-color-input",3,"ngModel","ngModelChange"],["fxFlex","",1,"font-color-swatch"],[1,"error"]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),a["\u0275\u0275elementStart"](1,"form"),a["\u0275\u0275elementStart"](2,"div",1,2),a["\u0275\u0275template"](4,j,2,2,"div",3),a["\u0275\u0275elementStart"](5,"mg-file-input-upload",4),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.bannerImageAsset=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",5),a["\u0275\u0275elementStart"](7,"mat-checkbox",6),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.allowHeadline=e})),a["\u0275\u0275text"](8,"Allow headline"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementContainerStart"](9),a["\u0275\u0275template"](10,N,5,3,"div",7),a["\u0275\u0275elementStart"](11,"div",8),a["\u0275\u0275elementStart"](12,"mat-form-field",9),a["\u0275\u0275elementStart"](13,"mat-label"),a["\u0275\u0275text"](14,"Banner Type"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"mat-select",10),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectBannerType=e})),a["\u0275\u0275template"](16,D,2,2,"mat-option",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"div",8),a["\u0275\u0275elementStart"](18,"mat-form-field"),a["\u0275\u0275elementStart"](19,"input",12),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.bannerReferenceText=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"mat-hint",13),a["\u0275\u0275text"](21," For referencing a banner across environments "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"mat-accordion"),a["\u0275\u0275template"](23,W,31,12,"mat-expansion-panel",14),a["\u0275\u0275template"](24,Y,16,4,"mat-expansion-panel",14),a["\u0275\u0275template"](25,U,9,3,"mat-expansion-panel",15),a["\u0275\u0275elementStart"](26,"mat-expansion-panel",16),a["\u0275\u0275elementStart"](27,"mat-expansion-panel-header"),a["\u0275\u0275elementStart"](28,"mat-panel-title",17),a["\u0275\u0275elementStart"](29,"span"),a["\u0275\u0275text"](30,"Categories"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](31,q,2,0,"mg-icon",18),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](32,X,3,4,"div",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"mat-expansion-panel",16),a["\u0275\u0275elementStart"](34,"mat-expansion-panel-header"),a["\u0275\u0275elementStart"](35,"mat-panel-title"),a["\u0275\u0275text"](36,"Keywords"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"mg-tag-input",20),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.bannerTags=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275property"]("component",t),a["\u0275\u0275advance"](2),a["\u0275\u0275classProp"]("no-border",t.bannerImageAsset),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.allowHeadline&&t.bannerImageAsset),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("multiple",!1)("ngModel",t.bannerImageAsset),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",t.allowHeadline),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",t.allowHeadline),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.selectBannerType),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.bannerTypes),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngModel",t.bannerReferenceText)("ngModelOptions",a["\u0275\u0275pureFunction0"](18,R)),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",t.allowHeadline),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.allowHeadline),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.allowHeadline),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngIf",t.categoriesError),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.categories),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.bannerTags))},directives:[v.a,b.E,b.u,b.v,x.o,y.a,b.t,b.w,C.a,E.d,E.h,M.a,x.n,S.b,b.d,b.n,E.g,w.a,w.c,w.f,w.g,F,x.p,_.m,B.a,L,k.a,w.e,A.a],styles:["mg-file-input-upload[_ngcontent-%COMP%]     .drop-area{border:none}mg-file-input-upload[_ngcontent-%COMP%]{font-size:90%}.input-margin[_ngcontent-%COMP%]{margin:16px}.preview-upload-wrap[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:8px;margin:14px;border:1px solid #ccc}.preview-upload-wrap.no-border[_ngcontent-%COMP%]{border:none}.preview-upload-wrap[_ngcontent-%COMP%]   .preview-headline[_ngcontent-%COMP%]{position:absolute;z-index:5;overflow:hidden;text-overflow:ellipsis;transition-duration:.1s;transition-timing-function:ease;transition-property:top,left,bottom,right;box-sizing:border-box;border:1px solid transparent}.preview-upload-wrap[_ngcontent-%COMP%]   .preview-headline[_ngcontent-%COMP%]:hover{border:1px solid #de1717}.font-color-input[_ngcontent-%COMP%]{border:none;max-width:75px;font-size:14px;color:#737373;font-family:Muli,sans-serif}.font-color-input[_ngcontent-%COMP%]:focus{outline:none}.font-color-swatch[_ngcontent-%COMP%]{min-width:20px;min-height:20px;max-width:20px;max-height:20px;background-color:#fff;border:1px solid #707070;border-radius:6px}.font-color-panel-description[_ngcontent-%COMP%]{margin-right:0}.font-color-panel-description-inner[_ngcontent-%COMP%]{width:100%}.font-color-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{color:#036}.font-color-panel-header[_ngcontent-%COMP%]{transform:translateX(6px);margin-left:-6px}.font-error[_ngcontent-%COMP%]{color:#de1717}mat-panel-title[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin:0 8px;width:1em;height:1em}mat-panel-title[_ngcontent-%COMP%]   mg-icon.error[_ngcontent-%COMP%]{color:#de1717}"]}),e})();var $=n("Qne4");let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({}),e})();var Q=n("p+4T"),Z=n("ls3q");let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[Z.a,x.c,O.e,E.f,S.c,b.m]]}),e})();var te=n("CL15");let ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[ee,Z.a,$.a,J,Q.a,te.a,x.c,b.m,w.b,C.b,B.b,E.f,S.c,M.b]]}),e})();var ae=n("5km/"),ie=n("iELJ"),re=n("jcBT"),oe=n("cKGL"),le=n("jMqV"),se=n("4avL"),ce=n("StFh");function de(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-slide-toggle",11),a["\u0275\u0275listener"]("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"](2).setArchived(t)}))("ngModelChange",(function(t){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"](2).banner.archived=t})),a["\u0275\u0275text"](1,"Archived"),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"](2);a["\u0275\u0275property"]("disabled",e.settingArchived)("ngModel",e.banner.archived)}}function me(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mg-button",12),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"](2).editBanner()})),a["\u0275\u0275text"](1," Edit "),a["\u0275\u0275elementStart"](2,"span",13),a["\u0275\u0275text"](3,"Banner"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function he(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mg-button",12),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"](2).deleteBanner()})),a["\u0275\u0275text"](1," Delete "),a["\u0275\u0275elementStart"](2,"span",13),a["\u0275\u0275text"](3,"Banner"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}const ge=function(){return["raw"]},pe=function(e){return["blurloading1",e]};function ue(e,t){if(1&e){const e=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",2),a["\u0275\u0275elementStart"](1,"div",3),a["\u0275\u0275element"](2,"mg-image",4),a["\u0275\u0275pipe"](3,"mgImageUrls"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",5),a["\u0275\u0275template"](5,de,2,2,"mat-slide-toggle",6),a["\u0275\u0275element"](6,"div",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"div",8),a["\u0275\u0275template"](8,me,4,0,"mg-button",9),a["\u0275\u0275template"](9,he,4,0,"mg-button",9),a["\u0275\u0275elementStart"](10,"div",7),a["\u0275\u0275elementStart"](11,"a",10),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](e),a["\u0275\u0275nextContext"]().onOverlayClose()})),a["\u0275\u0275text"](12,"Cancel"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("srcs",a["\u0275\u0275pipeBind2"](3,4,e.getPreviewImageUrl(),a["\u0275\u0275pureFunction1"](8,pe,a["\u0275\u0275pureFunction0"](7,ge)))),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("hasPermission","SUPERADMIN"),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("hasPermission","SUPERADMIN"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("hasPermission","SUPERADMIN")}}let fe=(()=>{class e{constructor(e,t,n,a,i,r){this.router=e,this.route=t,this.bannerLibrary=n,this.rootService=a,this.streamManager=i,this.dialog=r,this.settingArchived=!1,this.route.params.subscribe(e=>{this.rootService.addLoadingPromise(this._initBannerData(e.hash))})}_initBannerData(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=new s.BannerLibraryGet;t.setBannerHash(e);const n=yield this.bannerLibrary.get(t).catch(e=>{throw this.onOverlayClose(),e});this.banner=n.toObject()}))}onOverlayClose(){return Object(o.a)(this,void 0,void 0,(function*(){return yield this.streamManager.restartStreamIfAvailable("BannerLibrary"),this.router.navigate(["",{outlets:{o:null}}])}))}getPreviewImageUrl(){if(!this.banner)return"";if(!this.banner.image)return"";let e={};return this.banner.image.sizeMap.forEach(t=>{e[t[0]]=t[1]}),(e.cardBanner||e.raw).path}_setArchived(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=new s.BannerLibrarySetArchived;t.setBannerHash(this.banner.bannerHash),t.setArchived(e),yield this.bannerLibrary.setArchived(t)}))}setArchived(e){return Object(o.a)(this,void 0,void 0,(function*(){this.settingArchived=!0,yield this._setArchived(e).catch(e=>{throw this.settingArchived=!1,e}),this.settingArchived=!1}))}editBanner(){this.router.navigate(["",{outlets:{o:["banner","editor",this.banner.bannerHash]}}],{replaceUrl:!0})}_deleteBanner(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=new s.BannerLibraryDelete;t.setBannerHash(e),yield this.bannerLibrary.delete(t)}))}deleteBanner(){return Object(o.a)(this,void 0,void 0,(function*(){let e=this.dialog.open(ae.d,{data:{showSubTitle:!1,titleLocaleValue:"Banner"}});(yield e.beforeClosed().toPromise())&&(yield this.rootService.addLoadingPromise(this._deleteBanner(this.banner.bannerHash)),yield this.onOverlayClose())}))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](i.g),a["\u0275\u0275directiveInject"](i.a),a["\u0275\u0275directiveInject"](p.BannerLibrary),a["\u0275\u0275directiveInject"](g.a),a["\u0275\u0275directiveInject"](f.a),a["\u0275\u0275directiveInject"](ie.b))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-admin-banner-quick-view"]],decls:2,vars:2,consts:[[3,"component"],["class","quick-view-container user-content",4,"ngIf"],[1,"quick-view-container","user-content"],[1,"banner-image"],[1,"banner-image",3,"srcs"],["fxLayout","row","fxLayoutAlign","start center",1,"toggles"],["fxFlex","",3,"disabled","ngModel","ngModelChange",4,"hasPermission"],["fxFlex",""],["fxLayout","row","fxLayoutAlign","center center",1,"controls"],["fxFlex","","type","outline",3,"click",4,"hasPermission"],["href","javascript:;",3,"click"],["fxFlex","",3,"disabled","ngModel","ngModelChange"],["fxFlex","","type","outline",3,"click"],["fxHide.xs",""]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),a["\u0275\u0275template"](1,ue,13,10,"div",1)),2&e&&(a["\u0275\u0275property"]("component",t),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.banner))},directives:[v.a,x.o,re.a,oe.a,le.a,b.t,b.w,se.a],pipes:[ce.a],styles:[".banner-image[_ngcontent-%COMP%]{width:100%;padding-bottom:56.5%;background-size:cover;background-position:50%}.quick-view-container[_ngcontent-%COMP%]{text-align:center;max-width:500px;margin:32px auto;border:1px solid #ccc;border-radius:8px;overflow:hidden}@media (max-width:599px){.quick-view-container[_ngcontent-%COMP%]{max-width:320px}}.controls[_ngcontent-%COMP%], .toggles[_ngcontent-%COMP%], .toggles[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin:8px}.controls[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{font-size:75%;margin:8px}"]}),e})();var ve=n("CO6v"),be=n("ugqS"),xe=n("Vwx4"),ye=n("Ogcz");let Ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[ve.a,xe.b,te.a,be.a,ye.b,x.c,b.m,le.b]]}),e})();const Ee=[{path:"editor",component:K,canDeactivate:[r.c]},{path:"editor/:bannerHash",component:K,canDeactivate:[r.c]},{path:"view/:hash",component:fe}];let Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[ne,Ce,r.a,i.k.forChild(Ee)]]}),e})()}}]);
//# sourceMappingURL=minga-app-src-app-routes-sadmin-BannerOverlayRoutes-module-es2015.js.map