(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"Fz++":function(t,e,n){"use strict";n.r(e),n.d(e,"PausedRoutesModule",(function(){return J}));var o=n("8Y7J"),i=n("iInd"),a=n("mrSG"),r=n("5km/"),c=n("+dib"),s=n("HHVM"),l=n("V3cZ"),u=n("Cnb3"),d=n("pLZG"),m=n("SxV6"),g=n("lJxs"),p=n("iELJ"),f=n("JF7H"),h=n("k/kw"),b=n("Vwx4"),I=n("Y9fu"),x=n("3qIc"),M=n("SVse"),y=n("rQtG"),C=n("cKGL"),v=n("4avL");function E(t,e){1&t&&(o["\u0275\u0275elementStart"](0,"p"),o["\u0275\u0275text"](1,' Your Minga is currently "paused".'),o["\u0275\u0275element"](2,"br"),o["\u0275\u0275element"](3,"br"),o["\u0275\u0275text"](4," Please connect with your school administrator. We look forward to seeing you again soon. "),o["\u0275\u0275elementEnd"]())}function k(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-button",18),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](t),o["\u0275\u0275nextContext"](3).onManagePlan()})),o["\u0275\u0275text"](1," Update billing information "),o["\u0275\u0275elementEnd"]()}}function _(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"p",14),o["\u0275\u0275text"](1,' Your Minga is currently "paused".'),o["\u0275\u0275element"](2,"br"),o["\u0275\u0275text"](3," Please connect with us regarding your Minga."),o["\u0275\u0275element"](4,"br"),o["\u0275\u0275template"](5,k,2,0,"mg-button",15),o["\u0275\u0275elementStart"](6,"a",16),o["\u0275\u0275elementStart"](7,"mg-button",17),o["\u0275\u0275text"](8,"Contact Us"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",!t.isMingaType(t.MingaTypeValue.CONFERENCE))}}function w(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"p",11),o["\u0275\u0275text"](1,"This Minga has been paused"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](2,E,5,0,"ng-template",null,12,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](4,_,9,1,"p",13)),2&t){const t=o["\u0275\u0275reference"](3);o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("hasPermission","MINGA_ACCOUNT_MANAGE")("hasPermissionElse",t)}}function P(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-button",18),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](t),o["\u0275\u0275nextContext"](2).contactUsForMinga()})),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()}if(2&t){const t=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" Contact us to subscribe to ",t.mingaTypeName," ")}}function O(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-button",18),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](t),o["\u0275\u0275nextContext"](2).onManagePlan()})),o["\u0275\u0275text"](1," Update billing information "),o["\u0275\u0275elementEnd"]()}}function S(t,e){if(1&t){const t=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"p",19),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"p",20),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"p",21),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,P,2,1,"mg-button",22),o["\u0275\u0275template"](7,O,2,0,"mg-button",22),o["\u0275\u0275elementStart"](8,"mg-button",10),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](t),o["\u0275\u0275nextContext"]().deleteMinga()})),o["\u0275\u0275text"](9," No thanks, I'm done "),o["\u0275\u0275elementEnd"]()}if(2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" Minga Subscription Ended on ",t.endDate," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" Your subscription has ended due to non-payment and your ",t.mingaTypeName," has been paused. Want to keep using Minga? "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("Your Minga will be deleted on ",t.deleteDate,"."),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.hasSubPortalUrl),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.hasSubPortalUrl)}}function A(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div",23),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate2"](" ",t.memberCount," ",1==t.memberCount?"Member":"Members"," ")}}function j(t,e){1&t&&o["\u0275\u0275elementContainer"](0)}function N(t,e){if(1&t&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,j,1,0,"ng-container",25),o["\u0275\u0275elementContainerEnd"]()),2&t){o["\u0275\u0275nextContext"](2);const t=o["\u0275\u0275reference"](3);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngTemplateOutlet",t)}}function V(t,e){if(1&t&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275template"](1,N,2,1,"ng-container",24),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275nextContext"](),e=o["\u0275\u0275reference"](1);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.mingaStatus==t.MingaStatusValue.EVAL_OVER||t.mingaStatus==t.MingaStatusValue.EXPIRED)("ngIfElse",e)}}let T=(()=>{class t{constructor(t,e,n,o,i,a,r,c){this.dialog=t,this.router=e,this.auth=n,this.mingaManager=o,this.cdr=i,this.permissions=a,this.linkOpener=r,this.mingaStore=c,this.MingaStatusValue=u.MingaStatusValue,this.MingaTypeValue=u.MingaTypeValue,this._accountInfo=null,this.endDate="",this.deleteDate="",this.mingaName="",this.mingaStore.getMingaAsObservable().pipe(Object(d.a)(t=>!!t.name),Object(m.a)(),Object(g.a)(t=>t.name)).subscribe(t=>this.mingaName=t)}get mingaTypeName(){const t=this._accountInfo;return t?Object(u.mingaTypeToDisplayString)(t.dashboardInfo.mingaType):"Minga"}isMingaType(t){return!!this._accountInfo&&this._accountInfo.dashboardInfo.mingaType==t}get mingaStatus(){return this._accountInfo?this._accountInfo.dashboardInfo.mingaStatus:null}get subscriptionRouterOutlets(){let t=["minga-subscriptions"];const e=this._accountInfo;return e&&e.dashboardInfo&&(e.dashboardInfo.subscriptionPlanId&&t.push(e.dashboardInfo.subscriptionPlanId),t.push(`${this.memberCount}`)),t}get memberCount(){const t=this._accountInfo;if(t&&t&&t.dashboardInfo){const e=t.dashboardInfo;return e.mingaType==u.MingaTypeValue.MINGA?e.billableCount||0:e.totalCount||0}return 0}get hasSubPortalUrl(){return this._accountInfo&&this._accountInfo.dashboardInfo&&this._accountInfo.dashboardInfo.subscriptionPortalUrl}onWindowFocus(){this.initAccountInfo()}clearAccountInfo(){this.endDate="",this.deleteDate=""}processAccountInfo(t){if(t.dashboardInfo.subscriptionEndDate){const e=Object(c.a)(t.dashboardInfo.subscriptionEndDate),n=Object(s.day)(e);this.endDate=n.format("MMM D, YYYY "),this.deleteDate=n.add(30,"d").format("MMM D, YYYY ")}else this.endDate="",this.deleteDate=""}fetchAccountInfo(){return Object(a.a)(this,void 0,void 0,(function*(){this._accountInfo=this.permissions.hasPermission(u.MingaPermission.MINGA_ACCOUNT_MANAGE)?yield this.mingaManager.getUserMingaAccountInfo():null}))}initAccountInfo(){return Object(a.a)(this,void 0,void 0,(function*(){try{yield this.fetchAccountInfo()}catch(t){console.error(t),this._accountInfo=null}this._accountInfo?this._accountInfo.dashboardInfo.paused?(this.processAccountInfo(this._accountInfo),this.cdr.markForCheck(),yield l.a.hide()):yield this.router.navigateByUrl("/"):(this.clearAccountInfo(),this.cdr.markForCheck(),yield l.a.hide())}))}ngOnInit(){this.initAccountInfo()}logout(){return Object(a.a)(this,void 0,void 0,(function*(){(yield this.auth.logoutDialog())&&(yield this.router.navigateByUrl("/landing"))}))}deleteMinga(){this.dialog.open(r.b,{data:{title:"Just to Confirm",text:"Your Minga will be deleted."}}).afterClosed().subscribe(t=>{t&&this.router.navigate([{outlets:{o:["account","cancel-eval"]}}],{skipLocationChange:!0})})}onManagePlan(){this._accountInfo&&this._accountInfo.dashboardInfo&&this._accountInfo.dashboardInfo.subscriptionPortalUrl&&this.linkOpener.open(this._accountInfo.dashboardInfo.subscriptionPortalUrl)}contactUsForMinga(){let t="I want Minga for my entire school",e=`Minga: ${this.mingaName}`;t=t.replace(/\s/g,"%20"),e=e.replace(/\s/g,"%20"),window.location.href=`mailto:hello@minga.io?subject=${t}&body=${e}`}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](p.b),o["\u0275\u0275directiveInject"](i.g),o["\u0275\u0275directiveInject"](f.a),o["\u0275\u0275directiveInject"](h.a),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](b.c),o["\u0275\u0275directiveInject"](I.a),o["\u0275\u0275directiveInject"](x.b))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["ng-component"]],hostBindings:function(t,e){1&t&&o["\u0275\u0275listener"]("focus",(function(){return e.onWindowFocus()}),!1,o["\u0275\u0275resolveWindow"])},decls:15,vars:4,consts:[["pausedContent",""],["evalOverContent",""],[1,"dialog-content-container"],[1,"background-image"],[1,"container"],[1,"mg-headline","title"],["class","minga-member-count",4,"ngIf"],[1,"minga-logo"],[4,"hasPermission","hasPermissionElse"],[1,"footer"],["type","text",1,"mg-minicopy",3,"click"],[1,"mg-minicopy","title"],["contactNotice",""],["class","mg-minicopy",4,"hasPermission","hasPermissionElse"],[1,"mg-minicopy"],["type","block","class","mg-minicopy",3,"click",4,"ngIf"],["href","mailto:hello@minga.io"],["type","outline",1,"mg-minicopy"],["type","block",1,"mg-minicopy",3,"click"],[1,"mg-smallcopy","eval-ended-text"],[1,"mg-smallcopy"],[1,"mg-minitext"],["class","mg-minicopy","type","block",3,"click",4,"ngIf"],[1,"minga-member-count"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"]],template:function(t,e){if(1&t&&(o["\u0275\u0275template"](0,w,5,2,"ng-template",null,0,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275template"](2,S,10,5,"ng-template",null,1,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementStart"](4,"div",2),o["\u0275\u0275element"](5,"div",3),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"p",5),o["\u0275\u0275text"](8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](9,A,2,2,"div",6),o["\u0275\u0275element"](10,"mg-logo",7),o["\u0275\u0275template"](11,V,2,2,"div",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",9),o["\u0275\u0275elementStart"](13,"mg-button",10),o["\u0275\u0275listener"]("click",(function(){return e.logout()})),o["\u0275\u0275text"](14," Logout "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&t){const t=o["\u0275\u0275reference"](1);o["\u0275\u0275advance"](8),o["\u0275\u0275textInterpolate"](e.mingaName),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.memberCount),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("hasPermission","MINGA_ACCOUNT_MANAGE")("hasPermissionElse",t)}},directives:[M.o,y.a,C.a,v.a,M.t],styles:["[_nghost-%COMP%]{display:block;color:#036}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#737373;margin:16px auto}[_nghost-%COMP%]   p.eval-ended-text[_ngcontent-%COMP%], [_nghost-%COMP%]   p.title[_ngcontent-%COMP%]{color:#036;font-weight:700}.container[_ngcontent-%COMP%]{position:relative;z-index:1;margin:56px auto;padding:0 16px;max-width:500px}.background-image[_ngcontent-%COMP%]{width:100%;background-image:url(/assets/paused-bg.jpg);background-repeat:no-repeat;position:absolute;top:0;left:0;right:0;padding-bottom:325px;background-size:cover;background-position:bottom}.minga-logo[_ngcontent-%COMP%]{height:104px;width:104px;border:4px solid #fff;background-position:50%;background-repeat:no-repeat;background-size:contain;border-radius:50%;margin:48px auto}.dialog-content-container[_ngcontent-%COMP%]{background-color:#fff;margin:auto;text-align:center;display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}@media (min-width:599px){.dialog-content-container[_ngcontent-%COMP%]{position:relative;max-width:600px;border-radius:8px;box-shadow:0 0 16px rgba(0,0,0,.16);margin:32px auto;overflow:hidden;min-height:100%}}mg-button[_ngcontent-%COMP%]{display:block;max-width:382px;margin:16px auto}mg-spinner[_ngcontent-%COMP%]{margin:auto}mg-message-box[_ngcontent-%COMP%]{margin:1em 0}"]}),t})();var D=n("CO6v"),U=n("tpC3"),Y=n("kvmc"),G=n("oQsg");let F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[D.a,G.b,U.a,b.b,Y.a,M.c,i.k]]}),t})();const R=[{path:"minga",component:T},{path:"**",redirectTo:"/"}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[F,i.k.forChild(R)]]}),t})()}}]);
//# sourceMappingURL=minga-app-src-app-paused-route-PausedRoutes-module-es2015.js.map