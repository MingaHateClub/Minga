!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r,o,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function n(){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var a=i(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(E){l=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var r=t&&t.prototype instanceof p?t:p,o=Object.create(r.prototype),s=new w(a||[]);return i(o,"_invoke",{value:b(e,n,s)}),o}function g(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=c;var d={};function p(){}function m(){}function f(){}var h={};l(h,r,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,r)&&(h=y);var C=f.prototype=p.prototype=Object.create(h);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var a;i(this,"_invoke",{value:function(i,r){function o(){return new t((function(a,o){!function i(a,r,o,s){var l=g(e[a],e,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}(i,r,a,o)}))}return a=a?a.then(o,o):o()}})}function b(e,t,n){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return S()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=P(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=g(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function P(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=g(i,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=f,i(C,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:m,configurable:!0}),m.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},x(M.prototype),l(M.prototype,o,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,i,a,r){void 0===r&&(r=Promise);var o=new M(c(t,n,i,a),r);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(C),l(C,s,"Generator"),l(C,r,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function g(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(a=i.key,r=void 0,"symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?r:String(r)),i)}var a,r}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"9QcJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("8Y7J"),a=n("s7LF"),r=n("Ggka"),o=function(){var e=function(){function e(){m(this,e)}return h(e,[{key:"validate",value:function(e){var t=e.value;return t&&!r.a.EmailRegex.test(t)?{invalidEmail:!0}:null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","mgEmailValidator",""]],features:[i["\u0275\u0275ProvidersFeature"]([{provide:a.q,useExisting:e,multi:!0}])]}),e}()},"D/px":function(i,r,s){"use strict";s.r(r),s.d(r,"Landing2Module",(function(){return ja}));var l,d,p,f,v,y=s("8Y7J"),C=s("iInd"),x=s("oTGS"),M=s("GBap"),b=s("mrSG"),P=s("itXk"),O=((d=function(){function e(t,n){m(this,e),this.route=t,this.router=n}return h(e,[{key:"ngOnInit",value:function(){var e=this;Object(P.b)([this.route.params,this.route.data,this.route.queryParams]).subscribe((function(t){return e.handleRedirect.apply(e,g(t))}))}},{key:"handleRedirect",value:function(e,t,n){return Object(b.a)(this,void 0,void 0,u().mark((function n(){var i,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.redirect){n.next=2;break}throw new Error("'redirect' data missing. Redirect configuration must be supplied when using RedirectRouteComponent");case 2:return i=t.redirect,a=i.path.map((function(t){return t.startsWith(":")?e[t.substr(1)]:t})),n.next=5,this.router.navigate(a,{queryParamsHandling:i.queryParamsHandling||null,skipLocationChange:i.skipLocationChange,replaceUrl:i.replaceUrl});case 5:case"end":return n.stop()}}),n,this)})))}}]),e}()).\u0275fac=function(e){return new(e||d)(y["\u0275\u0275directiveInject"](C.a),y["\u0275\u0275directiveInject"](C.g))},d.\u0275cmp=y["\u0275\u0275defineComponent"]({type:d,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),d),k=((l=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||l)},l.\u0275mod=y["\u0275\u0275defineNgModule"]({type:l}),l.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[]]}),l),w=s("Cnb3"),_=s("V3cZ"),S=s("GYl7"),E=((p=function(){function e(){m(this,e)}return h(e,[{key:"ngOnInit",value:function(){_.a.hide()}}]),e}()).\u0275fac=function(e){return new(e||p)},p.\u0275cmp=y["\u0275\u0275defineComponent"]({type:p,selectors:[["mg-landing2"]],decls:6,vars:0,consts:[[1,"landing"],[1,"landing-content"],[1,"landing-content-bg"],[1,"landing-content-routes"]],template:function(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"mg-silh-landing-layout"),y["\u0275\u0275elementStart"](1,"div",0),y["\u0275\u0275elementStart"](2,"div",1),y["\u0275\u0275element"](3,"div",2),y["\u0275\u0275elementStart"](4,"div",3),y["\u0275\u0275element"](5,"router-outlet"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]())},directives:[S.a,C.l],styles:[".landing[_ngcontent-%COMP%]{margin-top:32px}@media (orientation:landscape){.landing[_ngcontent-%COMP%]{margin-top:5vh}}@media (orientation:portrait){.landing[_ngcontent-%COMP%]{margin-top:5vw}}@media (orientation:landscape) and (max-height:320px){.landing[_ngcontent-%COMP%]{margin-top:16px}}@media (orientation:portrait) and (max-width:320px){.landing[_ngcontent-%COMP%]{margin-top:16px}}@media (min-width:1000px){.landing[_ngcontent-%COMP%]{margin-top:50px}}.landing-content[_ngcontent-%COMP%]{position:relative;max-width:455px;margin:0 auto;box-sizing:border-box;transition:height .3s cubic-bezier(.55,0,.55,.2)}@media (orientation:landscape){.landing-content[_ngcontent-%COMP%]{padding-top:2.5vh}}@media (orientation:portrait){.landing-content[_ngcontent-%COMP%]{padding-top:2.5vw}}@media (orientation:landscape) and (max-height:320px){.landing-content[_ngcontent-%COMP%]{padding-top:8px}}@media (orientation:portrait) and (max-width:320px){.landing-content[_ngcontent-%COMP%]{padding-top:8px}}@media (min-width:640px){.landing-content[_ngcontent-%COMP%]{padding-top:16px}}@media (orientation:landscape){.landing-content[_ngcontent-%COMP%]{padding-bottom:2.5vh}}@media (orientation:portrait){.landing-content[_ngcontent-%COMP%]{padding-bottom:2.5vw}}@media (orientation:landscape) and (max-height:320px){.landing-content[_ngcontent-%COMP%]{padding-bottom:8px}}@media (orientation:portrait) and (max-width:320px){.landing-content[_ngcontent-%COMP%]{padding-bottom:8px}}@media (min-width:640px){.landing-content[_ngcontent-%COMP%]{padding-bottom:16px}}@media (max-width:487px){.landing-content[_ngcontent-%COMP%]{margin:0 16px}}.landing-content[_ngcontent-%COMP%]   .landing-content-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:8px;background-color:#fff;box-shadow:0 0 4px rgba(0,0,0,.15)}.landing-content[_ngcontent-%COMP%]   .landing-content-routes[_ngcontent-%COMP%]{position:relative;z-index:1;height:100%}"]}),p),I=s("YgQ7"),F=s("VDRc"),R=((v=h((function e(){m(this,e),this.animate=!1}))).\u0275fac=function(e){return new(e||v)},v.\u0275cmp=y["\u0275\u0275defineComponent"]({type:v,selectors:[["mg-success-checkmark2"]],inputs:{animate:"animate"},decls:3,vars:2,consts:[[1,"success-checkmark2"],[1,"success-checkmark2-icon"],[1,"success-checkmark2-icon-gradient"]],template:function(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275element"](2,"div",2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275classProp"]("mg-animate",t.animate)},styles:["@keyframes success-checkmark2-gradient-animation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}[_nghost-%COMP%]{display:inline;font-size:100px}.success-checkmark2[_ngcontent-%COMP%]{position:relative;width:1em;height:1em;background-color:#fff;box-shadow:0 0 6px rgba(0,0,0,.23921568627450981);border-radius:40%;text-align:center}.success-checkmark2[_ngcontent-%COMP%]   .success-checkmark2-icon[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:1em;height:.6em;-webkit-mask-image:url(/assets/icon/checkmark.svg);mask-image:url(/assets/icon/checkmark.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:.6em;mask-size:.6em}.success-checkmark2[_ngcontent-%COMP%]   .success-checkmark2-icon[_ngcontent-%COMP%]   .success-checkmark2-icon-gradient[_ngcontent-%COMP%]{width:.6em;height:.6em;margin:0 auto;background:linear-gradient(#93f,#3cf)}.success-checkmark2.mg-animate[_ngcontent-%COMP%]   .success-checkmark2-icon-gradient[_ngcontent-%COMP%]{animation:success-checkmark2-gradient-animation;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite}"],changeDetection:0}),v),j=((f=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||f)},f.\u0275cmp=y["\u0275\u0275defineComponent"]({type:f,selectors:[["mg-minga-logo"]],decls:1,vars:0,consts:[[1,"minga-logo-image"]],template:function(e,t){1&e&&y["\u0275\u0275element"](0,"div",0)},styles:["[_nghost-%COMP%]{display:inline-block}.minga-logo-image[_ngcontent-%COMP%]{background-size:contain;background-position:50%;background-repeat:no-repeat;background-image:url(/assets/logo/MingaLogo_New.png);height:100%}"],changeDetection:0}),f),D=s("SVse"),T=s("sj4O"),N=["mingaCreateFinishedModalTpl"];function z(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"strong"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](n.mingaName)}}function B(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",1),y["\u0275\u0275element"](1,"mg-success-checkmark2",2),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275elementStart"](3,"span",3),y["\u0275\u0275text"](4,"Great job!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](5,"mg-minga-logo"),y["\u0275\u0275elementStart"](6,"p"),y["\u0275\u0275text"](7," We are now creating your Minga"),y["\u0275\u0275element"](8,"br"),y["\u0275\u0275template"](9,z,2,1,"strong",4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](10,"mg-spinner",5),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("animate",!0),y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("ngIf",n.mingaName),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("diameter",48)("thickness",4)}}var A,V,L,W,q,$,G,U,Q,H,J,Y=((A=function(){function e(t){m(this,e),this.mgModal=t,this.mingaName=""}return h(e,[{key:"open",value:function(){if(this.mingaCreateFinishedModalTpl){var e=this.mgModal.open(this.mingaCreateFinishedModalTpl,{animation:"fade",full:!0});return function(){return e.close()}}return function(){}}}]),e}()).\u0275fac=function(e){return new(e||A)(y["\u0275\u0275directiveInject"](I.b))},A.\u0275cmp=y["\u0275\u0275defineComponent"]({type:A,selectors:[["mg-minga-create-success-modal"]],viewQuery:function(e,t){var n;1&e&&y["\u0275\u0275viewQuery"](N,3),2&e&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.mingaCreateFinishedModalTpl=n.first)},inputs:{mingaName:"mingaName"},decls:2,vars:0,consts:[["mingaCreateFinishedModalTpl",""],["fxLayout","column","fxLayoutAlign","center center",1,"mg-fullscreen","mg-centered"],[3,"animate"],[1,"mg-bodycopy-bold"],[4,"ngIf"],[3,"diameter","thickness"]],template:function(e,t){1&e&&y["\u0275\u0275template"](0,B,11,4,"ng-template",null,0,y["\u0275\u0275templateRefExtractor"])},directives:[F.e,F.d,R,j,D.o,T.a],styles:["mg-minga-logo[_ngcontent-%COMP%]{display:block;margin-top:32px;margin-bottom:16px;width:100%;height:40px}"],changeDetection:0}),A),Z=s("u9T3"),K=((L=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||L)},L.\u0275mod=y["\u0275\u0275defineNgModule"]({type:L}),L.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[D.c]]}),L),X=((V=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||V)},V.\u0275mod=y["\u0275\u0275defineNgModule"]({type:V}),V.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[D.c]]}),V),ee=s("7Tcv"),te=((W=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||W)},W.\u0275mod=y["\u0275\u0275defineNgModule"]({type:W}),W.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[K,X,ee.a,D.c,Z.a]]}),W),ne=s("LRne"),ie=s("gEWx"),ae=s("Hp2Z"),re=s("gvAN"),oe=s("AH31"),se=((q=function(e){a(i,e);var t=o(i);function i(e){return m(this,i),t.call(this,e)}return h(i,[{key:"layoutName",get:function(){return"face-bg"}},{key:"ngOnInit",value:function(){n(c(i.prototype),"ngOnInit",this).call(this)}},{key:"ngOnDestroy",value:function(){n(c(i.prototype),"ngOnDestroy",this).call(this)}}]),i}(re.a)).\u0275fac=function(e){return new(e||q)(y["\u0275\u0275directiveInject"](oe.a))},q.\u0275cmp=y["\u0275\u0275defineComponent"]({type:q,selectors:[["mg-face-bg-layout"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:0,vars:0,template:function(e,t){},styles:[""],changeDetection:0}),q),le=s("MrIF"),ce=["stepContainer"],ue=["finishedStepsContainer"],ge=new y.InjectionToken("LANDING2_STEP_MINGA_TYPE"),de=function(){function e(){m(this,e)}return h(e,[{key:"onShouldSkipStep",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))}},{key:"registerOnNextStep",value:function(e){this._nextStepFn=e}},{key:"registerOnPreviousStep",value:function(e){this._previousStepFn=e}},{key:"registerOnResetSteps",value:function(e){this._resetStepsFn=e}},{key:"registerOnFinishSteps",value:function(e){this._finishStepsFn=e}},{key:"registerOnChangeMingaType",value:function(e){this._changeMingaTypeFn=e}},{key:"nextStep",value:function(){this._nextStepFn?this._nextStepFn():console.warn("nextStep called before registerOnNextStep")}},{key:"previousStep",value:function(){this._previousStepFn?this._previousStepFn():console.warn("previousStep called before registerOnPreviousStep")}},{key:"resetSteps",value:function(){this._resetStepsFn?this._resetStepsFn():console.warn("resetSteps called before registerOnResetSteps")}},{key:"finishSteps",value:function(){this._finishStepsFn?this._finishStepsFn():console.warn("finishSteps called before registerOnFinishSteps")}},{key:"changeMingaType",value:function(e){this._changeMingaTypeFn?this._changeMingaTypeFn(e):console.warn("changeMingaType called before registerOnChangeMingaType")}}]),e}(),pe=(($=function(){function e(t,n,i,a,r){var o,s=this;m(this,e),this._cfr=t,this._cdr=n,this.route=i,this.router=a,this.injector=r,this._stepComponents=[],this._finishedStepsComponentType=null,this._finishedStepsComponent=null,this._currentStepComponents=[],this._stepComponentInjector=y.Injector.create({name:"Landing2StepComponentInjector",parent:this.injector,providers:[{provide:ge,useFactory:function(){return s.mingaType},deps:[]}]}),this.title="",this.subtitle="",this.mingaType="",this.activeStepIndex=0,this._lastSetupActiveStepIndex=-1,this.shouldShowFinishedStepsComponent=!1,i.queryParams.subscribe((function(e){if(e.step){var t=parseInt(e.step);isNaN(t)||s.activeStepIndex===t||(clearTimeout(o),e.external?s.onActiveStepChange(t):e.internal?(s.activeStepIndex=t,s._setupStep(t),s._cdr.markForCheck()):o=setTimeout((function(){console.warn("[INVALID USAGE] Landing2StepperRoute component. You may not specify the step via index manually."),s.router.navigate([],{relativeTo:s.route,replaceUrl:!0,queryParams:{step:void 0},queryParamsHandling:"merge"})}),2e3))}})),i.data.subscribe((function(e){var t;s.mingaType="",s.title="",s.subtitle="",s._destroyCurrentStepComponents(),"string"==typeof e.title&&(s.title=e.title),"string"==typeof e.subtitle&&(s.subtitle=e.subtitle),Array.isArray(e.stepComponents)&&(s._stepComponents=e.stepComponents),e.finishedStepsComponent&&(s._finishedStepsComponentType=e.finishedStepsComponent),t=e.mingaType,Object(ie.$enum)(w.MingaTypeValue).isValue(t)||""==t||"default"==t?s.mingaType=e.mingaType:console.warn("Invalid mingaType set to landing 2 stepper component:",e.mingaType)}))}return h(e,[{key:"finishedStepsComponentIsActive",get:function(){return!!this._finishedStepsComponent}},{key:"stepCount",get:function(){return this._stepComponents.length}},{key:"translateParams",get:function(){return Object(ne.a)({})}},{key:"ngOnInit",value:function(){this._setupStep(this.activeStepIndex)}},{key:"ngOnDestroy",value:function(){}},{key:"onActiveStepChange",value:function(e){var t=this,n={relativeTo:this.route,queryParams:{step:e,external:void 0,internal:void 0},queryParamsHandling:"merge"};this.router.navigate([],n).then((function(){return t.router.navigate([],Object.assign(Object.assign({},n),{skipLocationChange:!0,queryParams:Object.assign(Object.assign({},n.queryParams),{internal:!0})}))})),this._setupStep(e)}},{key:"_setupStep",value:function(e){if(this._lastSetupActiveStepIndex!=e){this._destroyCurrentStepComponents(),this._currentStepComponents=this._createStepComponents(e);var n,i=t(this._currentStepComponents);try{for(i.s();!(n=i.n()).done;){var a=n.value;this._setupStepComponent(a)}}catch(r){i.e(r)}finally{i.f()}this._checkIfShouldSkipStep(),this._lastSetupActiveStepIndex=e}}},{key:"_checkIfShouldSkipStep",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var n,i,a,r,o,s=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(this._currentStepComponents),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=14;break}if(a=i.value,"function"!=typeof(r=a.instance).onShouldSkipStep){e.next=12;break}return e.next=9,r.onShouldSkipStep();case 9:if("boolean"!=typeof(o=e.sent)||!o){e.next=12;break}return e.abrupt("return",void setTimeout((function(){return s.onNextStep()}),0));case 12:e.next=3;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,16,19,22]])})))}},{key:"_clampActiveStepIndex",value:function(){this.activeStepIndex=Math.min(this.stepCount-1,Math.max(0,this.activeStepIndex))}},{key:"onNextStep",value:function(){this.activeStepIndex+=1,this.shouldShowFinishedStepsComponent=this.activeStepIndex>this.stepCount-1,this._clampActiveStepIndex(),this.onActiveStepChange(this.activeStepIndex),this.shouldShowFinishedStepsComponent?this._createFinishedStepsComponent():this._destroyFinishedStepsComponent(),this._cdr.markForCheck()}},{key:"onPreviousStep",value:function(){this.finishedStepsComponentIsActive?(this.shouldShowFinishedStepsComponent=!1,this._destroyFinishedStepsComponent()):(this.activeStepIndex-=1,this._clampActiveStepIndex(),this.onActiveStepChange(this.activeStepIndex)),this._cdr.markForCheck()}},{key:"onResetSteps",value:function(){this.activeStepIndex=0,this.onActiveStepChange(this.activeStepIndex),this._cdr.markForCheck()}},{key:"onFinishSteps",value:function(){this.shouldShowFinishedStepsComponent=!0,this._createFinishedStepsComponent(),this._cdr.markForCheck()}},{key:"onMingaTypeChange",value:function(e){this.mingaType=e||"",this._cdr.markForCheck()}},{key:"_setupStepComponent",value:function(e){var t=this,n=e.instance;"function"==typeof n.registerOnNextStep&&n.registerOnNextStep((function(){return t.onNextStep()})),"function"==typeof n.registerOnPreviousStep&&n.registerOnPreviousStep((function(){return t.onPreviousStep()})),"function"==typeof n.registerOnResetSteps&&n.registerOnResetSteps((function(){return t.onResetSteps()})),"function"==typeof n.registerOnFinishSteps&&n.registerOnFinishSteps((function(){return t.onFinishSteps()})),"function"==typeof n.registerOnChangeMingaType&&n.registerOnChangeMingaType((function(e){return t.onMingaTypeChange(e)})),e.changeDetectorRef.detectChanges(),this._cdr.markForCheck()}},{key:"_getStepComponentTypes",value:function(e){var t=[],n=this._stepComponents[e];return n&&(Array.isArray(n)?t=n:t.push(n)),t}},{key:"_destroyCurrentStepComponents",value:function(){this._currentStepComponents.forEach((function(e){return e.destroy()})),this._currentStepComponents=[]}},{key:"_createStepComponents",value:function(e){var n=[],i=this._getStepComponentTypes(e);if(i){var a,r=t(i);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=this._cfr.resolveComponentFactory(o);n.push(this.stepContainer.createComponent(s,0,this._stepComponentInjector))}}catch(l){r.e(l)}finally{r.f()}}return n}},{key:"_createFinishedStepsComponent",value:function(){if(this._finishedStepsComponentType){var e=this._cfr.resolveComponentFactory(this._finishedStepsComponentType);this._finishedStepsComponent=this.finishedStepsContainer.createComponent(e,0,this._stepComponentInjector),this._setupStepComponent(this._finishedStepsComponent)}}},{key:"_destroyFinishedStepsComponent",value:function(){this._finishedStepsComponent&&(this._finishedStepsComponent.destroy(),this._finishedStepsComponent=null)}}]),e}()).\u0275fac=function(e){return new(e||$)(y["\u0275\u0275directiveInject"](y.ComponentFactoryResolver),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](C.a),y["\u0275\u0275directiveInject"](C.g),y["\u0275\u0275directiveInject"](y.Injector))},$.\u0275cmp=y["\u0275\u0275defineComponent"]({type:$,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&(y["\u0275\u0275viewQuery"](ce,3,y.ViewContainerRef),y["\u0275\u0275viewQuery"](ue,3,y.ViewContainerRef)),2&e&&(y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.stepContainer=n.first),y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.finishedStepsContainer=n.first))},decls:9,vars:5,consts:[[3,"routerLink"],["icon","left-arrow-active"],[1,"step-container"],["stepContainer",""],["finishedStepsContainer",""],[3,"stepCount","allowStepClickNavigation","disableForwardDotNavigation","activeStep","activeStepChange"]],template:function(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"a",0),y["\u0275\u0275element"](1,"mg-button-icon",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](2,"mg-minga-logo"),y["\u0275\u0275element"](3,"mg-face-bg-layout"),y["\u0275\u0275element"](4,"div",2,3),y["\u0275\u0275element"](6,"div",2,4),y["\u0275\u0275elementStart"](8,"mg-step-indicator",5),y["\u0275\u0275listener"]("activeStepChange",(function(e){return t.activeStepIndex=e}))("activeStepChange",(function(e){return t.onActiveStepChange(e)})),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("routerLink","/landing/email"),y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("stepCount",t.stepCount)("allowStepClickNavigation",!0)("disableForwardDotNavigation",!0)("activeStep",t.activeStepIndex))},directives:[C.j,ae.a,j,se,le.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:#fff;min-height:100vh;max-width:448px;width:100%;box-sizing:border-box}@media (min-width:448px){[_nghost-%COMP%]{min-height:unset;height:unset;border-radius:8px}}h1[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#737373}p[_ngcontent-%COMP%]{font-size:11px}mg-minga-logo[_ngcontent-%COMP%]{height:81px;width:110px;align-self:center}mg-step-indicator[_ngcontent-%COMP%]{margin-top:12px}"],changeDetection:0}),$),me=s("TSSN"),fe=s("CO6v"),he=s("hKdC"),ve=s("ls3q"),ye=((U=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||U)},U.\u0275mod=y["\u0275\u0275defineNgModule"]({type:U}),U.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[]]}),U),Ce=((G=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||G)},G.\u0275mod=y["\u0275\u0275defineNgModule"]({type:G}),G.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[he.a,K,ye,ve.a,fe.a,C.k,D.c,me.c,C.k]]}),G),xe=s("oAJy"),Me=s("jaBy"),be=s("dpBe"),Pe=s("QPZY"),Oe=s("N1Nl"),ke=s("8aDb"),we=s("2Vo4"),_e=s("lJxs"),Se=s("zp1y"),Ee=s("B3cG"),Ie=s("c+ZS"),Fe=s("bvuB"),Re=s("k/kw"),je=s("JF7H"),De=s("zc8W"),Te=s("WH00"),Ne=s("ZiO6"),ze=((Q=function(){function e(t){m(this,e),this.landingProtoService=t,this.dealId="",this.mingaType=null}return h(e,[{key:"enteredFlowStage",value:function(e){return Object(b.a)(this,void 0,void 0,u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.mingaType=e,t.next=3,Object(Ne.b)();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"updateCustomerInfoStage",value:function(e,t,n,i){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.b)();case 2:case"end":return e.stop()}}),e)})))}},{key:"verifiedEmailStage",value:function(e,t,n,i){return Object(b.a)(this,void 0,void 0,u().mark((function a(){var r,o,s,l;return u().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ne.b)();case 2:if(r=a.sent,!this.mingaType||!r){a.next=10;break}return o=new Oe.ActiveCampaignEventRequest,(s=new Oe.ActiveCampaignEventRequest.ActiveCampaignContact).setEmail(e),s.setFirstName(t),s.setLastName(n),i&&s.setPhone(i),o.setEvent(w.ActiveCampaignEvents.VERIFIED_EMAIL),o.setActivecampaigncontact(s),o.setDealid(this.dealId),o.setMingatype(this.mingaType),a.next=8,this.landingProtoService.updateActiveCampaign(o);case 8:l=a.sent,this.dealId||(this.dealId=l.getDealid());case 10:case"end":return a.stop()}}),a,this)})))}},{key:"enteredMingaInfoStage",value:function(e,t){return Object(b.a)(this,void 0,void 0,u().mark((function n(){var i,a,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ne.b)();case 2:if(i=n.sent,!this.mingaType||!i){n.next=13;break}return a=new Oe.ActiveCampaignEventRequest,(r=new Oe.ActiveCampaignEventRequest.ActiveCampaignContact).setAccountPlaceId(t),r.setAccountName(e),a.setEvent(w.ActiveCampaignEvents.ENTERED_MINGA_DETAILS),a.setActivecampaigncontact(r),a.setDealid(this.dealId),a.setMingatype(this.mingaType),n.next=13,this.landingProtoService.updateActiveCampaign(a);case 13:case"end":return n.stop()}}),n,this)})))}},{key:"createdMingaStage",value:function(e,t,n){return Object(b.a)(this,void 0,void 0,u().mark((function i(){var a,r,o;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ne.b)();case 2:if(a=i.sent,!this.mingaType||!a){i.next=14;break}return(r=new Oe.ActiveCampaignEventRequest).setEvent(w.ActiveCampaignEvents.MINGA_CREATED),r.setDealid(this.dealId),r.setMingatype(this.mingaType),(o=new Oe.ActiveCampaignEventRequest.ActiveCampaignContact).setMingaHash(e),n&&t&&(o.setAccountPlaceId(n),o.setAccountName(t)),r.setActivecampaigncontact(o),i.next=12,this.landingProtoService.updateActiveCampaign(r);case 12:return i.next=14,this.resetActiveCampaignDealInfo();case 14:case"end":return i.stop()}}),i,this)})))}},{key:"resetActiveCampaignDealInfo",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.dealId="",this.mingaType=null;case 1:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Q)(y["\u0275\u0275inject"](Fe.Landing))},Q.\u0275prov=y["\u0275\u0275defineInjectable"]({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q),Be=s("Tcc+"),Ae=s("3qIc");!function(e){e.defaultValue=function(){return{email:"",firstName:"",lastName:"",phoneNumber:"",grade:"",roleType:""}}}(H||(H={})),function(e){e.defaultValue=function(){return{mingaName:"",schoolAffiliated:!0,schoolPlaceId:""}}}(J||(J={}));var Ve,Le,We,qe=((Le=function(){function t(n,i,a,r,o,s,l,c,u,d){var p=this;m(this,t),this.fileUploadManager=n,this.profileProtoService=i,this.landingProtoService=a,this.mingaManager=r,this.auth=o,this.authInfo=s,this.contentEvents=l,this.activeCampaign=c,this.analyticsService=u,this.mingaStore=d,this._ssoVerifiedEmail="",this._storage=xe.createInstance({name:"Landing"}),this.personalData$=new we.a(H.defaultValue()),this.mingaData$=new we.a(J.defaultValue()),this.initialInvites$=new we.a([]),this.emailVerificationCode$=new we.a(""),this.password$=new we.a(""),this.initialInvite$=new we.a(H.defaultValue()),this.initialInvitesCount$=this.initialInvites$.pipe(Object(_e.a)((function(e){return e.length+1}))),this._emailVerified=new we.a(!1),this.personAvatarAssetId$=new we.a(""),this.personAvatarFile$=new we.a(null),this.mingaLogoFile$=new we.a(null),this.existingMingaInfo$=new we.a(null),this.mingaInviteCode$=new we.a(""),this.personPin$=new we.a(""),this.joinEmail$=new we.a(""),this.initialInviteEmails$=this.initialInvites$.pipe(Object(_e.a)((function(e){return e.map((function(e){return e.email}))})));var f=!1;this.authInfo.detachedSsoProviderInfo$.subscribe((function(e){e?(f=!!e.emailVerified,p._emailVerified.next(!!e.emailVerified)):f&&(f=!1,p._emailVerified.next(!1)),f&&(p._ssoVerifiedEmail=(null==e?void 0:e.email)||"")})),this.usedEmails$=this.initialInviteEmails$.pipe(Object(Se.a)(this.personalData$),Object(_e.a)((function(t){var n=e(t,2),i=n[0],a=n[1],r=g(i);return a.email&&r.push(a.email),r}))),this.mingaName$=this.existingMingaInfo$.pipe(Object(Se.a)(this.mingaData$),Object(_e.a)((function(t){var n=e(t,2),i=n[0],a=n[1];return i&&i.mingaName?i.mingaName:a.mingaName}))),this.isExistingMingaConference$=this.existingMingaInfo$.pipe(Object(_e.a)((function(e){return!!e&&e.mingaType==w.MingaTypeValue.CONFERENCE})))}return h(t,[{key:"emailVerified$",get:function(){return this._emailVerified.asObservable()}},{key:"usingSso",get:function(){return!!this._ssoVerifiedEmail}},{key:"sendVerificationCode",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.personalData$.getValue(),(n=new Oe.SendEmailVerificationRequest).setEmail(t.email),e.next=4,this.landingProtoService.sendEmailVerification(n);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"verifyEmail",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.personalData$.getValue(),(n=new Oe.VerifyEmailRequest).setEmail(t.email),n.setVerificationCode(this.emailVerificationCode$.getValue()),e.next=4,this.landingProtoService.verifyEmail(n);case 4:return i=e.sent,e.abrupt("return",(i.getEmailVerified()&&this._emailVerified.next(!0),i.getEmailVerified()));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"isEmailVerified",value:function(){return this._emailVerified.getValue()}},{key:"_uploadPersonAvatar",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n,i,a,r,o=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.personAvatarFile$.getValue()){e.next=3;break}return e.abrupt("return",void console.warn("Person avatar not set. Ignoring upload request"));case 3:return n="",i=!1,e.next=6,new Promise((function(e,a){o.fileUploadManager.uploadFile(t).subscribe((function(e){e.errorCode&&(i=!0),e.assetId&&(n=e.assetId)}),a,e)}));case 6:if(!i){e.next=8;break}throw new Error("Failed to upload person avatar");case 8:return(a=new ke.UpdateProfileImageRequest).setAsset(n),e.next=12,this.profileProtoService.updateProfileImage(a);case 12:(r=e.sent).getStatus()==Pe.StatusCode.OK&&Object(Me.d)(r.getProfileImageInfo());case 14:case"end":return e.stop()}}),e,this)})))}},{key:"_createMingaCommon",value:function(e){return Object(b.a)(this,void 0,void 0,u().mark((function t(){var n,i,a,r,o,s,l,c,g,d,p,m,f,h,v,y,C=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new e,i=this.mingaData$.getValue(),a=this.personalData$.getValue(),this.initialInvites$.getValue(),r=this.emailVerificationCode$.getValue(),o=this.password$.getValue(),(s=new e.PersonInfo).setEmail(a.email),s.setFirstName(a.firstName),s.setLastName(a.lastName),s.setPhone(a.phoneNumber),(l=new e.MingaInfo).setName(i.mingaName),l.setPlaceId(i.schoolPlaceId),n.setCreator(s),n.setMingaDetails(l),!this.usingSso){t.next=11;break}return c=new Oe.MingaUserSsoCreds,t.next=7,be.a.auth().currentUser.getIdToken();case 7:g=t.sent,c.setDetachedSsoIdToken(g),n.setSsoCreds(c),t.next=13;break;case 11:(d=new Oe.MingaUserPasswordCreds).setEmailVerificationCode(r),d.setPassword(o),n.setPasswordCreds(d);case 13:return p="",m="",f="",h=function(){return Object(b.a)(C,void 0,void 0,u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return(t=new ke.UpdateProfileImageRequest).setAsset(p),e.next=6,this.profileProtoService.updateProfileImage(t);case 6:(n=e.sent).getStatus()==Pe.StatusCode.OK&&Object(Me.d)(n.getProfileImageInfo());case 8:case"end":return e.stop()}}),e,this)})))},v=function(){return Object(b.a)(C,void 0,void 0,u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.mingaManager.updateMingaImage("",m);case 4:(t=e.sent).getStatus()==Pe.StatusCode.OK&&(n=Object(Me.d)(t.getMingaImageInfo()),this.mingaStore.setMingaImageUrl(n));case 6:case"end":return e.stop()}}),e,this)})))},y={request:n,getMingaHash:function(){return f},setFiles:function(){return Object(b.a)(C,void 0,void 0,u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h().catch((function(e){console.error(e),t.analyticsService.logEvent("CreateMingaFlow",{error:"PersonAvatarUploadFail:"+e.message})})),v().catch((function(e){console.error(e),t.analyticsService.logEvent("CreateMingaFlow",{error:"MingaLogoUploadFail:"+e.message})}))]);case 2:case"end":return e.stop()}}),e)})))},afterAuthHandler:function(){return Object(b.a)(C,void 0,void 0,u().mark((function e(){var t,n,i,a,r,o=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.personAvatarFile$.getValue(),n=this.mingaLogoFile$.getValue(),p=this.personAvatarAssetId$.getValue(),i=[],t&&(a=new Promise((function(e,n){o.fileUploadManager.uploadFile(t).subscribe((function(e){e.assetId&&(p=e.assetId)}),n,e)})),i.push(a)),n&&(r=new Promise((function(e,t){o.fileUploadManager.uploadFile(n).subscribe((function(e){e.assetId&&(m=e.assetId)}),t,e)})),i.push(r)),e.next=7,Promise.all(i);case 7:case"end":return e.stop()}}),e,this)})))},responseHandler:function(e){return Object(b.a)(C,void 0,void 0,u().mark((function t(){var n,i,a,r,o,s,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,e.getProgressUpdate(),i=e.getCreatorAuth(),(a=e.getMingaDetails())&&(f=a.getMingaHash()),!i){t.next=28;break}if(t.t0=this.usingSso&&this.auth.detachedSsoCredential,!t.t0){t.next=8;break}return t.next=8,be.a.auth().currentUser.delete();case 8:return r=i.getCustomAuthToken(),t.next=11,be.a.auth().signInWithCustomToken(r).catch((function(e){return console.error(e),null}));case 11:if(o=t.sent,t.t1=this.usingSso&&this.auth.detachedSsoCredential,!t.t1){t.next=16;break}return t.next=16,this.auth.linkWithDetachedSSOCredential();case 16:if(!o||!o.user){t.next=28;break}return t.next=19,o.user.getIdToken();case 19:return s=t.sent,t.next=22,this.auth.verifyIdToken(s).catch((function(e){return console.error(e),null}));case 22:if(l=t.sent,t.t2=l&&l.success&&!n,!t.t2){t.next=28;break}return n=!0,t.next=28,y.afterAuthHandler();case 28:case"end":return t.stop()}}),t,this)})))}},t.abrupt("return",y);case 16:case"end":return t.stop()}}),t,this)})))}},{key:"createMinga",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n,i,a,r,o,s,l,c,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._createMingaCommon(Oe.CreateMingaRequest);case 2:return t=e.sent,n=t.request,i=t.responseHandler,a=t.setFiles,r=t.getMingaHash,o=n.getMingaDetails(),s=this.landingProtoService.createMinga(n),l=[],e.next=12,new Promise((function(e,t){s.subscribe((function(e){return l.push(i(e))}),t,e)}));case 12:return e.next=14,Promise.all(l);case 14:return e.next=16,a();case 16:return c=o.getPlaceId(),g=o.getName(),e.next=19,this.activeCampaign.createdMingaStage(r(),g,c).catch((function(e){return console.log(e)}));case 19:return e.next=21,this.analyticsService.sendMingaCreatedEvent();case 21:case"end":return e.stop()}}),e,this)})))}},{key:"createAccount",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.personPin$.getValue(),n=this.mingaInviteCode$.getValue(),e.abrupt("return",t?this.createAccountWithPassword():n?this.createAccountWithInviteCode():(console.error("Insufficient information provided in landing2 state service to create an account"),!1));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"createAccountWithPassword",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.joinEmail$.getValue(),n=this.password$.getValue(),i=this.personPin$.getValue(),e.next=5,this.auth.createAccountWithPin(t,n,i);case 5:return a=e.sent,e.abrupt("return",(this.analyticsService.sendUserJoinEvent({success:a.success,type:"pin"}),a.success));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"createAccountWithInviteCode",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n,i,a,r,o,s,l,c=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mingaInviteCode$.getValue(),n=this.personalData$.getValue(),i=n.email,a=this.password$.getValue(),r={firstName:n.firstName,lastName:n.lastName,password:a,roleType:n.roleType},n.grade&&(r.grade=n.grade),n.phoneNumber&&(r.phoneNumber=n.phoneNumber),e.next=4,this.auth.createAccountWithInviteCode(i,t,r);case 4:if(o=e.sent,this.analyticsService.sendUserJoinEvent({success:o.success,type:"join_code"}),!o.success){e.next=19;break}if(!this.personAvatarFile$.getValue()){e.next=11;break}return e.next=9,this._uploadPersonAvatar().catch((function(e){console.error(e),c.analyticsService.logEvent("JoinFlow",{error:"PersonAvatarUploadFail:"+e.message})}));case 9:e.next=18;break;case 11:if(!this.personAvatarAssetId$.getValue()){e.next=18;break}return(s=new ke.UpdateProfileImageRequest).setAsset(this.personAvatarAssetId$.getValue()),e.next=16,this.profileProtoService.updateProfileImage(s);case 16:(l=e.sent).getStatus()==Pe.StatusCode.OK&&Object(Me.d)(l.getProfileImageInfo());case 18:return e.abrupt("return",!0);case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,this)})))}},{key:"updatePersonalData",value:function(e,t){var n=this.personalData$.getValue();n[e]=t,this.personalData$.next(n),"email"===e&&n.email!==this._ssoVerifiedEmail&&this._emailVerified.next(!1)}},{key:"updateMingaData",value:function(e,t){var n=this.mingaData$.getValue();n[e]=t,this.mingaData$.next(n)}},{key:"updateInitialInvite",value:function(e,t){var n=this.initialInvite$.getValue();n[e]=t,this.initialInvite$.next(n)}},{key:"addInitialInvite",value:function(){var e=this.initialInvites$.getValue();e.push(this.initialInvite$.getValue()),this.initialInvite$.next(H.defaultValue()),this.initialInvites$.next(e)}},{key:"clear",value:function(){this.personalData$.next(H.defaultValue()),this.mingaData$.next(J.defaultValue()),this.initialInvites$.next([]),this.initialInvite$.next(H.defaultValue()),this._emailVerified.next(!1)}},{key:"verifyPinOrCode",value:function(e){return Object(b.a)(this,void 0,void 0,u().mark((function t(){var n,i,a,r,o,s,l,c,g,d,p;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Oe.VerifyPinOrCodeRequest).setPinOrCode(e),t.next=4,this.landingProtoService.verifyPinOrCode(n);case 4:i=t.sent,a=!1,r=!1,o=null,s=!1,l=!1,c=!1,t.t0=i.getDetailsCase(),t.next=t.t0===Oe.VerifyPinOrCodeResponse.DetailsCase.CODE?9:t.t0===Oe.VerifyPinOrCodeResponse.DetailsCase.PIN?12:t.t0===Oe.VerifyPinOrCodeResponse.DetailsCase.DETAILS_NOT_SET?17:15;break;case 9:return g=i.getCode(),r=!0,o={mingaLogo:g.getMingaLogo(),mingaName:g.getMingaName(),mingaType:g.getMingaType(),allowedRoleTypeInfoList:g.getAllowedRoleTypeInfoList().map((function(e){return e.toObject()})),gradeOptions:g.getGradeOptionsList()},t.abrupt("break",18);case 12:return d=i.getPin(),a=!0,l=d.getConfirmEmail(),o={mingaLogo:d.getMingaLogo(),mingaName:d.getMingaName(),mingaType:d.getMingaType(),allowedRoleTypeInfoList:d.getAllowedRoleTypeInfoList().map((function(e){return e.toObject()})),gradeOptions:d.getGradeOptionsList()},t.abrupt("break",18);case 15:return s=!0,c=!0,t.abrupt("break",18);case 17:s=!0;case 18:return this.existingMingaInfo$.next(o),p={invalid:s,mingaInfo:o,verifyEmail:l,unknownDetails:c,isPin:a,isCode:r,fullMinga:i.getFullMinga()},t.prev=20,t.next=23,this._storage.setItem("lastVerifyResult",p);case 23:return t.next=25,this._storage.setItem("lastPinOrCode",e);case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(20),console.error(t.t1);case 30:if(p.invalid||!this.authInfo.authInfo){t.next=39;break}return t.prev=31,t.next=34,this.auth.logout();case 34:t.next=39;break;case 36:t.prev=36,t.t2=t.catch(31),console.error(t.t2);case 39:return t.abrupt("return",p);case 40:case"end":return t.stop()}}),t,this,[[20,27],[31,36]])})))}},{key:"verifyPinEmail",value:function(e){return Object(b.a)(this,void 0,void 0,u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Oe.VerifyPinEmailRequest).setEmail(e),n.setPin(this.personPin$.getValue()),t.next=5,this.landingProtoService.verifyPinEmail(n);case 5:return t.abrupt("return",t.sent.getMatched());case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getLastVerifyPinOrCodeResult",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.getItem("lastVerifyResult");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=null;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getLastPinOrCode",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.getItem("lastPinOrCode");case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"clearLastVerifyPinOrCodeResult",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.clear();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"useLastVerifyPinOrCodeResultIfNoExistingMingaInfo",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.existingMingaInfo$.getValue()){e.next=9;break}return e.next=3,this.getLastVerifyPinOrCodeResult();case 3:if(!(t=e.sent)){e.next=9;break}return e.next=7,this.getLastPinOrCode();case 7:return n=e.sent,e.abrupt("return",(this.existingMingaInfo$.next(t.mingaInfo),t.isPin?this.personPin$.next(n):t.isCode&&this.mingaInviteCode$.next(n),t.mingaInfo));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(e){return new(e||Le)(y["\u0275\u0275inject"](Ee.d),y["\u0275\u0275inject"](Ie.ProfileService),y["\u0275\u0275inject"](Fe.Landing),y["\u0275\u0275inject"](Re.a),y["\u0275\u0275inject"](je.a),y["\u0275\u0275inject"](De.a),y["\u0275\u0275inject"](Te.a),y["\u0275\u0275inject"](ze),y["\u0275\u0275inject"](Be.a),y["\u0275\u0275inject"](Ae.b))},Le.\u0275prov=y["\u0275\u0275defineInjectable"]({token:Le,factory:Le.\u0275fac}),Le),$e=((Ve=function(){function e(t){m(this,e),this.state=t}return h(e,[{key:"resolve",value:function(e){var t=this.state.existingMingaInfo$.getValue();return t?t.mingaType:""}}]),e}()).\u0275fac=function(e){return new(e||Ve)(y["\u0275\u0275inject"](qe))},Ve.\u0275prov=y["\u0275\u0275defineInjectable"]({token:Ve,factory:Ve.\u0275fac}),Ve),Ge=s("UWMR"),Ue=s("iELJ"),Qe=((We=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||We)},We.\u0275cmp=y["\u0275\u0275defineComponent"]({type:We,selectors:[["mg-minga-logo-small"]],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]{display:block;width:100%;height:28.5px;background-repeat:no-repeat;background-position:50%;background-size:contain}[_nghost-%COMP%], .small[_nghost-%COMP%], .small   [_nghost-%COMP%]{background-image:url(/assets/Minga_icon.svg)}.large[_nghost-%COMP%], .large   [_nghost-%COMP%]{width:100%;height:56px}"],changeDetection:0}),We),He=s("4avL"),Je=["dialogTpl"],Ye=function(){return["page","tos"]},Ze=function(e){return{o:e}},Ke=function(e){return{outlets:e}},Xe=function(e){return["",e]},et=function(){return["page","privacy-policy"]};function tt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",1),y["\u0275\u0275elementStart"](1,"div",2),y["\u0275\u0275element"](2,"mg-minga-logo-small",3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"h1",4),y["\u0275\u0275text"](4," User Agreement "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p"),y["\u0275\u0275text"](6," By signing up, you agree to Minga's "),y["\u0275\u0275elementStart"](7,"a",5),y["\u0275\u0275text"](8,"Terms of Use"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](9," and "),y["\u0275\u0275elementStart"](10,"a",5),y["\u0275\u0275text"](11,"Privacy Policy"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](12,". "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"p"),y["\u0275\u0275text"](14," You also agree to Minga collecting information from you in order to provide our service. This information may include your name, school, email and phone number. "),y["\u0275\u0275elementStart"](15,"a",5),y["\u0275\u0275text"](16,"Learn More"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](17,". "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"mat-dialog-actions",6),y["\u0275\u0275elementStart"](19,"mg-button",7),y["\u0275\u0275text"](20,"Decline"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"mg-button",8),y["\u0275\u0275text"](22,"Accept"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("mat-dialog-close",null)("routerLink",y["\u0275\u0275pureFunction1"](13,Xe,y["\u0275\u0275pureFunction1"](11,Ke,y["\u0275\u0275pureFunction1"](9,Ze,y["\u0275\u0275pureFunction0"](8,Ye))))),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("mat-dialog-close",null)("routerLink",y["\u0275\u0275pureFunction1"](20,Xe,y["\u0275\u0275pureFunction1"](18,Ke,y["\u0275\u0275pureFunction1"](16,Ze,y["\u0275\u0275pureFunction0"](15,et))))),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("mat-dialog-close",null)("routerLink",y["\u0275\u0275pureFunction1"](27,Xe,y["\u0275\u0275pureFunction1"](25,Ke,y["\u0275\u0275pureFunction1"](23,Ze,y["\u0275\u0275pureFunction0"](22,et))))),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("mat-dialog-close",!1),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("mat-dialog-close",!0))}var nt,it,at,rt,ot,st=((nt=function(){function e(t){m(this,e),this.matDialog=t}return h(e,[{key:"open",value:function(){if(!this.dialogTpl)throw new Error("dialogTpl unset");return this.matDialog.open(this.dialogTpl)}}]),e}()).\u0275fac=function(e){return new(e||nt)(y["\u0275\u0275directiveInject"](Ue.b))},nt.\u0275cmp=y["\u0275\u0275defineComponent"]({type:nt,selectors:[["mg-user-agreement-dialog"]],viewQuery:function(e,t){var n;1&e&&y["\u0275\u0275viewQuery"](Je,3),2&e&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.dialogTpl=n.first)},decls:2,vars:0,consts:[["dialogTpl",""],[1,"agreement-dialog-content"],[1,"mg-centered"],[1,"small"],["mat-dialog-title","",1,"mg-headline3","mg-centered"],[3,"mat-dialog-close","routerLink"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px"],["fxFlex","auto","type","outline",1,"normal",3,"mat-dialog-close"],["fxFlex","auto",1,"normal",3,"mat-dialog-close"]],template:function(e,t){1&e&&y["\u0275\u0275template"](0,tt,23,29,"ng-template",null,0,y["\u0275\u0275templateRefExtractor"])},directives:[Qe,Ue.h,C.j,Ue.d,Ue.c,F.e,F.d,F.f,He.a,F.b],styles:[".agreement-dialog-content[_ngcontent-%COMP%]{max-width:400px;color:#2f2f2f}.agreement-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2f2f2f}.agreement-dialog-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#93f}"],changeDetection:0}),nt),lt=["userAgreementDialog"],ct=((ot=function(e){a(n,e);var t=o(n);function n(e,i,a,r){var o;return m(this,n),(o=t.call(this)).state=i,o.router=a,o.snackbar=r,e.data.subscribe((function(e){o.disagreeRouterLink=e.disagreeRouterLink})),o}return h(n,[{key:"_openModal",value:function(){return this.modalComponent?this.modalComponent.open():function(){}}},{key:"_createMinga",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._openModal(),e.prev=1,e.next=4,this.state.createMinga();case 4:return e.next=6,this.router.navigateByUrl("/");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),this.snackbar.open("There was an error while creating your minga. Please try again."),this.previousStep();case 11:return e.prev=11,t(),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,8,11,14]])})))}},{key:"ngOnInit",value:function(){var e=this;if(!this.userAgreementDialog)throw new Error("userAgreementDialog unset");this.userAgreementDialog.open().beforeClosed().subscribe((function(t){!0===t?e._createMinga():!1===t&&e.disagreeRouterLink?"string"==typeof e.disagreeRouterLink?e.router.navigateByUrl(e.disagreeRouterLink):Array.isArray(e.disagreeRouterLink)&&e.router.navigate(e.disagreeRouterLink):e.previousStep()}))}}]),n}(de)).\u0275fac=function(e){return new(e||ot)(y["\u0275\u0275directiveInject"](C.a),y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](C.g),y["\u0275\u0275directiveInject"](Ge.b))},ot.\u0275cmp=y["\u0275\u0275defineComponent"]({type:ot,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&(y["\u0275\u0275viewQuery"](Y,3),y["\u0275\u0275viewQuery"](lt,3)),2&e&&(y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.modalComponent=n.first),y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.userAgreementDialog=n.first))},features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:3,consts:[[3,"mingaName"],["userAgreementDialog",""]],template:function(e,t){1&e&&(y["\u0275\u0275element"](0,"mg-minga-create-success-modal",0),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275element"](2,"mg-user-agreement-dialog",null,1)),2&e&&y["\u0275\u0275property"]("mingaName",y["\u0275\u0275pipeBind1"](1,1,t.state.mingaName$))},directives:[Y,st],pipes:[D.b],styles:[""],changeDetection:0}),ot),ut=((rt=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||rt)},rt.\u0275mod=y["\u0275\u0275defineNgModule"]({type:rt}),rt.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[]]}),rt),gt=((at=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||at)},at.\u0275mod=y["\u0275\u0275defineNgModule"]({type:at}),at.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[fe.a,ut,D.c,C.k,Z.a,Ue.f]]}),at),dt=((it=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||it)},it.\u0275mod=y["\u0275\u0275defineNgModule"]({type:it}),it.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[te,gt,D.c]]}),it),pt=s("s7LF"),mt=s("dhKc"),ft=["accountSetupSuccessDialogTpl"];function ht(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",7),y["\u0275\u0275element"](1,"mg-success-checkmark2",8),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275elementStart"](3,"span",9),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](6,"br"),y["\u0275\u0275elementStart"](7,"span",10),y["\u0275\u0275text"](8,"Now let's set up your Minga."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){var n,i=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("animate",!0),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"]("Your account has been created ",null==(n=y["\u0275\u0275pipeBind1"](5,2,i.state.personalData$))?null:n.firstName,"!")}}var vt,yt,Ct=((vt=function(e){a(n,e);var t=o(n);function n(e,i){var a;return m(this,n),(a=t.call(this)).state=e,a.mgModal=i,a}return h(n,[{key:"onShouldSkipStep",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.state.usingSso);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"openAccountSetupSuccessDialog",value:function(){if(this.accountSetupSuccessDialogTpl){var e=this.mgModal.open(this.accountSetupSuccessDialogTpl,{animation:"fade",full:!0});setTimeout((function(){return e.close()}),2e3)}}},{key:"submit",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.openAccountSetupSuccessDialog(),e.next=3,new Promise((function(e){return setTimeout(e,300)}));case 3:this.nextStep();case 4:case"end":return e.stop()}}),e,this)})))}}]),n}(de)).\u0275fac=function(e){return new(e||vt)(y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](I.b))},vt.\u0275cmp=y["\u0275\u0275defineComponent"]({type:vt,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&y["\u0275\u0275viewQuery"](ft,3),2&e&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.accountSetupSuccessDialogTpl=n.first)},features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:4,consts:[["accountSetupSuccessDialogTpl",""],["translate","",1,"title"],["translate","",1,"subtitle"],["form","ngForm"],["name","password","required","",3,"ngModel","ngModelChange"],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled","click"],["fxLayout","column","fxLayoutAlign","center center",1,"mg-fullscreen","mg-centered"],[3,"animate"],[1,"mg-bodycopy-bold"],[1,"mg-bodycopy"]],template:function(e,t){if(1&e&&(y["\u0275\u0275template"](0,ht,9,4,"ng-template",null,0,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementStart"](2,"h1",1),y["\u0275\u0275text"](3," landing2.createPassword.title\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"h3",2),y["\u0275\u0275text"](5," landing2.createPassword.subtitle\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",null,3),y["\u0275\u0275elementStart"](8,"mg-password",4),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.state.password$.next(e)})),y["\u0275\u0275pipe"](9,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"div",5),y["\u0275\u0275elementStart"](11,"button",6),y["\u0275\u0275listener"]("click",(function(){return t.nextStep()})),y["\u0275\u0275text"](12," Continue "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind1"](9,2,t.state.password$)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("disabled",n.invalid)}},directives:[me.a,pt.E,pt.u,pt.v,mt.b,pt.B,pt.t,pt.w,F.e,F.d,R],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}form[_ngcontent-%COMP%]{margin-top:32px}mg-button[_ngcontent-%COMP%]{display:block;margin:16px 0}'],changeDetection:0}),vt),xt=s("XMmb"),Mt=((yt=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||yt)},yt.\u0275mod=y["\u0275\u0275defineNgModule"]({type:yt}),yt.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[xt.b,X,fe.a,D.c,pt.m,C.k,me.c,Z.a]]}),yt),bt=s("Q2Ze"),Pt=s("i1AJ"),Ot=s("e6WT"),kt=s("9QcJ"),wt=s("TcST"),_t=s("9PXH"),St=s("ZTz/"),Et=s("UhP/"),It=s("5xcx"),Ft=["*"],Rt=["form"];function jt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"mat-option",13),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;y["\u0275\u0275property"]("value",n),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",n.roleName," ")}}function Dt(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"mat-form-field",10),y["\u0275\u0275elementStart"](1,"mat-label"),y["\u0275\u0275text"](2,"I am a..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"mat-select",11),y["\u0275\u0275listener"]("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]()._selectedRoleInfo=e}))("ngModelChange",(function(){y["\u0275\u0275restoreView"](n);var e=y["\u0275\u0275nextContext"]();return e.selectedRoleTypeChange.emit(e.selectedRoleType)})),y["\u0275\u0275template"](4,jt,2,2,"mat-option",12),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){var i=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("required",!0)("ngModel",i._selectedRoleInfo),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.roleTypes)}}function Tt(e,t){1&e&&y["\u0275\u0275element"](0,"mg-spinner",14)}function Nt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"mat-error",15),y["\u0275\u0275text"](1,"input.email.error.emailTaken"),y["\u0275\u0275elementEnd"]())}function zt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"mat-error"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"input.email.error.email")," "))}function Bt(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"mat-form-field",10),y["\u0275\u0275elementStart"](1,"mat-label"),y["\u0275\u0275text"](2,"Phone"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"input",16),y["\u0275\u0275listener"]("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().phoneNumber=e}))("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().phoneNumberChange.emit(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"mat-hint"),y["\u0275\u0275projection"](5,1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){var i=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",i.phoneNumber)}}function At(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"mat-option",13),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;y["\u0275\u0275property"]("value",n),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",n," ")}}function Vt(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"mat-form-field",10),y["\u0275\u0275elementStart"](1,"mat-label"),y["\u0275\u0275text"](2,"Grade"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"mat-select",17),y["\u0275\u0275listener"]("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().grade=e}))("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().gradeChange.emit(e)})),y["\u0275\u0275template"](4,At,2,2,"mat-option",12),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){var i=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",i.grade),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.gradeOptions)}}var Lt,Wt,qt=[[["mg-personal-info-form-email-hint"]],[["mg-personal-info-form-phone-number-hint"]]],$t=["mg-personal-info-form-email-hint","mg-personal-info-form-phone-number-hint"],Gt=((Wt=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||Wt)},Wt.\u0275cmp=y["\u0275\u0275defineComponent"]({type:Wt,selectors:[["mg-personal-info-form-email-hint"]],ngContentSelectors:Ft,decls:1,vars:0,template:function(e,t){1&e&&(y["\u0275\u0275projectionDef"](),y["\u0275\u0275projection"](0))},encapsulation:2}),Wt),Ut=((Lt=function(){function e(t){m(this,e),this._cdr=t,this._selectedRoleInfo=null,this._roleTypes=[],this.uniqueEmail=!1,this.selectedRoleTypeChange=new y.EventEmitter,this.profilePic="",this.firstName="",this.firstNameChange=new y.EventEmitter,this.lastName="",this.lastNameChange=new y.EventEmitter,this.email="",this.emailChange=new y.EventEmitter,this.emailDisabled=!1,this.phoneNumber="",this.phoneNumberChange=new y.EventEmitter,this.grade="",this.gradeChange=new y.EventEmitter,this.gradeOptions=[]}return h(e,[{key:"roleTypes",get:function(){return this._roleTypes},set:function(e){var t;e&&1==e.length?this._selectedRoleInfo=e[0]:e?(this._roleTypes=e,this._selectedRoleInfo=null):(this._roleTypes=[],this._selectedRoleInfo=null),this.selectedRoleTypeChange.emit((null===(t=this._selectedRoleInfo)||void 0===t?void 0:t.roleType)||"")}},{key:"selectedRoleType",get:function(){var e;return(null===(e=this._selectedRoleInfo)||void 0===e?void 0:e.roleType)||""},set:function(e){var t=this._roleTypes.find((function(t){return t.roleType===e}));t&&(this._selectedRoleInfo=t)}},{key:"valid",get:function(){return this.form?this.form.valid:null}},{key:"invalid",get:function(){return this.form?this.form.invalid:null}},{key:"pending",get:function(){return this.form?this.form.pending:null}},{key:"selectedRoleAllowsGrade",get:function(){return!this._selectedRoleInfo||this._selectedRoleInfo.allowGradeInput}},{key:"markFormAsPristine",value:function(){this.form&&(this.form.form.markAsPristine(),this.form.form.markAsUntouched())}}]),e}()).\u0275fac=function(e){return new(e||Lt)(y["\u0275\u0275directiveInject"](y.ChangeDetectorRef))},Lt.\u0275cmp=y["\u0275\u0275defineComponent"]({type:Lt,selectors:[["mg-personal-info-form"]],viewQuery:function(e,t){var n;1&e&&y["\u0275\u0275viewQuery"](Rt,3),2&e&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.form=n.first)},inputs:{uniqueEmail:"uniqueEmail",uniqueEmailOptions:"uniqueEmailOptions",roleTypes:"roleTypes",selectedRoleType:"selectedRoleType",profilePic:"profilePic",firstName:"firstName",lastName:"lastName",email:"email",emailDisabled:"emailDisabled",phoneNumber:"phoneNumber",grade:"grade",gradeOptions:"gradeOptions"},outputs:{selectedRoleTypeChange:"selectedRoleTypeChange",firstNameChange:"firstNameChange",lastNameChange:"lastNameChange",emailChange:"emailChange",phoneNumberChange:"phoneNumberChange",gradeChange:"gradeChange"},ngContentSelectors:$t,decls:23,vars:12,consts:[["form","ngForm"],["mgFormField","",4,"ngIf"],["mgFormField","","floatLabel","always"],["matInput","","required","","name","firstname","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","name","lastname","type","text",3,"ngModel","ngModelChange"],["matInput","","required","","mgEmailValidator","","name","email","type","email",3,"disabled","mgUniqueEmail","mgUniqueEmailOptions","ngModel","mgModelStatusChanges","ngModelChange"],["emailNgModel","ngModel"],["matSuffix","","thickness","4","diameter","24",4,"ngIf"],["translate","",4,"ngIf"],[4,"ngIf"],["mgFormField",""],["name","roleType",3,"required","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matSuffix","","thickness","4","diameter","24"],["translate",""],["matInput","","mgPhoneNumberValidator","","name","phonenumber","type","tel",3,"ngModel","ngModelChange"],["name","grade",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(y["\u0275\u0275projectionDef"](qt),y["\u0275\u0275elementStart"](0,"form",null,0),y["\u0275\u0275template"](2,Dt,5,3,"mat-form-field",1),y["\u0275\u0275elementStart"](3,"mat-form-field",2),y["\u0275\u0275elementStart"](4,"mat-label"),y["\u0275\u0275text"](5,"First Name"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"input",3),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.firstName=e}))("ngModelChange",(function(e){return t.firstNameChange.emit(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"mat-form-field",2),y["\u0275\u0275elementStart"](8,"mat-label"),y["\u0275\u0275text"](9,"Last Name"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"input",4),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.lastName=e}))("ngModelChange",(function(e){return t.lastNameChange.emit(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"mat-form-field",2),y["\u0275\u0275elementStart"](12,"mat-label"),y["\u0275\u0275text"](13,"Email"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"input",5,6),y["\u0275\u0275listener"]("mgModelStatusChanges",(function(){return t._cdr.markForCheck()}))("ngModelChange",(function(e){return t.email=e}))("ngModelChange",(function(e){return t.emailChange.emit(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](16,Tt,1,0,"mg-spinner",7),y["\u0275\u0275elementStart"](17,"mat-hint"),y["\u0275\u0275projection"](18),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,Nt,2,0,"mat-error",8),y["\u0275\u0275template"](20,zt,3,3,"mat-error",9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,Bt,6,1,"mat-form-field",1),y["\u0275\u0275template"](22,Vt,5,2,"mat-form-field",1),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275reference"](15);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.roleTypes.length>1),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",t.firstName),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",t.lastName),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("disabled",t.emailDisabled)("mgUniqueEmail",t.uniqueEmail)("mgUniqueEmailOptions",t.uniqueEmailOptions)("ngModel",t.email),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",n.pending),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==n.errors?null:n.errors.emailTaken),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.errors?null:n.errors.invalidEmail),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.phoneNumberChange.observers.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.gradeChange.observers.length>0&&t.selectedRoleAllowsGrade)}},directives:[pt.E,pt.u,pt.v,D.o,bt.d,Pt.a,bt.h,Ot.b,pt.d,pt.B,pt.t,pt.w,kt.a,wt.a,_t.a,bt.g,St.a,D.n,Et.m,T.a,bt.j,bt.c,me.a,It.a],pipes:[me.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}']}),Lt),Qt=s("SFBQ");function Ht(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",9),y["\u0275\u0275text"](2,"Or Sign up with:"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"div",10),y["\u0275\u0275elementStart"](4,"mg-sso-ui",11),y["\u0275\u0275listener"]("authSuccess",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"](2).onAuthSuccess(e.ssoProviderInfo,e.detached)}))("authError",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"](2).onAuthError(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}}function Jt(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"h1",2),y["\u0275\u0275text"](2," landing2.accountSetup.title "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"h3",3),y["\u0275\u0275text"](4," landing2.accountSetup.subtitle "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"mg-personal-info-form",4,5),y["\u0275\u0275listener"]("firstNameChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("firstName",e)}))("lastNameChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("lastName",e)}))("emailChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("email",e)})),y["\u0275\u0275pipe"](7,"async"),y["\u0275\u0275pipe"](8,"async"),y["\u0275\u0275pipe"](9,"async"),y["\u0275\u0275elementStart"](10,"mg-personal-info-form-email-hint"),y["\u0275\u0275text"](11," We'll send your verification code to this address. "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",6),y["\u0275\u0275elementStart"](13,"button",7),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().gotoNextStep()})),y["\u0275\u0275text"](14," Next Step "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](15,Ht,5,0,"ng-container",8),y["\u0275\u0275elementContainerEnd"]()}if(2&e){var i,a,r,o=y["\u0275\u0275reference"](6),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("uniqueEmail",!0)("firstName",null==(i=y["\u0275\u0275pipeBind1"](7,7,s.state.personalData$))?null:i.firstName)("lastName",null==(a=y["\u0275\u0275pipeBind1"](8,9,s.state.personalData$))?null:a.lastName)("email",null==(r=y["\u0275\u0275pipeBind1"](9,11,s.state.personalData$))?null:r.email)("emailDisabled",s.hasDetachedProvider),y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("disabled",o.invalid||o.pending),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!s.hasDetachedProvider)}}function Yt(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",12),y["\u0275\u0275elementStart"](1,"h1",13),y["\u0275\u0275text"](2,"Looks like you're already in Minga!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](3,"div",14),y["\u0275\u0275elementStart"](4,"mg-button",15),y["\u0275\u0275text"](5,"Take me to my minga!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"mg-button",16),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().logout()})),y["\u0275\u0275text"](7,"Logout"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("routerLink","/"))}var Zt,Kt=((Zt=function(e){a(n,e);var t=o(n);function n(e,i,a,r,o){var s;return m(this,n),(s=t.call(this)).state=e,s.activeCampaign=i,s.authInfo=a,s.authService=r,s.mingaType=o,s.hasDetachedProvider=!1,s.authenticated$=s.authInfo.authPersonHash$.pipe(Object(_e.a)((function(e){return!!e}))),s}return h(n,[{key:"ngOnInit",value:function(){this.activeCampaign.enteredFlowStage(this.mingaType)}},{key:"gotoNextStep",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("going to next step in gatherpersonINfo"),this.nextStep(),t=this.state.personalData$.getValue(),e.next=4,this.activeCampaign.updateCustomerInfoStage(t.email,t.firstName,t.lastName,t.phoneNumber);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onAuthSuccess",value:function(e,t){if(t){this.hasDetachedProvider=!0;var n=e.email,i=e.firstName,a=e.lastName;n&&this.state.updatePersonalData("email",n),i&&this.state.updatePersonalData("firstName",i),a&&this.state.updatePersonalData("lastName",a),n&&i&&a&&this.gotoNextStep()}else console.log("in else in gatherpersoninfo")}},{key:"onAuthError",value:function(e){}},{key:"logout",value:function(){this.authService.logout()}}]),n}(de)).\u0275fac=function(e){return new(e||Zt)(y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](ze),y["\u0275\u0275directiveInject"](De.a),y["\u0275\u0275directiveInject"](je.a),y["\u0275\u0275directiveInject"](ge))},Zt.\u0275cmp=y["\u0275\u0275defineComponent"]({type:Zt,selectors:[["ng-component"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["alreadyLoggedIn",""],["translate","",1,"title"],["translate","",1,"subtitle"],[3,"uniqueEmail","firstName","lastName","email","emailDisabled","firstNameChange","lastNameChange","emailChange"],["form",""],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled","click"],[4,"ngIf"],[1,"or-divider","mg-headline2","mg-centered"],[1,"sso-ui-wrap"],[3,"authSuccess","authError"],[1,"mg-centered"],[1,"title"],[1,"or-divider"],["type","outline",3,"routerLink"],["type","text",3,"click"]],template:function(e,t){if(1&e&&(y["\u0275\u0275template"](0,Jt,16,13,"ng-container",0),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275template"](2,Yt,8,1,"ng-template",null,1,y["\u0275\u0275templateRefExtractor"])),2&e){var n=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngIf",!y["\u0275\u0275pipeBind1"](1,2,t.authenticated$))("ngIfElse",n)}},directives:[D.o,me.a,Ut,Gt,Qt.a,He.a,C.h],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}mg-button[_ngcontent-%COMP%], mg-personal-info-form[_ngcontent-%COMP%]{display:block}mg-button[_ngcontent-%COMP%]{margin-bottom:16px}.or-divider[_ngcontent-%COMP%]{margin:16px;color:#ccc}.sso-ui-wrap[_ngcontent-%COMP%]{text-align:center}.sso-ui-wrap[_ngcontent-%COMP%]   mg-sso-ui[_ngcontent-%COMP%]{display:inline-block}'],changeDetection:0}),Zt),Xt=s("yp3o");s("Cfvw"),s("JX91"),s("ipOR"),s("FJz+"),s("gw+O");var en,tn,nn,an,rn,on,sn=((en=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||en)},en.\u0275mod=y["\u0275\u0275defineNgModule"]({type:en}),en.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[Xt.b,D.c]]}),en),ln=s("6Bu3"),cn=s("n09W"),un=s("Ruz7"),gn=s("HxU+"),dn=s("GNGV"),pn=s("vtEA"),mn=((nn=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||nn)},nn.\u0275mod=y["\u0275\u0275defineNgModule"]({type:nn}),nn.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[gn.a,pn.a,dn.a,cn.a,un.a,ee.a,D.c,pt.m,bt.f,Ot.c,St.b,me.c]]}),nn),fn=((tn=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||tn)},tn.\u0275mod=y["\u0275\u0275defineNgModule"]({type:tn}),tn.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[mn,X,sn,ve.a,ln.a,fe.a,D.c,pt.m,me.c,C.k]]}),tn),hn=s("Fudl"),vn=((rn=function(){function e(t){m(this,e),this.dialogRef=t}return h(e,[{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||rn)(y["\u0275\u0275directiveInject"](Ue.g))},rn.\u0275cmp=y["\u0275\u0275defineComponent"]({type:rn,selectors:[["mg-join-user-limit-dialog"]],decls:13,vars:0,consts:[["fxLayout","column",1,"dialog-content","user-content-page"],[1,"mg-centered","dialog-icon-container"],[1,"mg-centered"],["fxFlex","auto"],["type","outline",3,"click"]],template:function(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"mat-dialog-content",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"mg-icon"),y["\u0275\u0275text"](3,"warning-o"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"h1",2),y["\u0275\u0275text"](5," Your JOIN code is valid, but it looks like that Minga is full "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"p",2),y["\u0275\u0275text"](7,"(at its member limit)"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"p",2),y["\u0275\u0275text"](9," Please connect with your Minga administrator to get this resolved. "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](10,"div",3),y["\u0275\u0275elementStart"](11,"mg-button",4),y["\u0275\u0275listener"]("click",(function(){return t.close()})),y["\u0275\u0275text"](12,"Understood"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]())},directives:[Ue.e,F.e,hn.a,F.b,He.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:auto;position:relative}@media (max-width:599px){.ios-browser[_nghost-%COMP%]{top:32px;margin-bottom:64px}}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto;padding:0;max-height:100vh}@media (min-width:600px){.dialog-content[_ngcontent-%COMP%]{min-width:414px;max-width:414px}}@media (min-width:600px) and (min-height:599px){.dialog-content[_ngcontent-%COMP%]{min-height:599px}}mat-dialog-content.dialog-content.user-content-page[_ngcontent-%COMP%]{padding:32px}mat-dialog-content.dialog-content.user-content-page[_ngcontent-%COMP%]   .dialog-icon-container[_ngcontent-%COMP%]{--mg-icon-size:64px}"],changeDetection:0}),rn),yn=((an=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||an)},an.\u0275mod=y["\u0275\u0275defineNgModule"]({type:an}),an.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[fe.a,ve.a,D.c,Ue.f,Z.a]]}),an),Cn=s("1O3W"),xn=s("OdjC"),Mn=((on=function(){function e(t){m(this,e),this.appConfig=t}return h(e,[{key:"getCustomJoinCodes",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appConfig.getjoinCodeCollection();case 2:return t=e.sent,e.next=5,be.a.firestore().collection(t).get();case 5:return n=e.sent,i=[],e.abrupt("return",(n.forEach((function(e){var t=e.data();i.push({code:t.code,country:t.country})})),i));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getCountryByCustomJoinCode",value:function(e){return Object(b.a)(this,void 0,void 0,u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCustomJoinCodes();case 2:return n=t.sent.find((function(t){return t.code===e})),t.abrupt("return",n?n.country:null);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"setAppCountryFromPinOrCode",value:function(e){return Object(b.a)(this,void 0,void 0,u().mark((function n(){var i,a,r,o,s,l,c,g,d;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getCountryByCustomJoinCode(e);case 2:if(!(i=n.sent)){n.next=7;break}return n.next=6,this.appConfig.setAppCountry(i);case 6:return n.abrupt("return",!0);case 7:return n.next=9,this.appConfig.getCountryAppUrls();case 9:a=n.sent,r=t(a),n.prev=11,r.s();case 13:if((o=r.n()).done){n.next=37;break}s=o.value,l=[].concat(s.mingaJoinCodePrefix,s.pinPrefix),c=t(l),n.prev=17,c.s();case 19:if((g=c.n()).done){n.next=27;break}if(d=g.value,!e.startsWith(d)){n.next=25;break}return n.next=24,this.appConfig.setAppCountry(s.country);case 24:return n.abrupt("return",!0);case 25:n.next=19;break;case 27:n.next=32;break;case 29:n.prev=29,n.t0=n.catch(17),c.e(n.t0);case 32:return n.prev=32,c.f(),n.finish(32);case 35:n.next=13;break;case 37:n.next=42;break;case 39:n.prev=39,n.t1=n.catch(11),r.e(n.t1);case 42:return n.prev=42,r.f(),n.finish(42);case 45:return n.abrupt("return",!1);case 46:case"end":return n.stop()}}),n,this,[[11,39,42,45],[17,29,32,35]])})))}}]),e}()).\u0275fac=function(e){return new(e||on)(y["\u0275\u0275inject"](xn.a))},on.\u0275prov=y["\u0275\u0275defineInjectable"]({token:on,factory:on.\u0275fac,providedIn:"root"}),on),bn=["codeForm"],Pn=["codeOrPinNgModel"];function On(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"mg-spinner",17),y["\u0275\u0275elementContainerEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("diameter",24)("thickness",4))}function kn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"button",18),y["\u0275\u0275text"](1," Lets Do It "),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275nextContext"](),i=y["\u0275\u0275reference"](9);y["\u0275\u0275property"]("disabled",i.invalid||!n.codeOrPin)}}function wn(e,t){1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275text"](1," Invalid code or pin. Try again "),y["\u0275\u0275elementContainerEnd"]())}var _n,Sn,En=function(){return["page","tos"]},In=function(e){return{o:e}},Fn=function(e){return{outlets:e}},Rn=function(e){return["",e]},jn=function(){return["page","privacy-policy"]},Dn=((_n=function(){function e(t,n,i,a,r,o,s){var l=this;m(this,e),this.dialog=t,this.overlay=n,this._cdr=i,this.router=a,this.state=r,this.joinCodeService=o,this.codeOrPin="",this.mingaDetails=null,this.loadingMingaDetails=!1,s.data.subscribe((function(e){e.pin&&l.router.navigate(["/landing2","join","pin"],{queryParams:{step:1,external:!0}})})),s.queryParams.subscribe((function(e){e.email||e.pin?l._onReceivePinEmailParams(e.pin||"",e.email||""):e.code&&setTimeout((function(){return l.setCodeOrPin(e.code)}))}))}return h(e,[{key:"setCodeOrPin",value:function(e){this.codeOrPin=e.substr(0,8),this.clearCodeOrInputInputInvalid(),this._cdr.markForCheck(),this.codeOrPin&&this.checkCodeOrPin()}},{key:"ngOnInit",value:function(){}},{key:"onCodeKeypress",value:function(e){}},{key:"onCodeOrPinChange",value:function(e){this.clearCodeOrInputInputInvalid()}},{key:"setCodeOrPinInputInvalid",value:function(){this.codeOrPinNgModel&&this.codeOrPinNgModel.control.setErrors(Object.assign(Object.assign({},this.codeOrPinNgModel.control.errors||{}),{invalidPinOrCode:!0}))}},{key:"clearCodeOrInputInputInvalid",value:function(){if(this.codeOrPinNgModel){var e=this.codeOrPinNgModel.control.errors||{};delete e.invalidPinOrCode;var t=0==Object.keys(e).length;this.codeOrPinNgModel.control.setErrors(t?null:e)}}},{key:"reset",value:function(){this.codeOrPin="",this.mingaDetails=null,this.codeForm&&this.codeForm.form.markAsPristine()}},{key:"checkCodeOrPin",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t,n,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.codeOrPin.toUpperCase().trim()){e.next=3;break}return e.abrupt("return");case 3:return this.loadingMingaDetails=!0,e.prev=4,e.next=7,this.joinCodeService.setAppCountryFromPinOrCode(t);case 7:return e.next=9,new Promise((function(e,t){return setTimeout(e,1e3)}));case 9:return e.next=11,this.state.verifyPinOrCode(t);case 11:n=e.sent;case 12:return e.prev=12,this.loadingMingaDetails=!1,e.finish(12);case 15:if(!n.isCode||!n.fullMinga){e.next=19;break}this.fullMingaDialog(),this._cdr.markForCheck(),e.next=36;break;case 19:if(!n.invalid){e.next=23;break}setTimeout((function(){i.setCodeOrPinInputInvalid(),i._cdr.markForCheck()})),this._cdr.markForCheck(),e.next=36;break;case 23:if(!n.isCode){e.next=29;break}return this.state.mingaInviteCode$.next(t),e.next=27,this.router.navigateByUrl("/landing2/join/minga");case 27:e.next=36;break;case 29:if(!n.isPin){e.next=35;break}return this.state.personPin$.next(t),e.next=33,this.router.navigateByUrl("/landing2/join/pin");case 33:e.next=36;break;case 35:this.setCodeOrPinInputInvalid(),this._cdr.markForCheck();case 36:case"end":return e.stop()}}),e,this,[[4,,12,15]])})))}},{key:"_onReceivePinEmailParams",value:function(e,t){return Object(b.a)(this,void 0,void 0,u().mark((function n(){var i,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=0,!e){n.next=10;break}return n.next=4,this.state.verifyPinOrCode(e);case 4:if(!(a=n.sent).fullMinga){n.next=7;break}return n.abrupt("return",void this.fullMingaDialog());case 7:if(!a.invalid&&a.isPin){n.next=9;break}return n.abrupt("return",void console.info("Invalid pin in query param"));case 9:this.state.personPin$.next(e);case 10:if(n.t0=t,!n.t0){n.next=18;break}return t=decodeURIComponent(t),n.next=15,this.state.verifyPinEmail(t);case 15:if(n.t1=n.sent,!n.t1){n.next=18;break}this.state.joinEmail$.next(t),i=1;case 18:return n.next=20,this.router.navigate(["/landing2","join","pin"],{queryParams:{step:i}});case 20:case"end":return n.stop()}}),n,this)})))}},{key:"fullMingaDialog",value:function(){this.dialog.open(vn,{panelClass:"mg-dialog-large",scrollStrategy:this.overlay.scrollStrategies.block(),disableClose:!0})}}]),e}()).\u0275fac=function(e){return new(e||_n)(y["\u0275\u0275directiveInject"](Ue.b),y["\u0275\u0275directiveInject"](Cn.c),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](C.g),y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](Mn),y["\u0275\u0275directiveInject"](C.a))},_n.\u0275cmp=y["\u0275\u0275defineComponent"]({type:_n,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&(y["\u0275\u0275viewQuery"](bn,1,pt.v),y["\u0275\u0275viewQuery"](Pn,3,pt.w)),2&e&&(y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.codeForm=n.first),y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.codeOrPinNgModel=n.first))},decls:26,vars:24,consts:[[1,"landing2-container"],[3,"routerLink"],["icon","left-arrow-active"],[1,"header","mg-centered"],[1,"logo"],[1,"join-form-wrap"],[1,"mg-headline","title"],[3,"submit"],["codeForm","ngForm"],["mgFormField","","floatLabel","always",1,"mg-bubble-form-field"],["required","","matInput","","type","text","name","codeOrPin","autocomplete","off","pattern","[A-Za-z0-9]+","minlength","4","maxlength","8",3,"ngModel","disabled","keypress","ngModelChange"],["codeOrPinNgModel","ngModel"],[4,"ngIf","ngIfElse"],["submitBtnTpl",""],[1,"error-msg"],[4,"ngIf"],[1,"links-container"],[1,"bubble-form-field-spinner",3,"diameter","thickness"],["mgBubbleBtn","",1,"bubble-form-field-icon-btn",3,"disabled"]],template:function(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"a",1),y["\u0275\u0275element"](2,"mg-button-icon",2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"div",3),y["\u0275\u0275element"](4,"div",4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div",5),y["\u0275\u0275elementStart"](6,"h1",6),y["\u0275\u0275text"](7,"Join with a code"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"form",7,8),y["\u0275\u0275listener"]("submit",(function(){return t.checkCodeOrPin()})),y["\u0275\u0275elementStart"](10,"mat-form-field",9),y["\u0275\u0275elementStart"](11,"mat-label"),y["\u0275\u0275text"](12,"Enter Join/Invite Code"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"input",10,11),y["\u0275\u0275listener"]("keypress",(function(e){return t.onCodeKeypress(e)}))("ngModelChange",(function(e){return t.codeOrPin=e}))("ngModelChange",(function(e){return t.onCodeOrPinChange(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](15,On,2,2,"ng-container",12),y["\u0275\u0275template"](16,kn,2,1,"ng-template",null,13,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"div",14),y["\u0275\u0275template"](19,wn,2,0,"ng-container",15),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"div",16),y["\u0275\u0275elementStart"](21,"a",1),y["\u0275\u0275text"](22,"Terms & Conditions"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](23,"\xa0|\xa0"),y["\u0275\u0275elementStart"](24,"a",1),y["\u0275\u0275text"](25,"Privacy Policy"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275reference"](14),i=y["\u0275\u0275reference"](17);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("routerLink","/landing/email"),y["\u0275\u0275advance"](12),y["\u0275\u0275property"]("ngModel",t.codeOrPin)("disabled",t.loadingMingaDetails),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.loadingMingaDetails)("ngIfElse",i),y["\u0275\u0275advance"](3),y["\u0275\u0275classProp"]("has-error-msg",n.invalid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.errors?null:n.errors.invalidPinOrCode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](15,Rn,y["\u0275\u0275pureFunction1"](13,Fn,y["\u0275\u0275pureFunction1"](11,In,y["\u0275\u0275pureFunction0"](10,En))))),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](22,Rn,y["\u0275\u0275pureFunction1"](20,Fn,y["\u0275\u0275pureFunction1"](18,In,y["\u0275\u0275pureFunction0"](17,jn)))))}},directives:[C.j,ae.a,pt.E,pt.u,pt.v,bt.d,Pt.a,bt.h,Ot.b,pt.d,pt.B,pt.z,pt.o,pt.n,pt.t,pt.w,D.o,T.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}.landing2-container[_ngcontent-%COMP%]{display:block;max-width:448px;margin:auto}.landing2-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:28px}.header[_ngcontent-%COMP%]{padding-bottom:15px}.header[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]{color:#737373;margin-bottom:12px}.header[_ngcontent-%COMP%]   .subtext[_ngcontent-%COMP%]{color:#737373;margin-top:20px}.join-form-wrap[_ngcontent-%COMP%]{margin:0 16px;text-align:center}.join-form-wrap[_ngcontent-%COMP%]   .mg-bubble-form-field[_ngcontent-%COMP%]{width:95%;font-family:Muli,sans-serif}.join-form-wrap[_ngcontent-%COMP%]   .mg-bubble-form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:disabled{cursor:default;background:rgba(112,178,215,0);opacity:.35}.nav-btn-wrap[_ngcontent-%COMP%]{margin:0 16px 16px}.nav-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%}.error-msg[_ngcontent-%COMP%]{margin:8px;color:#de1717;min-height:32px;text-align:center;transform:translateY(-50%);opacity:0;transition:transform .3s ease,opacity .3s ease}.error-msg.has-error-msg[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.bubble-form-field-spinner[_ngcontent-%COMP%]{transform:translateY(-50%)}.bubble-form-field-icon-btn[_ngcontent-%COMP%]{cursor:pointer;padding-left:60px;padding-right:60px}.bubble-form-field-icon-btn[_ngcontent-%COMP%]:disabled   mg-icon[_ngcontent-%COMP%]{color:#ccc}.or-separator[_ngcontent-%COMP%]{text-align:center}.links-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#4ba0cd}']}),_n),Tn=s("vFTH"),Nn=((Sn=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||Sn)},Sn.\u0275mod=y["\u0275\u0275defineNgModule"]({type:Sn}),Sn.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[M.a,gn.a,fe.a,ee.a,ve.a,yn,Tn.b,D.c,C.k,Z.a,Ot.c,bt.f,pt.m]]}),Sn),zn=s("GFah"),Bn=["userAgreementDialog"],An=["mingaJoiningModal"];function Vn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",2),y["\u0275\u0275element"](1,"mg-success-checkmark2",3),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275elementStart"](3,"span",4),y["\u0275\u0275text"](4,"Success!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](5,"mg-minga-logo"),y["\u0275\u0275elementStart"](6,"p"),y["\u0275\u0275text"](7," We are now taking you to"),y["\u0275\u0275element"](8,"br"),y["\u0275\u0275elementStart"](9,"strong"),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](12,"mg-spinner",5),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("animate",!0),y["\u0275\u0275advance"](9),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,4,n.mingaName$)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("diameter",48)("thickness",4)}}var Ln,Wn,qn=((Wn=function(t){a(i,t);var n=o(i);function i(t,a,r,o,s,l){var c;return m(this,i),(c=n.call(this)).router=a,c.state=r,c.rootService=o,c.mgModal=s,c.mingaSnack=l,t.data.subscribe((function(e){c.disagreeRouterLink=e.disagreeRouterLink})),c.mingaName$=Object(P.b)(c.state.existingMingaInfo$,c.state.mingaData$).pipe(Object(_e.a)((function(t){var n=e(t,2),i=n[0],a=n[1];return i&&i.mingaName?i.mingaName:a.mingaName}))),c}return h(i,[{key:"ngOnInit",value:function(){var e=this;if(!this.userAgreementDialog)throw new Error("userAgreementDialog unset");this._dialogRef=this.userAgreementDialog.open(),this._dialogRef.beforeClosed().subscribe((function(t){delete e._dialogRef,!0===t?e.createAccount():!1===t&&e.disagreeRouterLink?"string"==typeof e.disagreeRouterLink?e.router.navigateByUrl(e.disagreeRouterLink):Array.isArray(e.disagreeRouterLink)&&e.router.navigate(e.disagreeRouterLink):e.previousStep()}))}},{key:"ngOnDestroy",value:function(){this._dialogRef&&this._dialogRef.close(null)}},{key:"openMingaJoiningModal",value:function(){if(this.mingaJoiningModal){var e=this.mgModal.open(this.mingaJoiningModal,{animation:"fade",full:!0});return function(){return e.close()}}return function(){}}},{key:"createAccount",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rootService.addLoadingPromise(this.state.createAccount());case 2:if(!e.sent){e.next=13;break}return e.next=5,this.rootService.addLoadingPromise(new Promise((function(e){return setTimeout(e,300)})));case 5:return t=this.openMingaJoiningModal(),e.next=8,new Promise((function(e){return setTimeout(e,300)}));case 8:return e.next=10,Promise.all([this.router.navigate(["/"]),new Promise((function(e){return setTimeout(e,2e3)}))]).catch((function(e){return function(){console.error(e),location.pathname="/"}}));case 10:t(),e.next=14;break;case 13:this.mingaSnack.open("There was an error while making your account. Please try again");case 14:case"end":return e.stop()}}),e,this)})))}}]),i}(de)).\u0275fac=function(e){return new(e||Wn)(y["\u0275\u0275directiveInject"](C.a),y["\u0275\u0275directiveInject"](C.g),y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](zn.a),y["\u0275\u0275directiveInject"](I.b),y["\u0275\u0275directiveInject"](Ge.b))},Wn.\u0275cmp=y["\u0275\u0275defineComponent"]({type:Wn,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&(y["\u0275\u0275viewQuery"](Bn,3),y["\u0275\u0275viewQuery"](An,3,y.TemplateRef)),2&e&&(y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.userAgreementDialog=n.first),y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.mingaJoiningModal=n.first))},features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:0,consts:[["mingaJoiningModal",""],["userAgreementDialog",""],["fxLayout","column","fxLayoutAlign","center center",1,"mg-fullscreen","mg-centered"],[3,"animate"],[1,"mg-bodycopy-bold"],[3,"diameter","thickness"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Vn,13,6,"ng-template",null,0,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275element"](2,"mg-user-agreement-dialog",null,1))},directives:[st,F.e,F.d,R,j,T.a],pipes:[D.b],styles:[""],changeDetection:0}),Wn),$n=((Ln=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||Ln)},Ln.\u0275mod=y["\u0275\u0275defineNgModule"]({type:Ln}),Ln.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[gt,X,ee.a,K,D.c,Z.a]]}),Ln);function Gn(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"mg-sso-ui",15),y["\u0275\u0275listener"]("authSuccess",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"](3).onAuthSuccess(e.ssoProviderInfo,e.detached)}))("authError",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"](3).onAuthError(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}}function Un(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",12),y["\u0275\u0275text"](2,"Or Sign up with:"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,Gn,2,0,"div",13),y["\u0275\u0275elementContainerEnd"]()),2&e){var n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",!n.hasDetachedProvider)}}function Qn(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"h1",2),y["\u0275\u0275text"](2," landing2.joinAccountSetup.title "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"h2",3),y["\u0275\u0275text"](4," landing2.joinAccountSetup.subtitle "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"mg-personal-info-form",4,5),y["\u0275\u0275listener"]("selectedRoleTypeChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("roleType",e)}))("firstNameChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("firstName",e)}))("lastNameChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("lastName",e)}))("emailChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("email",e)}))("phoneNumberChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("phoneNumber",e)}))("gradeChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updatePersonalData("grade",e)})),y["\u0275\u0275pipe"](7,"async"),y["\u0275\u0275pipe"](8,"async"),y["\u0275\u0275pipe"](9,"async"),y["\u0275\u0275pipe"](10,"async"),y["\u0275\u0275pipe"](11,"async"),y["\u0275\u0275pipe"](12,"async"),y["\u0275\u0275pipe"](13,"async"),y["\u0275\u0275pipe"](14,"async"),y["\u0275\u0275element"](15,"mg-personal-info-form-email-hint"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"div",6),y["\u0275\u0275elementStart"](17,"button",7),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().nextStep()})),y["\u0275\u0275text"](18," Continue "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,Un,4,1,"ng-container",8),y["\u0275\u0275elementStart"](20,"div",9),y["\u0275\u0275elementStart"](21,"p",10),y["\u0275\u0275elementStart"](22,"span"),y["\u0275\u0275text"](23,"Whoops, I'm in the wrong spot"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](24,"br"),y["\u0275\u0275elementStart"](25,"a",11),y["\u0275\u0275elementStart"](26,"strong"),y["\u0275\u0275text"](27,"Take me back"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){var i,a,r,o,s,l,c=y["\u0275\u0275reference"](6),u=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("uniqueEmail",!0)("roleTypes",y["\u0275\u0275pipeBind1"](7,13,u.allowedRoleTypeInfoList$))("gradeOptions",y["\u0275\u0275pipeBind1"](8,15,u.gradeOptionsList$))("selectedRoleType",null==(i=y["\u0275\u0275pipeBind1"](9,17,u.state.personalData$))?null:i.roleType)("firstName",null==(a=y["\u0275\u0275pipeBind1"](10,19,u.state.personalData$))?null:a.firstName)("lastName",null==(r=y["\u0275\u0275pipeBind1"](11,21,u.state.personalData$))?null:r.lastName)("email",null==(o=y["\u0275\u0275pipeBind1"](12,23,u.state.personalData$))?null:o.email)("phoneNumber",null==(s=y["\u0275\u0275pipeBind1"](13,25,u.state.personalData$))?null:s.phoneNumber)("grade",null==(l=y["\u0275\u0275pipeBind1"](14,27,u.state.personalData$))?null:l.grade)("emailDisabled",u.hasDetachedProvider),y["\u0275\u0275advance"](12),y["\u0275\u0275property"]("disabled",c.invalid||c.pending),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!u.hasDetachedProvider),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("routerLink","/landing/email")}}function Hn(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",10),y["\u0275\u0275elementStart"](1,"h1",16),y["\u0275\u0275text"](2,"Looks like you're already in Minga!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](3,"div",17),y["\u0275\u0275elementStart"](4,"mg-button",18),y["\u0275\u0275text"](5,"Take me to my minga!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"mg-button",19),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().logout()})),y["\u0275\u0275text"](7,"Logout"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("routerLink","/"))}var Jn,Yn,Zn,Kn,Xn=((Kn=function(e){a(i,e);var t=o(i);function i(e,n,a,r){var o;return m(this,i),(o=t.call(this))._cdr=e,o.state=n,o.authInfo=a,o.authService=r,o.hasDetachedProvider=!1,o.authenticated$=o.authInfo.authPersonHash$.pipe(Object(_e.a)((function(e){return!!e}))),o.allowedRoleTypeInfoList$=n.existingMingaInfo$.pipe(Object(_e.a)((function(e){return(null==e?void 0:e.allowedRoleTypeInfoList)||[]}))),o.gradeOptionsList$=n.existingMingaInfo$.pipe(Object(_e.a)((function(e){return(null==e?void 0:e.gradeOptions)||[]}))),o}return h(i,[{key:"onAuthSuccess",value:function(e,t){return Object(b.a)(this,void 0,void 0,u().mark((function n(){var i,a,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=6;break}this.hasDetachedProvider=!0,this._cdr.markForCheck(),i=e.email,a=e.firstName,r=e.lastName,i&&this.state.updatePersonalData("email",i),a&&this.state.updatePersonalData("firstName",a),r&&this.state.updatePersonalData("lastName",r),n.next=8;break;case 6:return n.next=8,this.onExistingUserJoinAttempt(e,t);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"onAuthError",value:function(e){}},{key:"onExistingUserJoinAttempt",value:function(e,t){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"nextStep",value:function(){var e=this,t=Object.create(null,{nextStep:{get:function(){return n(c(i.prototype),"nextStep",e)}}});return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.nextStep.call(this);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"logout",value:function(){this.authService.logout()}}]),i}(de)).\u0275fac=function(e){return new(e||Kn)(y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](De.a),y["\u0275\u0275directiveInject"](je.a))},Kn.\u0275cmp=y["\u0275\u0275defineComponent"]({type:Kn,selectors:[["ng-component"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["alreadyLoggedIn",""],["translate","",1,"title"],["translate","",1,"subtitle"],[3,"uniqueEmail","roleTypes","gradeOptions","selectedRoleType","firstName","lastName","email","phoneNumber","grade","emailDisabled","selectedRoleTypeChange","firstNameChange","lastNameChange","emailChange","phoneNumberChange","gradeChange"],["form",""],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled","click"],[4,"ngIf"],[1,"user-content-page"],[1,"mg-centered"],[3,"routerLink"],[1,"or-divider","mg-headline2","mg-centered"],["class","sso-ui-wrap",4,"ngIf"],[1,"sso-ui-wrap"],[3,"authSuccess","authError"],[1,"title"],[1,"or-divider"],["type","outline",3,"routerLink"],["type","text",3,"click"]],template:function(e,t){if(1&e&&(y["\u0275\u0275template"](0,Qn,28,29,"ng-container",0),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275template"](2,Hn,8,1,"ng-template",null,1,y["\u0275\u0275templateRefExtractor"])),2&e){var n=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngIf",!y["\u0275\u0275pipeBind1"](1,2,t.authenticated$))("ngIfElse",n)}},directives:[D.o,me.a,Ut,Gt,C.j,Qt.a,He.a,C.h],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}[_nghost-%COMP%]{margin-bottom:16px}[_nghost-%COMP%], mg-button[_ngcontent-%COMP%]{display:block}mg-minga-logo[_ngcontent-%COMP%]{height:40px}h2.subtitle[_ngcontent-%COMP%]{color:#036;font-size:20px;margin:16px 45px 16px 50px}.sso-ui-wrap[_ngcontent-%COMP%], h2.subtitle[_ngcontent-%COMP%]{text-align:center}.sso-ui-wrap[_ngcontent-%COMP%]   mg-sso-ui[_ngcontent-%COMP%]{display:inline-block}'],changeDetection:0}),Kn),ei=((Zn=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||Zn)},Zn.\u0275mod=y["\u0275\u0275defineNgModule"]({type:Zn}),Zn.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[mn,X,K,sn,ve.a,ln.a,fe.a,D.c,pt.m,me.c,C.k]]}),Zn),ti=((Yn=function(e){a(n,e);var t=o(n);function n(e){var i;return m(this,n),(i=t.call(this)).state=e,i}return h(n,[{key:"onShouldSkipStep",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.state.usingSso);case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(de)).\u0275fac=function(e){return new(e||Yn)(y["\u0275\u0275directiveInject"](qe))},Yn.\u0275cmp=y["\u0275\u0275defineComponent"]({type:Yn,selectors:[["ng-component"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:4,consts:[["translate","",1,"title"],["translate","",1,"subtitle"],["form","ngForm"],["name","password","required","",3,"ngModel","ngModelChange"],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled","click"]],template:function(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"h1",0),y["\u0275\u0275text"](1," landing2.createPassword.title\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"h3",1),y["\u0275\u0275text"](3," landing2.createPassword.subtitle\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"form",null,2),y["\u0275\u0275elementStart"](6,"mg-password",3),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.state.password$.next(e)})),y["\u0275\u0275pipe"](7,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",4),y["\u0275\u0275elementStart"](9,"button",5),y["\u0275\u0275listener"]("click",(function(){return t.nextStep()})),y["\u0275\u0275text"](10," Continue "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275reference"](5);y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind1"](7,2,t.state.password$)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("disabled",n.invalid)}},directives:[me.a,pt.E,pt.u,pt.v,mt.b,pt.B,pt.t,pt.w],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}[_nghost-%COMP%]{margin-bottom:16px}[_nghost-%COMP%], mg-button[_ngcontent-%COMP%]{display:block}form[_ngcontent-%COMP%]{margin-top:32px}'],changeDetection:0}),Yn),ni=((Jn=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||Jn)},Jn.\u0275mod=y["\u0275\u0275defineNgModule"]({type:Jn}),Jn.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[xt.b,fe.a,D.c,pt.m,me.c,C.k]]}),Jn),ii=["emailInput"];function ai(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"mat-error"),y["\u0275\u0275text"](1," Emails do not match. Try again. "),y["\u0275\u0275elementEnd"]())}function ri(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275elementStart"](1,"mg-sso-ui",15),y["\u0275\u0275listener"]("authSuccess",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"](3).onAuthSuccess(e.ssoProviderInfo,e.detached)}))("authError",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"](3).onAuthError(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}}function oi(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",12),y["\u0275\u0275text"](2,"Or Sign up with:"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,ri,2,0,"div",13),y["\u0275\u0275elementContainerEnd"]()),2&e){var n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",!n.hasDetachedProvider)}}function si(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"h1",2),y["\u0275\u0275text"](2,"Verify Email"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"h3",3),y["\u0275\u0275text"](4,"Let's make sure we have the correct email."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"form",4,5),y["\u0275\u0275listener"]("submit",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().verifyPinEmail()})),y["\u0275\u0275elementStart"](7,"mat-form-field",6),y["\u0275\u0275elementStart"](8,"mat-label"),y["\u0275\u0275text"](9,"Email address"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"input",7,8),y["\u0275\u0275listener"]("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().onEmailChange(e)}))("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().email=e})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"mat-hint"),y["\u0275\u0275text"](13,"This is the email in which you received your PIN"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,ai,2,0,"mat-error",9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"div",10),y["\u0275\u0275elementStart"](16,"button",11),y["\u0275\u0275text"](17," Continue "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,oi,4,1,"ng-container",9),y["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=y["\u0275\u0275reference"](6),a=y["\u0275\u0275reference"](11),r=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](10),y["\u0275\u0275property"]("ngModel",r.email)("disabled",r.hasDetachedProvider),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",a.control.invalid),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",i.invalid),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!r.hasDetachedProvider)}}function li(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",16),y["\u0275\u0275elementStart"](1,"h1",2),y["\u0275\u0275text"](2,"Looks like you're already in Minga!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](3,"div",17),y["\u0275\u0275elementStart"](4,"mg-button",18),y["\u0275\u0275text"](5,"Take me to my minga!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"mg-button",19),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().logout()})),y["\u0275\u0275text"](7,"Logout"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("routerLink","/"))}var ci,ui,gi,di,pi,mi,fi,hi=((ci=function(e){a(n,e);var t=o(n);function n(e,i,a,r){var o;return m(this,n),(o=t.call(this))._cdr=e,o.state=i,o.authInfo=a,o.authService=r,o.email="",o.hasDetachedProvider=!1,o.authenticated$=o.authInfo.authPersonHash$.pipe(Object(_e.a)((function(e){return!!e}))),o}return h(n,[{key:"content",set:function(e){e&&(this.emailInput=e)}},{key:"onAuthSuccess",value:function(e,t){return Object(b.a)(this,void 0,void 0,u().mark((function n(){var i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=17;break}if(this.hasDetachedProvider=!0,this._cdr.markForCheck(),i=e.email){n.next=7;break}return n.next=6,this.onInvalidSsoEmail(e,t);case 6:return n.abrupt("return",void n.sent);case 7:return this.email=i,n.next=10,this.state.useLastVerifyPinOrCodeResultIfNoExistingMingaInfo();case 10:return n.next=12,this.verifyPinEmail();case 12:if(n.t0=n.sent,n.t0){n.next=15;break}this.setPinEmailInputInvalid();case 15:n.next=19;break;case 17:return n.next=19,this.onExistingUserJoinAttempt(e,t);case 19:case"end":return n.stop()}}),n,this)})))}},{key:"onAuthError",value:function(e){}},{key:"onInvalidSsoEmail",value:function(e,t){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"onExistingUserJoinAttempt",value:function(e,t){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"setPinEmailInputInvalid",value:function(){this.emailInput&&(this.emailInput.control.setErrors({emailDoesNotMatch:!0}),this._cdr.detectChanges())}},{key:"clearPinEmailInvalid",value:function(){this.emailInput&&this.emailInput.control.setErrors(null)}},{key:"onEmailChange",value:function(e){this.clearPinEmailInvalid()}},{key:"verifyPinEmail",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state.verifyPinEmail(this.email);case 2:if(!e.sent){e.next=6;break}e.t0=(this.state.joinEmail$.next(this.email),this.nextStep(),!0),e.next=7;break;case 6:e.t0=(this.setPinEmailInputInvalid(),!1);case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"logout",value:function(){this.authService.logout()}}]),n}(de)).\u0275fac=function(e){return new(e||ci)(y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](De.a),y["\u0275\u0275directiveInject"](je.a))},ci.\u0275cmp=y["\u0275\u0275defineComponent"]({type:ci,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&y["\u0275\u0275viewQuery"](ii,1),2&e&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.content=n.first)},inputs:{email:"email"},features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["alreadyLoggedIn",""],[1,"title"],[1,"subtitle"],[3,"submit"],["form","ngForm"],["mgFormField","","floatLabel","always"],["matInput","","type","email","name","email","required","",3,"ngModel","disabled","ngModelChange"],["emailInput","ngModel"],[4,"ngIf"],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled"],[1,"or-divider","mg-headline2","mg-centered"],["class","sso-ui-wrap",4,"ngIf"],[1,"sso-ui-wrap"],[3,"authSuccess","authError"],[1,"mg-centered"],[1,"or-divider"],["type","outline",3,"routerLink"],["type","text",3,"click"]],template:function(e,t){if(1&e&&(y["\u0275\u0275template"](0,si,19,5,"ng-container",0),y["\u0275\u0275pipe"](1,"async"),y["\u0275\u0275template"](2,li,8,1,"ng-template",null,1,y["\u0275\u0275templateRefExtractor"])),2&e){var n=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngIf",!y["\u0275\u0275pipeBind1"](1,2,t.authenticated$))("ngIfElse",n)}},directives:[D.o,pt.E,pt.u,pt.v,bt.d,Pt.a,bt.h,Ot.b,pt.d,pt.B,pt.t,pt.w,bt.g,bt.c,Qt.a,He.a,C.h],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}[_nghost-%COMP%]{margin-bottom:16px}[_nghost-%COMP%], mg-button[_ngcontent-%COMP%]{display:block}form[_ngcontent-%COMP%]{margin-top:32px}.sso-ui-wrap[_ngcontent-%COMP%]{text-align:center}.sso-ui-wrap[_ngcontent-%COMP%]   mg-sso-ui[_ngcontent-%COMP%]{display:inline-block}'],changeDetection:0}),ci),vi=["confirmForm"],yi=((pi=function(e){a(n,e);var t=o(n);function n(e,i,a,r){var o;return m(this,n),(o=t.call(this))._cdr=e,o.route=i,o.router=a,o.state=r,o.mingaDetails=null,o.loadingMingaDetails=!1,o.mingaName$=o.state.existingMingaInfo$.pipe(Object(_e.a)((function(e){return e?e.mingaName:""}))),o.schoolLogo$=o.state.existingMingaInfo$.pipe(Object(_e.a)((function(e){return e&&e.mingaLogo?Object(Me.b)(e.mingaLogo):"assets/Minga_icon.svg"}))),o}return h(n,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state.useLastVerifyPinOrCodeResultIfNoExistingMingaInfo();case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}setTimeout((function(){return t.nextStep()}),0);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"reset",value:function(){this.state.clearLastVerifyPinOrCodeResult(),this.router.navigate(["/landing2","join","choice"])}}]),n}(de)).\u0275fac=function(e){return new(e||pi)(y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](C.a),y["\u0275\u0275directiveInject"](C.g),y["\u0275\u0275directiveInject"](qe))},pi.\u0275cmp=y["\u0275\u0275defineComponent"]({type:pi,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&y["\u0275\u0275viewQuery"](vi,1,pt.v),2&e&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.confirmForm=n.first)},features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:20,vars:8,consts:[[1,"title"],[1,"subtitle"],[1,"join-msg","mg-centered"],[1,"school-logo"],["confirmForm","ngForm"],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled","click"],[1,"mg-centered"],["href","javascript:;",3,"click"]],template:function(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"h1",0),y["\u0275\u0275text"](1,"Connect to Your Minga"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"h2",1),y["\u0275\u0275text"](3,"Let's make sure you're where you want to be"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"p",2),y["\u0275\u0275text"](5," You are about to join "),y["\u0275\u0275elementStart"](6,"strong"),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](9,".\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](10,"div",3),y["\u0275\u0275pipe"](11,"async"),y["\u0275\u0275elementStart"](12,"form",null,4),y["\u0275\u0275elementStart"](14,"div",5),y["\u0275\u0275elementStart"](15,"button",6),y["\u0275\u0275listener"]("click",(function(){return t.nextStep()})),y["\u0275\u0275text"](16," This is correct "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"div",7),y["\u0275\u0275elementStart"](18,"a",8),y["\u0275\u0275listener"]("click",(function(){return t.reset()})),y["\u0275\u0275text"](19,"This isn't the Minga I want to join"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275reference"](13);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](8,4,t.mingaName$)),y["\u0275\u0275advance"](3),y["\u0275\u0275styleProp"]("background-image","url("+y["\u0275\u0275pipeBind1"](11,6,t.schoolLogo$)+")"),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("disabled",n.invalid||n.pending)}},directives:[pt.E,pt.u,pt.v],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}[_nghost-%COMP%]{margin-bottom:16px}[_nghost-%COMP%], mg-button[_ngcontent-%COMP%]{display:block}form[_ngcontent-%COMP%]{margin-bottom:16px}h2.subtitle[_ngcontent-%COMP%]{text-align:center;color:#036;font-size:20px;margin:16px 45px 16px 50px}.join-msg[_ngcontent-%COMP%]{margin-top:24px;font-size:13px;color:#737373}.school-logo[_ngcontent-%COMP%]{width:70px;height:70px;margin:32px auto;background-position:50%;background-size:cover}'],changeDetection:0}),pi),Ci=((di=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||di)},di.\u0275mod=y["\u0275\u0275defineNgModule"]({type:di}),di.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[un.a,gn.a,D.c,pt.m,bt.f,Ot.c]]}),di),xi=((gi=function(e){a(n,e);var t=o(n);function n(e){var i;return m(this,n),(i=t.call(this)).state=e,i}return h(n,[{key:"onShouldSkipStep",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.state.usingSso);case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(de)).\u0275fac=function(e){return new(e||gi)(y["\u0275\u0275directiveInject"](qe))},gi.\u0275cmp=y["\u0275\u0275defineComponent"]({type:gi,selectors:[["ng-component"]],features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:4,consts:[["translate","",1,"title"],["translate","",1,"subtitle"],["form","ngForm"],["name","password","required","",3,"ngModel","ngModelChange"],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled","click"]],template:function(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"h1",0),y["\u0275\u0275text"](1," landing2.createPassword.title\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"h3",1),y["\u0275\u0275text"](3," landing2.createPassword.subtitle\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"form",null,2),y["\u0275\u0275elementStart"](6,"mg-password",3),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.state.password$.next(e)})),y["\u0275\u0275pipe"](7,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",4),y["\u0275\u0275elementStart"](9,"button",5),y["\u0275\u0275listener"]("click",(function(){return t.nextStep()})),y["\u0275\u0275text"](10," Continue "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){var n=y["\u0275\u0275reference"](5);y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind1"](7,2,t.state.password$)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("disabled",n.invalid)}},directives:[me.a,pt.E,pt.u,pt.v,mt.b,pt.B,pt.t,pt.w],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}[_nghost-%COMP%]{margin-bottom:16px}[_nghost-%COMP%], mg-button[_ngcontent-%COMP%]{display:block}form[_ngcontent-%COMP%]{margin-top:32px}'],changeDetection:0}),gi),Mi=((ui=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||ui)},ui.\u0275mod=y["\u0275\u0275defineNgModule"]({type:ui}),ui.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[xt.b,ln.a,fe.a,D.c,pt.m,C.k,me.c]]}),ui),bi=function(){return["page","tos"]},Pi=function(e){return{o:e}},Oi=function(e){return{outlets:e}},ki=function(e){return["",e]},wi=function(){return["page","privacy-policy"]},_i=((fi=h((function e(t){m(this,e),this.MingaTypeValue=w.MingaTypeValue,t.resetActiveCampaignDealInfo()}))).\u0275fac=function(e){return new(e||fi)(y["\u0275\u0275directiveInject"](ze))},fi.\u0275cmp=y["\u0275\u0275defineComponent"]({type:fi,selectors:[["ng-component"]],decls:24,vars:18,consts:[[3,"routerLink"],["icon","left-arrow-active"],[1,"logo",3,"routerLink"],[1,"mg-centered","title"],[1,"mg-centered","subtitle"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","16px",1,"btn-choices-wrap"],["fxFlex","50%","routerLink","/landing2/create/teacher"],[1,"button-image","teacher-login"],[1,"choice-text"],["fxFlex","50%","routerLink","/landing2/create/school-admin"],[1,"button-image","school-admin-login"],[1,"links-container"]],template:function(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"a",0),y["\u0275\u0275element"](1,"mg-button-icon",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](2,"div",2),y["\u0275\u0275elementStart"](3,"h1",3),y["\u0275\u0275text"](4,"Create a Minga"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"h3",4),y["\u0275\u0275text"](6,"Who are you?"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",5),y["\u0275\u0275elementStart"](8,"button",6),y["\u0275\u0275element"](9,"div",7),y["\u0275\u0275elementStart"](10,"div",8),y["\u0275\u0275text"](11,"Teacher"),y["\u0275\u0275element"](12,"br"),y["\u0275\u0275text"](13,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"button",9),y["\u0275\u0275element"](15,"div",10),y["\u0275\u0275elementStart"](16,"div",8),y["\u0275\u0275text"](17,"School Admin"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"div",11),y["\u0275\u0275elementStart"](19,"a",0),y["\u0275\u0275text"](20,"Terms & Conditions"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](21,"\xa0|\xa0"),y["\u0275\u0275elementStart"](22,"a",0),y["\u0275\u0275text"](23,"Privacy Policy"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("routerLink","/landing/email"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("routerLink","/landing/email"),y["\u0275\u0275advance"](17),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](9,ki,y["\u0275\u0275pureFunction1"](7,Oi,y["\u0275\u0275pureFunction1"](5,Pi,y["\u0275\u0275pureFunction0"](4,bi))))),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("routerLink",y["\u0275\u0275pureFunction1"](16,ki,y["\u0275\u0275pureFunction1"](14,Oi,y["\u0275\u0275pureFunction1"](12,Pi,y["\u0275\u0275pureFunction0"](11,wi))))))},directives:[C.j,ae.a,C.h,F.e,F.d,F.f,F.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}.agreement-dialog-content[_ngcontent-%COMP%]{max-width:400px;color:#2f2f2f}.agreement-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2f2f2f}.landing2-container[_ngcontent-%COMP%]{display:block;max-width:448px;margin:auto}.landing2-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:48px}mg-minga-logo[_ngcontent-%COMP%]{width:100%;height:100%}.btn-choices-wrap[_ngcontent-%COMP%]{--mg-icon-size:40px;margin:32px}.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1;border-radius:10px;padding:50px 10px;margin:0 10px;background-color:#fff;display:flex;flex-direction:column;align-items:center;cursor:pointer;border:1px solid #e2e2e2;filter:drop-shadow(2px 2px 4px rgba(0,0,0,.1))}@media (orientation:landscape){.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:5.0724637681vh}}@media (orientation:portrait){.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:5.0724637681vw}}@media (orientation:landscape) and (max-height:414px){.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:21px}}@media (orientation:portrait) and (max-width:414px){.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:21px}}@media (min-width:433.7142857143px){.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:22px}}.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{line-height:0;font-size:18px;color:#737373}.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .button-image[_ngcontent-%COMP%]{background-repeat:no-repeat;padding-bottom:40px}.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .teacher-login[_ngcontent-%COMP%]{height:100px;width:80px;background-image:url(/assets/landing/teacher-login.png)}.btn-choices-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .school-admin-login[_ngcontent-%COMP%]{height:100px;width:115px;background-image:url(/assets/landing/school-admin-login.png)}.links-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#4ba0cd}'],changeDetection:0}),fi),Si=((mi=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||mi)},mi.\u0275mod=y["\u0275\u0275defineNgModule"]({type:mi}),mi.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[K,fe.a,ve.a,M.a,he.a,Tn.b,D.c,C.k,Z.a]]}),mi),Ei=s("5lxJ"),Ii=s("dKAo"),Fi=s("zQhy"),Ri=s("h1gb"),ji=s("LvDl"),Di=null;function Ti(){var e=ji.get(window,"google.maps.places.PlacesService",null);if(!e)throw new Error("google.maps.places.PlacesService unavailable. Is google places api imported?");if(!Di){var t=document.createElement("div");Di=new e(t)}return Di}var Ni=s("Tj54"),zi=["*"];function Bi(e,t){1&e&&y["\u0275\u0275element"](0,"mg-spinner",7)}function Ai(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"mat-icon",8),y["\u0275\u0275text"](1,"search"),y["\u0275\u0275elementEnd"]())}function Vi(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"mat-icon",9),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().clearInput()})),y["\u0275\u0275text"](1,"close"),y["\u0275\u0275elementEnd"]()}}function Li(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",10),y["\u0275\u0275listener"]("click",(function(){y["\u0275\u0275restoreView"](n);var e=t.$implicit;return y["\u0275\u0275nextContext"]().autocompleteOptionClick(e)})),y["\u0275\u0275elementStart"](1,"div",11),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"div",12),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i.displayName),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i.formattedAddress)}}var Wi,qi,$i,Gi=[[["mg-school-input-label"]],[["mg-school-input-hint"]]],Ui=function(){return{standalone:!0}},Qi=["mg-school-input-label","mg-school-input-hint"],Hi=(($i=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||$i)},$i.\u0275cmp=y["\u0275\u0275defineComponent"]({type:$i,selectors:[["mg-school-input-label"]],ngContentSelectors:zi,decls:1,vars:0,template:function(e,t){1&e&&(y["\u0275\u0275projectionDef"](),y["\u0275\u0275projection"](0))},encapsulation:2,changeDetection:0}),$i),Ji=((qi=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||qi)},qi.\u0275cmp=y["\u0275\u0275defineComponent"]({type:qi,selectors:[["mg-school-input-hint"]],ngContentSelectors:zi,decls:1,vars:0,template:function(e,t){1&e&&(y["\u0275\u0275projectionDef"](),y["\u0275\u0275projection"](0))},encapsulation:2,changeDetection:0}),qi),Yi=((Wi=function(){function e(t){m(this,e),this._cdr=t,this.required=!1,this.placeholder="",this._searchInputValue="",this._autocompleteOptions=[],this._placeId="",this._loading=!1,this._selectedExtraDetails=null,this.extraDetails=new y.EventEmitter}return h(e,[{key:"showingAutocompleteOptions",get:function(){return this._autocompleteOptions.length>0}},{key:"registerOnValidatorChange",value:function(e){}},{key:"validate",value:function(e){return this.required&&!this._placeId?{required:!0}:null}},{key:"_onSearchInputChangeDebounced",value:function(e){var n=this;Ti().textSearch({query:e,type:"school"},(function(i,a){var r=a===google.maps.places.PlacesServiceStatus.OK,o=n._searchInputValue==e;if(o&&(n._loading=!1),r&&o){n._autocompleteOptions=[];var s,l=t(i);try{for(l.s();!(s=l.n()).done;){var c=s.value;n._autocompleteOptions.push({placeId:c.place_id||"",displayName:c.name||"",formattedAddress:c.formatted_address||""})}}catch(u){l.e(u)}finally{l.f()}}n._cdr.markForCheck()}))}},{key:"_onSearchInputChange",value:function(e){var t=this;this._placeId="",this._setExtraDetails(null),this._loading=!0,this._onChange&&this._onChange(this._placeId),this._onTouched&&this._onTouched(),clearTimeout(this._searchTimeout),this._searchTimeout=setTimeout((function(){return t._onSearchInputChangeDebounced(e)}),400)}},{key:"_setExtraDetails",value:function(e){if(null!==e){var n,i="",a=e.name||"",r=t(e.address_components);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.types.includes("country")&&(i=o.short_name)}}catch(s){r.e(s)}finally{r.f()}this._selectedExtraDetails={country:i,schoolName:a}}this.extraDetails.emit(this._selectedExtraDetails)}},{key:"_fetchExtraDetails",value:function(e){var t=this;Ti().getDetails({placeId:e,fields:["name","address_component"]},(function(n,i){i===google.maps.places.PlacesServiceStatus.OK&&t._placeId==e&&(t._setExtraDetails(n),t._cdr.markForCheck())}))}},{key:"_updateSearchInputValueFromPlaceId",value:function(e){var t=this;Ti().getDetails({placeId:e,fields:["name","address_component"]},(function(n,i){i===google.maps.places.PlacesServiceStatus.OK&&t._placeId==e&&(t._searchInputValue=n.name,t._setExtraDetails(n),t._cdr.markForCheck())}))}},{key:"writeValue",value:function(e){"string"==typeof e&&(this._placeId=e,this._setExtraDetails(null),this._placeId&&this._updateSearchInputValueFromPlaceId(this._placeId))}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"autocompleteOptionClick",value:function(e){this._placeId=e.placeId,this._setExtraDetails(null),this._searchInputValue=e.displayName,this._autocompleteOptions=[],this._fetchExtraDetails(this._placeId),this._onChange&&this._onChange(this._placeId),this._onTouched&&this._onTouched()}},{key:"clearInput",value:function(){this._placeId="",this._setExtraDetails(null),this._searchInputValue="",this._autocompleteOptions=[],this._onChange&&this._onChange(this._placeId),this._onTouched&&this._onTouched()}}]),e}()).\u0275fac=function(e){return new(e||Wi)(y["\u0275\u0275directiveInject"](y.ChangeDetectorRef))},Wi.\u0275cmp=y["\u0275\u0275defineComponent"]({type:Wi,selectors:[["mg-school-input"]],contentQueries:function(e,t,n){var i;1&e&&y["\u0275\u0275contentQuery"](n,Ji,1),2&e&&y["\u0275\u0275queryRefresh"](i=y["\u0275\u0275loadQuery"]())&&(t.hintSlot=i.first)},inputs:{required:"required",placeholder:"placeholder"},outputs:{extraDetails:"extraDetails"},features:[y["\u0275\u0275ProvidersFeature"]([{provide:pt.r,useExisting:Object(y.forwardRef)((function(){return Wi})),multi:!0},{provide:pt.q,multi:!0,useExisting:Object(y.forwardRef)((function(){return Wi}))}])],ngContentSelectors:Qi,decls:11,vars:10,consts:[["mgFormField","","floatLabel","always",3,"mgNoHintMargin"],["matSuffix","","thickness","4","diameter","24",4,"ngIf"],["matSuffix","",4,"ngIf"],["matSuffix","",3,"click",4,"ngIf"],["matInput","","autocomplete","off",3,"required","ngModelOptions","ngModel","placeholder","ngModelChange"],[1,"autocomplete-options"],["class","autocomplete-option",3,"click",4,"ngFor","ngForOf"],["matSuffix","","thickness","4","diameter","24"],["matSuffix",""],["matSuffix","",3,"click"],[1,"autocomplete-option",3,"click"],[1,"mg-smallcopy"],[1,"mg-microtext"]],template:function(e,t){1&e&&(y["\u0275\u0275projectionDef"](Gi),y["\u0275\u0275elementStart"](0,"mat-form-field",0),y["\u0275\u0275elementStart"](1,"mat-label"),y["\u0275\u0275projection"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,Bi,1,0,"mg-spinner",1),y["\u0275\u0275template"](4,Ai,2,0,"mat-icon",2),y["\u0275\u0275template"](5,Vi,2,0,"mat-icon",3),y["\u0275\u0275elementStart"](6,"input",4),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t._searchInputValue=e}))("ngModelChange",(function(e){return t._onSearchInputChange(e)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"mat-hint"),y["\u0275\u0275projection"](8,1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"div",5),y["\u0275\u0275template"](10,Li,5,2,"div",6),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("mgNoHintMargin",!t.hintSlot),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",t._loading),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t._loading&&!t._searchInputValue),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!t._loading&&t._searchInputValue),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",t.required)("ngModelOptions",y["\u0275\u0275pureFunction0"](9,Ui))("ngModel",t._searchInputValue)("placeholder",t.placeholder),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngForOf",t._autocompleteOptions))},directives:[bt.d,Pt.a,bt.h,D.o,Ot.b,pt.d,pt.B,pt.t,pt.w,bt.g,D.n,T.a,bt.j,Ni.a],styles:["mat-form-field[_ngcontent-%COMP%]{display:block;padding-bottom:16px}.autocomplete-options[_ngcontent-%COMP%]{max-height:140px;overflow:auto}.autocomplete-option[_ngcontent-%COMP%]{cursor:pointer;padding:8px;color:#737373;border-bottom:1px solid #ccc}.autocomplete-option[_ngcontent-%COMP%]:first-child{border-top:1px solid #ccc}.autocomplete-option[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}"],changeDetection:0}),Wi),Zi=["schoolAddressInput"],Ki=["mingaNameNgModel"];function Xi(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"mg-address",14),y["\u0275\u0275listener"]("placeChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().onPlaceChange(e)}))("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updateMingaData("schoolPlaceId",e)})),y["\u0275\u0275pipe"](2,"async"),y["\u0275\u0275elementStart"](3,"mg-address-label"),y["\u0275\u0275text"](4,"Enter City"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](5,"mg-address-hint"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){var i,a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",!0)("ngModel",null==(i=y["\u0275\u0275pipeBind1"](2,2,a.state.mingaData$))?null:i.schoolPlaceId)}}function ea(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"mg-school-input",15,16),y["\u0275\u0275listener"]("ngModelChange",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().state.updateMingaData("schoolPlaceId",e)}))("extraDetails",(function(e){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().onSchoolInputExtraDetails(e)})),y["\u0275\u0275pipe"](2,"async"),y["\u0275\u0275elementStart"](3,"mg-school-input-label"),y["\u0275\u0275text"](4,"Enter School Name"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){var i,a=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("required",!0)("ngModel",null==(i=y["\u0275\u0275pipeBind1"](2,2,a.state.mingaData$))?null:i.schoolPlaceId)}}var ta,na,ia,aa=function(){return{standalone:!0}},ra=((ta=function(e){a(n,e);var t=o(n);function n(e,i){var a;return m(this,n),(a=t.call(this)).state=e,a.appConfig=i,a.mingaLogo="",a.connectByAddress=!1,a}return h(n,[{key:"_setCountry",value:function(e){switch(e){case"CA":this.appConfig.setAppCountry(Ei.b.CAN);break;case"US":this.appConfig.setAppCountry(Ei.b.USA);break;default:this.appConfig.setAppCountry(Ei.b.INTL)}}},{key:"onPlaceChange",value:function(e){e&&this._setCountry(e.components.country)}},{key:"onSchoolInputExtraDetails",value:function(e){e&&(this._setCountry(e.country),this.mingaNameNgModel&&!this.mingaNameNgModel.value&&this.state.updateMingaData("mingaName",e.schoolName))}}]),n}(de)).\u0275fac=function(e){return new(e||ta)(y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](Ei.a))},ta.\u0275cmp=y["\u0275\u0275defineComponent"]({type:ta,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&(y["\u0275\u0275viewQuery"](Zi,1),y["\u0275\u0275viewQuery"](Ki,3)),2&e&&(y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.schoolAddressInput=n.first),y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.mingaNameNgModel=n.first))},features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:35,vars:12,consts:[["translate","",1,"title"],["translate","",1,"subtitle"],["form","ngForm"],[1,"input-container","minga-name-input-wrapper"],["name","mingaName",3,"required","ngModel","ngModelChange"],["mingaNameNgModel","ngModel"],[1,"divider"],[1,"connect-title"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"value"],[4,"ngIf","ngIfElse"],["connectBySchoolNameTpl",""],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled","click"],["name","schoolAddress",3,"required","ngModel","placeChange","ngModelChange"],["name","schoolAddress",3,"required","ngModel","ngModelChange","extraDetails"],["schoolAddressInput",""]],template:function(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"h1",0),y["\u0275\u0275text"](1," landing2.setupMinga.title\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"h3",1),y["\u0275\u0275text"](3," landing2.setupMinga.subtitle\n"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"form",null,2),y["\u0275\u0275elementStart"](6,"div",3),y["\u0275\u0275elementStart"](7,"mg-minga-name",4,5),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.state.updateMingaData("mingaName",e)})),y["\u0275\u0275pipe"](9,"async"),y["\u0275\u0275elementStart"](10,"mg-minga-name-hint"),y["\u0275\u0275text"](11," Use descriptive language like "),y["\u0275\u0275elementStart"](12,"i"),y["\u0275\u0275text"](13,"Mrs. Smith's Homeroom"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](14," or "),y["\u0275\u0275elementStart"](15,"i"),y["\u0275\u0275text"](16,"Glendale Senior Marching Band"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](17," or "),y["\u0275\u0275elementStart"](18,"i"),y["\u0275\u0275text"](19,"Jackson Senior High School"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](20,"hr",6),y["\u0275\u0275elementStart"](21,"h2",7),y["\u0275\u0275text"](22,"We need a location for your Minga."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"mat-radio-group",8),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.connectByAddress=e})),y["\u0275\u0275elementStart"](24,"mat-radio-button",9),y["\u0275\u0275text"](25,"Search for my school"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"mat-radio-button",9),y["\u0275\u0275text"](27,"Search for my city"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](28,Xi,6,4,"ng-container",10),y["\u0275\u0275template"](29,ea,5,4,"ng-template",null,11,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](31,"div"),y["\u0275\u0275elementStart"](32,"div",12),y["\u0275\u0275elementStart"](33,"button",13),y["\u0275\u0275listener"]("click",(function(){return t.nextStep()})),y["\u0275\u0275text"](34," Finish "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){var n,i=y["\u0275\u0275reference"](5),a=y["\u0275\u0275reference"](30);y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("required",!0)("ngModel",null==(n=y["\u0275\u0275pipeBind1"](9,9,t.state.mingaData$))?null:n.mingaName),y["\u0275\u0275advance"](16),y["\u0275\u0275property"]("ngModel",t.connectByAddress)("ngModelOptions",y["\u0275\u0275pureFunction0"](11,aa)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("value",!1),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("value",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.connectByAddress)("ngIfElse",a),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("disabled",i.invalid)}},directives:[me.a,pt.E,pt.u,pt.v,Ii.a,pt.B,pt.t,pt.w,Ii.b,Fi.b,Fi.a,D.o,Ri.a,Ri.c,Ri.b,Yi,Hi],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}.minga-name-input-wrapper[_ngcontent-%COMP%]{margin-top:16px}mat-radio-group[_ngcontent-%COMP%]{margin:16px 0}mat-radio-button[_ngcontent-%COMP%]{margin-right:16px}mg-button[_ngcontent-%COMP%]{display:block;margin:16px 0}mg-address[_ngcontent-%COMP%], mg-school-input[_ngcontent-%COMP%]{display:block;margin-top:16px}.connect-title[_ngcontent-%COMP%]{color:#737373;font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.connect-title[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.connect-title[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.connect-title[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.connect-title[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.connect-title[_ngcontent-%COMP%]{font-size:17px}}.divider[_ngcontent-%COMP%]{border-top:1px solid #d3d3d3;width:90%;margin-top:15px;margin-bottom:15px}mg-minga-name-hint[_ngcontent-%COMP%]{color:#70b2d7}'],changeDetection:0}),ta),oa=s("MMqW"),sa=s("9222"),la=s("iKtk"),ca=((ia=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||ia)},ia.\u0275mod=y["\u0275\u0275defineNgModule"]({type:ia}),ia.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[gn.a,un.a,ee.a,pt.m,D.c,Ot.c,bt.f,Ni.b]]}),ia),ua=((na=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||na)},na.\u0275mod=y["\u0275\u0275defineNgModule"]({type:na}),na.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[sa.a,oa.a,ca,fe.a,D.c,pt.m,C.k,me.c,la.a,Fi.c]]}),na),ga=s("1iZx"),da=s("YEUz"),pa=s("1e4W"),ma=["inputEl"],fa=["codeInputDigit"];function ha(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",4,5),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=y["\u0275\u0275nextContext"]();y["\u0275\u0275classProp"]("mg-focused",n===i.focusIndex)("mg-has-digit",i.value[n]),y["\u0275\u0275attribute"]("data-digit-index",n),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",i.value[n]," ")}}var va,ya=((va=function(){function e(t,n){m(this,e),this._fm=t,this._cdr=n,this.digitCount=0,this.required=!1,this._focused=!1}return h(e,[{key:"value",get:function(){return this._inputEl&&this._inputEl.nativeElement.value||""}},{key:"focusIndex",get:function(){if(!this._inputEl)return-1;var e=this._inputEl.nativeElement;return null===e.selectionStart?-1:e.selectionStart}},{key:"validate",value:function(e){return this.required&&this.value.length!==this.digitCount?{required:!0}:null}},{key:"registerOnChange",value:function(e){this._onChange=e,this.value&&this._onChange(this.value)}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"writeValue",value:function(e){if(this._inputEl){var t=this._inputEl.nativeElement;"number"==typeof e?t.value=e.toString():"string"==typeof e?t.value=e.replace(/[^0-9]/g,""):null===e?t.value="":console.warn("<mg-code-input> Invalid write value:",e),this._cdr.markForCheck()}}},{key:"onClick",value:function(e){if(!(e.target&&e.target.classList&&e.target.classList.contains("code-input-digit"))){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=e.pageX,n=e.pageY;this.selectClosestDigit(t,n)&&(e.preventDefault(),e.stopPropagation())}}},{key:"selectClosestDigit",value:function(e,n){if(!this._digitElQuery)return!1;var i,a=null,r=t(this._digitElQuery.toArray());try{for(r.s();!(i=r.n()).done;){var o=i.value.nativeElement,s=o.getBoundingClientRect(),l=window.pageXOffset+s.left,c=window.pageYOffset+s.top;if(Object(w.isPointWithinRect)(e,n,{top:c,left:l,width:s.width,height:s.height})){a=o;break}if(a){var u=a.getBoundingClientRect(),g=window.pageXOffset+u.left,d=window.pageYOffset+u.top,p=g-u.width/2,m=d+u.height/2,f=l-s.width/2,h=c+s.height/2;Object(w.pointDist)(e,n,f,h)<Object(w.pointDist)(e,n,p,m)&&(a=o)}else a=o}}catch(C){r.e(C)}finally{r.f()}if(a){var v=a.getAttribute("data-digit-index");if(v){var y=parseInt(v);return this.selectDigit(y),!0}}return!1}},{key:"onInputKeydown",value:function(e){if(!e.ctrlKey||"v"!==e.key&&"c"!==e.key){switch(e.key){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"Escape":case"Tab":break;default:e.preventDefault()}if("ArrowLeft"===e.key)this.selectDigit(this.focusIndex-1);else if("ArrowRight"===e.key)this.selectDigit(this.focusIndex+1);else if("Backspace"===e.key){var t=Math.min(this.focusIndex,this.value.length-1);this.deleteDigit(t),this.selectDigit(t)}else if("Delete"===e.key){var n=Math.min(this.focusIndex+1,this.value.length-1);this.deleteDigit(n),this.selectDigit(n-1)}else this.selectDigit(this.focusIndex)}}},{key:"ngOnInit",value:function(){var e=this;if(!this._inputEl)throw new Error("CodeInputComponent #inputEl not available at ngOnInit. Was static set to false?");this._fm.monitor(this._inputEl.nativeElement).subscribe((function(t){return e._onInputFocus(t)}))}},{key:"_onInputFocus",value:function(e){var t=this;this._cdr.markForCheck(),this._focused=null!==e,clearInterval(this._focusInterval),null!==e&&(this._focusInterval=setInterval((function(){return t._cdr.markForCheck()}),100))}},{key:"ngOnDestroy",value:function(){this._inputEl&&this._fm.stopMonitoring(this._inputEl.nativeElement),clearInterval(this._focusInterval)}},{key:"digitAt",value:function(e){return this.value[e]||""}},{key:"selectDigit",value:function(e){if(this._inputEl){var t=this._inputEl.nativeElement;t.selectionStart=e,t.selectionEnd=e+1}}},{key:"deleteDigit",value:function(e){if(this._inputEl){var t=this._inputEl.nativeElement,n=t.value,i=n.substring(0,e)+n.substr(e+1);t.value=i,this._onChange&&this._onChange(t.value)}}},{key:"onPaste",value:function(e){var t=this;setTimeout((function(){return t.onCodeInput(t.value)}))}},{key:"onCodeInput",value:function(e){if(this._onChange&&this._onChange(e),this._onTouched&&this._onTouched(),this._inputEl){var t=this._inputEl.nativeElement;t.value=t.value.replace(/[^0-9]/g,"")}this._cdr.markForCheck()}},{key:"focus",value:function(){this._inputEl&&this._fm.focusVia(this._inputEl.nativeElement,"program")}}]),e}()).\u0275fac=function(e){return new(e||va)(y["\u0275\u0275directiveInject"](da.h),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef))},va.\u0275cmp=y["\u0275\u0275defineComponent"]({type:va,selectors:[["mg-code-input"]],viewQuery:function(e,t){var n;1&e&&(y["\u0275\u0275viewQuery"](ma,3),y["\u0275\u0275viewQuery"](fa,1)),2&e&&(y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t._inputEl=n.first),y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t._digitElQuery=n))},hostBindings:function(e,t){1&e&&y["\u0275\u0275listener"]("click",(function(e){return t.onClick(e)}))},inputs:{digitCount:"digitCount",required:"required"},features:[y["\u0275\u0275ProvidersFeature"]([{provide:pt.r,useExisting:Object(y.forwardRef)((function(){return va})),multi:!0},{provide:pt.q,useExisting:Object(y.forwardRef)((function(){return va})),multi:!0}])],decls:5,vars:8,consts:[["type","text","inputmode","numeric","pattern","*[0-9]","autocomplete","off",3,"required","keydown","paste","input"],["inputEl",""],["fxLayout","row","fxLayoutAlign","center",1,"code-input-container"],["class","code-input-digit",3,"mg-focused","mg-has-digit",4,"ngFor","ngForOf"],[1,"code-input-digit"],["codeInputDigit",""]],template:function(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"input",0,1),y["\u0275\u0275listener"]("keydown",(function(e){return t.onInputKeydown(e)}))("paste",(function(e){return t.onPaste(e)}))("input",(function(e){return t.onCodeInput(e.target.value)})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275template"](3,ha,3,6,"div",3),y["\u0275\u0275pipe"](4,"mgRange"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("required",t.required),y["\u0275\u0275attribute"]("maxlength",t.digitCount)("minlength",t.digitCount),y["\u0275\u0275advance"](2),y["\u0275\u0275classProp"]("mg-focused",t._focused),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind1"](4,6,t.digitCount)))},directives:[F.e,F.d,D.n],pipes:[pa.a],styles:["[_nghost-%COMP%]{position:relative;display:block}input[_ngcontent-%COMP%]{opacity:1;position:absolute;z-index:1;box-sizing:border-box;width:100%;height:100%;left:0;right:0;bottom:0;top:0;border-radius:0;background-color:transparent;color:transparent;border:none;margin:0;padding:0;caret-color:transparent;box-shadow:none}input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:focus{outline:none}input[_ngcontent-%COMP%]::selection{background-color:transparent;color:transparent}.code-input-digit[_ngcontent-%COMP%]{text-align:center;color:#737373;border-radius:6px;width:48px;height:48px;line-height:48px;border:1px solid #f5f5f5;background-color:#f5f5f5;box-sizing:border-box;margin:0 10px;transition:border-color .15s ease}.code-input-digit[_ngcontent-%COMP%]:first-child{margin-left:0}.code-input-digit[_ngcontent-%COMP%]:last-child{margin-right:0}.code-input-digit.mg-has-digit[_ngcontent-%COMP%]{background-color:#fff}.code-input-container[_ngcontent-%COMP%]{position:relative;z-index:0;white-space:nowrap;cursor:text}.code-input-container.mg-focused[_ngcontent-%COMP%]   .code-input-digit.mg-focused[_ngcontent-%COMP%]{border-color:#3cf;background-color:#fff}"],changeDetection:0}),va),Ca=["emailVerifiedTpl"];function xa(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",14),y["\u0275\u0275element"](1,"mg-success-checkmark2",15),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275elementStart"](3,"span",16),y["\u0275\u0275text"](4,"Email Verified!"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("animate",!0))}function Ma(e,t){if(1&e){var n=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"p",4),y["\u0275\u0275elementStart"](1,"a",12),y["\u0275\u0275listener"]("click",(function(){return y["\u0275\u0275restoreView"](n),y["\u0275\u0275nextContext"]().pasteCode()})),y["\u0275\u0275text"](2,"Paste code from clipboard"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}}function ba(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"p",17),y["\u0275\u0275text"](1," Your code is invalid. Try again "),y["\u0275\u0275elementEnd"]())}function Pa(e,t){1&e&&y["\u0275\u0275element"](0,"mg-spinner",18),2&e&&y["\u0275\u0275property"]("diameter",12)("thickness",2)}var Oa,ka,wa,_a,Sa=((Oa=function(e){a(n,e);var t=o(n);function n(e,i,a,r,o,s){var l;return m(this,n),(l=t.call(this)).state=e,l._cdr=i,l.snackService=a,l.mgModal=r,l.rootService=o,l.activeCampaign=s,l.codeDigitCount=4,l.incorrectCode=!1,l.codeResending=!1,l}return h(n,[{key:"isClipboardAvailable",get:function(){return!!ji.get(window,"cordova.plugins.clipboard",!1)||!!ji.get(window,"navigator.clipboard.writeText",!1)}},{key:"ngOnInit",value:function(){var e=this;this.state.personalData$.getValue().email?this.state.isEmailVerified()?(console.log("email already verified, skip step"),setTimeout((function(){return e.nextStep()}))):(console.log("sendverificationcode"),this.sendVerificationCode()):(console.log("going to previous step"),setTimeout((function(){return e.previousStep()})))}},{key:"sendVerificationCode",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.codeResending=!0,this._cdr.markForCheck(),e.prev=1,e.next=4,this.state.sendVerificationCode();case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),this.codeResending=!1,e.t0;case 9:return e.prev=9,this.codeResending=!1,this._cdr.markForCheck(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})))}},{key:"pasteCode",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.MINGA_APP_BROWSER?window.navigator.clipboard.readText():Object(ga.d)());case 1:case"end":return e.stop()}}),e)})))}();case 2:t=(t=e.sent).trim().substr(0,this.codeDigitCount),isNaN(parseInt(t))?this.snackService.open("Clipboard does not contain code!"):(this.state.emailVerificationCode$.next(t),this.incorrectCode=!1,this._cdr.markForCheck());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resendCode",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.codeResending,e.t0){e.next=8;break}return e.next=4,this.sendVerificationCode().catch((function(e){throw t.snackService.open("Something went wrong. Try again later"),e}));case 4:this.incorrectCode=!1,this.state.emailVerificationCode$.next(""),this._cdr.markForCheck(),this.snackService.open("Verification code resent");case 8:case"end":return e.stop()}}),e,this)})))}},{key:"showVerifyEmailModal",value:function(){if(this.emailVerifiedTpl){var e=this.mgModal.open(this.emailVerifiedTpl,{full:!0,animation:"fade"});setTimeout((function(){return e.close()}),2e3)}}},{key:"verifyEmail",value:function(){return Object(b.a)(this,void 0,void 0,u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rootService.addLoadingPromise(this.state.verifyEmail());case 2:if(!e.sent){e.next=12;break}return t=this.state.personalData$.getValue(),e.next=6,this.activeCampaign.verifiedEmailStage(t.email,t.firstName,t.lastName);case 6:return this.showVerifyEmailModal(),e.next=9,this.rootService.addLoadingPromise(new Promise((function(e){return setTimeout(e,300)})));case 9:this.nextStep(),e.next=13;break;case 12:this.incorrectCode=!0,this._cdr.markForCheck();case 13:case"end":return e.stop()}}),e,this)})))}}]),n}(de)).\u0275fac=function(e){return new(e||Oa)(y["\u0275\u0275directiveInject"](qe),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](Ge.b),y["\u0275\u0275directiveInject"](I.b),y["\u0275\u0275directiveInject"](zn.a),y["\u0275\u0275directiveInject"](ze))},Oa.\u0275cmp=y["\u0275\u0275defineComponent"]({type:Oa,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&y["\u0275\u0275viewQuery"](Ca,3),2&e&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.emailVerifiedTpl=n.first)},features:[y["\u0275\u0275InheritDefinitionFeature"]],decls:26,vars:12,consts:[["emailVerifiedTpl",""],["form","ngForm"],["translate","",1,"title"],["translate","",1,"subtitle"],[1,"mg-centered"],[1,"email-code-wrap"],["name","emailVerificationCode",3,"required","ngModel","digitCount","ngModelChange"],["class","mg-centered",4,"ngIf"],["class","error-msg mg-centered",4,"ngIf"],[1,"next-step-btn-wrap"],["mgBubbleBtn","",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px"],["href","javascript:;",3,"click"],[3,"diameter","thickness",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",1,"mg-fullscreen","mg-centered"],[3,"animate"],[1,"mg-bodycopy-bold"],[1,"error-msg","mg-centered"],[3,"diameter","thickness"]],template:function(e,t){if(1&e&&(y["\u0275\u0275template"](0,xa,5,1,"ng-template",null,0,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementStart"](2,"form",null,1),y["\u0275\u0275elementStart"](4,"h1",2),y["\u0275\u0275text"](5," landing2.verifyEmail.title "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"h3",3),y["\u0275\u0275text"](7," landing2.verifyEmail.subtitle "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"p",4),y["\u0275\u0275text"](9," Enter the 4 digit code sent to "),y["\u0275\u0275elementStart"](10,"strong"),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"div",5),y["\u0275\u0275elementStart"](14,"mg-code-input",6),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.state.emailVerificationCode$.next(e),t.incorrectCode=!1})),y["\u0275\u0275pipe"](15,"async"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](16,Ma,3,0,"p",7),y["\u0275\u0275template"](17,ba,2,0,"p",8),y["\u0275\u0275elementStart"](18,"div",9),y["\u0275\u0275elementStart"](19,"button",10),y["\u0275\u0275listener"]("click",(function(){return t.verifyEmail()})),y["\u0275\u0275text"](20," Continue "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"div",4),y["\u0275\u0275elementStart"](22,"p",11),y["\u0275\u0275elementStart"](23,"a",12),y["\u0275\u0275listener"]("click",(function(){return t.resendCode()})),y["\u0275\u0275text"](24,"Resend Code?"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,Pa,1,2,"mg-spinner",13),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){var n,i=y["\u0275\u0275reference"](3);y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate"](null==(n=y["\u0275\u0275pipeBind1"](12,8,t.state.personalData$))?null:n.email),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("required",!0)("ngModel",y["\u0275\u0275pipeBind1"](15,10,t.state.emailVerificationCode$))("digitCount",t.codeDigitCount),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.isClipboardAvailable),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.incorrectCode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",i.invalid||t.incorrectCode),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngIf",t.codeResending)}},directives:[pt.E,pt.u,pt.v,me.a,ya,pt.B,pt.t,pt.w,D.o,F.e,F.d,F.f,R,T.a],pipes:[D.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");@import url("https://fonts.googleapis.com/css2?family=Caveat&display=swap");h1.title[_ngcontent-%COMP%]{font-family:Caveat,regular;font-weight:100;font-size:40px;color:#707070;padding-top:0;margin:0 0 8px;text-align:center}h3.subtitle[_ngcontent-%COMP%]{text-align:center;color:#737373;margin:4px 0;font-weight:400;font-size:14px}p[_ngcontent-%COMP%]{font-size:13px;color:#737373;margin:8px 0}p.small[_ngcontent-%COMP%]{font-size:11px}mg-add-minga-members-subtitle[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], mg-add-minga-members-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:inherit}a[_ngcontent-%COMP%]{font-size:13px;color:#4ba0cd;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-radio-group[_ngcontent-%COMP%]{font-size:13px;color:#737373}.avatar-picker-container[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]{margin-top:8px;text-align:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]{padding:4px .8em 4px 4px;display:inline-flex;align-items:center}.avatar-picker-container[_ngcontent-%COMP%]   .upload-custom-avatar-btn[_ngcontent-%COMP%]   button[mgbubblebtn][_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-right:4px}.next-step-btn-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.next-step-btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:60%;margin:auto;font-weight:700}.logo[_ngcontent-%COMP%]{width:110px;height:81px;margin-left:auto;margin-right:auto;margin-top:0;cursor:pointer}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{font-size:8.125vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{font-size:8.125vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{font-size:26px}}@media (min-width:492.3076923077px){.logo[_ngcontent-%COMP%]{font-size:40px}}@media (orientation:landscape){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vh}}@media (orientation:portrait){.logo[_ngcontent-%COMP%]{margin-bottom:4.6875vw}}@media (orientation:landscape) and (max-height:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (orientation:portrait) and (max-width:320px){.logo[_ngcontent-%COMP%]{margin-bottom:15px}}@media (min-width:426.6666666667px){.logo[_ngcontent-%COMP%]{margin-bottom:20px}}.logo[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{margin:20px 50px}@media (max-width:599px){form[_ngcontent-%COMP%]{margin:15px}}mg-button[_ngcontent-%COMP%]{display:block;margin:0 16px 16px}form[_ngcontent-%COMP%]{margin-top:32px}.email-code-wrap[_ngcontent-%COMP%]{text-align:center;margin:16px}.email-code-wrap[_ngcontent-%COMP%]   mg-code-input[_ngcontent-%COMP%]{margin:auto}.error-msg[_ngcontent-%COMP%]{color:#de1717}.error-msg[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{display:inline-block}'],changeDetection:0}),Oa),Ea=s("Ogcz"),Ia=((wa=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||wa)},wa.\u0275mod=y["\u0275\u0275defineNgModule"]({type:wa}),wa.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[Ea.b,D.c,Z.a]]}),wa),Fa=((ka=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||ka)},ka.\u0275mod=y["\u0275\u0275defineNgModule"]({type:ka}),ka.\u0275inj=y["\u0275\u0275defineInjector"]({imports:[[Ia,ee.a,X,fe.a,D.c,pt.m,C.k,me.c,Z.a]]}),ka),Ra=[{path:"",component:E,children:[{path:"",pathMatch:"full",component:Dn},{path:"join",pathMatch:"full",redirectTo:"/landing2"},{path:"join/choice",component:O,data:{redirect:{queryParamsHandling:"preserve",replaceUrl:!0,path:["/landing2"]}}},{path:"join/minga",component:pe,data:{stepComponents:[yi,Xn,ti],finishedStepsComponent:qn,disagreeRouterLink:"/landing2"},resolve:{mingaType:$e}},{path:"join/pin",component:pe,data:{stepComponents:[hi,xi],finishedStepsComponent:qn,disagreeRouterLink:"/landing2"},resolve:{mingaType:$e}},{path:"create",pathMatch:"full",component:_i},{path:"create/teacher",component:pe,data:{mingaType:w.MingaTypeValue.MINGA,stepComponents:[Kt,Sa,Ct,ra],finishedStepsComponent:ct,disagreeRouterLink:"/landing2"}},{path:"create/school-admin",component:pe,data:{mingaType:w.MingaTypeValue.MINGA,stepComponents:[Kt,Sa,Ct,ra],finishedStepsComponent:ct,disagreeRouterLink:"/landing2"}},{path:"choice",pathMatch:"full",redirectTo:"/landing2/create"},{path:"choice/lite",redirectTo:"/landing2/create/teacher"},{path:"choice/school",redirectTo:"/landing2/create/school-admin"},{path:"choice/conference",redirectTo:"/landing2/create"}]}],ja=((_a=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||_a)},_a.\u0275mod=y["\u0275\u0275defineNgModule"]({type:_a}),_a.\u0275inj=y["\u0275\u0275defineInjector"]({providers:[qe,$e],imports:[[x.a,Nn,Si,fn,Fa,Mt,ua,ei,Ci,Ce,Mi,ni,dt,$n,k,M.a,C.k.forChild(Ra)]]}),_a)},"FJz+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarCollection=void 0,n("8Y7J");var i=n("+6wJ"),a=n("fs83"),r=n("8Y7J"),o=function(){function e(t){m(this,e),this._ngZone=t}return h(e,[{key:"getAvatars",value:function(e,t,n){var r,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(r=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,u=i.grpc.invoke(a.AvatarCollection.GetAvatars,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return r.cancel=function(){return u.close()},r}}]),e}();t.AvatarCollection=o,o.\u0275fac=function(e){return new(e||o)(r.\u0275\u0275inject(r.NgZone))},o.\u0275prov=r.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},GNGV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("8Y7J"),a=n("s7LF");n("9QcJ");var r,o=((r=h((function e(){m(this,e)}))).\u0275fac=function(e){return new(e||r)},r.\u0275mod=i["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[a.m]]}),r)},N1Nl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveCampaignEventResponse=t.ActiveCampaignEventRequest=t.VerifyPinEmailResponse=t.VerifyPinEmailRequest=t.VerifyPinOrCodeResponse=t.VerifyPinOrCodeRequest=t.CreateMingaResponse=t.CreateMingaRequest=t.VerifyEmailResponse=t.VerifyEmailRequest=t.SendEmailVerificationResponse=t.SendEmailVerificationRequest=t.MingaUserSsoCreds=t.MingaUserPasswordCreds=void 0;var i=n("hRO2"),r=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getPassword",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setPassword",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getEmailVerificationCode",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setEmailVerificationCode",value:function(e){i.Message.setProto3StringField(this,2,e)}}],[{key:"toObject",value:function(e,t){var n={password:i.Message.getFieldWithDefault(t,1,""),emailVerificationCode:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setPassword(n);break;case 2:var i=t.readString();e.setEmailVerificationCode(i);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getPassword()).length>0&&t.writeString(1,n),(n=e.getEmailVerificationCode()).length>0&&t.writeString(2,n)}}]),n}(i.Message);t.MingaUserPasswordCreds=r,r.displayName="MingaUserPasswordCreds";var s=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getDetachedSsoIdToken",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setDetachedSsoIdToken",value:function(e){i.Message.setProto3StringField(this,1,e)}}],[{key:"toObject",value:function(e,t){var n={detachedSsoIdToken:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setDetachedSsoIdToken(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getDetachedSsoIdToken()).length>0&&t.writeString(1,n)}}]),n}(i.Message);t.MingaUserSsoCreds=s,s.displayName="MingaUserSsoCreds";var c=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getEmail",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setEmail",value:function(e){i.Message.setProto3StringField(this,1,e)}}],[{key:"toObject",value:function(e,t){var n={email:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setEmail(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getEmail()).length>0&&t.writeString(1,n)}}]),n}(i.Message);t.SendEmailVerificationRequest=c,c.displayName="SendEmailVerificationRequest";var u=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}}],[{key:"toObject",value:function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){}}]),n}(i.Message);t.SendEmailVerificationResponse=u,u.displayName="SendEmailVerificationResponse";var g=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getEmail",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setEmail",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getVerificationCode",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setVerificationCode",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getFirstName",value:function(){return i.Message.getFieldWithDefault(this,3,"")}},{key:"setFirstName",value:function(e){i.Message.setProto3StringField(this,3,e)}},{key:"getLastName",value:function(){return i.Message.getFieldWithDefault(this,4,"")}},{key:"setLastName",value:function(e){i.Message.setProto3StringField(this,4,e)}},{key:"getCreateFlow",value:function(){return i.Message.getBooleanFieldWithDefault(this,5,!1)}},{key:"setCreateFlow",value:function(e){i.Message.setProto3BooleanField(this,5,e)}}],[{key:"toObject",value:function(e,t){var n={email:i.Message.getFieldWithDefault(t,1,""),verificationCode:i.Message.getFieldWithDefault(t,2,""),firstName:i.Message.getFieldWithDefault(t,3,""),lastName:i.Message.getFieldWithDefault(t,4,""),createFlow:i.Message.getBooleanFieldWithDefault(t,5,!1)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setEmail(n);break;case 2:var i=t.readString();e.setVerificationCode(i);break;case 3:var a=t.readString();e.setFirstName(a);break;case 4:var r=t.readString();e.setLastName(r);break;case 5:var o=t.readBool();e.setCreateFlow(o);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getEmail()).length>0&&t.writeString(1,n),(n=e.getVerificationCode()).length>0&&t.writeString(2,n),(n=e.getFirstName()).length>0&&t.writeString(3,n),(n=e.getLastName()).length>0&&t.writeString(4,n),(n=e.getCreateFlow())&&t.writeBool(5,n)}}]),n}(i.Message);t.VerifyEmailRequest=g,g.displayName="VerifyEmailRequest";var d=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getEmailVerified",value:function(){return i.Message.getBooleanFieldWithDefault(this,1,!1)}},{key:"setEmailVerified",value:function(e){i.Message.setProto3BooleanField(this,1,e)}}],[{key:"toObject",value:function(e,t){var n={emailVerified:i.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readBool();e.setEmailVerified(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getEmailVerified())&&t.writeBool(1,n)}}]),n}(i.Message);t.VerifyEmailResponse=d,d.displayName="VerifyEmailResponse";var p=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,n.oneofGroups_),a}return h(n,[{key:"getCreatorUserCredsCase",value:function(){return i.Message.computeOneofCase(this,n.oneofGroups_[0])}},{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getDeprecatedCreatorEmailVerificationCode",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setDeprecatedCreatorEmailVerificationCode",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getDeprecatedCreatorPassword",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setDeprecatedCreatorPassword",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getCreator",value:function(){return i.Message.getWrapperField(this,n.PersonInfo,3)}},{key:"setCreator",value:function(e){i.Message.setWrapperField(this,3,e)}},{key:"clearCreator",value:function(){this.setCreator(void 0)}},{key:"hasCreator",value:function(){return null!=i.Message.getField(this,3)}},{key:"getMingaDetails",value:function(){return i.Message.getWrapperField(this,n.MingaInfo,4)}},{key:"setMingaDetails",value:function(e){i.Message.setWrapperField(this,4,e)}},{key:"clearMingaDetails",value:function(){this.setMingaDetails(void 0)}},{key:"hasMingaDetails",value:function(){return null!=i.Message.getField(this,4)}},{key:"getFlowIdentifier",value:function(){return i.Message.getFieldWithDefault(this,5,0)}},{key:"setFlowIdentifier",value:function(e){i.Message.setProto3EnumField(this,5,e)}},{key:"getPasswordCreds",value:function(){return i.Message.getWrapperField(this,r,6)}},{key:"setPasswordCreds",value:function(e){i.Message.setOneofWrapperField(this,6,n.oneofGroups_[0],e)}},{key:"clearPasswordCreds",value:function(){this.setPasswordCreds(void 0)}},{key:"hasPasswordCreds",value:function(){return null!=i.Message.getField(this,6)}},{key:"getSsoCreds",value:function(){return i.Message.getWrapperField(this,s,7)}},{key:"setSsoCreds",value:function(e){i.Message.setOneofWrapperField(this,7,n.oneofGroups_[0],e)}},{key:"clearSsoCreds",value:function(){this.setSsoCreds(void 0)}},{key:"hasSsoCreds",value:function(){return null!=i.Message.getField(this,7)}}],[{key:"toObject",value:function(e,t){var a,o={deprecatedCreatorEmailVerificationCode:i.Message.getFieldWithDefault(t,1,""),deprecatedCreatorPassword:i.Message.getFieldWithDefault(t,2,""),creator:(a=t.getCreator())&&n.PersonInfo.toObject(e,a),mingaDetails:(a=t.getMingaDetails())&&n.MingaInfo.toObject(e,a),flowIdentifier:i.Message.getFieldWithDefault(t,5,0),passwordCreds:(a=t.getPasswordCreds())&&r.toObject(e,a),ssoCreds:(a=t.getSsoCreds())&&s.toObject(e,a)};return e&&(o.$jspbMessageInstance=t),o}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readString();e.setDeprecatedCreatorEmailVerificationCode(i);break;case 2:var a=t.readString();e.setDeprecatedCreatorPassword(a);break;case 3:var o=new n.PersonInfo;t.readMessage(o,n.PersonInfo.deserializeBinaryFromReader),e.setCreator(o);break;case 4:var l=new n.MingaInfo;t.readMessage(l,n.MingaInfo.deserializeBinaryFromReader),e.setMingaDetails(l);break;case 5:var c=t.readEnum();e.setFlowIdentifier(c);break;case 6:var u=new r;t.readMessage(u,r.deserializeBinaryFromReader),e.setPasswordCreds(u);break;case 7:var g=new s;t.readMessage(g,s.deserializeBinaryFromReader),e.setSsoCreds(g);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var i=void 0;(i=e.getDeprecatedCreatorEmailVerificationCode()).length>0&&t.writeString(1,i),(i=e.getDeprecatedCreatorPassword()).length>0&&t.writeString(2,i),null!=(i=e.getCreator())&&t.writeMessage(3,i,n.PersonInfo.serializeBinaryToWriter),null!=(i=e.getMingaDetails())&&t.writeMessage(4,i,n.MingaInfo.serializeBinaryToWriter),0!==(i=e.getFlowIdentifier())&&t.writeEnum(5,i),null!=(i=e.getPasswordCreds())&&t.writeMessage(6,i,r.serializeBinaryToWriter),null!=(i=e.getSsoCreds())&&t.writeMessage(7,i,s.serializeBinaryToWriter)}}]),n}(i.Message);t.CreateMingaRequest=p,p.displayName="CreateMingaRequest",p.oneofGroups_=[[6,7]],function(e){!function(e){e[e.CREATOR_USER_CREDS_NOT_SET=0]="CREATOR_USER_CREDS_NOT_SET",e[e.PASSWORD_CREDS=6]="PASSWORD_CREDS",e[e.SSO_CREDS=7]="SSO_CREDS"}(e.CreatorUserCredsCase||(e.CreatorUserCredsCase={}))}(p=t.CreateMingaRequest||(t.CreateMingaRequest={})),function(e){!function(e){e[e.TEACHER=0]="TEACHER",e[e.SCHOOL_ADMIN=1]="SCHOOL_ADMIN"}(e.FlowIdentifier||(e.FlowIdentifier={}))}(p=t.CreateMingaRequest||(t.CreateMingaRequest={})),function(e){var t=function(t){a(r,t);var n=o(r);function r(e){var t;return m(this,r),t=n.call(this),i.Message.initialize(l(t),e,0,-1,null,null),t}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.PersonInfo.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getFirstName",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setFirstName",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getLastName",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setLastName",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getEmail",value:function(){return i.Message.getFieldWithDefault(this,3,"")}},{key:"setEmail",value:function(e){i.Message.setProto3StringField(this,3,e)}},{key:"getPhone",value:function(){return i.Message.getFieldWithDefault(this,4,"")}},{key:"setPhone",value:function(e){i.Message.setProto3StringField(this,4,e)}}],[{key:"toObject",value:function(e,t){var n={firstName:i.Message.getFieldWithDefault(t,1,""),lastName:i.Message.getFieldWithDefault(t,2,""),email:i.Message.getFieldWithDefault(t,3,""),phone:i.Message.getFieldWithDefault(t,4,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setFirstName(n);break;case 2:var i=t.readString();e.setLastName(i);break;case 3:var a=t.readString();e.setEmail(a);break;case 4:var r=t.readString();e.setPhone(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getFirstName()).length>0&&t.writeString(1,n),(n=e.getLastName()).length>0&&t.writeString(2,n),(n=e.getEmail()).length>0&&t.writeString(3,n),(n=e.getPhone()).length>0&&t.writeString(4,n)}}]),r}(i.Message);t.displayName="CreateMingaRequest.PersonInfo",e.PersonInfo=t}(p=t.CreateMingaRequest||(t.CreateMingaRequest={})),function(e){var t=function(t){a(r,t);var n=o(r);function r(e){var t;return m(this,r),t=n.call(this),i.Message.initialize(l(t),e,0,-1,null,null),t}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.MingaInfo.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getName",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setName",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getPlaceId",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setPlaceId",value:function(e){i.Message.setProto3StringField(this,2,e)}}],[{key:"toObject",value:function(e,t){var n={name:i.Message.getFieldWithDefault(t,1,""),placeId:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setName(n);break;case 2:var i=t.readString();e.setPlaceId(i);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getName()).length>0&&t.writeString(1,n),(n=e.getPlaceId()).length>0&&t.writeString(2,n)}}]),r}(i.Message);t.displayName="CreateMingaRequest.MingaInfo",e.MingaInfo=t}(p=t.CreateMingaRequest||(t.CreateMingaRequest={}));var f=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,n.oneofGroups_),a}return h(n,[{key:"getProgressResponsesCase",value:function(){return i.Message.computeOneofCase(this,n.oneofGroups_[0])}},{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getProgressUpdate",value:function(){return i.Message.getWrapperField(this,n.ProgressUpdate,1)}},{key:"setProgressUpdate",value:function(e){i.Message.setOneofWrapperField(this,1,n.oneofGroups_[0],e)}},{key:"clearProgressUpdate",value:function(){this.setProgressUpdate(void 0)}},{key:"hasProgressUpdate",value:function(){return null!=i.Message.getField(this,1)}},{key:"getCreatorAuth",value:function(){return i.Message.getWrapperField(this,n.CreatorAuth,2)}},{key:"setCreatorAuth",value:function(e){i.Message.setOneofWrapperField(this,2,n.oneofGroups_[0],e)}},{key:"clearCreatorAuth",value:function(){this.setCreatorAuth(void 0)}},{key:"hasCreatorAuth",value:function(){return null!=i.Message.getField(this,2)}},{key:"getMingaDetails",value:function(){return i.Message.getWrapperField(this,n.MingaDetails,3)}},{key:"setMingaDetails",value:function(e){i.Message.setOneofWrapperField(this,3,n.oneofGroups_[0],e)}},{key:"clearMingaDetails",value:function(){this.setMingaDetails(void 0)}},{key:"hasMingaDetails",value:function(){return null!=i.Message.getField(this,3)}}],[{key:"toObject",value:function(e,t){var i,a={progressUpdate:(i=t.getProgressUpdate())&&n.ProgressUpdate.toObject(e,i),creatorAuth:(i=t.getCreatorAuth())&&n.CreatorAuth.toObject(e,i),mingaDetails:(i=t.getMingaDetails())&&n.MingaDetails.toObject(e,i)};return e&&(a.$jspbMessageInstance=t),a}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=new n.ProgressUpdate;t.readMessage(i,n.ProgressUpdate.deserializeBinaryFromReader),e.setProgressUpdate(i);break;case 2:var a=new n.CreatorAuth;t.readMessage(a,n.CreatorAuth.deserializeBinaryFromReader),e.setCreatorAuth(a);break;case 3:var r=new n.MingaDetails;t.readMessage(r,n.MingaDetails.deserializeBinaryFromReader),e.setMingaDetails(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var i=void 0;null!=(i=e.getProgressUpdate())&&t.writeMessage(1,i,n.ProgressUpdate.serializeBinaryToWriter),null!=(i=e.getCreatorAuth())&&t.writeMessage(2,i,n.CreatorAuth.serializeBinaryToWriter),null!=(i=e.getMingaDetails())&&t.writeMessage(3,i,n.MingaDetails.serializeBinaryToWriter)}}]),n}(i.Message);t.CreateMingaResponse=f,f.displayName="CreateMingaResponse",f.oneofGroups_=[[1,2,3]],function(e){!function(e){e[e.PROGRESS_RESPONSES_NOT_SET=0]="PROGRESS_RESPONSES_NOT_SET",e[e.PROGRESS_UPDATE=1]="PROGRESS_UPDATE",e[e.CREATOR_AUTH=2]="CREATOR_AUTH",e[e.MINGA_DETAILS=3]="MINGA_DETAILS"}(e.ProgressResponsesCase||(e.ProgressResponsesCase={}))}(f=t.CreateMingaResponse||(t.CreateMingaResponse={})),function(e){var t=function(t){a(r,t);var n=o(r);function r(e){var t;return m(this,r),t=n.call(this),i.Message.initialize(l(t),e,0,-1,null,null),t}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.ProgressUpdate.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getProgressPercentage",value:function(){return i.Message.getFloatingPointFieldWithDefault(this,1,0)}},{key:"setProgressPercentage",value:function(e){i.Message.setProto3FloatField(this,1,e)}},{key:"getProgressName",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setProgressName",value:function(e){i.Message.setProto3StringField(this,2,e)}}],[{key:"toObject",value:function(e,t){var n={progressPercentage:i.Message.getFloatingPointFieldWithDefault(t,1,0),progressName:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readFloat();e.setProgressPercentage(n);break;case 2:var i=t.readString();e.setProgressName(i);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;0!==(n=e.getProgressPercentage())&&t.writeFloat(1,n),(n=e.getProgressName()).length>0&&t.writeString(2,n)}}]),r}(i.Message);t.displayName="CreateMingaResponse.ProgressUpdate",e.ProgressUpdate=t}(f=t.CreateMingaResponse||(t.CreateMingaResponse={})),function(e){var t=function(t){a(r,t);var n=o(r);function r(e){var t;return m(this,r),t=n.call(this),i.Message.initialize(l(t),e,0,-1,null,null),t}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.CreatorAuth.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getCustomAuthToken",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setCustomAuthToken",value:function(e){i.Message.setProto3StringField(this,1,e)}}],[{key:"toObject",value:function(e,t){var n={customAuthToken:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setCustomAuthToken(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getCustomAuthToken()).length>0&&t.writeString(1,n)}}]),r}(i.Message);t.displayName="CreateMingaResponse.CreatorAuth",e.CreatorAuth=t}(f=t.CreateMingaResponse||(t.CreateMingaResponse={})),function(e){var t=function(t){a(r,t);var n=o(r);function r(e){var t;return m(this,r),t=n.call(this),i.Message.initialize(l(t),e,0,-1,null,null),t}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.MingaDetails.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getMingaHash",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setMingaHash",value:function(e){i.Message.setProto3StringField(this,1,e)}}],[{key:"toObject",value:function(e,t){var n={mingaHash:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setMingaHash(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getMingaHash()).length>0&&t.writeString(1,n)}}]),r}(i.Message);t.displayName="CreateMingaResponse.MingaDetails",e.MingaDetails=t}(f=t.CreateMingaResponse||(t.CreateMingaResponse={}));var v=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getPinOrCode",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setPinOrCode",value:function(e){i.Message.setProto3StringField(this,1,e)}}],[{key:"toObject",value:function(e,t){var n={pinOrCode:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setPinOrCode(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getPinOrCode()).length>0&&t.writeString(1,n)}}]),n}(i.Message);t.VerifyPinOrCodeRequest=v,v.displayName="VerifyPinOrCodeRequest";var y=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,n.oneofGroups_),a}return h(n,[{key:"getDetailsCase",value:function(){return i.Message.computeOneofCase(this,n.oneofGroups_[0])}},{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getPin",value:function(){return i.Message.getWrapperField(this,n.PinDetails,1)}},{key:"setPin",value:function(e){i.Message.setOneofWrapperField(this,1,n.oneofGroups_[0],e)}},{key:"clearPin",value:function(){this.setPin(void 0)}},{key:"hasPin",value:function(){return null!=i.Message.getField(this,1)}},{key:"getCode",value:function(){return i.Message.getWrapperField(this,n.CodeDetails,2)}},{key:"setCode",value:function(e){i.Message.setOneofWrapperField(this,2,n.oneofGroups_[0],e)}},{key:"clearCode",value:function(){this.setCode(void 0)}},{key:"hasCode",value:function(){return null!=i.Message.getField(this,2)}},{key:"getFullMinga",value:function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)}},{key:"setFullMinga",value:function(e){i.Message.setProto3BooleanField(this,3,e)}}],[{key:"toObject",value:function(e,t){var a,r={pin:(a=t.getPin())&&n.PinDetails.toObject(e,a),code:(a=t.getCode())&&n.CodeDetails.toObject(e,a),fullMinga:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=new n.PinDetails;t.readMessage(i,n.PinDetails.deserializeBinaryFromReader),e.setPin(i);break;case 2:var a=new n.CodeDetails;t.readMessage(a,n.CodeDetails.deserializeBinaryFromReader),e.setCode(a);break;case 3:var r=t.readBool();e.setFullMinga(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var i=void 0;null!=(i=e.getPin())&&t.writeMessage(1,i,n.PinDetails.serializeBinaryToWriter),null!=(i=e.getCode())&&t.writeMessage(2,i,n.CodeDetails.serializeBinaryToWriter),(i=e.getFullMinga())&&t.writeBool(3,i)}}]),n}(i.Message);t.VerifyPinOrCodeResponse=y,y.displayName="VerifyPinOrCodeResponse",y.oneofGroups_=[[1,2]],function(e){!function(e){e[e.DETAILS_NOT_SET=0]="DETAILS_NOT_SET",e[e.PIN=1]="PIN",e[e.CODE=2]="CODE"}(e.DetailsCase||(e.DetailsCase={}))}(y=t.VerifyPinOrCodeResponse||(t.VerifyPinOrCodeResponse={})),function(e){var t=function(t){a(r,t);var n=o(r);function r(e){var t;return m(this,r),t=n.call(this),i.Message.initialize(l(t),e,0,-1,null,null),t}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.RoleTypeInfo.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getRoleType",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setRoleType",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getRoleName",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setRoleName",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getAllowGradeInput",value:function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)}},{key:"setAllowGradeInput",value:function(e){i.Message.setProto3BooleanField(this,3,e)}}],[{key:"toObject",value:function(e,t){var n={roleType:i.Message.getFieldWithDefault(t,1,""),roleName:i.Message.getFieldWithDefault(t,2,""),allowGradeInput:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setRoleType(n);break;case 2:var i=t.readString();e.setRoleName(i);break;case 3:var a=t.readBool();e.setAllowGradeInput(a);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getRoleType()).length>0&&t.writeString(1,n),(n=e.getRoleName()).length>0&&t.writeString(2,n),(n=e.getAllowGradeInput())&&t.writeBool(3,n)}}]),r}(i.Message);t.displayName="VerifyPinOrCodeResponse.RoleTypeInfo",e.RoleTypeInfo=t}(y=t.VerifyPinOrCodeResponse||(t.VerifyPinOrCodeResponse={})),function(e){var t=function(t){a(r,t);var n=o(r);function r(t){var a;return m(this,r),a=n.call(this),i.Message.initialize(l(a),t,0,-1,e.PinDetails.repeatedFields_,null),a}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.PinDetails.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getConfirmEmail",value:function(){return i.Message.getBooleanFieldWithDefault(this,1,!1)}},{key:"setConfirmEmail",value:function(e){i.Message.setProto3BooleanField(this,1,e)}},{key:"getMingaName",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setMingaName",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getMingaLogo",value:function(){return i.Message.getFieldWithDefault(this,3,"")}},{key:"setMingaLogo",value:function(e){i.Message.setProto3StringField(this,3,e)}},{key:"getMingaType",value:function(){return i.Message.getFieldWithDefault(this,4,"")}},{key:"setMingaType",value:function(e){i.Message.setProto3StringField(this,4,e)}},{key:"getAllowedRoleTypeInfoList",value:function(){return i.Message.getRepeatedWrapperField(this,e.RoleTypeInfo,5)}},{key:"setAllowedRoleTypeInfoList",value:function(e){i.Message.setRepeatedWrapperField(this,5,e)}},{key:"addAllowedRoleTypeInfo",value:function(t,n){return i.Message.addToRepeatedWrapperField(this,5,t,e.RoleTypeInfo,n)}},{key:"clearAllowedRoleTypeInfoList",value:function(){this.setAllowedRoleTypeInfoList([])}},{key:"getGradeOptionsList",value:function(){return i.Message.getRepeatedField(this,6)}},{key:"setGradeOptionsList",value:function(e){i.Message.setField(this,6,e||[])}},{key:"addGradeOptions",value:function(e,t){i.Message.addToRepeatedField(this,6,e,t)}},{key:"clearGradeOptionsList",value:function(){this.setGradeOptionsList([])}}],[{key:"toObject",value:function(t,n){var a,r={confirmEmail:i.Message.getBooleanFieldWithDefault(n,1,!1),mingaName:i.Message.getFieldWithDefault(n,2,""),mingaLogo:i.Message.getFieldWithDefault(n,3,""),mingaType:i.Message.getFieldWithDefault(n,4,""),allowedRoleTypeInfoList:i.Message.toObjectList(n.getAllowedRoleTypeInfoList(),e.RoleTypeInfo.toObject,t),gradeOptionsList:null==(a=i.Message.getRepeatedField(n,6))?void 0:a};return t&&(r.$jspbMessageInstance=n),r}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(t,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var i=n.readBool();t.setConfirmEmail(i);break;case 2:var a=n.readString();t.setMingaName(a);break;case 3:var r=n.readString();t.setMingaLogo(r);break;case 4:var o=n.readString();t.setMingaType(o);break;case 5:var s=new e.RoleTypeInfo;n.readMessage(s,e.RoleTypeInfo.deserializeBinaryFromReader),t.addAllowedRoleTypeInfo(s);break;case 6:var l=n.readString();t.addGradeOptions(l);break;default:n.skipField()}return t}},{key:"serializeBinaryToWriter",value:function(t,n){var i=void 0;(i=t.getConfirmEmail())&&n.writeBool(1,i),(i=t.getMingaName()).length>0&&n.writeString(2,i),(i=t.getMingaLogo()).length>0&&n.writeString(3,i),(i=t.getMingaType()).length>0&&n.writeString(4,i),(i=t.getAllowedRoleTypeInfoList()).length>0&&n.writeRepeatedMessage(5,i,e.RoleTypeInfo.serializeBinaryToWriter),(i=t.getGradeOptionsList()).length>0&&n.writeRepeatedString(6,i)}}]),r}(i.Message);t.displayName="VerifyPinOrCodeResponse.PinDetails",t.repeatedFields_=[5,6],e.PinDetails=t}(y=t.VerifyPinOrCodeResponse||(t.VerifyPinOrCodeResponse={})),function(e){var t=function(t){a(r,t);var n=o(r);function r(t){var a;return m(this,r),a=n.call(this),i.Message.initialize(l(a),t,0,-1,e.CodeDetails.repeatedFields_,null),a}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.CodeDetails.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getMingaName",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setMingaName",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getMingaLogo",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setMingaLogo",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getMingaType",value:function(){return i.Message.getFieldWithDefault(this,3,"")}},{key:"setMingaType",value:function(e){i.Message.setProto3StringField(this,3,e)}},{key:"getAllowedRoleTypeInfoList",value:function(){return i.Message.getRepeatedWrapperField(this,e.RoleTypeInfo,4)}},{key:"setAllowedRoleTypeInfoList",value:function(e){i.Message.setRepeatedWrapperField(this,4,e)}},{key:"addAllowedRoleTypeInfo",value:function(t,n){return i.Message.addToRepeatedWrapperField(this,4,t,e.RoleTypeInfo,n)}},{key:"clearAllowedRoleTypeInfoList",value:function(){this.setAllowedRoleTypeInfoList([])}},{key:"getGradeOptionsList",value:function(){return i.Message.getRepeatedField(this,5)}},{key:"setGradeOptionsList",value:function(e){i.Message.setField(this,5,e||[])}},{key:"addGradeOptions",value:function(e,t){i.Message.addToRepeatedField(this,5,e,t)}},{key:"clearGradeOptionsList",value:function(){this.setGradeOptionsList([])}}],[{key:"toObject",value:function(t,n){var a,r={mingaName:i.Message.getFieldWithDefault(n,1,""),mingaLogo:i.Message.getFieldWithDefault(n,2,""),mingaType:i.Message.getFieldWithDefault(n,3,""),allowedRoleTypeInfoList:i.Message.toObjectList(n.getAllowedRoleTypeInfoList(),e.RoleTypeInfo.toObject,t),gradeOptionsList:null==(a=i.Message.getRepeatedField(n,5))?void 0:a};return t&&(r.$jspbMessageInstance=n),r}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(t,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var i=n.readString();t.setMingaName(i);break;case 2:var a=n.readString();t.setMingaLogo(a);break;case 3:var r=n.readString();t.setMingaType(r);break;case 4:var o=new e.RoleTypeInfo;n.readMessage(o,e.RoleTypeInfo.deserializeBinaryFromReader),t.addAllowedRoleTypeInfo(o);break;case 5:var s=n.readString();t.addGradeOptions(s);break;default:n.skipField()}return t}},{key:"serializeBinaryToWriter",value:function(t,n){var i=void 0;(i=t.getMingaName()).length>0&&n.writeString(1,i),(i=t.getMingaLogo()).length>0&&n.writeString(2,i),(i=t.getMingaType()).length>0&&n.writeString(3,i),(i=t.getAllowedRoleTypeInfoList()).length>0&&n.writeRepeatedMessage(4,i,e.RoleTypeInfo.serializeBinaryToWriter),(i=t.getGradeOptionsList()).length>0&&n.writeRepeatedString(5,i)}}]),r}(i.Message);t.displayName="VerifyPinOrCodeResponse.CodeDetails",t.repeatedFields_=[4,5],e.CodeDetails=t}(y=t.VerifyPinOrCodeResponse||(t.VerifyPinOrCodeResponse={}));var C=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getEmail",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setEmail",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getPin",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setPin",value:function(e){i.Message.setProto3StringField(this,2,e)}}],[{key:"toObject",value:function(e,t){var n={email:i.Message.getFieldWithDefault(t,1,""),pin:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setEmail(n);break;case 2:var i=t.readString();e.setPin(i);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getEmail()).length>0&&t.writeString(1,n),(n=e.getPin()).length>0&&t.writeString(2,n)}}]),n}(i.Message);t.VerifyPinEmailRequest=C,C.displayName="VerifyPinEmailRequest";var x=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getMatched",value:function(){return i.Message.getBooleanFieldWithDefault(this,2,!1)}},{key:"setMatched",value:function(e){i.Message.setProto3BooleanField(this,2,e)}}],[{key:"toObject",value:function(e,t){var n={matched:i.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(2===t.getFieldNumber()){var n=t.readBool();e.setMatched(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getMatched())&&t.writeBool(2,n)}}]),n}(i.Message);t.VerifyPinEmailResponse=x,x.displayName="VerifyPinEmailResponse";var M=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getEvent",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setEvent",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getMingatype",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setMingatype",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getDealid",value:function(){return i.Message.getFieldWithDefault(this,3,"")}},{key:"setDealid",value:function(e){i.Message.setProto3StringField(this,3,e)}},{key:"getActivecampaigncontact",value:function(){return i.Message.getWrapperField(this,n.ActiveCampaignContact,4)}},{key:"setActivecampaigncontact",value:function(e){i.Message.setWrapperField(this,4,e)}},{key:"clearActivecampaigncontact",value:function(){this.setActivecampaigncontact(void 0)}},{key:"hasActivecampaigncontact",value:function(){return null!=i.Message.getField(this,4)}}],[{key:"toObject",value:function(e,t){var a,r={event:i.Message.getFieldWithDefault(t,1,""),mingatype:i.Message.getFieldWithDefault(t,2,""),dealid:i.Message.getFieldWithDefault(t,3,""),activecampaigncontact:(a=t.getActivecampaigncontact())&&n.ActiveCampaignContact.toObject(e,a)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readString();e.setEvent(i);break;case 2:var a=t.readString();e.setMingatype(a);break;case 3:var r=t.readString();e.setDealid(r);break;case 4:var o=new n.ActiveCampaignContact;t.readMessage(o,n.ActiveCampaignContact.deserializeBinaryFromReader),e.setActivecampaigncontact(o);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var i=void 0;(i=e.getEvent()).length>0&&t.writeString(1,i),(i=e.getMingatype()).length>0&&t.writeString(2,i),(i=e.getDealid()).length>0&&t.writeString(3,i),null!=(i=e.getActivecampaigncontact())&&t.writeMessage(4,i,n.ActiveCampaignContact.serializeBinaryToWriter)}}]),n}(i.Message);t.ActiveCampaignEventRequest=M,M.displayName="ActiveCampaignEventRequest",function(e){var t=function(t){a(r,t);var n=o(r);function r(e){var t;return m(this,r),t=n.call(this),i.Message.initialize(l(t),e,0,-1,null,null),t}return h(r,[{key:"toObject",value:function(e){return r.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.ActiveCampaignContact.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getFirstName",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setFirstName",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getLastName",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setLastName",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getEmail",value:function(){return i.Message.getFieldWithDefault(this,3,"")}},{key:"setEmail",value:function(e){i.Message.setProto3StringField(this,3,e)}},{key:"getPhone",value:function(){return i.Message.getFieldWithDefault(this,4,"")}},{key:"setPhone",value:function(e){i.Message.setProto3StringField(this,4,e)}},{key:"getAccountName",value:function(){return i.Message.getFieldWithDefault(this,5,"")}},{key:"setAccountName",value:function(e){i.Message.setProto3StringField(this,5,e)}},{key:"getAccountPlaceId",value:function(){return i.Message.getFieldWithDefault(this,6,"")}},{key:"setAccountPlaceId",value:function(e){i.Message.setProto3StringField(this,6,e)}},{key:"getMingaHash",value:function(){return i.Message.getFieldWithDefault(this,7,"")}},{key:"setMingaHash",value:function(e){i.Message.setProto3StringField(this,7,e)}}],[{key:"toObject",value:function(e,t){var n={firstName:i.Message.getFieldWithDefault(t,1,""),lastName:i.Message.getFieldWithDefault(t,2,""),email:i.Message.getFieldWithDefault(t,3,""),phone:i.Message.getFieldWithDefault(t,4,""),accountName:i.Message.getFieldWithDefault(t,5,""),accountPlaceId:i.Message.getFieldWithDefault(t,6,""),mingaHash:i.Message.getFieldWithDefault(t,7,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setFirstName(n);break;case 2:var i=t.readString();e.setLastName(i);break;case 3:var a=t.readString();e.setEmail(a);break;case 4:var r=t.readString();e.setPhone(r);break;case 5:var o=t.readString();e.setAccountName(o);break;case 6:var s=t.readString();e.setAccountPlaceId(s);break;case 7:var l=t.readString();e.setMingaHash(l);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getFirstName()).length>0&&t.writeString(1,n),(n=e.getLastName()).length>0&&t.writeString(2,n),(n=e.getEmail()).length>0&&t.writeString(3,n),(n=e.getPhone()).length>0&&t.writeString(4,n),(n=e.getAccountName()).length>0&&t.writeString(5,n),(n=e.getAccountPlaceId()).length>0&&t.writeString(6,n),(n=e.getMingaHash()).length>0&&t.writeString(7,n)}}]),r}(i.Message);t.displayName="ActiveCampaignEventRequest.ActiveCampaignContact",e.ActiveCampaignContact=t}(M=t.ActiveCampaignEventRequest||(t.ActiveCampaignEventRequest={}));var b=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getDealid",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setDealid",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getStage",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setStage",value:function(e){i.Message.setProto3StringField(this,2,e)}}],[{key:"toObject",value:function(e,t){var n={dealid:i.Message.getFieldWithDefault(t,1,""),stage:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setDealid(n);break;case 2:var i=t.readString();e.setStage(i);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getDealid()).length>0&&t.writeString(1,n),(n=e.getStage()).length>0&&t.writeString(2,n)}}]),n}(i.Message);t.ActiveCampaignEventResponse=b,b.displayName="ActiveCampaignEventResponse"},bvuB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Landing=void 0,n("8Y7J");var i=n("qCKp"),a=n("+6wJ"),r=n("eknx"),o=n("8Y7J"),s=function(){function e(t){m(this,e),this._ngZone=t}return h(e,[{key:"sendEmailVerification",value:function(e,t,n){var i,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(i=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,u=a.grpc.invoke(r.Landing.SendEmailVerification,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new a.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=a.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return i.cancel=function(){return u.close()},i}},{key:"createMinga",value:function(e,t,n,o,s){var l,c,u,g,d,p=this;if("function"==typeof t?(u=t,g=n,d=o):"function"==typeof n?(c=t,u=n,g=o,d=s):c=t,u)g||(g=function(e){return console.error(e)}),d||(d=function(e,t,n){});else{var m=new i.Subject;l=m.asObservable(),u=function(e){m.next(e)},g=function(e){m.error(e)},d=function(e,t,n){m.complete()}}var f=a.grpc.invoke(r.Landing.CreateMinga,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onMessage:function(e){return p._ngZone.run((function(){u(e)}))},onEnd:function(e,t,n){return p._ngZone.run((function(){if(e==a.grpc.Code.OK)d(e,t,n);else{var i=new Error(e+" "+(t||""));i.code=e,g(i)}}))}});return l.close=function(){return console.warn("[Angular Grpc] .close() is deprecated use .cancel() instead"),f.close()},l.cancel=function(){return f.close()},l}},{key:"verifyEmail",value:function(e,t,n){var i,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(i=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,u=a.grpc.invoke(r.Landing.VerifyEmail,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new a.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=a.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return i.cancel=function(){return u.close()},i}},{key:"verifyPinOrCode",value:function(e,t,n){var i,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(i=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,u=a.grpc.invoke(r.Landing.VerifyPinOrCode,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new a.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=a.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return i.cancel=function(){return u.close()},i}},{key:"verifyPinEmail",value:function(e,t,n){var i,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(i=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,u=a.grpc.invoke(r.Landing.VerifyPinEmail,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new a.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=a.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return i.cancel=function(){return u.close()},i}},{key:"updateActiveCampaign",value:function(e,t,n){var i,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(i=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,u=a.grpc.invoke(r.Landing.UpdateActiveCampaign,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new a.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=a.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return i.cancel=function(){return u.close()},i}}]),e}();t.Landing=s,s.\u0275fac=function(e){return new(e||s)(o.\u0275\u0275inject(o.NgZone))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},eknx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LandingClient=t.Landing=void 0;var i=n("N1Nl"),a=h((function e(){m(this,e)}));t.Landing=a,a.serviceName="minga.landing.Landing",a.SendEmailVerification={methodName:"SendEmailVerification",service:a,requestStream:!1,responseStream:!1,requestType:i.SendEmailVerificationRequest,responseType:i.SendEmailVerificationResponse},a.CreateMinga={methodName:"CreateMinga",service:a,requestStream:!1,responseStream:!0,requestType:i.CreateMingaRequest,responseType:i.CreateMingaResponse},a.VerifyEmail={methodName:"VerifyEmail",service:a,requestStream:!1,responseStream:!1,requestType:i.VerifyEmailRequest,responseType:i.VerifyEmailResponse},a.VerifyPinOrCode={methodName:"VerifyPinOrCode",service:a,requestStream:!1,responseStream:!1,requestType:i.VerifyPinOrCodeRequest,responseType:i.VerifyPinOrCodeResponse},a.VerifyPinEmail={methodName:"VerifyPinEmail",service:a,requestStream:!1,responseStream:!1,requestType:i.VerifyPinEmailRequest,responseType:i.VerifyPinEmailResponse},a.UpdateActiveCampaign={methodName:"UpdateActiveCampaign",service:a,requestStream:!1,responseStream:!1,requestType:i.ActiveCampaignEventRequest,responseType:i.ActiveCampaignEventResponse},t.LandingClient=function(){function e(){m(this,e)}return h(e,[{key:"sendEmailVerification",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"createMinga",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"verifyEmail",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"verifyPinOrCode",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"verifyPinEmail",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"updateActiveCampaign",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}()},fs83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarCollectionClient=t.AvatarCollection=void 0;var i=n("ipOR"),a=h((function e(){m(this,e)}));t.AvatarCollection=a,a.serviceName="minga.AvatarCollection",a.GetAvatars={methodName:"GetAvatars",service:a,requestStream:!1,responseStream:!1,requestType:i.AvatarCollectionGetAvatarsRequest,responseType:i.AvatarCollectionGetAvatarsResponse},t.AvatarCollectionClient=function(){function e(){m(this,e)}return h(e,[{key:"getAvatars",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}()},ipOR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarCollectionGetAvatarsResponse=t.AvatarCollectionGetAvatarsRequest=void 0;var i=n("hRO2"),r=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,null,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}}],[{key:"toObject",value:function(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){}}]),n}(i.Message);t.AvatarCollectionGetAvatarsRequest=r,r.displayName="AvatarCollectionGetAvatarsRequest";var s=function(e){a(n,e);var t=o(n);function n(e){var a;return m(this,n),a=t.call(this),i.Message.initialize(l(a),e,0,-1,n.repeatedFields_,null),a}return h(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getAvatarAssetIdList",value:function(){return i.Message.getRepeatedField(this,1)}},{key:"setAvatarAssetIdList",value:function(e){i.Message.setField(this,1,e||[])}},{key:"addAvatarAssetId",value:function(e,t){i.Message.addToRepeatedField(this,1,e,t)}},{key:"clearAvatarAssetIdList",value:function(){this.setAvatarAssetIdList([])}}],[{key:"toObject",value:function(e,t){var n,a={avatarAssetIdList:null==(n=i.Message.getRepeatedField(t,1))?void 0:n};return e&&(a.$jspbMessageInstance=t),a}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),a=new n;return n.deserializeBinaryFromReader(a,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.addAvatarAssetId(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getAvatarAssetIdList()).length>0&&t.writeRepeatedString(1,n)}}]),n}(i.Message);t.AvatarCollectionGetAvatarsResponse=s,s.displayName="AvatarCollectionGetAvatarsResponse",s.repeatedFields_=[1]}}])}();
//# sourceMappingURL=minga-app-src-app-landing2-Landing2-module-es5.js.map