(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{IPaV:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("mrSG"),i=n("8Y7J"),o=n("QPZY"),s=n("mI3D"),a=n("ypKM"),l=n("Tcc+");let d=(()=>{class e{constructor(e,t){this.errorReporter=e,this.analytics=t}sendErrorReport(e,t,n=0){return Object(r.a)(this,void 0,void 0,(function*(){let r=new s.ErrorReportRequest,i=new s.ErrorReportResponse;console.log("GRPCErrorReportRequest: ",r),console.log("GRPCErrorReportResponse: ",i),this.analytics.sendException(`[${e}]: ${t}`,n),r.setErrorPriority(n),r.setErrorMessage(t),r.setErrorContext(e),i=yield this.errorReporter.sendErrorReport(r).catch(e=>{console.error("[ErrorReporter] sendErrorReport error",e);let t=new s.ErrorReportResponse;return t.setStatus(o.StatusCode.ERROR),t}),console.log("Error Response Status:",i.getStatus()),console.log("Error Response error_handler_override:",i.getErrorHandlerOverride())}))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.ErrorReporter),i["\u0275\u0275inject"](l.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XMmb:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return m.a}));var r=n("SVse"),i=n("8Y7J"),o=n("s7LF"),s=n("Q2Ze"),a=n("Tj54"),l=n("e6WT"),d=n("TSSN"),c=n("CO6v"),p=n("HxU+"),u=n("ls3q"),h=n("7Tcv"),m=n("dhKc");let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[h.a,u.a,p.a,c.a,o.m,o.A,s.f,l.c,a.b,r.c,d.c]]}),e})()},dfi4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReporterClient=t.LocaleSyncClient=t.AppConfigClient=t.ErrorReporter=t.LocaleSync=t.AppConfig=void 0;const r=n("mI3D");class i{}t.AppConfig=i,i.serviceName="AppConfig",i.getAppConfig={methodName:"getAppConfig",service:i,requestStream:!1,responseStream:!1,requestType:r.AppConfigRequest,responseType:r.AppConfigResponse};class o{}t.LocaleSync=o,o.serviceName="LocaleSync",o.getLocaleSync={methodName:"getLocaleSync",service:o,requestStream:!1,responseStream:!1,requestType:r.LocaleSyncRequest,responseType:r.LocaleSyncResponse};class s{}t.ErrorReporter=s,s.serviceName="ErrorReporter",s.sendErrorReport={methodName:"sendErrorReport",service:s,requestStream:!1,responseStream:!1,requestType:r.ErrorReportRequest,responseType:r.ErrorReportResponse},t.AppConfigClient=class{getAppConfig(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},t.LocaleSyncClient=class{getLocaleSync(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},t.ErrorReporterClient=class{sendErrorReport(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},dhKc:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return T}));var r=n("8Y7J"),i=n("s7LF"),o=n("Ggka"),s=n("QPZY"),a=n("mI3D"),l=n("NG82"),d=n("IPaV"),c=n("Q2Ze"),p=n("i1AJ"),u=n("SVse"),h=n("e6WT"),m=n("Tj54"),g=n("sj4O"),f=n("4avL"),w=n("TSSN");const C=["inputElement"],v=["inputMatElement"],E=["formFieldElement"];function S(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon"),r["\u0275\u0275text"](1,"done"),r["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon"),r["\u0275\u0275text"](1,"error_outline"),r["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&r["\u0275\u0275element"](0,"mg-spinner",9)}function b(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mg-button",10),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"button.changePassword")))}function _(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275elementStart"](1,"mat-icon",12),r["\u0275\u0275listener"]("mousedown",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().togglePasswordVisibility()})),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.passwordIcon)}}function M(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.password.error.maxlength")," "))}function I(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.password.error.minlength")," "))}function A(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.password.error.pattern")," "))}function V(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind2"](2,1,"form.saveFieldFail",e.translateParams)," ")}}function x(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"input.password.error.required")," "))}function P(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275elementContainerStart"](1,13),r["\u0275\u0275template"](2,M,3,3,"span",14),r["\u0275\u0275template"](3,I,3,3,"span",14),r["\u0275\u0275template"](4,A,3,3,"span",14),r["\u0275\u0275template"](5,V,3,4,"span",14),r["\u0275\u0275template"](6,x,3,3,"span",14),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitch",e.passwordControlErrorKey),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","maxlength"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","minlength"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","pattern"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","savePassword"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","required")}}const N=function(e){return{"click-state":e}},O="**********",L={provide:i.r,useExisting:Object(r.forwardRef)(()=>T),multi:!0},q={provide:i.q,useExisting:Object(r.forwardRef)(()=>T),multi:!0};var k=function(e){return e[e.SAVING=1]="SAVING",e[e.SAVED=2]="SAVED",e[e.ERROR=3]="ERROR",e[e.NA=4]="NA",e}({});let T=(()=>{class e{constructor(e,t,n,o){this.cdr=e,this.managerService=t,this.errorReporting=n,this.inj=o,this.disabled=!1,this.editMode=!1,this.inputName="passwordComponent",this.enableReadOnlyState=!window.MINGA_DEVICE_ANDROID&&!window.MINGA_DEVICE_IOS,this.passwordIcon="visibility",this.passwordVisible=!1,this.inputType="password",this.editing=!1,this.onBlurEvent=new r.EventEmitter,this.saveStatus=k.NA,this.translateParams={value:"password"},this.SaveState=k,this._initEditString=O,this.disableBlur=!1,this.matcher=null,this.required=!0,this.initialHint="",this.validation=!0,this.hints=!0,this.initialUnset=!1,this.mgNoHintMargin=!1,this.errorStateMatcher=null,this.floatLabel="always",this._hasFocus=!1,this.cancelEdit=()=>{this.initEditMode(!1)},this.savePassword=(e,t="")=>(this.editing=!1,this.saveStatus=k.SAVING,this.passwordControl.markAsPending(),new Promise((t,n)=>{let r=()=>{this.saveStatus=k.ERROR,this.passwordControl.setErrors({savePassword:!0}),n("Failed to save password.")};if(!e)return console.warn("[Password]savePassword() attempted to save password with no indentiy hash"),this.errorReporting.sendErrorReport("client Password.component","attempted to save password with no indentiy hash",a.errorPriority.WARN),r();this.managerService.updatePerson({password:this.innerValue},e).then(e=>{e.getStatus()==s.StatusCode.OK?(this.saveStatus=k.SAVED,this.togglePasswordVisibility(!1),t(null)):(console.warn("[Password]savePassword() non OK response",e.toObject()),r())})})),this.outerControl=new i.h}get hintText(){return!this.initialHint||this._hasFocus?this.hints&&this._hasFocus?"Choose a mix of 4 to 16 letters and numbers":"":this.initialHint}validate(e){return this.passwordControl.errors}ngOnInit(){this.passwordControl=new i.h({disabled:this.disabled}),this._formGroup=new i.k({inputControl:this.passwordControl}),this._initOuterControl(),this.passwordControl.setValue(this.innerValue),this.passwordControl.statusChanges.subscribe(e=>{"function"==typeof this.onChange&&e!=this._prevStatus&&this.innerValue!=this._initEditString?this.passwordControl.pristine?setTimeout(()=>{this.onChange(this.innerValue),this.outerControl.markAsPristine(),this.formFieldElementRef._elementRef.nativeElement.classList.remove("mat-form-field-invalid")}):(this._prevStatus=e,this.onChange&&(this.onChange(this.innerValue),this.onTouched()),this.passwordControl.errors?this.formFieldElementRef._elementRef.nativeElement.classList.add("mat-form-field-invalid"):this.formFieldElementRef._elementRef.nativeElement.classList.remove("mat-form-field-invalid")):this.innerValue==this._initEditString&&(this.outerControl.markAsPristine(),this.passwordControl.markAsPristine())}),this.editMode?this.initEditMode():this._setValidators()}ngOnChanges(e){e.initialUnset&&this.writeValue(this.initialUnset?this.innerValue:this._initEditString)}get passwordRequired(){return this.passwordControl.errors&&this.passwordControl.errors.required}get passwordControlErrorKey(){let e=this.passwordControl.errors?Object.keys(this.passwordControl.errors)[0]:"",t=this.outerControl.errors?Object.keys(this.outerControl.errors)[0]:"";return e||t}_setValidators(){let e=[];this.required&&e.push(i.D.required),this.validation&&(e.push(i.D.minLength(4)),e.push(i.D.maxLength(16)),e.push(o.a.NoSymbolsOneLetterOneNumber)),this.passwordControl.setValidators(e)}_initOuterControl(){let e=this.inj.get(i.s);e&&e.control&&(this.outerControl=e.control),this.outerControl.statusChanges.subscribe(e=>{this.outerControl.errors&&0==!!this.passwordControl.errors?this.outerErrors=this.outerControl.errors:!this.outerControl.errors&&this.outerErrors&&(this.outerErrors=null)})}writeValue(e){"string"==typeof e&&(this.passwordControl.pristine&&this.editMode&&(e=this.initialUnset?null:this._initEditString),this.innerValue=e,this.passwordControl.setValue(e))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}change(e){this.innerValue=e,this.onChange&&this.onChange(e)}togglePasswordVisibility(e=!this.passwordVisible){this.disabled||(this.disableBlur=!0,this.passwordVisible=e,this.passwordVisible?(this.passwordIcon="visibility_off",this.inputType="text"):(this.passwordIcon="visibility",this.inputType="password"),setTimeout(()=>{this.disableBlur=!1},300))}initEditMode(e=!0,t=this._initEditString){this.saveStatus=k.NA,e||(this.passwordControl.clearValidators(),this._formGroup.reset()),this.editing=!1,this.innerValue=t,this.togglePasswordVisibility(!1)}onBlur(e){this._hasFocus=!1,this.disableBlur||this.onBlurEvent.emit(e),this.passwordControl.errors&&this.formFieldElementRef._elementRef.nativeElement.classList.add("mat-form-field-invalid")}onFocus(e){this._hasFocus=!0,this.disableBlur=!1,this.enableEditClick()}enableEditClick(){this.disabled||!this.editMode||this.editing||(this.initEditMode(!1,""),this._setValidators(),this.editing=!0,"function"==typeof this.editClick&&this.editClick())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](r.Injector))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-password"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](C,3),r["\u0275\u0275viewQuery"](v,3),r["\u0275\u0275viewQuery"](E,3)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.inputElementRef=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.inputMatElementRef=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.formFieldElementRef=e.first)}},inputs:{disabled:"disabled",editMode:"editMode",inputName:["name","inputName"],editClick:"editClick",required:"required",initialHint:"initialHint",validation:"validation",hints:"hints",initialUnset:"initialUnset",mgNoHintMargin:"mgNoHintMargin",errorStateMatcher:"errorStateMatcher",floatLabel:"floatLabel"},outputs:{onBlurEvent:"blur"},features:[r["\u0275\u0275ProvidersFeature"]([L,q]),r["\u0275\u0275NgOnChangesFeature"]],decls:14,vars:19,consts:[["mgFormField","","hideRequiredMarker","",1,"mg-password",3,"ngClass","hintLabel","mgNoHintMargin","floatLabel","click"],["formFieldElement",""],["matInput","","autocorrect","off","autocapitalize","none",3,"formControl","ngModel","readonly","autocomplete","required","errorStateMatcher","ngModelChange","blur","focus"],["inputElement","","inputMatElement","matInput"],["mat-icon-button","","matSuffix","",1,"input-icon"],[4,"ngIf"],["color","primary","mode","indeterminate","diameter","25",4,"ngIf"],["type","text","matSuffix","","class","mg-minicopy",4,"ngIf"],["class","input-icon","matSuffix","",4,"ngIf"],["color","primary","mode","indeterminate","diameter","25"],["type","text","matSuffix","",1,"mg-minicopy"],["matSuffix","",1,"input-icon"],[1,"clickable",3,"mousedown"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0,1),r["\u0275\u0275listener"]("click",(function(){return t.enableEditClick()})),r["\u0275\u0275elementStart"](2,"mat-label"),r["\u0275\u0275text"](3,"Password"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"input",2,3),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.change(e)}))("ngModelChange",(function(e){return t.innerValue=e}))("blur",(function(e){return t.onBlur(e)}))("focus",(function(e){return t.onFocus(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",4),r["\u0275\u0275template"](8,S,2,0,"mat-icon",5),r["\u0275\u0275template"](9,y,2,0,"mat-icon",5),r["\u0275\u0275template"](10,R,1,0,"mg-spinner",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](11,b,3,3,"mg-button",7),r["\u0275\u0275template"](12,_,3,1,"div",8),r["\u0275\u0275template"](13,P,7,6,"mat-error",5),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](17,N,t.editMode&&!t.editing))("hintLabel",t.hintText)("mgNoHintMargin",t.mgNoHintMargin)("floatLabel",t.floatLabel),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("formControl",t.passwordControl)("ngModel",t.innerValue)("readonly",t.enableReadOnlyState&&t.editMode&&!t.editing)("autocomplete",t.inputName)("required",t.required)("errorStateMatcher",t.errorStateMatcher),r["\u0275\u0275attribute"]("type",t.inputType),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",t.saveStatus==t.SaveState.SAVED),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.saveStatus==t.SaveState.ERROR),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.saveStatus==t.SaveState.SAVING),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.editMode&&!t.editing),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.editMode||t.editMode&&t.editing&&t.saveStatus==t.SaveState.NA),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.passwordControl.invalid&&(t.passwordControl.dirty||t.passwordControl.touched)))},directives:[c.d,p.a,u.m,c.h,h.b,i.d,i.t,i.i,i.B,c.j,u.o,m.a,g.a,f.a,c.c,u.q,u.r],pipes:[w.d],styles:["[_nghost-%COMP%]   .click-state[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .click-state[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})()},ypKM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorReporter=t.LocaleSync=t.AppConfig=void 0,n("8Y7J");const r=n("+6wJ"),i=n("dfi4"),o=n("8Y7J");class s{constructor(e){this._ngZone=e}getAppConfig(e,t,n){let o,s,a;"function"==typeof t?s=t:(a=t,s=n),s||(o=new Promise((e,t)=>{s=(n,r)=>{n?t(n):e(r)}}));let l=null,d=r.grpc.invoke(i.AppConfig.getAppConfig,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:a,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{s(null,e,l||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,s(n)}})});return o.cancel=()=>d.close(),o}}t.AppConfig=s,s.\u0275fac=function(e){return new(e||s)(o.\u0275\u0275inject(o.NgZone))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"});class a{constructor(e){this._ngZone=e}getLocaleSync(e,t,n){let o,s,a;"function"==typeof t?s=t:(a=t,s=n),s||(o=new Promise((e,t)=>{s=(n,r)=>{n?t(n):e(r)}}));let l=null,d=r.grpc.invoke(i.LocaleSync.getLocaleSync,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:a,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{s(null,e,l||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,s(n)}})});return o.cancel=()=>d.close(),o}}t.LocaleSync=a,a.\u0275fac=function(e){return new(e||a)(o.\u0275\u0275inject(o.NgZone))},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"});class l{constructor(e){this._ngZone=e}sendErrorReport(e,t,n){let o,s,a;"function"==typeof t?s=t:(a=t,s=n),s||(o=new Promise((e,t)=>{s=(n,r)=>{n?t(n):e(r)}}));let l=null,d=r.grpc.invoke(i.ErrorReporter.sendErrorReport,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:a,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{s(null,e,l||new r.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=r.grpc.Code.OK){let n=new Error(t);n.code=e,s(n)}})});return o.cancel=()=>d.close(),o}}t.ErrorReporter=l,l.\u0275fac=function(e){return new(e||l)(o.\u0275\u0275inject(o.NgZone))},l.\u0275prov=o.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}]);
//# sourceMappingURL=default~minga-app-src-app-landing-Landing-module~minga-app-src-app-landing2-Landing2-module~minga-ap~475518d9-es2015.js.map