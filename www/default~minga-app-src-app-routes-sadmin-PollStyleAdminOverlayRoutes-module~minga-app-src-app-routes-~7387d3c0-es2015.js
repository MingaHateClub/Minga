(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{NKVt:function(e,t,n){"use strict";n.r(t),n.d(t,"routes",(function(){return ln})),n.d(t,"SuperAdminRoutesModule",(function(){return sn}));var r=n("8Y7J"),i=n("iInd"),a=n("TSSN"),o=n("oTGS"),c=n("6ra5"),l=n("vCJc"),s=n("Fawd"),d=n("TNy8"),m=n("Fudl"),p=n("bCM0"),u=n("s7LF"),g=n("cKGL"),h=n("o4Yh"),f=n("SVse"),v=n("2nPA"),b=n("HQAS"),y=n("0cKA"),x=n("pMoy"),S=n("xiiZ");function C(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"p",11),r["\u0275\u0275elementStart"](1,"mat-checkbox",12),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().showArchived=t})),r["\u0275\u0275text"](2,"Show only archived"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModel",e.showArchived)}}const k=function(){return{standalone:!0}};function M(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275elementStart"](1,"mat-checkbox",13),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.$implicit.enabled=e}))("ngModelChange",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"]().categoryToggle(i.value,n)})),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModelOptions",r["\u0275\u0275pureFunction0"](3,k))("ngModel",e.enabled),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.name," ")}}const O=function(){return["banner","editor"]},E=function(e){return{o:e}},P=function(e){return{outlets:e}},I=function(e){return["",e]};function w(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",14),r["\u0275\u0275elementStart"](1,"div",15),r["\u0275\u0275elementStart"](2,"mg-icon"),r["\u0275\u0275text"](3,"post"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](6,I,r["\u0275\u0275pureFunction1"](4,P,r["\u0275\u0275pureFunction1"](2,E,r["\u0275\u0275pureFunction0"](1,O))))))}const _=function(e){return["banner","view",e]};function A(e,t){if(1&e&&r["\u0275\u0275element"](0,"mg-banner-preview",16),2&e){const e=t.$implicit;r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](8,I,r["\u0275\u0275pureFunction1"](6,P,r["\u0275\u0275pureFunction1"](4,E,r["\u0275\u0275pureFunction1"](2,_,e.bannerHash)))))("banner",e)}}const F=function(e,t,n){return{query:e,archived:t,categories:n}};let j=(()=>{class e{constructor(e,t){this.router=e,this.bannerLibrary=t,this.bannerSearchInput="",this.bannerSearchQuery="",this.showArchived=!1,this.categories=[{name:"Art",value:s.Banner.Category.ART},{name:"Causes",value:s.Banner.Category.CAUSES},{name:"Food",value:s.Banner.Category.FOOD},{name:"General",value:s.Banner.Category.GENERAL},{name:"School Events",value:s.Banner.Category.SCHOOL_EVENTS},{name:"Seasonal",value:s.Banner.Category.SEASONAL},{name:"Sports",value:s.Banner.Category.SPORTS}],this.filterCategories=[]}categoryToggle(e,t){if(t)this.filterCategories.push(e);else{const t=this.filterCategories.indexOf(e);t>-1&&this.filterCategories.splice(t,1)}}onItemClick(e){this.router.navigate(["/sadmin/",{outlets:{o:["banner","view",e.model.item.data.bannerHash]}}])}onKeypress(e){"Enter"===e.key&&this.commitSearchInput()}commitSearchInput(){clearTimeout(this._debounceTimeout),this.bannerSearchQuery=this.bannerSearchInput}debounceSearchInput(){clearTimeout(this._debounceTimeout),this._debounceTimeout=setTimeout(()=>{this.commitSearchInput()},300)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.g),r["\u0275\u0275directiveInject"](d.BannerLibrary))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-admin-banner-library"]],decls:20,vars:14,consts:[[1,"mg-headline","page-header"],[1,"default-icon"],[1,"banner-search","mg-smallcopy"],["placeholder","Search by keyword",3,"mgNoHintMargin","ngModel","ngModelOptions","keypress","ngModelChange"],["class","search-ctrl archived-checkbox",4,"hasPermission"],[1,"search-ctrl"],[4,"ngFor","ngForOf"],["class","search-ctrl banner-search-results mg-centered",4,"hasPermission"],["mgStreamControl","BannerLibrary","rpcStream","search","rpcControl","searchControl",3,"filter","service","grid"],["mgStreamItem",""],["mg-stream-empty","",1,"mg-centered","mg-minicopy"],[1,"search-ctrl","archived-checkbox"],[3,"ngModel","ngModelChange"],[3,"ngModelOptions","ngModel","ngModelChange"],[1,"search-ctrl","banner-search-results","mg-centered"],[1,"banner-search-results-item","add",3,"routerLink"],[3,"routerLink","banner"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",0),r["\u0275\u0275elementStart"](1,"mg-icon",1),r["\u0275\u0275text"](2,"banner-select-o"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](3," Banner Manager\n"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275elementStart"](5,"mg-search",3),r["\u0275\u0275listener"]("keypress",(function(e){return t.onKeypress(e)}))("ngModelChange",(function(){return t.debounceSearchInput()}))("ngModelChange",(function(e){return t.bannerSearchInput=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,C,3,1,"p",4),r["\u0275\u0275elementStart"](7,"div",5),r["\u0275\u0275elementStart"](8,"mat-accordion"),r["\u0275\u0275elementStart"](9,"mat-expansion-panel"),r["\u0275\u0275elementStart"](10,"mat-expansion-panel-header"),r["\u0275\u0275elementStart"](11,"mat-panel-title"),r["\u0275\u0275text"](12,"Filter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](13,M,3,4,"div",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](14,w,4,8,"div",7),r["\u0275\u0275elementStart"](15,"div"),r["\u0275\u0275elementStart"](16,"mg-stream-scroller",8),r["\u0275\u0275template"](17,A,1,10,"ng-template",9),r["\u0275\u0275elementStart"](18,"p",10),r["\u0275\u0275text"](19," There is nothing here "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("mgNoHintMargin",!0)("ngModel",t.bannerSearchInput)("ngModelOptions",r["\u0275\u0275pureFunction0"](9,k)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("hasPermission","SUPERADMIN"),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngForOf",t.categories),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("hasPermission","SUPERADMIN"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("filter",r["\u0275\u0275pureFunction3"](10,F,t.bannerSearchQuery,t.showArchived,t.filterCategories.join()))("service",t.bannerLibrary)("grid",!0))},directives:[m.a,p.a,u.t,u.w,g.a,h.a,h.c,h.f,h.g,f.n,v.a,b.a,y.a,x.a,i.h,S.a],styles:["[_nghost-%COMP%]{background-color:#fff}.search-ctrl[_ngcontent-%COMP%]{margin:16px}.banner-search-results-item[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:8px 0;border-radius:8px;width:128px;height:72px;background-color:#ccc;cursor:pointer;background-size:cover;background-position:50%}.banner-search-results-item[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;color:#fff;box-sizing:border-box}.banner-search-results-item.add[_ngcontent-%COMP%]{width:unset;display:block;background-color:#fff;border:1px solid #737373}.banner-search-results-item.add[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{color:#737373;transition:transform .2s ease}.banner-search-results-item.add[_ngcontent-%COMP%]:hover   mg-icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1.2)}.page-header[_ngcontent-%COMP%]{margin:16px 0;font-weight:400}@media (min-width:600px){.page-header[_ngcontent-%COMP%]{margin:28px var(--feed-item-margin-side,8px) 16px var(--feed-item-margin-side,8px)}}@media (max-width:599px){.page-header[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:8px}}.banner-search[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px}.banner-search[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{padding-top:16px}.banner-search[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{padding-bottom:16px}.banner-search[_ngcontent-%COMP%]   .archived-checkbox[_ngcontent-%COMP%]{text-align:right}.banner-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding:0;margin:16px auto;width:calc(100% - 32px);display:block}"]}),e})();var L=n("u9T3"),N=n("m9yI"),T=n("cbZm"),D=n("bo7O"),$=n("ls3q"),R=n("Vwx4");let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[$.a,T.a,N.b,D.a,R.b,f.c,u.m,i.k,L.a,h.b,x.b]]}),e})();var H=n("M9ds"),U=n("jtHE"),B=n("Cfvw"),z=n("lJxs"),q=n("1G5W"),G=n("pLZG"),Q=n("JX91"),J=n("eIep"),K=n("Nhcz"),Y=n("Hp2Z"),Z=n("YnAW"),W=n("sj4O");function X(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mg-minga-designer-theme-card",7),r["\u0275\u0275elementStart"](2,"strong"),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("routerLink",e.editRouterLink)("imageUrl",e.featuredImageUrl),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.title)}}function ee(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"p",8),r["\u0275\u0275text"](2,"No themes available"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]())}function te(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",2),r["\u0275\u0275elementStart"](1,"div",3),r["\u0275\u0275element"](2,"mg-button-icon",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,X,4,3,"ng-container",5),r["\u0275\u0275template"](4,ee,3,0,"ng-container",6),r["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("routerLink",n.createThemRouterLink),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",e),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",0==e.length)}}function ne(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",8),r["\u0275\u0275element"](1,"mg-spinner"),r["\u0275\u0275elementEnd"]())}function re(e){return Object.assign(Object.assign({},e),{editRouterLink:["",{outlets:{o:["studio-backend","theme","edit",e.themeId]}}]})}let ie=(()=>{class e{constructor(e,t){this.mingaDesigner=e,this._destroyed$=new U.a(1),this.createThemRouterLink=["",{outlets:{o:["studio-backend","theme","create"]}}];const n=()=>Object(B.a)(this.mingaDesigner.getThemes()).pipe(Object(z.a)(e=>e.map(re)));this.themes$=t.events.pipe(Object(q.a)(this._destroyed$),Object(G.a)(e=>(e=>e instanceof i.c&&"/sadmin/studio-backend"===e.urlAfterRedirects)(e)),Object(Q.a)(n()),Object(J.a)(n))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.MingaDesignerService),r["\u0275\u0275directiveInject"](i.g))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-minga-designer-backend-themes"]],decls:4,vars:4,consts:[["class","grid-container","gdColumns","repeat(auto-fill, minmax(160px, 1fr))","gdGap","8px 8px",4,"ngIf","ngIfElse"],["loadingThemes",""],["gdColumns","repeat(auto-fill, minmax(160px, 1fr))","gdGap","8px 8px",1,"grid-container"],[1,"add-new-theme","mg-button-hover-harbour",3,"routerLink"],["icon","post"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink","imageUrl"],[1,"mg-centered"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,te,5,3,"div",0),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275template"](2,ne,2,0,"ng-template",null,1,r["\u0275\u0275templateRefExtractor"])),2&e){const e=r["\u0275\u0275reference"](3);r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](1,2,t.themes$))("ngIfElse",e)}},directives:[f.o,K.d,K.b,i.h,Y.a,f.n,Z.a,W.a],pipes:[f.b],styles:["mg-button[_ngcontent-%COMP%]{margin:16px}mg-minga-designer-theme-card[_ngcontent-%COMP%]{display:block;cursor:pointer;font-size:60%}.grid-container[_ngcontent-%COMP%]{margin:16px}.add-new-theme[_ngcontent-%COMP%]{cursor:pointer;background-color:#fff;border-radius:6px;border:1px solid #d3d3d3;position:relative;--mg-icon-size:40px}.add-new-theme[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"],changeDetection:0}),e})();var ae=n("2Vo4"),oe=n("KNwe");function ce(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275text"](1," FEATURED "),r["\u0275\u0275elementEnd"]())}function le(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",12),r["\u0275\u0275text"](1," ARCHIVED "),r["\u0275\u0275elementEnd"]())}const se=function(e){return["studio-backend","template","edit",e]},de=function(e){return{o:e}},me=function(e){return{outlets:e}},pe=function(e){return["",e]};function ue(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",6),r["\u0275\u0275elementStart"](1,"div",7),r["\u0275\u0275template"](2,ce,2,0,"div",8),r["\u0275\u0275template"](3,le,2,0,"div",9),r["\u0275\u0275element"](4,"mg-designed-svg-viewer",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.featured&&!e.archived),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.archived),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](10,pe,r["\u0275\u0275pureFunction1"](8,me,r["\u0275\u0275pureFunction1"](6,de,r["\u0275\u0275pureFunction1"](4,se,e.templateId)))))("designedSvgSrc",e.templateSvgUrl)}}function ge(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"p",13),r["\u0275\u0275text"](2,"No templates available"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]())}function he(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,ue,5,12,"div",4),r["\u0275\u0275template"](2,ge,3,0,"ng-container",5),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e)("ngForTrackBy",n.trackByFn),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",0==e.length)}}function fe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",13),r["\u0275\u0275element"](1,"mg-spinner"),r["\u0275\u0275elementEnd"]())}let ve=(()=>{class e{constructor(e,t){this.mingaDesigner=e,this.templateCreateRouterLink=["",{outlets:{o:["studio-backend","template","create"]}}],this._destroyed$=new U.a(1),this.trackByFn=(e,t)=>t.templateId,this.includeArchived$=new ae.a(!1);const n=()=>this.includeArchived$.pipe(Object(J.a)(e=>Object(B.a)(this.mingaDesigner.getTemplates({includeArchived:e}))));this.templates$=t.events.pipe(Object(q.a)(this._destroyed$),Object(G.a)(e=>(e=>e instanceof i.c&&"/sadmin/studio-backend"===e.urlAfterRedirects)(e)),Object(Q.a)(n()),Object(J.a)(n))}set includeArchived(e){this.includeArchived$.next(e)}get includeArchived(){return this.includeArchived$.getValue()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.MingaDesignerService),r["\u0275\u0275directiveInject"](i.g))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-minga-designer-backend-templates"]],inputs:{includeArchived:"includeArchived"},decls:8,vars:5,consts:[["gdColumns","repeat(auto-fill, minmax(120px, 1fr))","gdGap","8px 8px",1,"templates-container"],[1,"add-svg",3,"routerLink"],[4,"ngIf","ngIfElse"],["loadingTemplates",""],["class","item-wrap",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"item-wrap"],[1,"designed-svg-item"],["class","svg-template-featured",4,"ngIf"],["class","svg-template-featured archived",4,"ngIf"],[3,"routerLink","designedSvgSrc"],[1,"svg-template-featured"],[1,"svg-template-featured","archived"],[1,"mg-centered"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"mg-icon"),r["\u0275\u0275text"](3,"post"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](4,he,3,3,"ng-container",2),r["\u0275\u0275pipe"](5,"async"),r["\u0275\u0275template"](6,fe,2,0,"ng-template",null,3,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](7);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("routerLink",t.templateCreateRouterLink),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](5,3,t.templates$))("ngIfElse",e)}},directives:[K.d,K.b,i.h,m.a,f.o,f.n,oe.a,W.a],pipes:[f.b],styles:[".templates-container[_ngcontent-%COMP%]{margin:16px}.add-svg[_ngcontent-%COMP%]{position:relative;background-color:#fff;border:1px solid #ccc;border-radius:6px;cursor:pointer;--mg-icon-size:40px}.add-svg[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.designed-svg-item[_ngcontent-%COMP%]{display:block;position:relative;border-radius:6px;overflow:hidden;cursor:pointer}.svg-template-featured[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;padding:8px 16px;background-color:#93f;border-radius:6px;color:#fff;font-weight:700;font-size:12px;-webkit-user-select:none;user-select:none}.svg-template-featured.archived[_ngcontent-%COMP%]{background-color:grey}"],changeDetection:0}),e})();var be=n("VDRc");function ye(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275text"](1," ARCHIVED "),r["\u0275\u0275elementEnd"]())}const xe=function(e){return["studio-backend","stock-photo","edit",e]},Se=function(e){return{o:e}},Ce=function(e){return{outlets:e}},ke=function(e){return["",e]};function Me(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",1),r["\u0275\u0275elementStart"](1,"div",8),r["\u0275\u0275template"](2,ye,2,0,"div",9),r["\u0275\u0275element"](3,"div",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.archived),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background-image","url("+e.photoUrl+")"),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](10,ke,r["\u0275\u0275pureFunction1"](8,Ce,r["\u0275\u0275pureFunction1"](6,Se,r["\u0275\u0275pureFunction1"](4,xe,e.photoId)))))}}function Oe(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275element"](1,"div",1),r["\u0275\u0275elementContainerEnd"]())}function Ee(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"p",12),r["\u0275\u0275text"](2,"No photos available"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]())}function Pe(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,Me,4,12,"div",6),r["\u0275\u0275template"](2,Oe,2,0,"ng-container",7),r["\u0275\u0275template"](3,Ee,3,0,"ng-container",7),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.length%2==0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",0==e.length)}}function Ie(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",12),r["\u0275\u0275element"](1,"mg-spinner"),r["\u0275\u0275elementEnd"]())}const we=function(){return["studio-backend","stock-photo","create"]};let _e=(()=>{class e{constructor(e){this.mingaDesigner=e,this.includeArchived$=new ae.a(!1),this.stockPhotos$=this.includeArchived$.pipe(Object(J.a)(e=>Object(B.a)(this.mingaDesigner.getStockPhotos({includeArchived:e}))))}set includeArchived(e){this.includeArchived$.next(e)}get includeArchived(){return this.includeArchived$.getValue()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.MingaDesignerService))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-minga-designer-backend-stock-photos"]],inputs:{includeArchived:"includeArchived"},decls:11,vars:12,consts:[["fxLayout","row wrap","fxLayoutAlign","center stretch"],["fxFlex","50%",1,"item-wrap"],["fxLayout","column","fxLayoutAlign","center center",1,"stock-photo-item","add-svg",3,"routerLink"],["fxFlex","auto"],[4,"ngIf","ngIfElse"],["loadingPhotos",""],["class","item-wrap","fxFlex","50%",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"stock-photo-item"],["class","photo-featured archived",4,"ngIf"],[1,"stock-photo-bg",3,"routerLink"],[1,"photo-featured","archived"],[1,"mg-centered"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275element"](3,"div",3),r["\u0275\u0275elementStart"](4,"mg-icon"),r["\u0275\u0275text"](5,"post"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](6,"div",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,Pe,4,3,"ng-container",4),r["\u0275\u0275pipe"](8,"async"),r["\u0275\u0275template"](9,Ie,2,0,"ng-template",null,5,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](10);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](10,ke,r["\u0275\u0275pureFunction1"](8,Ce,r["\u0275\u0275pureFunction1"](6,Se,r["\u0275\u0275pureFunction0"](5,we))))),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](8,3,t.stockPhotos$))("ngIfElse",e)}},directives:[be.e,be.d,be.b,i.h,m.a,f.o,f.n,W.a],pipes:[f.b],styles:[".stock-photo-item[_ngcontent-%COMP%]{display:block;position:relative;border-radius:6px;overflow:hidden;margin:16px;cursor:pointer}.stock-photo-item.add-svg[_ngcontent-%COMP%]{height:calc(100% - 32px);background-color:#fff;border:1px solid #ccc;--mg-icon-size:50px}.photo-featured[_ngcontent-%COMP%], .stock-photo-item[_ngcontent-%COMP%]:not(.add-svg){-webkit-user-select:none;user-select:none}.photo-featured[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;padding:8px 16px;background-color:#93f;border-radius:6px;color:#fff;font-weight:700;font-size:12px}.photo-featured.archived[_ngcontent-%COMP%]{background-color:grey}.stock-photo-bg[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;padding:100px 50px}"],changeDetection:0}),e})();function Ae(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275text"](1," ARCHIVED "),r["\u0275\u0275elementEnd"]())}const Fe=function(e){return["studio-backend","stock-sticker","edit",e]},je=function(e){return{o:e}},Le=function(e){return{outlets:e}},Ne=function(e){return["",e]};function Te(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",1),r["\u0275\u0275elementStart"](1,"div",8),r["\u0275\u0275template"](2,Ae,2,0,"div",9),r["\u0275\u0275element"](3,"div",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.archived),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background-image","url("+e.stickerUrl+")"),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](10,Ne,r["\u0275\u0275pureFunction1"](8,Le,r["\u0275\u0275pureFunction1"](6,je,r["\u0275\u0275pureFunction1"](4,Fe,e.stickerId)))))}}function De(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275element"](1,"div",1),r["\u0275\u0275elementContainerEnd"]())}function $e(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"p",12),r["\u0275\u0275text"](2,"No stickers available"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]())}function Re(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,Te,4,12,"div",6),r["\u0275\u0275template"](2,De,2,0,"ng-container",7),r["\u0275\u0275template"](3,$e,3,0,"ng-container",7),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.length%2==0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",0==e.length)}}function Ve(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",12),r["\u0275\u0275element"](1,"mg-spinner"),r["\u0275\u0275elementEnd"]())}const He=function(){return["studio-backend","stock-sticker","create"]};let Ue=(()=>{class e{constructor(e){this.mingaDesigner=e,this.includeArchived$=new ae.a(!1),this.stockStickers$=this.includeArchived$.pipe(Object(J.a)(e=>Object(B.a)(this.mingaDesigner.getStockStickers({includeArchived:e}))))}set includeArchived(e){this.includeArchived$.next(e)}get includeArchived(){return this.includeArchived$.getValue()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.MingaDesignerService))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-minga-designer-backend-stock-stickers"]],inputs:{includeArchived:"includeArchived"},decls:11,vars:12,consts:[["fxLayout","row wrap","fxLayoutAlign","center stretch"],["fxFlex","50%",1,"item-wrap"],["fxLayout","column","fxLayoutAlign","center center",1,"stock-sticker-item","add-svg",3,"routerLink"],["fxFlex","auto"],[4,"ngIf","ngIfElse"],["loadingStickers",""],["class","item-wrap","fxFlex","50%",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"stock-sticker-item"],["class","sticker-featured archived",4,"ngIf"],[1,"stock-sticker-bg",3,"routerLink"],[1,"sticker-featured","archived"],[1,"mg-centered"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275element"](3,"div",3),r["\u0275\u0275elementStart"](4,"mg-icon"),r["\u0275\u0275text"](5,"post"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](6,"div",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,Re,4,3,"ng-container",4),r["\u0275\u0275pipe"](8,"async"),r["\u0275\u0275template"](9,Ve,2,0,"ng-template",null,5,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](10);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](10,Ne,r["\u0275\u0275pureFunction1"](8,Le,r["\u0275\u0275pureFunction1"](6,je,r["\u0275\u0275pureFunction0"](5,He))))),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](8,3,t.stockStickers$))("ngIfElse",e)}},directives:[be.e,be.d,be.b,i.h,m.a,f.o,f.n,W.a],pipes:[f.b],styles:[".stock-sticker-item[_ngcontent-%COMP%]{display:block;position:relative;border-radius:6px;overflow:hidden;margin:16px;cursor:pointer}.stock-sticker-item.add-svg[_ngcontent-%COMP%]{height:calc(100% - 32px);background-color:#fff;border:1px solid #ccc;--mg-icon-size:50px}.sticker-featured[_ngcontent-%COMP%], .stock-sticker-item[_ngcontent-%COMP%]:not(.add-svg){-webkit-user-select:none;user-select:none}.sticker-featured[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;padding:8px 16px;background-color:#93f;border-radius:6px;color:#fff;font-weight:700;font-size:12px}.sticker-featured.archived[_ngcontent-%COMP%]{background-color:grey}.stock-sticker-bg[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;padding:100px 50px}"],changeDetection:0}),e})();function Be(e,t){1&e&&r["\u0275\u0275element"](0,"mg-minga-designer-backend-themes")}function ze(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275elementStart"](1,"mat-checkbox",6),r["\u0275\u0275listener"]("change",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().includeArchived=t.checked})),r["\u0275\u0275text"](2," Include archived templates "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](3,"mg-minga-designer-backend-templates",7)}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",e.includeArchived),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("includeArchived",e.includeArchived)}}function qe(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275elementStart"](1,"mat-checkbox",6),r["\u0275\u0275listener"]("change",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().includeArchived=t.checked})),r["\u0275\u0275text"](2," Include archived Stock Photos "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](3,"mg-minga-designer-backend-stock-photos",7)}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",e.includeArchived),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("includeArchived",e.includeArchived)}}function Ge(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275elementStart"](1,"mat-checkbox",6),r["\u0275\u0275listener"]("change",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().includeArchived=t.checked})),r["\u0275\u0275text"](2," Include archived Stock Stickers "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](3,"mg-minga-designer-backend-stock-stickers",7)}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",e.includeArchived),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("includeArchived",e.includeArchived)}}let Qe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:9,vars:0,consts:[["label","Themes"],["matTabContent",""],["label","Templates"],["label","Stock Photos"],["label","Stock Stickers"],[1,"filter-tools"],[3,"value","change"],[3,"includeArchived"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-tab-group"),r["\u0275\u0275elementStart"](1,"mat-tab",0),r["\u0275\u0275template"](2,Be,1,0,"ng-template",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"mat-tab",2),r["\u0275\u0275template"](4,ze,4,2,"ng-template",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"mat-tab",3),r["\u0275\u0275template"](6,qe,4,2,"ng-template",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"mat-tab",4),r["\u0275\u0275template"](8,Ge,4,2,"ng-template",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())},directives:[H.c,H.a,H.b,ie,x.a,ve,_e,Ue],styles:[".filter-tools[_ngcontent-%COMP%]{padding:16px}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-label{min-width:50px;white-space:normal}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-label .mat-tab-label-content{white-space:normal}"],changeDetection:0}),e})();var Je=n("NiVs"),Ke=n("7Tcv");let Ye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Je.b,$.a,Ke.a,f.c,u.m,i.k,L.a]]}),e})(),Ze=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Je.b,$.a,Ke.a,f.c,u.m,i.k,L.a]]}),e})(),We=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Je.b,$.a,Ke.a,f.c,u.m,i.k,L.a]]}),e})();var Xe=n("CO6v"),et=n("62tx");let tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Xe.a,et.a,f.c,i.k,Ke.a,L.a]]}),e})(),nt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[H.g,We,tt,Ye,Ze,x.b,f.c]]}),e})();var rt=n("c5ld"),it=n("P4MA"),at=n("4avL"),ot=n("jaBy"),ct=n("Mjc8");let lt=(()=>{class e{constructor(){this.imageUrl=""}getProgressiveImageUrls(){const e=[];return this.pollStyle&&this.pollStyle.pollStyleAsset&&e.push(this.pollStyle.pollStyleAsset),e.map(ot.b)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-poll-style-preview"]],inputs:{imageUrl:"imageUrl",pollStyle:"pollStyle"},decls:2,vars:4,consts:[[3,"image","images","imageChange"],[1,"mg-poll-style-preview"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mg-progressive-image",0),r["\u0275\u0275listener"]("imageChange",(function(e){return t.imageUrl=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](1,"div",1)),2&e&&(r["\u0275\u0275property"]("image",t.imageUrl)("images",t.getProgressiveImageUrls()),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background-image","url("+t.imageUrl+")"))},directives:[ct.a],styles:[".mg-poll-style-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:8px;border-radius:8px;width:128px;height:72px;background-color:#ccc;border:1px solid #ccc;box-shadow:0 0 2px rgba(0,0,0,.16);cursor:pointer;background-size:cover;background-position:50%}"],changeDetection:0}),e})();function st(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-poll-style-preview",8),r["\u0275\u0275listener"]("click",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"]().onItemClick(n,i)})),r["\u0275\u0275elementEnd"]()}2&e&&r["\u0275\u0275property"]("pollStyle",t.$implicit)}const dt=function(){return["poll-style","editor"]},mt=function(e){return{o:e}},pt=function(e){return{outlets:e}},ut=function(e){return["",e]},gt=function(e,t){return{archived:e,adminOnly:t}};let ht=(()=>{class e{constructor(e,t){this.router=e,this.pollStyleLibrary=t,this.onlyArchived=!1,this.onlyAdmin=!1}onItemClick(e,t){t.pollStyleId?this.router.navigate(["",{outlets:{o:["poll-style","editor",t.pollStyleId]}}]):console.warn("PollStyleLibraryComponent.onItemClick() Missing poll style id:",t)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.g),r["\u0275\u0275directiveInject"](it.PollStyleLibrary))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-poll-style-library"]],decls:16,vars:16,consts:[[1,"mg-centered","mg-headline"],[1,"search-ctrl"],[3,"ngModel","ngModelChange"],[1,"add-poll-bg-wrap"],["type","outline","fxLayout","row","fxLayoutAlign","center center",1,"add-poll-bg",3,"routerLink"],["rpcStream","search","rpcControl","searchControl",3,"grid","filter","service"],["mgStreamItem",""],["mg-stream-empty","",1,"mg-centered","mg-minicopy"],[3,"pollStyle","click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"p",0),r["\u0275\u0275text"](1,"Poll Backgrounds"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"p",1),r["\u0275\u0275elementStart"](3,"mat-checkbox",2),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onlyArchived=e})),r["\u0275\u0275text"](4,"Archived Only"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"p",1),r["\u0275\u0275elementStart"](6,"mat-checkbox",2),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onlyAdmin=e})),r["\u0275\u0275text"](7,"Super Admin Only"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",3),r["\u0275\u0275elementStart"](9,"mg-button",4),r["\u0275\u0275text"](10," Add Poll Background "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div"),r["\u0275\u0275elementStart"](12,"mg-stream-scroller",5),r["\u0275\u0275template"](13,st,1,1,"ng-template",6),r["\u0275\u0275elementStart"](14,"p",7),r["\u0275\u0275text"](15," There is nothing here "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.onlyArchived),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.onlyAdmin),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction1"](11,ut,r["\u0275\u0275pureFunction1"](9,pt,r["\u0275\u0275pureFunction1"](7,mt,r["\u0275\u0275pureFunction0"](6,dt))))),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("grid",!0)("filter",r["\u0275\u0275pureFunction2"](13,gt,t.onlyArchived,t.onlyAdmin))("service",t.pollStyleLibrary))},directives:[x.a,u.t,u.w,at.a,i.h,v.a,y.a,lt],styles:[""]}),e})();var ft=n("mF6c");let vt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[ft.a]]}),e})(),bt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[N.b,Xe.a,vt,u.m,i.k,x.b]]}),e})();var yt=n("mrSG"),xt=n("zq1v"),St=n("HHVM"),Ct=n("vAI6"),kt=n("5H0S"),Mt=n("EyMp"),Ot=n("UWMR"),Et=n("DjdL"),Pt=n("tqRt"),It=n("3qIc"),wt=n("NG82"),_t=n("iELJ"),At=n("jNxq"),Ft=n("Cgve"),jt=n("05dM"),Lt=n("O4Bs"),Nt=n("VoSn"),Tt=n("gjtd"),Dt=n("DobJ"),$t=n("kCL4");function Rt(e,t){1&e&&r["\u0275\u0275element"](0,"mg-empty-state",3),2&e&&r["\u0275\u0275property"]("title","Use the searchbox above to search all users.")}function Vt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"th",9),r["\u0275\u0275text"](1,"Member Details"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"th"),r["\u0275\u0275text"](3,"Role"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"th"),r["\u0275\u0275text"](5,"Last Login"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"th"),r["\u0275\u0275text"](7,"Minga"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"th"),r["\u0275\u0275text"](9,"Archive"),r["\u0275\u0275elementEnd"]())}function Ht(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",17),r["\u0275\u0275text"](1,"--"),r["\u0275\u0275elementEnd"]())}function Ut(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.lastLoginFormat(e.lastLogin)," ")}}function Bt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",17),r["\u0275\u0275text"](1,"--"),r["\u0275\u0275elementEnd"]())}function zt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,t.getMingaNameByHash(e.mingaHash))," ")}}function qt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",18),r["\u0275\u0275elementStart"](2,"mg-generic-button",19),r["\u0275\u0275listener"]("onClick",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"](2).archivePerson(t.personHash)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("opacity",e.archived?"0.5":1),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("isDisabled",e.archived)("hasRipples",!1)("isRounded",!1)}}const Gt=function(e){return["people","update",e]},Qt=function(e){return{o:e}},Jt=function(e){return{outlets:e}},Kt=function(e){return["",e]};function Yt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"td"),r["\u0275\u0275element"](1,"mg-avatar",10),r["\u0275\u0275elementStart"](2,"div",11),r["\u0275\u0275elementStart"](3,"div"),r["\u0275\u0275element"](4,"mg-person-minimal",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div"),r["\u0275\u0275elementStart"](6,"a",13),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"td",14),r["\u0275\u0275elementStart"](9,"strong",3),r["\u0275\u0275text"](10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"td",14),r["\u0275\u0275template"](12,Ht,2,0,"span",15),r["\u0275\u0275template"](13,Ut,2,1,"span",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"td",14),r["\u0275\u0275template"](15,Bt,2,0,"span",15),r["\u0275\u0275template"](16,zt,3,3,"span",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"td",14),r["\u0275\u0275template"](18,qt,3,5,"ng-container",16),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("opacity",e.archived?"0.5":1),r["\u0275\u0275classProp"]("is-disabled",e.archived),r["\u0275\u0275property"]("src",e.profileImageUrl)("color",e.badgeIconColor)("routerLink",r["\u0275\u0275pureFunction1"](28,Kt,r["\u0275\u0275pureFunction1"](26,Jt,r["\u0275\u0275pureFunction1"](24,Qt,r["\u0275\u0275pureFunction1"](22,Gt,e.personHash))))),r["\u0275\u0275advance"](2),r["\u0275\u0275classProp"]("is-disabled",e.archived),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("person",n.personMinimalData(e))("routerLink",r["\u0275\u0275pureFunction1"](36,Kt,r["\u0275\u0275pureFunction1"](34,Jt,r["\u0275\u0275pureFunction1"](32,Qt,r["\u0275\u0275pureFunction1"](30,Gt,e.personHash))))),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("opacity",e.archived?"0.5":1),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("href","mailto:"+e.email,r["\u0275\u0275sanitizeUrl"]),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.email),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("title",n.roleTitle(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.roleInitial(e.badgeRoleName)," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!e.lastLogin),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.lastLogin),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!e.mingaHash),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.mingaHash),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",e.personHash)}}function Zt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mg-table-stream-scroller",4),r["\u0275\u0275elementStart"](1,"p",5),r["\u0275\u0275text"](2," No results "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"p",6),r["\u0275\u0275text"](4," No more results "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,Vt,10,0,"ng-template",7),r["\u0275\u0275template"](6,Yt,19,38,"ng-template",8),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("service",e.mingaPeopleManager)("filter",e.getStreamFilter())}}let Wt=(()=>{class e{constructor(e,t,n,r,i,a,o,c,l){this.mingaPeopleManager=e,this._snackBar=t,this._router=n,this._search=r,this._store=i,this._mingaFacade=a,this._peopleService=o,this._dialog=c,this._streamManager=l,this.streamFilter={query:""},this.submitted=!1,this.tableLabel="",this.searchText="",this.items=[],this.people=null}ngOnInit(){this._store.dispatch(Object(xt.a)())}ngOnDestroy(){this._search.resetSearch()}getMingaNameByHash(e){return this._mingaFacade.getMingaByHash(e).pipe(Object(z.a)(e=>e.name))}onSearchText(e){this.searchText=e,this.searchText?this.submit():this.submitted=!1}submit(){this.submitted=!0,this.applyStreamFilter()}personMinimalData(e){return Object.assign(Object.assign({},e),{displayName:e.firstName+" "+e.lastName})}getStreamFilter(){return this.streamFilter}applyStreamFilter(){const e={query:""};this.searchText&&(e.query=this.searchText),this.streamFilter=e}streamItemClick(e){this._router.navigate(["/admin/",{outlets:{o:["people","update",e.model.item.data.personHash]}}])}roleTitle(e){return e.archived?"(Archived) "+e.badgeRoleName:e.badgeRoleName}roleInitial(e){if("Member"===e||"Members"===e)return"Mem";let t="";for(let n=0;e.length>n;n++){const r=e[n];r===r.toUpperCase()&&(t+=r)}return t||(t=e[0].toUpperCase()),t}lastLoginFormat(e){if(!e)return"--";const t=new Date;t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0);const n=new Date(Date.UTC(e.year,e.month-1,e.day)),r=t.getTime()-n.getTime();return r<864e5?"today":St.day.duration(-r).humanize(!0)}archivePerson(e){return Object(yt.a)(this,void 0,void 0,(function*(){this._dialog.open(kt.a,{data:{text:{description:"Are you sure you want to archive this person?",deleteBtn:"Archive"}}}).afterClosed().subscribe(t=>Object(yt.a)(this,void 0,void 0,(function*(){t&&t.confirmed&&(yield this._peopleService.archivePerson(e),yield this._streamManager.restartStreamIfAvailable("AdminPeopleFeed"),this._store.dispatch(new Ct.a.PeopleUpdated),this._snackBar.open("person archived successfully"))})))}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Mt.MingaPeopleManager),r["\u0275\u0275directiveInject"](Ot.b),r["\u0275\u0275directiveInject"](i.g),r["\u0275\u0275directiveInject"](Et.f),r["\u0275\u0275directiveInject"](Pt.i),r["\u0275\u0275directiveInject"](It.b),r["\u0275\u0275directiveInject"](wt.a),r["\u0275\u0275directiveInject"](_t.b),r["\u0275\u0275directiveInject"](At.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-super-admin-people"]],decls:3,vars:2,consts:[["searchPlaceholder","Search People",3,"searchQueryChange"],[3,"title",4,"ngIf"],["class","mg-table","mgStreamControl","AdminPeopleFeed","rpcStream","superAdminSearchPeople","rpcControl","superAdminSearchPeopleControl",3,"service","filter",4,"ngIf"],[3,"title"],["mgStreamControl","AdminPeopleFeed","rpcStream","superAdminSearchPeople","rpcControl","superAdminSearchPeopleControl",1,"mg-table",3,"service","filter"],["mg-stream-empty","",1,"mg-centered"],["mg-stream-front-exhausted","",1,"mg-centered"],["mgTableStreamHeader",""],["mgTableStreamRow",""],[2,"text-align","left"],[2,"margin-right","8px","cursor","pointer",3,"src","color","routerLink"],["fxLayout","column","fxFlex",""],[2,"cursor","pointer",3,"person","routerLink"],[2,"color","#9933ff","text-decoration","none","font-size","10px",3,"href"],[1,"mg-centered"],["style","color: #737373",4,"ngIf"],[4,"ngIf"],[2,"color","#737373"],[1,"archive-button"],["colorTheme","navy","iconLeft","archive-file","size","small","paddingSize","none","variant","clear",3,"isDisabled","hasRipples","isRounded","onClick"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mg-search-active-route",0),r["\u0275\u0275listener"]("searchQueryChange",(function(e){return t.onSearchText(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](1,Rt,1,1,"mg-empty-state",1),r["\u0275\u0275template"](2,Zt,7,2,"mg-table-stream-scroller",2)),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.submitted),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.submitted))},directives:[Ft.a,f.o,jt.a,Lt.a,b.a,Nt.a,y.a,Tt.a,i.h,be.e,be.b,Dt.a,$t.a],pipes:[f.b],styles:["mg-table-stream-scroller[_ngcontent-%COMP%]{--table-stream-padding:6px;--table-stream-empty-cell-color:#e2e2e2;--table-stream-border-width:1px;--table-stream-border-color:#ccc;--table-stream-margin-bottom:32px;margin-top:16px;margin-bottom:16px}@media (max-width:599px){mg-table-stream-scroller[_ngcontent-%COMP%]{margin:10px;--table-stream-margin-bottom:82px}}mg-table-stream-scroller[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.header-cell[_ngcontent-%COMP%]{font-size:.8em;font-weight:700}.header[_ngcontent-%COMP%]{font-size:.8em;color:#737373;margin-top:15px;display:flex;justify-content:space-between}@media (max-width:599px){.header[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}}table[_ngcontent-%COMP%]{background-color:#fff}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px 8px}@media (orientation:landscape){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:2.1333333333vh}}@media (orientation:portrait){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:2.1333333333vw}}@media (orientation:landscape) and (max-height:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:8px}}@media (orientation:portrait) and (max-width:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:8px}}@media (min-width:562.5px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:12px}}@media (orientation:landscape){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:2.1333333333vh}}@media (orientation:portrait){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:2.1333333333vw}}@media (orientation:landscape) and (max-height:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:8px}}@media (orientation:portrait) and (max-width:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:8px}}@media (min-width:562.5px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:12px}}td[_ngcontent-%COMP%]{font-size:75%}.archive-button[_ngcontent-%COMP%]{transform:rotate(180deg)}.is-disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),e})();var Xt=n("f44v"),en=n("UhP/"),tn=n("Tj54"),nn=n("NG9B"),rn=n("fHWq"),an=n("5VmK"),on=n("OLhe");let cn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[$.a,an.a,rn.a,Xe.a,N.b,Et.d,nn.a,on.a,f.c,i.k,L.a.withConfig({addFlexToParent:!1}),_t.f,en.r,Xt.e,tn.b]]}),e})();const ln=[{path:"studio-backend",component:Qe},{path:"banner/library",component:j},{path:"poll-style/library",component:ht},{path:"people",component:Wt}];let sn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[{provide:l.MingaDesignerService,useExisting:c.a}],imports:[[nt,V,rt.b,bt,o.a,cn,a.c.forChild(),i.k.forChild(ln)]]}),e})()},bCM0:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("8Y7J"),i=n("s7LF"),a=n("Q2Ze"),o=n("i1AJ"),c=n("e6WT"),l=n("Tj54");const s=["inputEl"],d={provide:i.r,useExisting:Object(r.forwardRef)(()=>m),multi:!0};let m=(()=>{class e{constructor(){this.value="",this.placeholder="Search",this.mgNoHintMargin=!1,this.blur=new r.EventEmitter}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}valueChange(e){this.onChange&&this.onChange(e),this.onTouched&&this.onTouched()}writeValue(e){"string"==typeof e?this.value=e:null===e?this.value="":console.warn("mg-stream unsupported write value:",e)}focus(){this.inputEl&&this.inputEl.nativeElement.focus()}hasFocus(){return!!this.inputEl&&document.activeElement===this.inputEl.nativeElement}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-search"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](s,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.inputEl=e.first)}},inputs:{placeholder:"placeholder",mgNoHintMargin:"mgNoHintMargin"},outputs:{blur:"blur"},features:[r["\u0275\u0275ProvidersFeature"]([d])],decls:5,vars:5,consts:[["mgFormField","","floatPlaceholder","never",3,"mgNoHintMargin"],["matInput","","type","text","autocomplete","off",3,"placeholder","ngModel","ngModelChange","blur"],["inputEl",""],["matSuffix",""]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0),r["\u0275\u0275elementStart"](1,"input",1,2),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(e){return t.valueChange(e)}))("blur",(function(e){return t.blur.emit(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"mat-icon",3),r["\u0275\u0275text"](4,"search"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("mgNoHintMargin",t.mgNoHintMargin),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("placeholder",t.placeholder)("ngModel",t.value),r["\u0275\u0275advance"](2),r["\u0275\u0275classProp"]("active",!!t.value))},directives:[a.d,o.a,c.b,i.d,i.t,i.w,l.a,a.j],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})()},c5ld:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return S}));var r=n("mrSG"),i=n("8Y7J"),a=n("F5Qo"),o=n("+Iyi"),c=n("GFah"),l=n("iInd"),s=n("P4MA"),d=n("jNxq"),m=n("SYVq"),p=n("s7LF"),u=n("SVse"),g=n("pMoy"),h=n("o1f5");const f=["form"];function v(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275elementStart"](1,"mat-checkbox",6),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().archived=t})),i["\u0275\u0275text"](2,"Archive"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.archived)}}let b=(()=>{class e{constructor(e,t,n,r,i){this.rootService=e,this.router=t,this.route=n,this.pollStyleLibrary=r,this.streamManager=i,this.pollStyleId=0,this.imageAsset=null,this.archived=!1,this.adminOnly=!1,this.route.params.subscribe(e=>{const t=+e.pollStyleId;isNaN(t)?this.pollStyleId=0:(this.pollStyleId=t,this._fetchPollStyle())})}_fetchPollStyle(){return Object(r.a)(this,void 0,void 0,(function*(){const e=new o.PollStyleLibraryGet;e.setPollStyleId(this.pollStyleId);const t=yield this.pollStyleLibrary.get(e);this.imageAsset=t.getPollStyleAsset(),this.archived=t.getArchived(),this.adminOnly=t.getAdminOnly()}))}_checkNextDisabled(){this.onOverlayNextDisabled&&this.form&&this.onOverlayNextDisabled("VALID"!==this.form.status)}ngAfterViewInit(){this.form.statusChanges.subscribe(()=>{this._checkNextDisabled()}),this._checkNextDisabled()}registerOnOverlayNextDisabled(e){this.onOverlayNextDisabled=e,this._checkNextDisabled()}registerOnOverlayPreviousDisabled(e){this.onOverlayPreviousDisabled=e}hasOverlayNext(){return{text:this.pollStyleId?"Save":"Publish",icon:"publish-o"}}hasOverlayPrevious(){return{text:"Close",icon:"close"}}onOverlayNext(){return Object(r.a)(this,void 0,void 0,(function*(){this.onOverlayNextDisabled(!0),yield this.rootService.addLoadingPromise(this.submit()).catch(e=>{console.error(e)}),this.onOverlayNextDisabled(!1)}))}onOverlayPrevious(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}onOverlayClose(){return Object(r.a)(this,void 0,void 0,(function*(){return this.router.navigate(["",{outlets:{o:null}}])}))}_submitNew(){return Object(r.a)(this,void 0,void 0,(function*(){const e=new o.PollStyleLibraryAdd;e.setPollStyleAsset(this.imageAsset),e.setAdminOnly(this.adminOnly),e.setArchived(this.archived),yield this.pollStyleLibrary.add(e),yield this.streamManager.restartStreamIfAvailable("PollStyleLibrary")}))}_submitUpdate(){return Object(r.a)(this,void 0,void 0,(function*(){const e=new o.PollStyleLibraryUpdate;e.setPollStyleId(this.pollStyleId);const t=new a.StringDelta;t.setNewString(this.imageAsset),e.setPollStyleAsset(t),e.setArchived(this.archived),e.setAdminOnly(this.adminOnly),yield this.pollStyleLibrary.update(e),yield this.streamManager.restartStreamIfAvailable("PollStyleLibrary")}))}submit(){return Object(r.a)(this,void 0,void 0,(function*(){this.pollStyleId?yield this._submitUpdate():yield this._submitNew(),yield this.onOverlayClose()}))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](l.g),i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](s.PollStyleLibrary),i["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-poll-style-editor"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](f,3),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},decls:10,vars:5,consts:[[3,"component"],["form","ngForm"],[1,"mg-headline","mg-centered"],[4,"ngIf"],["name","adminOnly",3,"ngModel","ngModelChange"],["required","","name","imageAsset","previewAspectRatio","4:3",3,"previewSize","ngModel","ngModelChange"],["name","archived",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),i["\u0275\u0275elementStart"](1,"form",null,1),i["\u0275\u0275elementStart"](3,"p",2),i["\u0275\u0275text"](4,"Poll Background Image"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,v,3,1,"p",3),i["\u0275\u0275elementStart"](6,"p"),i["\u0275\u0275elementStart"](7,"mat-checkbox",4),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.adminOnly=e})),i["\u0275\u0275text"](8,"Super Admin Only"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"mg-file-input-upload",5),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.imageAsset=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("component",t),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.pollStyleId),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.adminOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("previewSize",700)("ngModel",t.imageAsset))},directives:[m.a,p.E,p.u,p.v,u.o,g.a,p.t,p.w,h.a,p.B],styles:["p[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}mg-file-input-upload[_ngcontent-%COMP%]{border-top:1px solid #ccc}"]}),e})();var y=n("p+4T"),x=n("CL15");let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.a,x.a,u.c,p.m,g.b]]}),e})()},cbZm:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n("bCM0");var r=n("SVse"),i=n("8Y7J"),a=n("s7LF"),o=n("Q2Ze"),c=n("Tj54"),l=n("e6WT"),s=n("HxU+");let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[s.a,r.c,a.m,o.f,l.c,c.b]]}),e})()}}]);
//# sourceMappingURL=default~minga-app-src-app-routes-sadmin-PollStyleAdminOverlayRoutes-module~minga-app-src-app-routes-~7387d3c0-es2015.js.map