(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{aFGN:function(n,t,e){"use strict";e.r(t),e.d(t,"MingaSubscriptionsRoutingModule",(function(){return z}));var i=e("8Y7J"),o=e("iInd"),r=e("mrSG"),a=e("Y9fu"),c=e("SVse"),s=e("Tj54");function l(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"mat-icon"),i["\u0275\u0275text"](2,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](3,"Premium Programs "),i["\u0275\u0275elementEnd"]())}function d(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"mat-icon"),i["\u0275\u0275text"](2,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](3,"All Features "),i["\u0275\u0275elementEnd"]())}function p(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"span",16),i["\u0275\u0275text"](1," FREE "),i["\u0275\u0275elementEnd"]())}function g(n,t){if(1&n&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"span",16),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",17),i["\u0275\u0275text"](4,"/YEAR"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&n){const n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.subscription.annualFee," ")}}function m(n,t){if(1&n&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",17),i["\u0275\u0275text"](2,"STARTING AT"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",18),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&n){const n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",n.subscription.annualFee," ")}}function u(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"div",18),i["\u0275\u0275text"](1," Your Plan "),i["\u0275\u0275elementEnd"]())}function b(n,t){if(1&n){const n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",19),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().openPlanUrl(t.subscription.planUrl)})),i["\u0275\u0275text"](1," Upgrade "),i["\u0275\u0275elementEnd"]()}if(2&n){const n=i["\u0275\u0275nextContext"]().$implicit,t=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",t.activeSubscription(n)||!t.ensureMingaSizeForPlan(n))}}function v(n,t){if(1&n&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"p",4),i["\u0275\u0275text"](3," Minga | "),i["\u0275\u0275elementStart"](4,"span",5),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",6),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275elementStart"](8,"mat-icon"),i["\u0275\u0275text"](9,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"strong"),i["\u0275\u0275text"](11,"People:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div"),i["\u0275\u0275elementStart"](14,"mat-icon"),i["\u0275\u0275text"](15,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"strong"),i["\u0275\u0275text"](17,"Admins:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div"),i["\u0275\u0275elementStart"](20,"mat-icon"),i["\u0275\u0275text"](21,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"strong"),i["\u0275\u0275text"](23,"Groups:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"div"),i["\u0275\u0275elementStart"](26,"mat-icon"),i["\u0275\u0275text"](27,"check"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](29,l,4,0,"div",7),i["\u0275\u0275template"](30,d,4,0,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",8),i["\u0275\u0275element"](32,"div",9),i["\u0275\u0275elementStart"](33,"div",10),i["\u0275\u0275elementStart"](34,"div",11),i["\u0275\u0275template"](35,p,2,0,"span",12),i["\u0275\u0275template"](36,g,5,1,"ng-container",7),i["\u0275\u0275template"](37,m,5,1,"ng-container",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](38,"div",13),i["\u0275\u0275template"](39,u,2,0,"div",14),i["\u0275\u0275template"](40,b,2,1,"ng-template",null,15,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&n){const n=t.$implicit,e=i["\u0275\u0275reference"](41),o=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](n.subscription.name),i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"]("\xa0 ",n.subscription.peopleSize," "),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"]("\xa0 ",n.subscription.adminUserSize," "),i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"]("\xa0 ",n.subscription.groupSize," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",n.subscription.premiumStudioTemplates?"Premium Studio":"Free"," Templates "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.subscription.premiumPrograms),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!n.subscription.premiumPrograms),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass","color-"+(n.colorIndex||0)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",!n.subscription.annualFee),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.subscription.annualFee&&!n.subscription.pricedPerDefaultRole),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.subscription.annualFee&&n.subscription.pricedPerDefaultRole),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",o.activeSubscription(n))("ngIfElse",e)}}let P=(()=>{class n{constructor(n){this.linkOpener=n,this.subscriptions=[],this.mingaSize=0}openPlanUrl(n){this.linkOpener.open(n)}ensureMingaSizeForPlan(n){return!n.subscription.mingaSize||this.mingaSize<=n.subscription.mingaSize}activeSubscription(n){var t;const e=this.planId==n.subscription.planId,i=!!(null===(t=this.planId)||void 0===t?void 0:t.includes("School"))&&n.subscription.planId.includes("School");return e||i}}return n.\u0275fac=function(t){return new(t||n)(i["\u0275\u0275directiveInject"](a.a))},n.\u0275cmp=i["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-minga-subscriptions"]],inputs:{subscriptions:"subscriptions",mingaSize:"mingaSize",planId:"planId"},decls:2,vars:1,consts:[[1,"subscriptions"],["class","subscription",4,"ngFor","ngForOf"],[1,"subscription"],[1,"col","content"],[1,"title","mg-headline"],[1,"sub-name"],[1,"checked-list","mg-minicopy"],[4,"ngIf"],[1,"col","fill",3,"ngClass"],[1,"trans"],[1,"content"],[1,"price"],["class","header",4,"ngIf"],[1,"separator"],["class","mg-minicopy",4,"ngIf","ngIfElse"],["subButton",""],[1,"header"],[1,"sub-header","mg-minicopy"],[1,"mg-minicopy"],["mgBubbleBtn","","type","outline",1,"mg-minicopy",3,"disabled","click"]],template:function(n,t){1&n&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,v,42,13,"div",1),i["\u0275\u0275elementEnd"]()),2&n&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.subscriptions))},directives:[c.n,s.a,c.o,c.m],styles:["button[mgBubbleBtn][_ngcontent-%COMP%]{font-family:Muli,sans-serif;cursor:pointer;text-align:center;line-height:1em;padding:1em 1.5em;border-radius:1.5em;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);outline:none;color:#fff;border:1px solid #70b2d7;background:linear-gradient(#70b2d7,#5ca8d2,#4ba0cd)}button[mgBubbleBtn][_ngcontent-%COMP%]:disabled{cursor:default;background:rgba(112,178,215,0);border-color:#ccc;color:#ccc}@media (hover:none){button[mgBubbleBtn][_ngcontent-%COMP%]:active{background:linear-gradient(#569fc7,#3189b7)}}@media (hover:hover){button[mgBubbleBtn][_ngcontent-%COMP%]:hover:enabled{background:linear-gradient(#b5ddf4,#7cc9f2)}button[mgBubbleBtn][_ngcontent-%COMP%]:active{background:linear-gradient(#569fc7,#3189b7)}}button[mgBubbleBtn].alternate-btn-one[_ngcontent-%COMP%]{background:linear-gradient(#4ba0cd,#427fa0);border:1px solid #4ba0cd}@media (hover:none){button[mgBubbleBtn].alternate-btn-one[_ngcontent-%COMP%]:active{background:linear-gradient(#3286b3,#33627c)}}@media (hover:hover){button[mgBubbleBtn].alternate-btn-one[_ngcontent-%COMP%]:hover:enabled{background:linear-gradient(#73b5d8,#5a99bb)}button[mgBubbleBtn].alternate-btn-one[_ngcontent-%COMP%]:active{background:linear-gradient(#3286b3,#33627c)}}button[mgBubbleBtn].alternate-btn-two[_ngcontent-%COMP%]{background:linear-gradient(#cd4c4a,#a0120f);border:1px solid #cd4c4a}@media (hover:none){button[mgBubbleBtn].alternate-btn-two[_ngcontent-%COMP%]:active{background:linear-gradient(#b33331,#710d0b)}}@media (hover:hover){button[mgBubbleBtn].alternate-btn-two[_ngcontent-%COMP%]:hover:enabled{background:linear-gradient(#d87472,#cf1713)}button[mgBubbleBtn].alternate-btn-two[_ngcontent-%COMP%]:active{background:linear-gradient(#b33331,#710d0b)}}.subscriptions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;flex-direction:column;margin:0 8px 16px}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:6px;margin:16px 8px;display:flex;align-items:stretch;justify-content:space-between}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   mg-button[_ngcontent-%COMP%]{margin-bottom:16px}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{padding:38px 36px}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   button[mgBubbleBtn][_ngcontent-%COMP%]{padding:6px 30px}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col.fill[_ngcontent-%COMP%]{color:#fff;background:#036;flex-basis:20%;text-align:center;position:relative;display:flex;flex-direction:column;justify-content:center;border-left:1px solid #036;border-top-right-radius:6px;border-bottom-right-radius:6px}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col.fill[_ngcontent-%COMP%]   .trans[_ngcontent-%COMP%]{-webkit-clip-path:polygon(95% 0,100% 0,100% 100%,0 100%);clip-path:polygon(95% 0,100% 0,100% 100%,0 100%);position:absolute;left:-39px;top:0;bottom:0;height:100%;background:inherit;width:40px}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col.fill.color-1[_ngcontent-%COMP%]{background:#c66b83;border-color:#c66b83}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col.fill.color-2[_ngcontent-%COMP%]{background:#7a57a4;border-color:#7a57a4}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col.fill.color-3[_ngcontent-%COMP%]{background:#70b2d7;border-color:#70b2d7}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col.fill.color-4[_ngcontent-%COMP%]{background:#4ba083;border-color:#4ba083}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .col.fill[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:24px auto}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .checked-list[_ngcontent-%COMP%]{color:#737373}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .checked-list[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#70b2d7;width:20px;height:20px}.subscriptions[_ngcontent-%COMP%]   .subscription[_ngcontent-%COMP%]   .checked-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.subscriptions[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:48px;font-weight:700}.subscriptions[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .sub-header[_ngcontent-%COMP%]{font-weight:700}.subscriptions[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{width:85px;border-top:1px solid #fff}.subscriptions[_ngcontent-%COMP%]   .promo[_ngcontent-%COMP%]{flex-basis:auto}.subscriptions[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:0}.subscriptions[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .sub-name[_ngcontent-%COMP%]{font-weight:400}"]}),n})();var x=e("CO6v");let h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.a,c.c,s.b]]}),n})();var C=e("PLeU");function f(n){const t=n=>n?`${n}`:"Unlimited";return{planId:n.planId,name:n.name,planUrl:n.planUrl,mingaSize:n.mingaSize,premiumStudioTemplates:n.premiumStudioTemplates,premiumPrograms:n.premiumPrograms,id:n.id,pricedPerDefaultRole:n.pricedPerDefaultRole,annualFee:(n=>{const t=parseInt(n);return isNaN(t)?n:`$${t}`})(n.annualFee),peopleSize:(e=n.mingaSize,n.planId.includes("School")?"Talk to us":t(e)),groupSize:t(n.groupSize),adminUserSize:t(n.adminUserSize)};var e}var M=e("Cnb3"),O=e("k/kw"),_=e("Vwx4"),S=e("GFah"),y=e("WH00"),I=e("oeMW"),w=e("SYVq");let E=(()=>{class n{constructor(n,t,e,i,o,r,a){this.router=n,this.route=t,this.mingaManager=e,this.permissions=i,this.rootService=o,this.contentEvents=r,this.mingaStore=a,this.subscriptions=[],this.mingaSize=0,this.initPermissions(),this.initRouterListener()}get overlayPrevious(){return{icon:"close",text:""}}initPermissions(){return Object(r.a)(this,void 0,void 0,(function*(){!this.permissions.hasPermission(M.MingaPermission.MINGA_ACCOUNT_MANAGE)||window.MINGA_APP_ANDROID&&window.MINGA_APP_IOS?yield this.onOverlayClose():yield this.retrieveSubscriptions()}))}retrieveSubscriptions(){return Object(r.a)(this,void 0,void 0,(function*(){const n=yield this.mingaStore.getMingaAsPromise(),t=yield this.rootService.addLoadingPromise(this.mingaManager.getMingaSubscriptions(n.mingaType,!0));for(let e=0;e<t.length;e++)this.subscriptions.push({subscription:f(t[e]),colorIndex:Math.floor(e*(5/t.length))})}))}initRouterListener(){this.route.params.subscribe(n=>{"planId"in n&&(this.planId=n.planId),this.mingaSize=n.mingaSize||0})}hasOverlayPrevious(){return this.overlayPrevious}onOverlayPrevious(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.onOverlayClose()}))}onOverlayClose(){return Object(r.a)(this,void 0,void 0,(function*(){return this.contentEvents.emitMingaUpdateEvent({}),yield Object(C.a)(this.router),!0}))}}return n.\u0275fac=function(t){return new(t||n)(i["\u0275\u0275directiveInject"](o.g),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](O.a),i["\u0275\u0275directiveInject"](_.c),i["\u0275\u0275directiveInject"](S.a),i["\u0275\u0275directiveInject"](y.a),i["\u0275\u0275directiveInject"](I.a))},n.\u0275cmp=i["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-minga-subscriptions-overlay"]],decls:3,vars:4,consts:[[3,"component"],[1,"overlay-container"],[3,"subscriptions","mingaSize","planId"]],template:function(n,t){1&n&&(i["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275element"](2,"mg-minga-subscriptions",2),i["\u0275\u0275elementEnd"]()),2&n&&(i["\u0275\u0275property"]("component",t),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("subscriptions",t.subscriptions)("mingaSize",t.mingaSize)("planId",t.planId))},directives:[w.a,P],styles:[".overlay-container[_ngcontent-%COMP%]{padding:24px 16px}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-top:6.4vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-top:6.4vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-top:24px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-top:24px}}@media (min-width:500px){.overlay-container[_ngcontent-%COMP%]{padding-top:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-left:4.2666666667vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-left:4.2666666667vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:750px){.overlay-container[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-bottom:6.4vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-bottom:6.4vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:24px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:24px}}@media (min-width:500px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-right:4.2666666667vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-right:4.2666666667vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:750px){.overlay-container[_ngcontent-%COMP%]{padding-right:32px}}.overlay-container[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-bottom:8px}"]}),n})();var k=e("CL15");let B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[x.a,h,k.a,c.c]]}),n})(),z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i["\u0275\u0275defineNgModule"]({type:n}),n.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[B,o.k.forChild([{path:"",component:E}])]]}),n})()}}]);
//# sourceMappingURL=minga-app-src-app-components-Overlay-MingaSubscriptionsOverlay-MingaSubscriptionsRouting-module-es2015.js.map