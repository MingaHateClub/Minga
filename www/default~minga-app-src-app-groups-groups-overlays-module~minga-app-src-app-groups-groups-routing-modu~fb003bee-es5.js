!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return e};var e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(F){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),s=new _(r||[]);return a(o,"_invoke",{value:E(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(F){return{type:"throw",arg:F}}}e.wrap=l;var g={};function d(){}function f(){}function p(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==n&&r.call(y,o)&&(v=y);var b=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){var n;a(this,"_invoke",{value:function(a,i){function o(){return new t((function(n,o){!function n(a,i,o,s){var u=h(e[a],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}(a,i,n,o)}))}return n=n?n.then(o,o):o()}})}function E(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return j()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=h(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,g;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,a(b,"constructor",{value:p,configurable:!0}),a(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(C.prototype),c(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new C(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),g}},e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,a=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,i=void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?i:String(i)),r)}var a,i}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{DO6O:function(a,i,s){"use strict";s.d(i,"a",(function(){return M}));var c,l,h=s("mrSG"),g=s("8Y7J"),d=s("LvDl"),f=s("HHVM"),p=s("1Ell"),v=s("Cnb3"),m=s("jtHE"),y=s("2Vo4"),b=s("itXk"),w=s("UXun"),C=s("lJxs"),E=s("eIep"),x=s("LfDn"),S=s("PYFZ"),O=s("Sa9N"),_=s("zeEq"),k=((c=function(){function e(t){o(this,e),this.feedEventManager=t}return u(e,[{key:"getEvents",value:function(e){var t,n=function(e){var t={};if(e.groupHashes&&(t.groupHashes=e.groupHashes.join(",")),e.category&&(t.category=e.category),"dateRange"in e){var n=new S.StreamFilterOp,r=new S.StreamFilterOp.WithinInclusiveValue,a=new S.StreamFilterOp.Value,i=new S.StreamFilterOp.Value;a.setDoubleValue(e.dateRange.start.getTime()),i.setDoubleValue(e.dateRange.end.getTime()),r.setStartValue(a),r.setEndValue(i),n.setWithinInclusiveValue(r),t["templateData.startTimestamp"]=n}else if("beforeDate"in e){var o=new S.StreamFilterOp,s=new S.StreamFilterOp.Value,u=new S.StreamFilterOp.LtValue;s.setDoubleValue(e.beforeDate.getTime()),u.setValue(s),o.setGtValue(u),t["templateData.startTimestamp"]=o}else if("afterDate"in e){var c=new S.StreamFilterOp,l=new S.StreamFilterOp.Value,h=new S.StreamFilterOp.GteValue;l.setDoubleValue(e.afterDate.getTime()),h.setValue(l),c.setGtValue(h),t["templateData.startTimestamp"]=c}return t}(e),r=Object(x.a)(this.feedEventManager,"streamAllEventsControl","streamAllEvents",n,(function(e){return function(e){if(!e.hasShortEventCard())return null;var t,n,r=e.getShortEventCard(),a=e.getContentContextHash().getValue(),i=null,o=null,s=r.getAllDay();return t=r.getTitle(),n=r.getBody(),r.getStartTimestamp()&&(i=new Date(r.getStartTimestamp())),r.getEndTimestamp()&&(o=new Date(r.getEndTimestamp())),{contentContext:a,title:t,description:n,start:i,end:o,allDay:s,shortCard:r}}(e)})),a=!1;r.loading$.subscribe((function(e){clearTimeout(t),t=setTimeout((function n(){e||a?(a=!1,t=setTimeout(n,2e3)):(a=!0,r.isDone||r.frontExhausted?(r.done(),clearTimeout(t)):r.seekFront())}),2e3)})),r.seekFront();var i=function(e,t){if(e.start&&!t.start)return-1;if(!e.start&&t.start)return 1;if(!e.start&&!t.start)return 0;var n=e.start.getTime(),r=t.start.getTime();return n>r?1:n<r?-1:0};return Object(O.cancellableMixin)(r.asObservable().pipe(Object(C.a)((function(e){return e.filter((function(e){return!!e.item})).map((function(e){return e.item})).sort(i)}))),(function(){return r.done()}))}}]),e}()).\u0275fac=function(e){return new(e||c)(g["\u0275\u0275inject"](_.FeedEventManager))},c.\u0275prov=g["\u0275\u0275defineInjectable"]({token:c,factory:c.\u0275fac,providedIn:"root"}),c),j=s("orC8"),F=s("M2HC"),V=s("HSxi"),M=((l=function(){function a(e,t,i,s){var u=this;o(this,a),this.eventFeed=e,this.userStorage=t,this.groupsFacadeService=s,this._fetchInst=null,this._events=[],this._lastFetch=null,this._activeDate=new Date,this._fetchedStart=null,this._fetchedEnd=null,this._forceUpdate=!0,this.myGroups=[],this._eventsSubj=new m.a,this._settingsSubj=new y.a({calendarView:"week",excludeWeekend:!1,showCalendarSettings:!0}),this.settings$=this._settingsSubj.asObservable().pipe(Object(w.a)()),this.events$=this._eventsSubj.asObservable().pipe(Object(C.a)((function(e){var t,n=[],a=r(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(Object(v.isMultiDay)(o.start,o.end,o.allDay)){var s=Object.assign({},o),u=new Date(o.start);for(u.setDate(u.getDate()+1),u.setHours(0,0),s.end=new Date(u),n.push(s);u<o.end;)(s=Object.assign({},s)).start=new Date(u),u.setDate(u.getDate()+1),u<o.end&&(s.allDay=!0,s.end=new Date(u),n.push(s));s.allDay=o.allDay,s.end=new Date(o.end),n.push(s)}else n.push(o)}}catch(c){a.e(c)}finally{a.f()}return n.map((function(e){return i.observeCheckIn(e.contentContext).pipe(Object(C.a)((function(t){return Object.assign(Object.assign({},e),{eventStatus:t})})))}))})),Object(E.a)((function(e){return Object(b.b)(e)})),Object(w.a)()),this.filteredEvents$=Object(b.b)([this.events$,this.settings$]).pipe(Object(C.a)((function(e){var t=n(e,2),r=t[0],a=t[1];return r.filter((function(e){return function(e,t){if(t.groupHashes&&t.groupHashes.length>0&&e.shortCard){var n=e.shortCard.getOwnerGroupHash();if(!t.groupHashes.includes(n))return!1}return!t.quickFilter||("My Events"==t.quickFilter?[p.EventStatus.CHECKED_IN,p.EventStatus.CHECKED_OUT,p.EventStatus.GOING,p.EventStatus.INVITED,p.EventStatus.INTERESTED].includes(e.eventStatus):t.quickFilter==p.EventStatus.NONE||e.eventStatus==t.quickFilter)}(e,a)}))}))),this.resetSettingsToDefault(),this.groupsFacadeService.getMyGroups().subscribe((function(e){u.myGroups=e,u._forceUpdate=!0}))}return u(a,[{key:"updateSettings",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(h.a)(this,void 0,void 0,t().mark((function a(){var i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.getCurrentSettingsValue(),d.isEqual(i.groupHashes,e.groupHashes)&&d.isEqual(i.category,e.category)||(this._forceUpdate=!0),this._settingsSubj.next(Object.assign({},e)),!n){t.next=10;break}return t.prev=2,t.next=5,this.userStorage.setItem("calendar_settings",{calendarView:e.calendarView,excludeWeekend:e.excludeWeekend});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:this._forceUpdate&&!r&&this.fetch();case 11:case"end":return t.stop()}}),a,this,[[2,7]])})))}},{key:"getCurrentSettingsValue",value:function(){return this._settingsSubj.getValue()}},{key:"resetSettingsToDefault",value:function(){return Object(h.a)(this,void 0,void 0,t().mark((function e(){var n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userStorage.getItem("calendar_settings").then((function(e){e||(e={calendarView:"week",excludeWeekend:!1,showCalendarSettings:!0});var t=n.getCurrentSettingsValue(),r=Object.assign(Object.assign({},t),{calendarView:e.calendarView,excludeWeekend:e.excludeWeekend});n._settingsSubj.next(r)})).catch((function(e){console.error(e),n._settingsSubj.next({calendarView:"week",excludeWeekend:!1,showCalendarSettings:!0})}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getLastFetch",value:function(){return this._lastFetch?new Date(this._lastFetch):new Date(0)}},{key:"shouldFetch",value:function(e){if(!this._fetchedStart||!this._fetchedEnd)return!0;var t=this._getNewFetchStart(e),n=this._getNewFetchEnd(e);return t.getTime()!=this._fetchedStart.getTime()||n.getTime()!=this._fetchedEnd.getTime()}},{key:"_getNewFetchStart",value:function(e){var t=Object(f.day)(e).startOf("month").subtract(1,"month");if(!this._fetchedStart)return t.toDate();var n=Object(f.day)(this._fetchedStart).startOf("month");return n<t?n.toDate():t.toDate()}},{key:"_getNewFetchEnd",value:function(e){var t=Object(f.day)(e).startOf("month").add(2,"month");if(!this._fetchedEnd)return t.toDate();var n=Object(f.day)(this._fetchedEnd).startOf("month");return n>t?n.toDate():t.toDate()}},{key:"fetch",value:function(){var t=this,n=new Date(this._activeDate);if(this.shouldFetch(n)||this.isLastFetchOld()||this._forceUpdate){this._fetchInst&&(this._fetchInst.cancel(),this._fetchInst=null),this._lastFetch=new Date;var a=this._getNewFetchStart(n),i=this._getNewFetchEnd(n);this._fetchedEnd=i,this._fetchedStart=a,this._forceUpdate&&(this._events=[],this._eventsSubj.next([]),this._forceUpdate=!1);var o={dateRange:{end:i,start:a}},s=this.getCurrentSettingsValue();s.groupHashes&&(o.groupHashes=s.groupHashes),s.category&&(o.category=s.category),this._fetchInst=this.eventFeed.getEvents(o);var u=[];this._fetchInst.subscribe({next:function(n){var a,i=t._events,o=[],s=r(n);try{var c=function(){var e=a.value,t=i.findIndex((function(t){return t.contentContext===e.contentContext}));-1===t?(u.push(e.contentContext),o.push(e)):i.splice(t,1,e)};for(s.s();!(a=s.n()).done;)c()}catch(h){s.e(h)}finally{s.f()}var l=[].concat(e(i),o);t._events=l,t._eventsSubj.next(l)},error:function(e){console.error("[Event Calendar Fetch]",e),t._fetchInst=null},complete:function(){}})}}},{key:"fetchIfNeeded",value:function(){this._fetchInst||this.fetch()}},{key:"isLastFetchOld",value:function(){var e=Object(f.day)(this.getLastFetch()),t=Object(f.day)();return!(!e||!t.isAfter(e.add(2,"minute")))}},{key:"setActiveDate",value:function(e){this._activeDate=new Date(e),this.fetch()}},{key:"setQuickFilter",value:function(e){var t=this.getCurrentSettingsValue();t.quickFilter=e,this.updateSettings(t)}},{key:"setUseCalendarSettings",value:function(e){var t=this.getCurrentSettingsValue(),n=Object.assign({},t);n.showCalendarSettings=e,this.updateSettings(n)}},{key:"setForceUpdate",value:function(){this._forceUpdate=!0}}]),a}()).\u0275fac=function(e){return new(e||l)(g["\u0275\u0275inject"](k),g["\u0275\u0275inject"](j.a),g["\u0275\u0275inject"](F.b),g["\u0275\u0275inject"](V.b))},l.\u0275prov=g["\u0275\u0275defineInjectable"]({token:l,factory:l.\u0275fac,providedIn:"root"}),l)},DWt7:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n("GOup");var r,a=n("SVse"),i=n("8Y7J"),s=n("s7LF"),c=n("Ynp+"),l=n("pMoy"),h=n("Q2Ze"),g=n("ZTz/"),d=n("HxU+"),f=((r=u((function e(){o(this,e)}))).\u0275fac=function(e){return new(e||r)},r.\u0275mod=i["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[d.a,a.c,s.m,h.f,l.b,g.b,c.c]]}),r)},GOup:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("8Y7J"),a=n("VE1M"),i=n("Cnb3"),s=n("gEWx"),c=n("HSxi"),l=n("Vwx4"),h=n("SVse"),g=n("Q2Ze"),d=n("i1AJ"),f=n("ZTz/"),p=n("s7LF"),v=n("UhP/"),m=n("Ynp+"),y=n("pMoy"),b=function(){return["status-button-group"]},w=function(){return{standalone:!0}};function C(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",2),r["\u0275\u0275elementStart"](2,"mat-button-toggle-group",8),r["\u0275\u0275listener"]("change",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onCalendarViewChanged(e.value)})),r["\u0275\u0275elementStart"](3,"mat-button-toggle",5),r["\u0275\u0275text"](4,"Month"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"mat-button-toggle",5),r["\u0275\u0275text"](6,"Week"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"mat-checkbox",4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().includeWeekends=e}))("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().includeWeekendsChange.emit(e)})),r["\u0275\u0275text"](8," Include Weekends "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("value",a.calendarView)("ngClass",r["\u0275\u0275pureFunction0"](6,b)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value","month"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("value","week"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngModel",a.includeWeekends)("ngModelOptions",r["\u0275\u0275pureFunction0"](7,w))}}function E(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",2),r["\u0275\u0275elementStart"](2,"mat-button-toggle-group",8),r["\u0275\u0275listener"]("change",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onPastEventsChanged(e.value)})),r["\u0275\u0275elementStart"](3,"mat-button-toggle",5),r["\u0275\u0275text"](4,"Past Events"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"mat-button-toggle",5),r["\u0275\u0275text"](6,"Upcoming Events"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("value",a.showPastEvents)("ngClass",r["\u0275\u0275pureFunction0"](4,b)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",!0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("value",!1)}}function x(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",5),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;r["\u0275\u0275property"]("value",n.hash),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function S(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"h1",1),r["\u0275\u0275text"](2,"Show By Groups:"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",2),r["\u0275\u0275elementStart"](4,"mat-form-field",3),r["\u0275\u0275elementStart"](5,"mat-select",4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().groupHashesChange.emit(e)})),r["\u0275\u0275elementStart"](6,"mat-option",5),r["\u0275\u0275text"](7,"ALL"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,x,2,2,"mat-option",6),r["\u0275\u0275pipe"](9,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("mgHideOptionalMarker",!0)("mgNoHintMargin",!0)("mgResponsiveHeight",!0)("mgNoFloatTop",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModel",(null==a.groupHashes?null:a.groupHashes.length)>0?a.groupHashes[0]:"")("ngModelOptions",r["\u0275\u0275pureFunction0"](10,w)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",""),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](9,8,a.groups$))}}function O(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",5),r["\u0275\u0275element"](1,"span",9),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("value",n),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background-color",a.getEventCategoryColor(n)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",a.getEventCategoryPrettyString(n)," ")}}var _=function(){var e=function(){function e(t,n){o(this,e),this.groupsFacade=t,this.permissions=n,this.eventCategoryKeys=Object.keys(a.EventCategoryEnum),this.calendarView="week",this.includeWeekends=!0,this.groupHashes=[],this.showCalendarSettings=!0,this.showPastEvents=!1,this.selectedCategory="",this.exclusiveGroupHashes=[],this.calendarViewChange=new r.EventEmitter,this.includeWeekendsChange=new r.EventEmitter,this.groupHashesChange=new r.EventEmitter,this.eventCategoryChange=new r.EventEmitter,this.showPastEventsChange=new r.EventEmitter,this.submit=new r.EventEmitter,this.groups$=this.groupsFacade.myGroups$}return u(e,[{key:"ngOnInit",value:function(){this.showPastEvents||(this.showPastEvents=!1),this.calendarView||(this.calendarView="week"),this.groups$=this.permissions.hasPermission(i.MingaPermission.CONTENT_GROUP_VIEWALL)?this.groupsFacade.groups$:this.groupsFacade.myGroups$}},{key:"onGroupSelectChange",value:function(e,t){t?e.groupHashes=[t]:delete e.groupHashes}},{key:"submitClick",value:function(){this.submit.emit(this)}},{key:"onPastEventsChanged",value:function(e){this.showPastEvents=e,this.showPastEventsChange.emit(this.showPastEvents)}},{key:"onCalendarViewChanged",value:function(e){this.calendarView=e,this.calendarViewChange.emit(e)}},{key:"_getEventCategoryKey",value:function(e){return Object(s.$enum)(a.EventCategoryEnum).asValueOrDefault(e,a.EventCategoryEnum.OTHER)}},{key:"getEventCategoryColor",value:function(e){var t=this._getEventCategoryKey(e);return Object(a.eventCategoryColor)(t)}},{key:"getEventCategoryPrettyString",value:function(e){var t=this._getEventCategoryKey(e);return Object(a.eventCategoryPrettyText)(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](c.b),r["\u0275\u0275directiveInject"](l.c))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-schedule-options"]],inputs:{calendarView:"calendarView",includeWeekends:"includeWeekends",groupHashes:"groupHashes",showCalendarSettings:"showCalendarSettings",showPastEvents:"showPastEvents",selectedCategory:"selectedCategory",exclusiveGroupHashes:"exclusiveGroupHashes"},outputs:{calendarViewChange:"calendarViewChange",includeWeekendsChange:"includeWeekendsChange",groupHashesChange:"groupHashesChange",eventCategoryChange:"eventCategoryChange",showPastEventsChange:"showPastEventsChange",submit:"submit"},decls:14,vars:12,consts:[[4,"ngIf"],[1,"calendar-settings-title"],[1,"mat-form-field-margin-wrapper"],["mgFormField","","appearance","legacy","floatLabel","never",3,"mgHideOptionalMarker","mgNoHintMargin","mgResponsiveHeight","mgNoFloatTop"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["mgBubbleBtn","",1,"apply-btn",3,"click"],[3,"value","ngClass","change"],[1,"event-category-circle"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,C,9,8,"ng-container",0),r["\u0275\u0275template"](1,E,7,5,"ng-container",0),r["\u0275\u0275template"](2,S,10,11,"ng-container",0),r["\u0275\u0275elementContainerStart"](3),r["\u0275\u0275elementStart"](4,"h1",1),r["\u0275\u0275text"](5,"Show By Category:"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"div",2),r["\u0275\u0275elementStart"](7,"mat-form-field",3),r["\u0275\u0275elementStart"](8,"mat-select",4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.eventCategoryChange.emit(e)})),r["\u0275\u0275elementStart"](9,"mat-option",5),r["\u0275\u0275text"](10,"ALL"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](11,O,3,4,"mat-option",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementStart"](12,"button",7),r["\u0275\u0275listener"]("click",(function(){return t.submitClick()})),r["\u0275\u0275text"](13," Apply\n"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngIf",t.showCalendarSettings),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.showCalendarSettings),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!(null!=t.exclusiveGroupHashes&&t.exclusiveGroupHashes.length)),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("mgHideOptionalMarker",!0)("mgNoHintMargin",!0)("mgResponsiveHeight",!0)("mgNoFloatTop",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModel",t.selectedCategory?t.selectedCategory:"")("ngModelOptions",r["\u0275\u0275pureFunction0"](11,w)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",""),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.eventCategoryKeys))},directives:[h.o,g.d,d.a,f.a,p.t,p.w,v.m,h.n,m.b,h.m,m.a,y.a],pipes:[h.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%], mat-checkbox[_ngcontent-%COMP%]{text-align:center;display:block}mat-checkbox[_ngcontent-%COMP%]{margin:0 0 16px}.calendar-settings-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;text-align:center;margin:0 0 8px;color:#737373}mat-form-field[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:6px;padding:0 2px 0 6px}.mat-form-field-margin-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}mat-checkbox[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{font-size:15px}button[_ngcontent-%COMP%]{margin:auto;font-size:16px;padding:.5em 3em}.mat-button-toggle-group[_ngcontent-%COMP%]{width:100%;align-items:center;border:1px solid #036;border-radius:2em}@media (orientation:landscape){.mat-button-toggle-group[_ngcontent-%COMP%]{height:7.4666666667vh}}@media (orientation:portrait){.mat-button-toggle-group[_ngcontent-%COMP%]{height:7.4666666667vw}}@media (orientation:landscape) and (max-height:375px){.mat-button-toggle-group[_ngcontent-%COMP%]{height:28px}}@media (orientation:portrait) and (max-width:375px){.mat-button-toggle-group[_ngcontent-%COMP%]{height:28px}}@media (min-width:468.75px){.mat-button-toggle-group[_ngcontent-%COMP%]{height:35px}}.mat-button-toggle[_ngcontent-%COMP%]{width:calc(100% / 2);color:#036}@media (orientation:landscape){.mat-button-toggle[_ngcontent-%COMP%]{font-size:3.2vh}}@media (orientation:portrait){.mat-button-toggle[_ngcontent-%COMP%]{font-size:3.2vw}}@media (orientation:landscape) and (max-height:375px){.mat-button-toggle[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:375px){.mat-button-toggle[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:406.25px){.mat-button-toggle[_ngcontent-%COMP%]{font-size:13px}}.event-category-circle[_ngcontent-%COMP%]{width:25px;height:25px;display:inline-block;vertical-align:middle;border-radius:50%;margin-right:9px}'],changeDetection:0}),e}()},Sa9N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancellableMixin=void 0,t.cancellableMixin=function(e,t){var n=!1;return e.cancel=function(){n||(n=!0,t())},Object.defineProperty(e,"cancelled",{get:function(){return n}}),e}}}])}();
//# sourceMappingURL=default~minga-app-src-app-groups-groups-overlays-module~minga-app-src-app-groups-groups-routing-modu~fb003bee-es5.js.map