!function(){function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return t};var t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(I){s=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),c=new M(r||[]);return i(o,"_invoke",{value:k(e,n,c)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=d;var p={};function m(){}function g(){}function h(){}var f={};s(f,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==n&&r.call(y,o)&&(f=y);var b=h.prototype=m.prototype=Object.create(f);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var n;i(this,"_invoke",{value:function(i,a){function o(){return new t((function(n,o){!function n(i,a,o,c){var l=u(e[i],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,c)}))}c(l.arg)}(i,a,n,o)}))}return n=n?n.then(o,o):o()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var c=C(o,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return g.prototype=h,i(b,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:g,configurable:!0}),g.displayName=s(h,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),s(b,l,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=E,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{NKVt:function(n,i,a){"use strict";a.r(i),a.d(i,"routes",(function(){return _n})),a.d(i,"SuperAdminRoutesModule",(function(){return An}));var o=a("8Y7J"),c=a("iInd"),l=a("TSSN"),s=a("oTGS"),d=a("6ra5"),u=a("vCJc"),p=a("Fawd"),m=a("TNy8"),g=a("Fudl"),h=a("bCM0"),f=a("s7LF"),v=a("cKGL"),y=a("o4Yh"),b=a("SVse"),x=a("2nPA"),S=a("HQAS"),k=a("0cKA"),C=a("pMoy"),w=a("xiiZ");function O(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"p",11),o["\u0275\u0275elementStart"](1,"mat-checkbox",12),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().showArchived=e})),o["\u0275\u0275text"](2,"Show only archived"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModel",r.showArchived)}}var M=function(){return{standalone:!0}};function E(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"mat-checkbox",13),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.$implicit.enabled=e}))("ngModelChange",(function(e){o["\u0275\u0275restoreView"](n);var r=t.$implicit;return o["\u0275\u0275nextContext"]().categoryToggle(r.value,e)})),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngModelOptions",o["\u0275\u0275pureFunction0"](3,M))("ngModel",r.enabled),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",r.name," ")}}var P=function(){return["banner","editor"]},I=function(e){return{o:e}},_=function(e){return{outlets:e}},A=function(e){return["",e]};function L(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",14),o["\u0275\u0275elementStart"](1,"div",15),o["\u0275\u0275elementStart"](2,"mg-icon"),o["\u0275\u0275text"](3,"post"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](6,A,o["\u0275\u0275pureFunction1"](4,_,o["\u0275\u0275pureFunction1"](2,I,o["\u0275\u0275pureFunction0"](1,P))))))}var j=function(e){return["banner","view",e]};function F(e,t){if(1&e&&o["\u0275\u0275element"](0,"mg-banner-preview",16),2&e){var n=t.$implicit;o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](8,A,o["\u0275\u0275pureFunction1"](6,_,o["\u0275\u0275pureFunction1"](4,I,o["\u0275\u0275pureFunction1"](2,j,n.bannerHash)))))("banner",n)}}var N,T,D=function(e,t,n){return{query:e,archived:t,categories:n}},$=((N=function(){function e(n,r){t(this,e),this.router=n,this.bannerLibrary=r,this.bannerSearchInput="",this.bannerSearchQuery="",this.showArchived=!1,this.categories=[{name:"Art",value:p.Banner.Category.ART},{name:"Causes",value:p.Banner.Category.CAUSES},{name:"Food",value:p.Banner.Category.FOOD},{name:"General",value:p.Banner.Category.GENERAL},{name:"School Events",value:p.Banner.Category.SCHOOL_EVENTS},{name:"Seasonal",value:p.Banner.Category.SEASONAL},{name:"Sports",value:p.Banner.Category.SPORTS}],this.filterCategories=[]}return r(e,[{key:"categoryToggle",value:function(e,t){if(t)this.filterCategories.push(e);else{var n=this.filterCategories.indexOf(e);n>-1&&this.filterCategories.splice(n,1)}}},{key:"onItemClick",value:function(e){this.router.navigate(["/sadmin/",{outlets:{o:["banner","view",e.model.item.data.bannerHash]}}])}},{key:"onKeypress",value:function(e){"Enter"===e.key&&this.commitSearchInput()}},{key:"commitSearchInput",value:function(){clearTimeout(this._debounceTimeout),this.bannerSearchQuery=this.bannerSearchInput}},{key:"debounceSearchInput",value:function(){var e=this;clearTimeout(this._debounceTimeout),this._debounceTimeout=setTimeout((function(){e.commitSearchInput()}),300)}}]),e}()).\u0275fac=function(e){return new(e||N)(o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](m.BannerLibrary))},N.\u0275cmp=o["\u0275\u0275defineComponent"]({type:N,selectors:[["mg-admin-banner-library"]],decls:20,vars:14,consts:[[1,"mg-headline","page-header"],[1,"default-icon"],[1,"banner-search","mg-smallcopy"],["placeholder","Search by keyword",3,"mgNoHintMargin","ngModel","ngModelOptions","keypress","ngModelChange"],["class","search-ctrl archived-checkbox",4,"hasPermission"],[1,"search-ctrl"],[4,"ngFor","ngForOf"],["class","search-ctrl banner-search-results mg-centered",4,"hasPermission"],["mgStreamControl","BannerLibrary","rpcStream","search","rpcControl","searchControl",3,"filter","service","grid"],["mgStreamItem",""],["mg-stream-empty","",1,"mg-centered","mg-minicopy"],[1,"search-ctrl","archived-checkbox"],[3,"ngModel","ngModelChange"],[3,"ngModelOptions","ngModel","ngModelChange"],[1,"search-ctrl","banner-search-results","mg-centered"],[1,"banner-search-results-item","add",3,"routerLink"],[3,"routerLink","banner"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",0),o["\u0275\u0275elementStart"](1,"mg-icon",1),o["\u0275\u0275text"](2,"banner-select-o"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](3," Banner Manager\n"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",2),o["\u0275\u0275elementStart"](5,"mg-search",3),o["\u0275\u0275listener"]("keypress",(function(e){return t.onKeypress(e)}))("ngModelChange",(function(){return t.debounceSearchInput()}))("ngModelChange",(function(e){return t.bannerSearchInput=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](6,O,3,1,"p",4),o["\u0275\u0275elementStart"](7,"div",5),o["\u0275\u0275elementStart"](8,"mat-accordion"),o["\u0275\u0275elementStart"](9,"mat-expansion-panel"),o["\u0275\u0275elementStart"](10,"mat-expansion-panel-header"),o["\u0275\u0275elementStart"](11,"mat-panel-title"),o["\u0275\u0275text"](12,"Filter"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](13,E,3,4,"div",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](14,L,4,8,"div",7),o["\u0275\u0275elementStart"](15,"div"),o["\u0275\u0275elementStart"](16,"mg-stream-scroller",8),o["\u0275\u0275template"](17,F,1,10,"ng-template",9),o["\u0275\u0275elementStart"](18,"p",10),o["\u0275\u0275text"](19," There is nothing here "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("mgNoHintMargin",!0)("ngModel",t.bannerSearchInput)("ngModelOptions",o["\u0275\u0275pureFunction0"](9,M)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("hasPermission","SUPERADMIN"),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngForOf",t.categories),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("hasPermission","SUPERADMIN"),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("filter",o["\u0275\u0275pureFunction3"](10,D,t.bannerSearchQuery,t.showArchived,t.filterCategories.join()))("service",t.bannerLibrary)("grid",!0))},directives:[g.a,h.a,f.t,f.w,v.a,y.a,y.c,y.f,y.g,b.n,x.a,S.a,k.a,C.a,c.h,w.a],styles:["[_nghost-%COMP%]{background-color:#fff}.search-ctrl[_ngcontent-%COMP%]{margin:16px}.banner-search-results-item[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:8px 0;border-radius:8px;width:128px;height:72px;background-color:#ccc;cursor:pointer;background-size:cover;background-position:50%}.banner-search-results-item[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;color:#fff;box-sizing:border-box}.banner-search-results-item.add[_ngcontent-%COMP%]{width:unset;display:block;background-color:#fff;border:1px solid #737373}.banner-search-results-item.add[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{color:#737373;transition:transform .2s ease}.banner-search-results-item.add[_ngcontent-%COMP%]:hover   mg-icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1.2)}.page-header[_ngcontent-%COMP%]{margin:16px 0;font-weight:400}@media (min-width:600px){.page-header[_ngcontent-%COMP%]{margin:28px var(--feed-item-margin-side,8px) 16px var(--feed-item-margin-side,8px)}}@media (max-width:599px){.page-header[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{margin-left:8px}}.banner-search[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px}.banner-search[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{padding-top:16px}.banner-search[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{padding-bottom:16px}.banner-search[_ngcontent-%COMP%]   .archived-checkbox[_ngcontent-%COMP%]{text-align:right}.banner-search[_ngcontent-%COMP%]   mg-search[_ngcontent-%COMP%]{padding:0;margin:16px auto;width:calc(100% - 32px);display:block}"]}),N),R=a("u9T3"),V=a("m9yI"),H=a("cbZm"),U=a("bo7O"),B=a("ls3q"),z=a("Vwx4"),G=((T=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||T)},T.\u0275mod=o["\u0275\u0275defineNgModule"]({type:T}),T.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[B.a,H.a,V.b,U.a,z.b,b.c,f.m,c.k,R.a,y.b,C.b]]}),T),q=a("M9ds"),Q=a("jtHE"),J=a("Cfvw"),Y=a("lJxs"),K=a("1G5W"),Z=a("pLZG"),W=a("JX91"),X=a("eIep"),ee=a("Nhcz"),te=a("Hp2Z"),ne=a("YnAW"),re=a("sj4O");function ie(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"mg-minga-designer-theme-card",7),o["\u0275\u0275elementStart"](2,"strong"),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("routerLink",n.editRouterLink)("imageUrl",n.featuredImageUrl),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](n.title)}}function ae(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"p",8),o["\u0275\u0275text"](2,"No themes available"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]())}function oe(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",2),o["\u0275\u0275elementStart"](1,"div",3),o["\u0275\u0275element"](2,"mg-button-icon",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](3,ie,4,3,"ng-container",5),o["\u0275\u0275template"](4,ae,3,0,"ng-container",6),o["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("routerLink",r.createThemRouterLink),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",n),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",0==n.length)}}function ce(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",8),o["\u0275\u0275element"](1,"mg-spinner"),o["\u0275\u0275elementEnd"]())}function le(e){return Object.assign(Object.assign({},e),{editRouterLink:["",{outlets:{o:["studio-backend","theme","edit",e.themeId]}}]})}var se,de=((se=function(){function e(n,r){var i=this;t(this,e),this.mingaDesigner=n,this._destroyed$=new Q.a(1),this.createThemRouterLink=["",{outlets:{o:["studio-backend","theme","create"]}}];var a=function(){return Object(J.a)(i.mingaDesigner.getThemes()).pipe(Object(Y.a)((function(e){return e.map(le)})))};this.themes$=r.events.pipe(Object(K.a)(this._destroyed$),Object(Z.a)((function(e){return function(e){return e instanceof c.c&&"/sadmin/studio-backend"===e.urlAfterRedirects}(e)})),Object(W.a)(a()),Object(X.a)(a))}return r(e,[{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}}]),e}()).\u0275fac=function(e){return new(e||se)(o["\u0275\u0275directiveInject"](u.MingaDesignerService),o["\u0275\u0275directiveInject"](c.g))},se.\u0275cmp=o["\u0275\u0275defineComponent"]({type:se,selectors:[["mg-minga-designer-backend-themes"]],decls:4,vars:4,consts:[["class","grid-container","gdColumns","repeat(auto-fill, minmax(160px, 1fr))","gdGap","8px 8px",4,"ngIf","ngIfElse"],["loadingThemes",""],["gdColumns","repeat(auto-fill, minmax(160px, 1fr))","gdGap","8px 8px",1,"grid-container"],[1,"add-new-theme","mg-button-hover-harbour",3,"routerLink"],["icon","post"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink","imageUrl"],[1,"mg-centered"]],template:function(e,t){if(1&e&&(o["\u0275\u0275template"](0,oe,5,3,"div",0),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275template"](2,ce,2,0,"ng-template",null,1,o["\u0275\u0275templateRefExtractor"])),2&e){var n=o["\u0275\u0275reference"](3);o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](1,2,t.themes$))("ngIfElse",n)}},directives:[b.o,ee.d,ee.b,c.h,te.a,b.n,ne.a,re.a],pipes:[b.b],styles:["mg-button[_ngcontent-%COMP%]{margin:16px}mg-minga-designer-theme-card[_ngcontent-%COMP%]{display:block;cursor:pointer;font-size:60%}.grid-container[_ngcontent-%COMP%]{margin:16px}.add-new-theme[_ngcontent-%COMP%]{cursor:pointer;background-color:#fff;border-radius:6px;border:1px solid #d3d3d3;position:relative;--mg-icon-size:40px}.add-new-theme[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"],changeDetection:0}),se),ue=a("2Vo4"),pe=a("KNwe");function me(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",11),o["\u0275\u0275text"](1," FEATURED "),o["\u0275\u0275elementEnd"]())}function ge(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",12),o["\u0275\u0275text"](1," ARCHIVED "),o["\u0275\u0275elementEnd"]())}var he=function(e){return["studio-backend","template","edit",e]},fe=function(e){return{o:e}},ve=function(e){return{outlets:e}},ye=function(e){return["",e]};function be(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",6),o["\u0275\u0275elementStart"](1,"div",7),o["\u0275\u0275template"](2,me,2,0,"div",8),o["\u0275\u0275template"](3,ge,2,0,"div",9),o["\u0275\u0275element"](4,"mg-designed-svg-viewer",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.featured&&!n.archived),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.archived),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](10,ye,o["\u0275\u0275pureFunction1"](8,ve,o["\u0275\u0275pureFunction1"](6,fe,o["\u0275\u0275pureFunction1"](4,he,n.templateId)))))("designedSvgSrc",n.templateSvgUrl)}}function xe(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"p",13),o["\u0275\u0275text"](2,"No templates available"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]())}function Se(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,be,5,12,"div",4),o["\u0275\u0275template"](2,xe,3,0,"ng-container",5),o["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf,r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n)("ngForTrackBy",r.trackByFn),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",0==n.length)}}function ke(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",13),o["\u0275\u0275element"](1,"mg-spinner"),o["\u0275\u0275elementEnd"]())}var Ce,we=((Ce=function(){function e(n,r){var i=this;t(this,e),this.mingaDesigner=n,this.templateCreateRouterLink=["",{outlets:{o:["studio-backend","template","create"]}}],this._destroyed$=new Q.a(1),this.trackByFn=function(e,t){return t.templateId},this.includeArchived$=new ue.a(!1);var a=function(){return i.includeArchived$.pipe(Object(X.a)((function(e){return Object(J.a)(i.mingaDesigner.getTemplates({includeArchived:e}))})))};this.templates$=r.events.pipe(Object(K.a)(this._destroyed$),Object(Z.a)((function(e){return function(e){return e instanceof c.c&&"/sadmin/studio-backend"===e.urlAfterRedirects}(e)})),Object(W.a)(a()),Object(X.a)(a))}return r(e,[{key:"includeArchived",get:function(){return this.includeArchived$.getValue()},set:function(e){this.includeArchived$.next(e)}},{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}}]),e}()).\u0275fac=function(e){return new(e||Ce)(o["\u0275\u0275directiveInject"](u.MingaDesignerService),o["\u0275\u0275directiveInject"](c.g))},Ce.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Ce,selectors:[["mg-minga-designer-backend-templates"]],inputs:{includeArchived:"includeArchived"},decls:8,vars:5,consts:[["gdColumns","repeat(auto-fill, minmax(120px, 1fr))","gdGap","8px 8px",1,"templates-container"],[1,"add-svg",3,"routerLink"],[4,"ngIf","ngIfElse"],["loadingTemplates",""],["class","item-wrap",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"item-wrap"],[1,"designed-svg-item"],["class","svg-template-featured",4,"ngIf"],["class","svg-template-featured archived",4,"ngIf"],[3,"routerLink","designedSvgSrc"],[1,"svg-template-featured"],[1,"svg-template-featured","archived"],[1,"mg-centered"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"mg-icon"),o["\u0275\u0275text"](3,"post"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](4,Se,3,3,"ng-container",2),o["\u0275\u0275pipe"](5,"async"),o["\u0275\u0275template"](6,ke,2,0,"ng-template",null,3,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275reference"](7);o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("routerLink",t.templateCreateRouterLink),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](5,3,t.templates$))("ngIfElse",n)}},directives:[ee.d,ee.b,c.h,g.a,b.o,b.n,pe.a,re.a],pipes:[b.b],styles:[".templates-container[_ngcontent-%COMP%]{margin:16px}.add-svg[_ngcontent-%COMP%]{position:relative;background-color:#fff;border:1px solid #ccc;border-radius:6px;cursor:pointer;--mg-icon-size:40px}.add-svg[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.designed-svg-item[_ngcontent-%COMP%]{display:block;position:relative;border-radius:6px;overflow:hidden;cursor:pointer}.svg-template-featured[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;padding:8px 16px;background-color:#93f;border-radius:6px;color:#fff;font-weight:700;font-size:12px;-webkit-user-select:none;user-select:none}.svg-template-featured.archived[_ngcontent-%COMP%]{background-color:grey}"],changeDetection:0}),Ce),Oe=a("VDRc");function Me(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",11),o["\u0275\u0275text"](1," ARCHIVED "),o["\u0275\u0275elementEnd"]())}var Ee=function(e){return["studio-backend","stock-photo","edit",e]},Pe=function(e){return{o:e}},Ie=function(e){return{outlets:e}},_e=function(e){return["",e]};function Ae(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",1),o["\u0275\u0275elementStart"](1,"div",8),o["\u0275\u0275template"](2,Me,2,0,"div",9),o["\u0275\u0275element"](3,"div",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.archived),o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("background-image","url("+n.photoUrl+")"),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](10,_e,o["\u0275\u0275pureFunction1"](8,Ie,o["\u0275\u0275pureFunction1"](6,Pe,o["\u0275\u0275pureFunction1"](4,Ee,n.photoId)))))}}function Le(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275element"](1,"div",1),o["\u0275\u0275elementContainerEnd"]())}function je(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"p",12),o["\u0275\u0275text"](2,"No photos available"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]())}function Fe(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,Ae,4,12,"div",6),o["\u0275\u0275template"](2,Le,2,0,"ng-container",7),o["\u0275\u0275template"](3,je,3,0,"ng-container",7),o["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.length%2==0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",0==n.length)}}function Ne(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",12),o["\u0275\u0275element"](1,"mg-spinner"),o["\u0275\u0275elementEnd"]())}var Te,De=function(){return["studio-backend","stock-photo","create"]},$e=((Te=function(){function e(n){var r=this;t(this,e),this.mingaDesigner=n,this.includeArchived$=new ue.a(!1),this.stockPhotos$=this.includeArchived$.pipe(Object(X.a)((function(e){return Object(J.a)(r.mingaDesigner.getStockPhotos({includeArchived:e}))})))}return r(e,[{key:"includeArchived",get:function(){return this.includeArchived$.getValue()},set:function(e){this.includeArchived$.next(e)}}]),e}()).\u0275fac=function(e){return new(e||Te)(o["\u0275\u0275directiveInject"](u.MingaDesignerService))},Te.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Te,selectors:[["mg-minga-designer-backend-stock-photos"]],inputs:{includeArchived:"includeArchived"},decls:11,vars:12,consts:[["fxLayout","row wrap","fxLayoutAlign","center stretch"],["fxFlex","50%",1,"item-wrap"],["fxLayout","column","fxLayoutAlign","center center",1,"stock-photo-item","add-svg",3,"routerLink"],["fxFlex","auto"],[4,"ngIf","ngIfElse"],["loadingPhotos",""],["class","item-wrap","fxFlex","50%",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"stock-photo-item"],["class","photo-featured archived",4,"ngIf"],[1,"stock-photo-bg",3,"routerLink"],[1,"photo-featured","archived"],[1,"mg-centered"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275element"](3,"div",3),o["\u0275\u0275elementStart"](4,"mg-icon"),o["\u0275\u0275text"](5,"post"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](6,"div",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,Fe,4,3,"ng-container",4),o["\u0275\u0275pipe"](8,"async"),o["\u0275\u0275template"](9,Ne,2,0,"ng-template",null,5,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275reference"](10);o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](10,_e,o["\u0275\u0275pureFunction1"](8,Ie,o["\u0275\u0275pureFunction1"](6,Pe,o["\u0275\u0275pureFunction0"](5,De))))),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](8,3,t.stockPhotos$))("ngIfElse",n)}},directives:[Oe.e,Oe.d,Oe.b,c.h,g.a,b.o,b.n,re.a],pipes:[b.b],styles:[".stock-photo-item[_ngcontent-%COMP%]{display:block;position:relative;border-radius:6px;overflow:hidden;margin:16px;cursor:pointer}.stock-photo-item.add-svg[_ngcontent-%COMP%]{height:calc(100% - 32px);background-color:#fff;border:1px solid #ccc;--mg-icon-size:50px}.photo-featured[_ngcontent-%COMP%], .stock-photo-item[_ngcontent-%COMP%]:not(.add-svg){-webkit-user-select:none;user-select:none}.photo-featured[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;padding:8px 16px;background-color:#93f;border-radius:6px;color:#fff;font-weight:700;font-size:12px}.photo-featured.archived[_ngcontent-%COMP%]{background-color:grey}.stock-photo-bg[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;padding:100px 50px}"],changeDetection:0}),Te);function Re(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",11),o["\u0275\u0275text"](1," ARCHIVED "),o["\u0275\u0275elementEnd"]())}var Ve=function(e){return["studio-backend","stock-sticker","edit",e]},He=function(e){return{o:e}},Ue=function(e){return{outlets:e}},Be=function(e){return["",e]};function ze(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",1),o["\u0275\u0275elementStart"](1,"div",8),o["\u0275\u0275template"](2,Re,2,0,"div",9),o["\u0275\u0275element"](3,"div",10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.archived),o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("background-image","url("+n.stickerUrl+")"),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](10,Be,o["\u0275\u0275pureFunction1"](8,Ue,o["\u0275\u0275pureFunction1"](6,He,o["\u0275\u0275pureFunction1"](4,Ve,n.stickerId)))))}}function Ge(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275element"](1,"div",1),o["\u0275\u0275elementContainerEnd"]())}function qe(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"p",12),o["\u0275\u0275text"](2,"No stickers available"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]())}function Qe(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275template"](1,ze,4,12,"div",6),o["\u0275\u0275template"](2,Ge,2,0,"ng-container",7),o["\u0275\u0275template"](3,qe,3,0,"ng-container",7),o["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.ngIf;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.length%2==0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",0==n.length)}}function Je(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",12),o["\u0275\u0275element"](1,"mg-spinner"),o["\u0275\u0275elementEnd"]())}var Ye,Ke=function(){return["studio-backend","stock-sticker","create"]},Ze=((Ye=function(){function e(n){var r=this;t(this,e),this.mingaDesigner=n,this.includeArchived$=new ue.a(!1),this.stockStickers$=this.includeArchived$.pipe(Object(X.a)((function(e){return Object(J.a)(r.mingaDesigner.getStockStickers({includeArchived:e}))})))}return r(e,[{key:"includeArchived",get:function(){return this.includeArchived$.getValue()},set:function(e){this.includeArchived$.next(e)}}]),e}()).\u0275fac=function(e){return new(e||Ye)(o["\u0275\u0275directiveInject"](u.MingaDesignerService))},Ye.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Ye,selectors:[["mg-minga-designer-backend-stock-stickers"]],inputs:{includeArchived:"includeArchived"},decls:11,vars:12,consts:[["fxLayout","row wrap","fxLayoutAlign","center stretch"],["fxFlex","50%",1,"item-wrap"],["fxLayout","column","fxLayoutAlign","center center",1,"stock-sticker-item","add-svg",3,"routerLink"],["fxFlex","auto"],[4,"ngIf","ngIfElse"],["loadingStickers",""],["class","item-wrap","fxFlex","50%",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"stock-sticker-item"],["class","sticker-featured archived",4,"ngIf"],[1,"stock-sticker-bg",3,"routerLink"],[1,"sticker-featured","archived"],[1,"mg-centered"]],template:function(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275element"](3,"div",3),o["\u0275\u0275elementStart"](4,"mg-icon"),o["\u0275\u0275text"](5,"post"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](6,"div",3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](7,Qe,4,3,"ng-container",4),o["\u0275\u0275pipe"](8,"async"),o["\u0275\u0275template"](9,Je,2,0,"ng-template",null,5,o["\u0275\u0275templateRefExtractor"]),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275reference"](10);o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](10,Be,o["\u0275\u0275pureFunction1"](8,Ue,o["\u0275\u0275pureFunction1"](6,He,o["\u0275\u0275pureFunction0"](5,Ke))))),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngIf",o["\u0275\u0275pipeBind1"](8,3,t.stockStickers$))("ngIfElse",n)}},directives:[Oe.e,Oe.d,Oe.b,c.h,g.a,b.o,b.n,re.a],pipes:[b.b],styles:[".stock-sticker-item[_ngcontent-%COMP%]{display:block;position:relative;border-radius:6px;overflow:hidden;margin:16px;cursor:pointer}.stock-sticker-item.add-svg[_ngcontent-%COMP%]{height:calc(100% - 32px);background-color:#fff;border:1px solid #ccc;--mg-icon-size:50px}.sticker-featured[_ngcontent-%COMP%], .stock-sticker-item[_ngcontent-%COMP%]:not(.add-svg){-webkit-user-select:none;user-select:none}.sticker-featured[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;padding:8px 16px;background-color:#93f;border-radius:6px;color:#fff;font-weight:700;font-size:12px}.sticker-featured.archived[_ngcontent-%COMP%]{background-color:grey}.stock-sticker-bg[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;padding:100px 50px}"],changeDetection:0}),Ye);function We(e,t){1&e&&o["\u0275\u0275element"](0,"mg-minga-designer-backend-themes")}function Xe(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",5),o["\u0275\u0275elementStart"](1,"mat-checkbox",6),o["\u0275\u0275listener"]("change",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().includeArchived=e.checked})),o["\u0275\u0275text"](2," Include archived templates "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](3,"mg-minga-designer-backend-templates",7)}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("value",r.includeArchived),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("includeArchived",r.includeArchived)}}function et(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",5),o["\u0275\u0275elementStart"](1,"mat-checkbox",6),o["\u0275\u0275listener"]("change",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().includeArchived=e.checked})),o["\u0275\u0275text"](2," Include archived Stock Photos "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](3,"mg-minga-designer-backend-stock-photos",7)}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("value",r.includeArchived),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("includeArchived",r.includeArchived)}}function tt(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",5),o["\u0275\u0275elementStart"](1,"mat-checkbox",6),o["\u0275\u0275listener"]("change",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().includeArchived=e.checked})),o["\u0275\u0275text"](2," Include archived Stock Stickers "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](3,"mg-minga-designer-backend-stock-stickers",7)}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("value",r.includeArchived),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("includeArchived",r.includeArchived)}}var nt,rt,it,at,ot,ct,lt,st=((nt=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||nt)},nt.\u0275cmp=o["\u0275\u0275defineComponent"]({type:nt,selectors:[["ng-component"]],decls:9,vars:0,consts:[["label","Themes"],["matTabContent",""],["label","Templates"],["label","Stock Photos"],["label","Stock Stickers"],[1,"filter-tools"],[3,"value","change"],[3,"includeArchived"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-tab-group"),o["\u0275\u0275elementStart"](1,"mat-tab",0),o["\u0275\u0275template"](2,We,1,0,"ng-template",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mat-tab",2),o["\u0275\u0275template"](4,Xe,4,2,"ng-template",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"mat-tab",3),o["\u0275\u0275template"](6,et,4,2,"ng-template",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"mat-tab",4),o["\u0275\u0275template"](8,tt,4,2,"ng-template",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())},directives:[q.c,q.a,q.b,de,C.a,we,$e,Ze],styles:[".filter-tools[_ngcontent-%COMP%]{padding:16px}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-label{min-width:50px;white-space:normal}mat-tab-group[_ngcontent-%COMP%]     .mat-tab-label .mat-tab-label-content{white-space:normal}"],changeDetection:0}),nt),dt=a("NiVs"),ut=a("7Tcv"),pt=((at=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||at)},at.\u0275mod=o["\u0275\u0275defineNgModule"]({type:at}),at.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[dt.b,B.a,ut.a,b.c,f.m,c.k,R.a]]}),at),mt=((it=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||it)},it.\u0275mod=o["\u0275\u0275defineNgModule"]({type:it}),it.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[dt.b,B.a,ut.a,b.c,f.m,c.k,R.a]]}),it),gt=((rt=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||rt)},rt.\u0275mod=o["\u0275\u0275defineNgModule"]({type:rt}),rt.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[dt.b,B.a,ut.a,b.c,f.m,c.k,R.a]]}),rt),ht=a("CO6v"),ft=a("62tx"),vt=((ct=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||ct)},ct.\u0275mod=o["\u0275\u0275defineNgModule"]({type:ct}),ct.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[ht.a,ft.a,b.c,c.k,ut.a,R.a]]}),ct),yt=((ot=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||ot)},ot.\u0275mod=o["\u0275\u0275defineNgModule"]({type:ot}),ot.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[q.g,gt,vt,pt,mt,C.b,b.c]]}),ot),bt=a("c5ld"),xt=a("P4MA"),St=a("4avL"),kt=a("jaBy"),Ct=a("Mjc8"),wt=((lt=function(){function e(){t(this,e),this.imageUrl=""}return r(e,[{key:"getProgressiveImageUrls",value:function(){var e=[];return this.pollStyle&&this.pollStyle.pollStyleAsset&&e.push(this.pollStyle.pollStyleAsset),e.map(kt.b)}}]),e}()).\u0275fac=function(e){return new(e||lt)},lt.\u0275cmp=o["\u0275\u0275defineComponent"]({type:lt,selectors:[["mg-poll-style-preview"]],inputs:{imageUrl:"imageUrl",pollStyle:"pollStyle"},decls:2,vars:4,consts:[[3,"image","images","imageChange"],[1,"mg-poll-style-preview"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mg-progressive-image",0),o["\u0275\u0275listener"]("imageChange",(function(e){return t.imageUrl=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](1,"div",1)),2&e&&(o["\u0275\u0275property"]("image",t.imageUrl)("images",t.getProgressiveImageUrls()),o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("background-image","url("+t.imageUrl+")"))},directives:[Ct.a],styles:[".mg-poll-style-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:8px;border-radius:8px;width:128px;height:72px;background-color:#ccc;border:1px solid #ccc;box-shadow:0 0 2px rgba(0,0,0,.16);cursor:pointer;background-size:cover;background-position:50%}"],changeDetection:0}),lt);function Ot(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mg-poll-style-preview",8),o["\u0275\u0275listener"]("click",(function(e){o["\u0275\u0275restoreView"](n);var r=t.$implicit;return o["\u0275\u0275nextContext"]().onItemClick(e,r)})),o["\u0275\u0275elementEnd"]()}2&e&&o["\u0275\u0275property"]("pollStyle",t.$implicit)}var Mt,Et,Pt,It=function(){return["poll-style","editor"]},_t=function(e){return{o:e}},At=function(e){return{outlets:e}},Lt=function(e){return["",e]},jt=function(e,t){return{archived:e,adminOnly:t}},Ft=((Mt=function(){function e(n,r){t(this,e),this.router=n,this.pollStyleLibrary=r,this.onlyArchived=!1,this.onlyAdmin=!1}return r(e,[{key:"onItemClick",value:function(e,t){t.pollStyleId?this.router.navigate(["",{outlets:{o:["poll-style","editor",t.pollStyleId]}}]):console.warn("PollStyleLibraryComponent.onItemClick() Missing poll style id:",t)}}]),e}()).\u0275fac=function(e){return new(e||Mt)(o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](xt.PollStyleLibrary))},Mt.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Mt,selectors:[["mg-poll-style-library"]],decls:16,vars:16,consts:[[1,"mg-centered","mg-headline"],[1,"search-ctrl"],[3,"ngModel","ngModelChange"],[1,"add-poll-bg-wrap"],["type","outline","fxLayout","row","fxLayoutAlign","center center",1,"add-poll-bg",3,"routerLink"],["rpcStream","search","rpcControl","searchControl",3,"grid","filter","service"],["mgStreamItem",""],["mg-stream-empty","",1,"mg-centered","mg-minicopy"],[3,"pollStyle","click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",0),o["\u0275\u0275text"](1,"Poll Backgrounds"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"p",1),o["\u0275\u0275elementStart"](3,"mat-checkbox",2),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onlyArchived=e})),o["\u0275\u0275text"](4,"Archived Only"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"p",1),o["\u0275\u0275elementStart"](6,"mat-checkbox",2),o["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onlyAdmin=e})),o["\u0275\u0275text"](7,"Super Admin Only"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",3),o["\u0275\u0275elementStart"](9,"mg-button",4),o["\u0275\u0275text"](10," Add Poll Background "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div"),o["\u0275\u0275elementStart"](12,"mg-stream-scroller",5),o["\u0275\u0275template"](13,Ot,1,1,"ng-template",6),o["\u0275\u0275elementStart"](14,"p",7),o["\u0275\u0275text"](15," There is nothing here "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",t.onlyArchived),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",t.onlyAdmin),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](11,Lt,o["\u0275\u0275pureFunction1"](9,At,o["\u0275\u0275pureFunction1"](7,_t,o["\u0275\u0275pureFunction0"](6,It))))),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("grid",!0)("filter",o["\u0275\u0275pureFunction2"](13,jt,t.onlyArchived,t.onlyAdmin))("service",t.pollStyleLibrary))},directives:[C.a,f.t,f.w,St.a,c.h,x.a,k.a,wt],styles:[""]}),Mt),Nt=a("mF6c"),Tt=((Pt=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||Pt)},Pt.\u0275mod=o["\u0275\u0275defineNgModule"]({type:Pt}),Pt.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[Nt.a]]}),Pt),Dt=((Et=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||Et)},Et.\u0275mod=o["\u0275\u0275defineNgModule"]({type:Et}),Et.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[V.b,ht.a,Tt,f.m,c.k,C.b]]}),Et),$t=a("mrSG"),Rt=a("zq1v"),Vt=a("HHVM"),Ht=a("vAI6"),Ut=a("5H0S"),Bt=a("EyMp"),zt=a("UWMR"),Gt=a("DjdL"),qt=a("tqRt"),Qt=a("3qIc"),Jt=a("NG82"),Yt=a("iELJ"),Kt=a("jNxq"),Zt=a("Cgve"),Wt=a("05dM"),Xt=a("O4Bs"),en=a("VoSn"),tn=a("gjtd"),nn=a("DobJ"),rn=a("kCL4");function an(e,t){1&e&&o["\u0275\u0275element"](0,"mg-empty-state",3),2&e&&o["\u0275\u0275property"]("title","Use the searchbox above to search all users.")}function on(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"th",9),o["\u0275\u0275text"](1,"Member Details"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"th"),o["\u0275\u0275text"](3,"Role"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"th"),o["\u0275\u0275text"](5,"Last Login"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"th"),o["\u0275\u0275text"](7,"Minga"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"th"),o["\u0275\u0275text"](9,"Archive"),o["\u0275\u0275elementEnd"]())}function cn(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span",17),o["\u0275\u0275text"](1,"--"),o["\u0275\u0275elementEnd"]())}function ln(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]().$implicit,r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",r.lastLoginFormat(n.lastLogin)," ")}}function sn(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"span",17),o["\u0275\u0275text"](1,"--"),o["\u0275\u0275elementEnd"]())}function dn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"span"),o["\u0275\u0275text"](1),o["\u0275\u0275pipe"](2,"async"),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]().$implicit,r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",o["\u0275\u0275pipeBind1"](2,1,r.getMingaNameByHash(n.mingaHash))," ")}}function un(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",18),o["\u0275\u0275elementStart"](2,"mg-generic-button",19),o["\u0275\u0275listener"]("onClick",(function(){o["\u0275\u0275restoreView"](n);var e=o["\u0275\u0275nextContext"]().$implicit;return o["\u0275\u0275nextContext"](2).archivePerson(e.personHash)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]().$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("opacity",r.archived?"0.5":1),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("isDisabled",r.archived)("hasRipples",!1)("isRounded",!1)}}var pn=function(e){return["people","update",e]},mn=function(e){return{o:e}},gn=function(e){return{outlets:e}},hn=function(e){return["",e]};function fn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td"),o["\u0275\u0275element"](1,"mg-avatar",10),o["\u0275\u0275elementStart"](2,"div",11),o["\u0275\u0275elementStart"](3,"div"),o["\u0275\u0275element"](4,"mg-person-minimal",12),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div"),o["\u0275\u0275elementStart"](6,"a",13),o["\u0275\u0275text"](7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"td",14),o["\u0275\u0275elementStart"](9,"strong",3),o["\u0275\u0275text"](10),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"td",14),o["\u0275\u0275template"](12,cn,2,0,"span",15),o["\u0275\u0275template"](13,ln,2,1,"span",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"td",14),o["\u0275\u0275template"](15,sn,2,0,"span",15),o["\u0275\u0275template"](16,dn,3,3,"span",16),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"td",14),o["\u0275\u0275template"](18,un,3,5,"ng-container",16),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("opacity",n.archived?"0.5":1),o["\u0275\u0275classProp"]("is-disabled",n.archived),o["\u0275\u0275property"]("src",n.profileImageUrl)("color",n.badgeIconColor)("routerLink",o["\u0275\u0275pureFunction1"](28,hn,o["\u0275\u0275pureFunction1"](26,gn,o["\u0275\u0275pureFunction1"](24,mn,o["\u0275\u0275pureFunction1"](22,pn,n.personHash))))),o["\u0275\u0275advance"](2),o["\u0275\u0275classProp"]("is-disabled",n.archived),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("person",r.personMinimalData(n))("routerLink",o["\u0275\u0275pureFunction1"](36,hn,o["\u0275\u0275pureFunction1"](34,gn,o["\u0275\u0275pureFunction1"](32,mn,o["\u0275\u0275pureFunction1"](30,pn,n.personHash))))),o["\u0275\u0275advance"](1),o["\u0275\u0275styleProp"]("opacity",n.archived?"0.5":1),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("href","mailto:"+n.email,o["\u0275\u0275sanitizeUrl"]),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](n.email),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("title",r.roleTitle(n)),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",r.roleInitial(n.badgeRoleName)," "),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!n.lastLogin),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.lastLogin),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",!n.mingaHash),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",n.mingaHash),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngIf",n.personHash)}}function vn(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mg-table-stream-scroller",4),o["\u0275\u0275elementStart"](1,"p",5),o["\u0275\u0275text"](2," No results "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"p",6),o["\u0275\u0275text"](4," No more results "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](5,on,10,0,"ng-template",7),o["\u0275\u0275template"](6,fn,19,38,"ng-template",8),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("service",n.mingaPeopleManager)("filter",n.getStreamFilter())}}var yn,bn,xn,Sn=((yn=function(){function n(e,r,i,a,o,c,l,s,d){t(this,n),this.mingaPeopleManager=e,this._snackBar=r,this._router=i,this._search=a,this._store=o,this._mingaFacade=c,this._peopleService=l,this._dialog=s,this._streamManager=d,this.streamFilter={query:""},this.submitted=!1,this.tableLabel="",this.searchText="",this.items=[],this.people=null}return r(n,[{key:"ngOnInit",value:function(){this._store.dispatch(Object(Rt.a)())}},{key:"ngOnDestroy",value:function(){this._search.resetSearch()}},{key:"getMingaNameByHash",value:function(e){return this._mingaFacade.getMingaByHash(e).pipe(Object(Y.a)((function(e){return e.name})))}},{key:"onSearchText",value:function(e){this.searchText=e,this.searchText?this.submit():this.submitted=!1}},{key:"submit",value:function(){this.submitted=!0,this.applyStreamFilter()}},{key:"personMinimalData",value:function(e){return Object.assign(Object.assign({},e),{displayName:e.firstName+" "+e.lastName})}},{key:"getStreamFilter",value:function(){return this.streamFilter}},{key:"applyStreamFilter",value:function(){var e={query:""};this.searchText&&(e.query=this.searchText),this.streamFilter=e}},{key:"streamItemClick",value:function(e){this._router.navigate(["/admin/",{outlets:{o:["people","update",e.model.item.data.personHash]}}])}},{key:"roleTitle",value:function(e){return e.archived?"(Archived) "+e.badgeRoleName:e.badgeRoleName}},{key:"roleInitial",value:function(e){if("Member"===e||"Members"===e)return"Mem";for(var t="",n=0;e.length>n;n++){var r=e[n];r===r.toUpperCase()&&(t+=r)}return t||(t=e[0].toUpperCase()),t}},{key:"lastLoginFormat",value:function(e){if(!e)return"--";var t=new Date;t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0);var n=new Date(Date.UTC(e.year,e.month-1,e.day)),r=t.getTime()-n.getTime();return r<864e5?"today":Vt.day.duration(-r).humanize(!0)}},{key:"archivePerson",value:function(t){return Object($t.a)(this,void 0,void 0,e().mark((function n(){var r=this;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._dialog.open(Ut.a,{data:{text:{description:"Are you sure you want to archive this person?",deleteBtn:"Archive"}}}).afterClosed().subscribe((function(n){return Object($t.a)(r,void 0,void 0,e().mark((function r(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&n.confirmed,!e.t0){e.next=8;break}return e.next=4,this._peopleService.archivePerson(t);case 4:return e.next=6,this._streamManager.restartStreamIfAvailable("AdminPeopleFeed");case 6:this._store.dispatch(new Ht.a.PeopleUpdated),this._snackBar.open("person archived successfully");case 8:case"end":return e.stop()}}),r,this)})))}));case 1:case"end":return n.stop()}}),n,this)})))}}]),n}()).\u0275fac=function(e){return new(e||yn)(o["\u0275\u0275directiveInject"](Bt.MingaPeopleManager),o["\u0275\u0275directiveInject"](zt.b),o["\u0275\u0275directiveInject"](c.g),o["\u0275\u0275directiveInject"](Gt.f),o["\u0275\u0275directiveInject"](qt.i),o["\u0275\u0275directiveInject"](Qt.b),o["\u0275\u0275directiveInject"](Jt.a),o["\u0275\u0275directiveInject"](Yt.b),o["\u0275\u0275directiveInject"](Kt.a))},yn.\u0275cmp=o["\u0275\u0275defineComponent"]({type:yn,selectors:[["mg-super-admin-people"]],decls:3,vars:2,consts:[["searchPlaceholder","Search People",3,"searchQueryChange"],[3,"title",4,"ngIf"],["class","mg-table","mgStreamControl","AdminPeopleFeed","rpcStream","superAdminSearchPeople","rpcControl","superAdminSearchPeopleControl",3,"service","filter",4,"ngIf"],[3,"title"],["mgStreamControl","AdminPeopleFeed","rpcStream","superAdminSearchPeople","rpcControl","superAdminSearchPeopleControl",1,"mg-table",3,"service","filter"],["mg-stream-empty","",1,"mg-centered"],["mg-stream-front-exhausted","",1,"mg-centered"],["mgTableStreamHeader",""],["mgTableStreamRow",""],[2,"text-align","left"],[2,"margin-right","8px","cursor","pointer",3,"src","color","routerLink"],["fxLayout","column","fxFlex",""],[2,"cursor","pointer",3,"person","routerLink"],[2,"color","#9933ff","text-decoration","none","font-size","10px",3,"href"],[1,"mg-centered"],["style","color: #737373",4,"ngIf"],[4,"ngIf"],[2,"color","#737373"],[1,"archive-button"],["colorTheme","navy","iconLeft","archive-file","size","small","paddingSize","none","variant","clear",3,"isDisabled","hasRipples","isRounded","onClick"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mg-search-active-route",0),o["\u0275\u0275listener"]("searchQueryChange",(function(e){return t.onSearchText(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](1,an,1,1,"mg-empty-state",1),o["\u0275\u0275template"](2,vn,7,2,"mg-table-stream-scroller",2)),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.submitted),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.submitted))},directives:[Zt.a,b.o,Wt.a,Xt.a,S.a,en.a,k.a,tn.a,c.h,Oe.e,Oe.b,nn.a,rn.a],pipes:[b.b],styles:["mg-table-stream-scroller[_ngcontent-%COMP%]{--table-stream-padding:6px;--table-stream-empty-cell-color:#e2e2e2;--table-stream-border-width:1px;--table-stream-border-color:#ccc;--table-stream-margin-bottom:32px;margin-top:16px;margin-bottom:16px}@media (max-width:599px){mg-table-stream-scroller[_ngcontent-%COMP%]{margin:10px;--table-stream-margin-bottom:82px}}mg-table-stream-scroller[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.header-cell[_ngcontent-%COMP%]{font-size:.8em;font-weight:700}.header[_ngcontent-%COMP%]{font-size:.8em;color:#737373;margin-top:15px;display:flex;justify-content:space-between}@media (max-width:599px){.header[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}}table[_ngcontent-%COMP%]{background-color:#fff}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px 8px}@media (orientation:landscape){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:2.1333333333vh}}@media (orientation:portrait){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:2.1333333333vw}}@media (orientation:landscape) and (max-height:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:8px}}@media (orientation:portrait) and (max-width:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:8px}}@media (min-width:562.5px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:12px}}@media (orientation:landscape){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:2.1333333333vh}}@media (orientation:portrait){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:2.1333333333vw}}@media (orientation:landscape) and (max-height:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:8px}}@media (orientation:portrait) and (max-width:375px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:8px}}@media (min-width:562.5px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-right:12px}}td[_ngcontent-%COMP%]{font-size:75%}.archive-button[_ngcontent-%COMP%]{transform:rotate(180deg)}.is-disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),yn),kn=a("f44v"),Cn=a("UhP/"),wn=a("Tj54"),On=a("NG9B"),Mn=a("fHWq"),En=a("5VmK"),Pn=a("OLhe"),In=((bn=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||bn)},bn.\u0275mod=o["\u0275\u0275defineNgModule"]({type:bn}),bn.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[B.a,En.a,Mn.a,ht.a,V.b,Gt.d,On.a,Pn.a,b.c,c.k,R.a.withConfig({addFlexToParent:!1}),Yt.f,Cn.r,kn.e,wn.b]]}),bn),_n=[{path:"studio-backend",component:st},{path:"banner/library",component:$},{path:"poll-style/library",component:Ft},{path:"people",component:Sn}],An=((xn=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||xn)},xn.\u0275mod=o["\u0275\u0275defineNgModule"]({type:xn}),xn.\u0275inj=o["\u0275\u0275defineInjector"]({providers:[{provide:u.MingaDesignerService,useExisting:d.a}],imports:[[yt,G,bt.b,Dt,s.a,In,l.c.forChild(),c.k.forChild(_n)]]}),xn)},bCM0:function(e,n,i){"use strict";i.d(n,"a",(function(){return m}));var a=i("8Y7J"),o=i("s7LF"),c=i("Q2Ze"),l=i("i1AJ"),s=i("e6WT"),d=i("Tj54"),u=["inputEl"],p={provide:o.r,useExisting:Object(a.forwardRef)((function(){return m})),multi:!0},m=function(){var e=function(){function e(){t(this,e),this.value="",this.placeholder="Search",this.mgNoHintMargin=!1,this.blur=new a.EventEmitter}return r(e,[{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"valueChange",value:function(e){this.onChange&&this.onChange(e),this.onTouched&&this.onTouched()}},{key:"writeValue",value:function(e){"string"==typeof e?this.value=e:null===e?this.value="":console.warn("mg-stream unsupported write value:",e)}},{key:"focus",value:function(){this.inputEl&&this.inputEl.nativeElement.focus()}},{key:"hasFocus",value:function(){return!!this.inputEl&&document.activeElement===this.inputEl.nativeElement}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-search"]],viewQuery:function(e,t){var n;(1&e&&a["\u0275\u0275viewQuery"](u,3),2&e)&&(a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.inputEl=n.first))},inputs:{placeholder:"placeholder",mgNoHintMargin:"mgNoHintMargin"},outputs:{blur:"blur"},features:[a["\u0275\u0275ProvidersFeature"]([p])],decls:5,vars:5,consts:[["mgFormField","","floatPlaceholder","never",3,"mgNoHintMargin"],["matInput","","type","text","autocomplete","off",3,"placeholder","ngModel","ngModelChange","blur"],["inputEl",""],["matSuffix",""]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-form-field",0),a["\u0275\u0275elementStart"](1,"input",1,2),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(e){return t.valueChange(e)}))("blur",(function(e){return t.blur.emit(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"mat-icon",3),a["\u0275\u0275text"](4,"search"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275property"]("mgNoHintMargin",t.mgNoHintMargin),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("placeholder",t.placeholder)("ngModel",t.value),a["\u0275\u0275advance"](2),a["\u0275\u0275classProp"]("active",!!t.value))},directives:[c.d,l.a,s.b,o.d,o.t,o.w,d.a,c.j],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e}()},c5ld:function(n,i,a){"use strict";a.d(i,"a",(function(){return C})),a.d(i,"b",(function(){return M}));var o=a("mrSG"),c=a("8Y7J"),l=a("F5Qo"),s=a("+Iyi"),d=a("GFah"),u=a("iInd"),p=a("P4MA"),m=a("jNxq"),g=a("SYVq"),h=a("s7LF"),f=a("SVse"),v=a("pMoy"),y=a("o1f5"),b=["form"];function x(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"p"),c["\u0275\u0275elementStart"](1,"mat-checkbox",6),c["\u0275\u0275listener"]("ngModelChange",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().archived=e})),c["\u0275\u0275text"](2,"Archive"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",r.archived)}}var S,k,C=((S=function(){function n(e,r,i,a,o){var c=this;t(this,n),this.rootService=e,this.router=r,this.route=i,this.pollStyleLibrary=a,this.streamManager=o,this.pollStyleId=0,this.imageAsset=null,this.archived=!1,this.adminOnly=!1,this.route.params.subscribe((function(e){var t=+e.pollStyleId;isNaN(t)?c.pollStyleId=0:(c.pollStyleId=t,c._fetchPollStyle())}))}return r(n,[{key:"_fetchPollStyle",value:function(){return Object(o.a)(this,void 0,void 0,e().mark((function t(){var n,r;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new s.PollStyleLibraryGet).setPollStyleId(this.pollStyleId),e.next=4,this.pollStyleLibrary.get(n);case 4:r=e.sent,this.imageAsset=r.getPollStyleAsset(),this.archived=r.getArchived(),this.adminOnly=r.getAdminOnly();case 6:case"end":return e.stop()}}),t,this)})))}},{key:"_checkNextDisabled",value:function(){this.onOverlayNextDisabled&&this.form&&this.onOverlayNextDisabled("VALID"!==this.form.status)}},{key:"ngAfterViewInit",value:function(){var e=this;this.form.statusChanges.subscribe((function(){e._checkNextDisabled()})),this._checkNextDisabled()}},{key:"registerOnOverlayNextDisabled",value:function(e){this.onOverlayNextDisabled=e,this._checkNextDisabled()}},{key:"registerOnOverlayPreviousDisabled",value:function(e){this.onOverlayPreviousDisabled=e}},{key:"hasOverlayNext",value:function(){return{text:this.pollStyleId?"Save":"Publish",icon:"publish-o"}}},{key:"hasOverlayPrevious",value:function(){return{text:"Close",icon:"close"}}},{key:"onOverlayNext",value:function(){return Object(o.a)(this,void 0,void 0,e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onOverlayNextDisabled(!0),e.next=3,this.rootService.addLoadingPromise(this.submit()).catch((function(e){console.error(e)}));case 3:this.onOverlayNextDisabled(!1);case 4:case"end":return e.stop()}}),t,this)})))}},{key:"onOverlayPrevious",value:function(){return Object(o.a)(this,void 0,void 0,e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.onOverlayClose();case 2:case"end":return e.stop()}}),t,this)})))}},{key:"onOverlayClose",value:function(){return Object(o.a)(this,void 0,void 0,e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.router.navigate(["",{outlets:{o:null}}]));case 1:case"end":return e.stop()}}),t,this)})))}},{key:"_submitNew",value:function(){return Object(o.a)(this,void 0,void 0,e().mark((function t(){var n;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new s.PollStyleLibraryAdd).setPollStyleAsset(this.imageAsset),n.setAdminOnly(this.adminOnly),n.setArchived(this.archived),e.next=6,this.pollStyleLibrary.add(n);case 6:return e.next=8,this.streamManager.restartStreamIfAvailable("PollStyleLibrary");case 8:case"end":return e.stop()}}),t,this)})))}},{key:"_submitUpdate",value:function(){return Object(o.a)(this,void 0,void 0,e().mark((function t(){var n,r;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new s.PollStyleLibraryUpdate).setPollStyleId(this.pollStyleId),(r=new l.StringDelta).setNewString(this.imageAsset),n.setPollStyleAsset(r),n.setArchived(this.archived),n.setAdminOnly(this.adminOnly),e.next=9,this.pollStyleLibrary.update(n);case 9:return e.next=11,this.streamManager.restartStreamIfAvailable("PollStyleLibrary");case 11:case"end":return e.stop()}}),t,this)})))}},{key:"submit",value:function(){return Object(o.a)(this,void 0,void 0,e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pollStyleId){e.next=5;break}return e.next=3,this._submitUpdate();case 3:e.next=7;break;case 5:return e.next=7,this._submitNew();case 7:return e.next=9,this.onOverlayClose();case 9:case"end":return e.stop()}}),t,this)})))}}]),n}()).\u0275fac=function(e){return new(e||S)(c["\u0275\u0275directiveInject"](d.a),c["\u0275\u0275directiveInject"](u.g),c["\u0275\u0275directiveInject"](u.a),c["\u0275\u0275directiveInject"](p.PollStyleLibrary),c["\u0275\u0275directiveInject"](m.a))},S.\u0275cmp=c["\u0275\u0275defineComponent"]({type:S,selectors:[["mg-poll-style-editor"]],viewQuery:function(e,t){var n;1&e&&c["\u0275\u0275viewQuery"](b,3),2&e&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.form=n.first)},decls:10,vars:5,consts:[[3,"component"],["form","ngForm"],[1,"mg-headline","mg-centered"],[4,"ngIf"],["name","adminOnly",3,"ngModel","ngModelChange"],["required","","name","imageAsset","previewAspectRatio","4:3",3,"previewSize","ngModel","ngModelChange"],["name","archived",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(c["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),c["\u0275\u0275elementStart"](1,"form",null,1),c["\u0275\u0275elementStart"](3,"p",2),c["\u0275\u0275text"](4,"Poll Background Image"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,x,3,1,"p",3),c["\u0275\u0275elementStart"](6,"p"),c["\u0275\u0275elementStart"](7,"mat-checkbox",4),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.adminOnly=e})),c["\u0275\u0275text"](8,"Super Admin Only"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"mg-file-input-upload",5),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.imageAsset=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("component",t),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",t.pollStyleId),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",t.adminOnly),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("previewSize",700)("ngModel",t.imageAsset))},directives:[g.a,h.E,h.u,h.v,f.o,v.a,h.t,h.w,y.a,h.B],styles:["p[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}mg-file-input-upload[_ngcontent-%COMP%]{border-top:1px solid #ccc}"]}),S),w=a("p+4T"),O=a("CL15"),M=((k=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||k)},k.\u0275mod=c["\u0275\u0275defineNgModule"]({type:k}),k.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[w.a,O.a,f.c,h.m,v.b]]}),k)},cbZm:function(e,n,i){"use strict";i.d(n,"a",(function(){return m})),i("bCM0");var a,o=i("SVse"),c=i("8Y7J"),l=i("s7LF"),s=i("Q2Ze"),d=i("Tj54"),u=i("e6WT"),p=i("HxU+"),m=((a=r((function e(){t(this,e)}))).\u0275fac=function(e){return new(e||a)},a.\u0275mod=c["\u0275\u0275defineNgModule"]({type:a}),a.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[p.a,o.c,l.m,s.f,u.c,d.b]]}),a)}}])}();
//# sourceMappingURL=default~minga-app-src-app-routes-sadmin-PollStyleAdminOverlayRoutes-module~minga-app-src-app-routes-~7387d3c0-es5.js.map