!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw o}}}}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new k(r||[]);return i(o,"_invoke",{value:w(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var p={};function g(){}function m(){}function h(){}var f={};l(f,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,a)&&(f=y);var C=h.prototype=g.prototype=Object.create(f);function P(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){var r;i(this,"_invoke",{value:function(i,a){function o(){return new t((function(r,o){!function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return I()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function b(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=u(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return m.prototype=h,i(C,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},P(x.prototype),l(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new x(c(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(C),l(C,s,"Generator"),l(C,a,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=_,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"))?a:String(a)),i)}var r,a}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{"/YXT":function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return z}));var i=n("SVse"),r=n("8Y7J"),a=n("VDRc"),o=n("s7LF"),s=n("TSSN"),l=n("CO6v"),c=n("nTPY"),p=n("9F0b"),m=n("eJkR"),h=n("ls3q"),f=n("7Tcv"),v=n("YD+O"),y=n("mrSG"),C=n("iELJ"),P=n("B3cG"),x=n("IeKC"),w=n("YgQ7"),b=n("UWMR"),M=n("GFah"),O=n("Fudl"),k=n("T0RT"),_=n("cXmD"),I=n("sj4O"),S=function(){return{standalone:!0}};function E(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",7),r["\u0275\u0275elementStart"](1,"mg-file-input",8),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().files=e}))("ngModelChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onFileSelected()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](2,"div",9),r["\u0275\u0275elementStart"](3,"div",10),r["\u0275\u0275text"](4,"Upload or drag a photo here"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("showFileDetails",!1)("customTitleText"," ")("multiple",!1)("accept",i.accept)("ngModelOptions",r["\u0275\u0275pureFunction0"](6,S))("ngModel",i.files)}}function F(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",11),r["\u0275\u0275elementStart"](2,"image-cropper",12),r["\u0275\u0275listener"]("imageCropped",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().imageCropped(e)}))("imageLoaded",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().imageLoaded(e)}))("cropperReady",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().cropperReady()}))("loadImageFailed",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().loadImageFailed()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",13),r["\u0275\u0275element"](4,"div",14),r["\u0275\u0275elementStart"](5,"div",15),r["\u0275\u0275elementStart"](6,"div"),r["\u0275\u0275elementStart"](7,"mg-button-clear",16),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().rotateRight()})),r["\u0275\u0275elementStart"](8,"mg-icon"),r["\u0275\u0275text"](9,"rotate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"div"),r["\u0275\u0275elementStart"](11,"mg-button-clear",16),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().resetImage()})),r["\u0275\u0275elementStart"](12,"mg-icon"),r["\u0275\u0275text"](13,"trash"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("imageChangedEvent",i.imageChangedEvent)("imageURL",i.existingImageUrl)("maintainAspectRatio",!1)("aspectRatio",1)("transform",i.transform)("canvasRotation",i.canvasRotation)}}function N(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",17),r["\u0275\u0275element"](1,"mg-spinner"),r["\u0275\u0275elementEnd"]())}var B,D,T,j=((T=function(){function e(t,n,i,r,a,o,s,l){u(this,e),this.dialogRef=t,this.data=n,this.idUploaderService=i,this._cdr=r,this.mgModal=a,this.snackBar=o,this.rootService=s,this.dialog=l,this.files=[],this.previewUrl="",this.existingImageUrl="",this.previewSize=150,this.accept=P.a,this.canvasRotation=0,this.rotation=0,this.scale=1,this.transform={},this.imageChangedEvent="",this.croppedImage="",this.personHash="",this.loading=!1,this.personHash=n.personHash,n.currentImage&&(this.imageChangedEvent=null,this.existingImageUrl=n.currentImage)}return g(e,[{key:"hasFile",get:function(){return!!this.previewUrl}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"onFileSelected",value:function(){return Object(y.a)(this,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.files&&0!==this.files.length&&this.files[0]?this.personHash?this.fileChangeEvent({target:{files:this.files}}):console.warn("[StudentIdUploaderDialogComponent] No personhash set!"):console.warn("[StudentIdUploaderDialogComponent] no file!");case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onSubmit",value:function(){return Object(y.a)(this,void 0,void 0,d().mark((function e(){var t,n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.files.length&&!this.existingImageUrl){e.next=19;break}return this.loading=!0,e.prev=2,t=this.existingImageUrl?this.existingImageUrl:this.files[0].name,e.next=7,this.rootService.addLoadingPromise(this.idUploaderService.uploadBase64(this.croppedImage,t,this.personHash));case 7:return n=e.sent.ref.name,e.next=10,this.idUploaderService.getFilePathToStudentIdImage(n,x.b.RAW);case 10:i=e.sent,this.close({fileName:n,previewUrl:i}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),this.loading=!1,console.error("[StudentIdUploaderDialogComponent] submit error: ",e.t0),this.snackBar.open("An error occured, please try again.");case 17:e.next=20;break;case 19:this.close({deleteImage:!0});case 20:case"end":return e.stop()}}),e,this,[[2,14]])})))}},{key:"fileChangeEvent",value:function(e){this.imageChangedEvent=e}},{key:"imageCropped",value:function(e){this.croppedImage=e.base64}},{key:"imageLoaded",value:function(e){}},{key:"cropperReady",value:function(){}},{key:"loadImageFailed",value:function(){}},{key:"rotateLeft",value:function(){this.canvasRotation--,this.flipAfterRotate()}},{key:"rotateRight",value:function(){this.canvasRotation++,this.flipAfterRotate()}},{key:"flipAfterRotate",value:function(){var e=this.transform.flipH,t=this.transform.flipV;this.transform=Object.assign(Object.assign({},this.transform),{flipH:t,flipV:e})}},{key:"flipHorizontal",value:function(){this.transform=Object.assign(Object.assign({},this.transform),{flipH:!this.transform.flipH})}},{key:"flipVertical",value:function(){this.transform=Object.assign(Object.assign({},this.transform),{flipV:!this.transform.flipV})}},{key:"resetImage",value:function(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={},this.files=[],this.existingImageUrl=""}},{key:"zoomOut",value:function(){this.scale-=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}},{key:"zoomIn",value:function(){this.scale+=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}},{key:"updateRotation",value:function(){this.transform=Object.assign(Object.assign({},this.transform),{rotate:this.rotation})}}]),e}()).\u0275fac=function(e){return new(e||T)(r["\u0275\u0275directiveInject"](C.g),r["\u0275\u0275directiveInject"](C.a),r["\u0275\u0275directiveInject"](x.a),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](w.b),r["\u0275\u0275directiveInject"](b.b),r["\u0275\u0275directiveInject"](M.a),r["\u0275\u0275directiveInject"](C.b))},T.\u0275cmp=r["\u0275\u0275defineComponent"]({type:T,selectors:[["mg-student-id-uploader-dialog"]],hostVars:4,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("loading",t.loading)("has-file",t.hasFile)},inputs:{loading:"loading"},decls:13,vars:3,consts:[[1,"floating-icon-container","mg-bodycopy"],[1,"floating-icon","left",3,"click"],[1,"floating-icon","right",3,"click"],[1,"image-container"],["class","file-uploader-container",4,"ngIf"],[4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"file-uploader-container"],["name","uploader-input","icon","","compactIcon","","displayStyle","CAMERA_IMAGE",3,"showFileDetails","customTitleText","multiple","accept","ngModelOptions","ngModel","ngModelChange"],[1,"divider"],[1,"image-uploader-title-text"],[1,"image-cropper-wrapper"],["format","jpeg",3,"imageChangedEvent","imageURL","maintainAspectRatio","aspectRatio","transform","canvasRotation","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["fxLayout","column","fxLayoutAlign","center center"],[1,"divider","divider--less-margin"],["fxLayout","row","fxLayoutAlign","center center",1,"button-row"],[1,"control-button",3,"click"],[1,"spinner-container"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275listener"]("click",(function(){return t.close()})),r["\u0275\u0275elementStart"](2,"mg-icon"),r["\u0275\u0275text"](3,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](4,"\xa0Cancel "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",2),r["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),r["\u0275\u0275elementStart"](6,"mg-icon"),r["\u0275\u0275text"](7,"publish-o"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](8,"\xa0Save "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"div",3),r["\u0275\u0275template"](10,E,5,7,"div",4),r["\u0275\u0275template"](11,F,14,6,"ng-container",5),r["\u0275\u0275template"](12,N,2,0,"div",6),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](10),r["\u0275\u0275property"]("ngIf",0==t.files.length&&!t.existingImageUrl),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.files.length>0||t.existingImageUrl),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.loading))},directives:[O.a,i.o,k.a,o.t,o.w,v.a,a.e,a.d,_.a,I.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center}.loading[_nghost-%COMP%]   .floating-icon-container[_ngcontent-%COMP%], .loading[_nghost-%COMP%]   .preview-file[_ngcontent-%COMP%], .loading[_nghost-%COMP%]   mg-file-input[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.has-file[_nghost-%COMP%]   mg-file-input[_ngcontent-%COMP%]{--mg-file-input-icon-color:#fff;color:#fff}.has-file[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-height:395px;overflow:hidden;min-height:160px}.has-file[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.15)}.has-file[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.35)}.image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-height:395px;min-height:300px;overflow:hidden}.file-uploader-container[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}.divider[_ngcontent-%COMP%]{border:1px solid #b7b7b7;width:65%;margin:35px auto 30px}.divider--less-margin[_ngcontent-%COMP%]{margin:20px 0}.image-uploader-title-text[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:#1c2f59;width:44%;margin:0 auto;padding-bottom:75px}@media (orientation:landscape){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:4.5333333333vh}}@media (orientation:portrait){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:4.5333333333vw}}@media (orientation:landscape) and (max-height:375px){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:17px}}@media (orientation:portrait) and (max-width:375px){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:17px}}@media (min-width:419.1176470588px){.image-uploader-title-text[_ngcontent-%COMP%]{font-size:19px}}.spinner-container[_ngcontent-%COMP%]{top:0;bottom:0;align-items:center;justify-content:center}.floating-icon-container[_ngcontent-%COMP%], .spinner-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;display:flex}.floating-icon-container[_ngcontent-%COMP%]{justify-content:space-between;top:-50px;color:#036}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:16px 22px}@media (orientation:landscape){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:5vh}}@media (orientation:portrait){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:5vw}}@media (orientation:landscape) and (max-height:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:16px}}@media (orientation:portrait) and (max-width:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:16px}}@media (min-width:480px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]{line-height:24px}}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px}@media (orientation:landscape){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:5vh}}@media (orientation:portrait){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:5vw}}@media (orientation:landscape) and (max-height:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:16px}}@media (orientation:portrait) and (max-width:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:16px}}@media (min-width:480px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{width:24px}}@media (orientation:landscape){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:5vh}}@media (orientation:portrait){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:5vw}}@media (orientation:landscape) and (max-height:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:16px}}@media (orientation:portrait) and (max-width:320px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:16px}}@media (min-width:480px){.floating-icon-container[_ngcontent-%COMP%] > .floating-icon[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:24px}}.image-cropper-wrapper[_ngcontent-%COMP%]{width:390px;padding:0 20px}@media (max-width:599px){.image-cropper-wrapper[_ngcontent-%COMP%]{width:330px;padding:0}}image-cropper[_ngcontent-%COMP%]{width:100%;height:100%;max-height:300px;min-height:270px}.control-button[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{--mg-icon-size:38px}.button-row[_ngcontent-%COMP%]{height:50px}'],changeDetection:0}),T),R=((D=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||D)},D.\u0275mod=r["\u0275\u0275defineNgModule"]({type:D}),D.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[l.a,m.a,p.c,h.a,f.a,c.a,v.b,i.c,o.m,s.c,a.g]]}),D),z=((B=function(){function e(t){u(this,e),this.matDialog=t}return g(e,[{key:"open",value:function(e){return this.matDialog.open(j,Object.assign(Object.assign({},e),{panelClass:["mg-bordered-dialog","mg-no-padding-dialog","mg-filled-dialog","mg-light-border-dialog"],backdropClass:"mg-white-backdrop"}))}}]),e}()).\u0275fac=function(e){return new(e||B)(r["\u0275\u0275inject"](C.b))},B.\u0275prov=r["\u0275\u0275defineInjectable"]({token:B,factory:B.\u0275fac,providedIn:"root"}),B)},"85oS":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n("8Y7J"),r=n("s7LF"),a=n("Cnb3"),o=n("Q2Ze"),s=n("i1AJ"),l=n("e6WT"),c=n("SVse"),d=n("sj4O"),p=n("pMoy"),m=n("TSSN"),h=["matInputEl"];function f(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",6),i["\u0275\u0275element"](1,"mg-spinner",7),i["\u0275\u0275elementEnd"]())}var v=function(){return{standalone:!0}};function y(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-checkbox",8),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().customDisplayName=e}))("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().customDisplayNameChange(e)})),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",r.customDisplayName)("ngModelOptions",i["\u0275\u0275pureFunction0"](2,v))}}function C(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.minlength")," "))}function P(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.maxlength")," "))}function x(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.required")," "))}function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275elementContainerStart"](1,9),i["\u0275\u0275template"](2,C,3,3,"span",10),i["\u0275\u0275template"](3,P,3,3,"span",10),i["\u0275\u0275template"](4,x,3,3,"span",11),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitch",n.inputControlError),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","minlength"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","maxlength")}}var b={provide:r.r,useExisting:Object(i.forwardRef)((function(){return M})),multi:!0},M=function(){var e=function(){function e(){u(this,e),this.value="",this.defaultValue="",this.inputCustom=!1,this.firstName="",this.lastName="",this.alwaysDefaultValue=!1,this.required=!1,this.customChange=new i.EventEmitter,this.statusPending=!1,this.statusTouched=!1,this.inputControlError="",this.instantErrors=!0,this.minlength=4,this.maxlength=25,this.showOnlyWithRole=!1,this.hasRole=!1}return g(e,[{key:"custom",set:function(e){this.inputCustom=e,this.customDisplayName=e}},{key:"hint",get:function(){return this.customDisplayName?"":"Check the box to create a custom display name"}},{key:"inputMaxLength",get:function(){return parseInt("".concat(this.maxlength))+1}},{key:"inputMinLength",get:function(){return this.minlength>0?this.minlength-1:0}},{key:"setupDefault",value:function(){this.defaultValue=a.DisplayNameFormat.format(this.firstName||"",this.lastName||"",this.displayNameFormat),this.customDisplayName?!this.inputCustom&&this.customDisplayName&&this.value==this.defaultValue&&(this.customDisplayName=!1):this.value=!this.showOnlyWithRole||this.showOnlyWithRole&&this.hasRole?this.defaultValue:""}},{key:"_handleDisplayNameChange",value:function(){this.customDisplayName?(this.value=this.defaultValue,this.focusInput()):(this.setupDefault(),this.onChange(this.showOnlyWithRole&&!this.hasRole?"":this.value)),this.triggerOnTouched(),this.triggerOnChange()}},{key:"customDisplayNameChange",value:function(e){this.customDisplayName=e,this.customChange.emit(this.customDisplayName),this._handleDisplayNameChange()}},{key:"focusInput",value:function(){var e=this;if(this.matInputEl){var t=this.matInputEl,n=!1;if(t.disabled)return this.value||(this.value=" ",n=!0),new Promise((function(i){var r=setInterval((function(){e.matInputEl.disabled||(t.focus(),n&&(e.value=""),clearInterval(r),i())}),100)}));t.focus()}}},{key:"ngOnChanges",value:function(e){var t=this;(e.firstName||e.lastName||e.displayNameFormat)&&(this.setupDefault(),this._checkIfCustom()),e.inputControlError&&setTimeout((function(){t.inputControlError&&(t.matInputEl.errorState=!0,t.matInputEl.ngControl.control.setErrors({errorKey:!0}))}))}},{key:"ngOnInit",value:function(){}},{key:"change",value:function(e){"string"==typeof e&&this.onChange(e),this.onTouched()}},{key:"triggerOnChange",value:function(){this._onChange&&this._onChange(this.value)}},{key:"triggerOnTouched",value:function(){this._onTouched&&this._onTouched()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"writeValue",value:function(e){null===e||this.showOnlyWithRole&&!this.hasRole?this.value="":"string"==typeof e&&(this.value=e,this.setupDefault())}},{key:"_checkIfCustom",value:function(){var e=this.defaultValue.trim(),t=this.value.trim();(this.inputCustom||e&&t&&t!=e)&&(this.customDisplayName=!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-display-name"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275viewQuery"](h,3),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.matInputEl=n.first))},inputs:{firstName:"firstName",lastName:"lastName",alwaysDefaultValue:"alwaysDefaultValue",displayNameFormat:"displayNameFormat",required:"required",custom:"custom",statusPending:"statusPending",statusTouched:"statusTouched",inputControlError:"inputControlError",instantErrors:"instantErrors",minlength:"minlength",maxlength:"maxlength",showOnlyWithRole:"showOnlyWithRole",hasRole:"hasRole"},outputs:{customChange:"customChange"},features:[i["\u0275\u0275ProvidersFeature"]([b]),i["\u0275\u0275NgOnChangesFeature"]],decls:9,vars:10,consts:[["hideRequiredMarker","","mgFormField","",1,"mg-display-name",3,"hintLabel","mgNoDisabledText"],["matInput","","ngDefaultControl","","name","displayName","autocomplete","off",3,"maxlength","minlength","ngModel","disabled","required","ngModelChange"],["inputEl","","matInputEl","matInput"],["class","input-icon","mat-icon-button","","matSuffix","",4,"ngIf"],["matSuffix","","ngDefaultControl","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[4,"ngIf"],["mat-icon-button","","matSuffix","",1,"input-icon"],["color","primary","diameter","25"],["matSuffix","","ngDefaultControl","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2,"Display Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",1,2),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(e){return t.change(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,f,2,0,"div",3),i["\u0275\u0275template"](7,y,1,3,"mat-checkbox",4),i["\u0275\u0275template"](8,w,5,3,"mat-error",5),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("hintLabel",t.hint)("mgNoDisabledText",!t.value&&!t.customDisplayName),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("maxlength",t.inputMaxLength)("minlength",t.inputMinLength)("ngModel",t.value)("disabled",!t.customDisplayName)("required",t.customDisplayName),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.statusPending),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.statusPending),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.statusTouched))},directives:[o.d,s.a,o.h,l.b,r.d,r.n,r.o,r.t,r.w,r.B,c.o,o.j,d.a,p.a,o.c,c.q,c.r,c.s],pipes:[m.d],styles:[""]}),e}()},ACkK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileContentClient=t.ProfileContent=void 0;var i=n("HFeD"),r=n("PYFZ"),a=g((function e(){u(this,e)}));t.ProfileContent=a,a.serviceName="minga.profile.ProfileContent",a.Search={methodName:"Search",service:a,requestStream:!1,responseStream:!0,requestType:r.StreamID,responseType:i.SearchProfileContentResponse},a.SearchControl={methodName:"SearchControl",service:a,requestStream:!1,responseStream:!1,requestType:r.StreamControl,responseType:r.StreamControlResponse},t.ProfileContentClient=function(){function e(){u(this,e)}return g(e,[{key:"search",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}},{key:"searchControl",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}()},HFeD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchProfileContentResponse=void 0;var i=n("hRO2"),a=n("PYFZ"),s=n("Ac3E"),c=function(e){r(n,e);var t=o(n);function n(e){var r;return u(this,n),r=t.call(this),i.Message.initialize(l(r),e,0,-1,null,null),r}return g(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getItemMetadata",value:function(){return i.Message.getWrapperField(this,a.StreamItemMetadata,1)}},{key:"setItemMetadata",value:function(e){i.Message.setWrapperField(this,1,e)}},{key:"clearItemMetadata",value:function(){this.setItemMetadata(void 0)}},{key:"hasItemMetadata",value:function(){return null!=i.Message.getField(this,1)}},{key:"getItem",value:function(){return i.Message.getWrapperField(this,n.Item,2)}},{key:"setItem",value:function(e){i.Message.setWrapperField(this,2,e)}},{key:"clearItem",value:function(){this.setItem(void 0)}},{key:"hasItem",value:function(){return null!=i.Message.getField(this,2)}}],[{key:"toObject",value:function(e,t){var i,r={itemMetadata:(i=t.getItemMetadata())&&a.StreamItemMetadata.toObject(e,i),item:(i=t.getItem())&&n.Item.toObject(e,i)};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),r=new n;return n.deserializeBinaryFromReader(r,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=new a.StreamItemMetadata;t.readMessage(i,a.StreamItemMetadata.deserializeBinaryFromReader),e.setItemMetadata(i);break;case 2:var r=new n.Item;t.readMessage(r,n.Item.deserializeBinaryFromReader),e.setItem(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var i=void 0;null!=(i=e.getItemMetadata())&&t.writeMessage(1,i,a.StreamItemMetadata.serializeBinaryToWriter),null!=(i=e.getItem())&&t.writeMessage(2,i,n.Item.serializeBinaryToWriter)}}]),n}(i.Message);t.SearchProfileContentResponse=c,c.displayName="SearchProfileContentResponse",function(e){var t=function(t){r(a,t);var n=o(a);function a(e){var t;return u(this,a),t=n.call(this),i.Message.initialize(l(t),e,0,-1,null,null),t}return g(a,[{key:"toObject",value:function(e){return a.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var t=new i.BinaryWriter;return e.Item.serializeBinaryToWriter(this,t),t.getResultBuffer()}},{key:"getFeedItemView",value:function(){return i.Message.getWrapperField(this,s.ContentFeedItemView,1)}},{key:"setFeedItemView",value:function(e){i.Message.setWrapperField(this,1,e)}},{key:"clearFeedItemView",value:function(){this.setFeedItemView(void 0)}},{key:"hasFeedItemView",value:function(){return null!=i.Message.getField(this,1)}},{key:"getSeparatorText",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setSeparatorText",value:function(e){i.Message.setProto3StringField(this,2,e)}}],[{key:"toObject",value:function(e,t){var n,r={feedItemView:(n=t.getFeedItemView())&&s.ContentFeedItemView.toObject(e,n),separatorText:i.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new s.ContentFeedItemView;t.readMessage(n,s.ContentFeedItemView.deserializeBinaryFromReader),e.setFeedItemView(n);break;case 2:var i=t.readString();e.setSeparatorText(i);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;null!=(n=e.getFeedItemView())&&t.writeMessage(1,n,s.ContentFeedItemView.serializeBinaryToWriter),(n=e.getSeparatorText()).length>0&&t.writeString(2,n)}}]),a}(i.Message);t.displayName="SearchProfileContentResponse.Item",e.Item=t}(c=t.SearchProfileContentResponse||(t.SearchProfileContentResponse={}))},"KlF+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBadgeProtoMapper=void 0;var i,r=n("tJrb"),a=n("/A6N"),o=n("mQHq");(i=t.IBadgeProtoMapper||(t.IBadgeProtoMapper={})).fromBadgeMessage=function(e){var t=e.getBanner()||e.getAsset(),n={};t&&t.toObject().sizeMap.forEach((function(e){n[e[0]]=e[1]}));var i=o.dateTimeMessageToDateObject(e.getDate());return{id:e.getId(),name:e.getName()||"",description:e.getDescription()||"",image:n,date:i,contentContextHashes:e.getContentContextHashList()}},i.toBadgeMessage=function(e){var t=new r.Badge;t.setId(e.id),t.setName(e.name),t.setDescription(e.description),t.setDate(o.dateObjectToDateTimeMessage(e.date));var n=new a.ImageInfo,i=n.getSizeMap();for(var s in e.image){var l=new a.ImageSize,c=e.image[s];l.setPath(c.path),l.setWidth(c.width),l.setHeight(c.height),i.set(s,l)}return t.setBanner(n),e.contentContextHashes&&t.setContentContextHashList(e.contentContextHashes),t}},Lvrm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=t.Date=void 0;var i=n("hRO2"),a=function(e){r(n,e);var t=o(n);function n(e){var r;return u(this,n),r=t.call(this),i.Message.initialize(l(r),e,0,-1,null,null),r}return g(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getYear",value:function(){return i.Message.getFieldWithDefault(this,1,0)}},{key:"setYear",value:function(e){i.Message.setProto3IntField(this,1,e)}},{key:"getMonth",value:function(){return i.Message.getFieldWithDefault(this,2,0)}},{key:"setMonth",value:function(e){i.Message.setProto3IntField(this,2,e)}},{key:"getDay",value:function(){return i.Message.getFieldWithDefault(this,3,0)}},{key:"setDay",value:function(e){i.Message.setProto3IntField(this,3,e)}}],[{key:"toObject",value:function(e,t){var n={year:i.Message.getFieldWithDefault(t,1,0),month:i.Message.getFieldWithDefault(t,2,0),day:i.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),r=new n;return n.deserializeBinaryFromReader(r,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setYear(n);break;case 2:var i=t.readInt32();e.setMonth(i);break;case 3:var r=t.readInt32();e.setDay(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;0!==(n=e.getYear())&&t.writeInt32(1,n),0!==(n=e.getMonth())&&t.writeInt32(2,n),0!==(n=e.getDay())&&t.writeInt32(3,n)}}]),n}(i.Message);t.Date=a,a.displayName="Date";var s=function(e){r(n,e);var t=o(n);function n(e){var r;return u(this,n),r=t.call(this),i.Message.initialize(l(r),e,0,-1,null,null),r}return g(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getYear",value:function(){return i.Message.getFieldWithDefault(this,1,0)}},{key:"setYear",value:function(e){i.Message.setProto3IntField(this,1,e)}},{key:"getMonth",value:function(){return i.Message.getFieldWithDefault(this,2,0)}},{key:"setMonth",value:function(e){i.Message.setProto3IntField(this,2,e)}},{key:"getDay",value:function(){return i.Message.getFieldWithDefault(this,3,0)}},{key:"setDay",value:function(e){i.Message.setProto3IntField(this,3,e)}},{key:"getSeconds",value:function(){return i.Message.getFieldWithDefault(this,4,0)}},{key:"setSeconds",value:function(e){i.Message.setProto3IntField(this,4,e)}}],[{key:"toObject",value:function(e,t){var n={year:i.Message.getFieldWithDefault(t,1,0),month:i.Message.getFieldWithDefault(t,2,0),day:i.Message.getFieldWithDefault(t,3,0),seconds:i.Message.getFieldWithDefault(t,4,0)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),r=new n;return n.deserializeBinaryFromReader(r,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setYear(n);break;case 2:var i=t.readInt32();e.setMonth(i);break;case 3:var r=t.readInt32();e.setDay(r);break;case 4:var a=t.readInt32();e.setSeconds(a);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;0!==(n=e.getYear())&&t.writeInt32(1,n),0!==(n=e.getMonth())&&t.writeInt32(2,n),0!==(n=e.getDay())&&t.writeInt32(3,n),0!==(n=e.getSeconds())&&t.writeInt32(4,n)}}]),n}(i.Message);t.DateTime=s,s.displayName="DateTime"},"UdS/":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("8Y7J"),r=n("1Ell"),a=n("Q2Ze"),o=n("i1AJ"),s=n("ZTz/"),l=n("s7LF"),c=n("UhP/"),d=function(){return{standalone:!0}},p=function(){var e=function(){function e(){u(this,e),this._quickFilter=r.EventStatus.NONE,this.eventStatuses=r.EventStatus,this.quickFilterChange=new i.EventEmitter}return g(e,[{key:"quickFilter",get:function(){return this._quickFilter},set:function(e){this._quickFilter=e}},{key:"onQuickFilterChange",value:function(){this.quickFilterChange.emit(this.quickFilter)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-quick-filter"]],inputs:{quickFilter:"quickFilter"},outputs:{quickFilterChange:"quickFilterChange"},decls:16,vars:13,consts:[["mgFormField","","appearance","legacy","floatLabel","never",1,"filter-select",3,"mgHideOptionalMarker","mgNoHintMargin","mgResponsiveHeight","mgNoFloatTop"],["placeholder","Quick Filter","panelClass","rounded-dropdown",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2,"Quick Filter"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"mat-select",1),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.quickFilter=e}))("ngModelChange",(function(){return t.onQuickFilterChange()})),i["\u0275\u0275elementStart"](4,"mat-option",2),i["\u0275\u0275text"](5,"All Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"mat-option",2),i["\u0275\u0275text"](7,"My Events"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"mat-option",2),i["\u0275\u0275text"](9,"- Invited to"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"mat-option",2),i["\u0275\u0275text"](11,"- Maybe"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"mat-option",2),i["\u0275\u0275text"](13,"- Going"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"mat-option",2),i["\u0275\u0275text"](15,"- Can't Go"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("mgHideOptionalMarker",!0)("mgNoHintMargin",!0)("mgResponsiveHeight",!0)("mgNoFloatTop",!0),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",t.quickFilter)("ngModelOptions",i["\u0275\u0275pureFunction0"](12,d)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",t.eventStatuses.NONE),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value","My Events"),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.INVITED),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.INTERESTED),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.GOING),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("value",t.eventStatuses.NOT_GOING))},directives:[a.d,o.a,a.h,s.a,l.t,l.w,c.m],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.filter-select[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:6px;padding:0 2px 0 6px}'],changeDetection:0}),e}()},c0o2:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("8Y7J"),r=n("lJxs"),a=n("DO6O"),o=n("VDRc"),s=n("SVse"),l=n("UdS/"),c=n("Fudl"),d=n("iInd");function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275text"](1," Calendar "),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("routerLink",n.calendarPath)}}function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275text"](1," List "),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("routerLink",n.schedulePath)}}var h=function(){var e=function(){function e(t){u(this,e),this.calendarService=t,this.calendarScheduleOptionsOpened=!1,this.calendarPath="",this.schedulePath="",this.clickOptions=new i.EventEmitter,this.settings$=t.settings$.pipe(Object(r.a)((function(e){return Object.assign({},e)})))}return g(e,[{key:"openCalendarOptions",value:function(){this.calendarScheduleOptionsOpened=!this.calendarScheduleOptionsOpened}},{key:"onClickOptions",value:function(){this.openCalendarOptions(),this.clickOptions.emit()}},{key:"onQuickFilterChange",value:function(e){this.calendarService.setQuickFilter(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-calendar-schedule-nav"]],inputs:{calendarPath:"calendarPath",schedulePath:"schedulePath"},outputs:{clickOptions:"clickOptions"},decls:10,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"calendar-nav"],["class","calendar-nav-btn","routerLinkActive","active",3,"routerLink",4,"ngIf"],["fxFlex","auto"],[3,"quickFilter","quickFilterChange"],[1,"cog-wrapper",3,"click"],[1,"calendar-options-btn"],[1,"calendar-schedule-options-top-border"],["routerLinkActive","active",1,"calendar-nav-btn",3,"routerLink"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,p,2,1,"div",1),i["\u0275\u0275template"](2,m,2,1,"div",1),i["\u0275\u0275element"](3,"div",2),i["\u0275\u0275elementStart"](4,"mg-calendar-quick-filter",3),i["\u0275\u0275listener"]("quickFilterChange",(function(e){return t.onQuickFilterChange(e)})),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275listener"]("click",(function(){return t.onClickOptions()})),i["\u0275\u0275elementStart"](7,"mg-icon",5),i["\u0275\u0275text"](8,"settings-active"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"div",6)),2&e){var n;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.calendarPath),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.schedulePath),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("quickFilter",null==(n=i["\u0275\u0275pipeBind1"](5,5,t.settings$))?null:n.quickFilter),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("options-opened",t.calendarScheduleOptionsOpened)}},directives:[o.e,o.d,s.o,o.b,l.a,c.a,d.i,d.h],pipes:[s.b],styles:["[_nghost-%COMP%]{display:block}@media (max-width:510px){[_nghost-%COMP%]{background-color:#fff}}.calendar-nav[_ngcontent-%COMP%]{margin:0;padding-top:4px;box-sizing:border-box}.calendar-nav[_ngcontent-%COMP%]   .cog-wrapper[_ngcontent-%COMP%]{padding:0 8px 2px}.calendar-nav-btn[_ngcontent-%COMP%]{color:#2f2f2f;font-size:14px;font-weight:700;cursor:pointer;padding:14px;margin:0;border-bottom:3px solid transparent;outline:none;box-sizing:border-box;flex-basis:20%;flex-grow:0;text-align:center}.calendar-nav-btn.active[_ngcontent-%COMP%]{color:#70b2d7;border-bottom:3px solid #70b2d7;border-left:1px solid #f0f0f0;border-right:1px solid #f0f0f0}.calendar-options-btn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;transform:rotate(0deg);transition:transform .1s ease,color .1s ease;color:#2f2f2f;display:inline-block}.calendar-options-btn.options-opened[_ngcontent-%COMP%]{color:#036;transform:rotate(45deg)}.calendar-schedule-options-top-border[_ngcontent-%COMP%]{border-top:1px solid #ccc;box-shadow:0 0 16px rgba(0,0,0,.4)}mg-calendar-quick-filter[_ngcontent-%COMP%]{font-size:14px;max-width:38%}"],changeDetection:0}),e}()},cPHN:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n("c0o2");var i=n("SVse"),r=n("8Y7J"),a=n("u9T3"),o=n("iInd"),s=n("s7LF"),l=n("Q2Ze"),c=n("ZTz/"),d=n("HxU+");n("UdS/");var p,m,h=((p=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||p)},p.\u0275mod=r["\u0275\u0275defineNgModule"]({type:p}),p.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[d.a,c.b,i.c,a.a,s.m,l.f]]}),p),f=n("ls3q"),v=((m=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||m)},m.\u0275mod=r["\u0275\u0275defineNgModule"]({type:m}),m.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[f.a,h,i.c,o.k,a.a]]}),m)},ei1q:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n("KlF+"),t)},jlhD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageInfo=t.ImageSize=void 0;var i=n("hRO2"),a=function(e){r(n,e);var t=o(n);function n(e){var r;return u(this,n),r=t.call(this),i.Message.initialize(l(r),e,0,-1,null,null),r}return g(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getPath",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setPath",value:function(e){i.Message.setProto3StringField(this,1,e)}},{key:"getWidth",value:function(){return i.Message.getFieldWithDefault(this,2,0)}},{key:"setWidth",value:function(e){i.Message.setProto3IntField(this,2,e)}},{key:"getHeight",value:function(){return i.Message.getFieldWithDefault(this,3,0)}},{key:"setHeight",value:function(e){i.Message.setProto3IntField(this,3,e)}}],[{key:"toObject",value:function(e,t){var n={path:i.Message.getFieldWithDefault(t,1,""),width:i.Message.getFieldWithDefault(t,2,0),height:i.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),r=new n;return n.deserializeBinaryFromReader(r,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setPath(n);break;case 2:var i=t.readInt32();e.setWidth(i);break;case 3:var r=t.readInt32();e.setHeight(r);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getPath()).length>0&&t.writeString(1,n),0!==(n=e.getWidth())&&t.writeInt32(2,n),0!==(n=e.getHeight())&&t.writeInt32(3,n)}}]),n}(i.Message);t.ImageSize=a,a.displayName="ImageSize";var s=function(e){r(n,e);var t=o(n);function n(e){var r;return u(this,n),r=t.call(this),i.Message.initialize(l(r),e,0,-1,null,null),r}return g(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getSizeMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.Message.getMapField(this,4,e,a)}},{key:"clearSizeMap",value:function(){this.getSizeMap().clear()}}],[{key:"toObject",value:function(e,t){var n,i={sizeMap:(n=t.getSizeMap())?n.toObject(e,a.toObject):[]};return e&&(i.$jspbMessageInstance=t),i}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),r=new n;return n.deserializeBinaryFromReader(r,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(4===t.getFieldNumber()){var n=e.getSizeMap();t.readMessage(n,(function(e,t){i.Map.deserializeBinary(e,t,i.BinaryReader.prototype.readString,i.BinaryReader.prototype.readMessage,a.deserializeBinaryFromReader,"")}))}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;(n=e.getSizeMap(!0))&&n.getLength()>0&&n.serializeBinary(4,t,i.BinaryWriter.prototype.writeString,i.BinaryWriter.prototype.writeMessage,a.serializeBinaryToWriter)}}]),n}(i.Message);t.ImageInfo=s,s.displayName="ImageInfo"},kxWE:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("8Y7J"),r=n("lJxs"),a=n("HSxi"),o=n("DO6O"),s=n("c0o2"),l=n("SVse"),c=n("GOup");function d(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h1",8),i["\u0275\u0275text"](1," Calendar Settings "),i["\u0275\u0275elementEnd"]())}function p(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h1",8),i["\u0275\u0275text"](1," Events List Settings "),i["\u0275\u0275elementEnd"]())}function m(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275template"](1,d,2,0,"h1",5),i["\u0275\u0275template"](2,p,2,0,"h1",5),i["\u0275\u0275elementStart"](3,"mg-calendar-schedule-options",6,7),i["\u0275\u0275listener"]("groupHashesChange",(function(e){i["\u0275\u0275restoreView"](n);var r=t.ngIf;return i["\u0275\u0275nextContext"](2)._onGroupSelectChange(r,e)}))("eventCategoryChange",(function(e){i["\u0275\u0275restoreView"](n);var r=t.ngIf;return i["\u0275\u0275nextContext"](2)._onCategorySelectChange(r,e)}))("submit",(function(e){i["\u0275\u0275restoreView"](n);var r=t.ngIf;return i["\u0275\u0275nextContext"](2).applyOptions(e,r)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=t.ngIf;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.showCalendarSettings),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!r.showCalendarSettings),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("includeWeekends",!r.excludeWeekend)("calendarView",r.calendarView)("groupHashes",r.groupHashes)("selectedCategory",r.category)("showPastEvents",r.showPastEvents)("showCalendarSettings",r.showCalendarSettings)}}function h(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275template"](1,m,5,8,"div",3),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](2,1,n.settings$))}}var f=function(){var e=function(){function e(t,n){u(this,e),this.eventCalendarService=n,this.searchText="",this.calendarScheduleOptionsOpened=!1,this.settings$=n.settings$.pipe(Object(r.a)((function(e){return Object.assign({},e)}))),this.groups$=t.groups$}return g(e,[{key:"openCalendarOptions",value:function(){this.calendarScheduleOptionsOpened=!this.calendarScheduleOptionsOpened}},{key:"applyOptions",value:function(e,t){var n=Object.assign(Object.assign({},t),{excludeWeekend:!e.includeWeekends,calendarView:e.calendarView,showPastEvents:e.showPastEvents,showCalendarSettings:e.showCalendarSettings});this.eventCalendarService.updateSettings(n,!0),this.calendarScheduleOptionsOpened=!1}},{key:"_onGroupSelectChange",value:function(e,t){t?e.groupHashes=[t]:delete e.groupHashes}},{key:"_onCategorySelectChange",value:function(e,t){t?e.category=t:delete e.category}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.b),i["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-events-home"]],decls:2,vars:3,consts:[[3,"calendarPath","schedulePath","clickOptions"],["class","calendar-schedule-options-container",4,"ngIf"],[1,"calendar-schedule-options-container"],["class","calendar-schedule-options",4,"ngIf"],[1,"calendar-schedule-options"],["class","calendar-settings-title",4,"ngIf"],[3,"includeWeekends","calendarView","groupHashes","selectedCategory","showPastEvents","showCalendarSettings","groupHashesChange","eventCategoryChange","submit"],["calendarScheduleOptions",""],[1,"calendar-settings-title"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mg-calendar-schedule-nav",0),i["\u0275\u0275listener"]("clickOptions",(function(){return t.openCalendarOptions()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](1,h,3,3,"div",1)),2&e&&(i["\u0275\u0275property"]("calendarPath","./calendar")("schedulePath","./schedule"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.calendarScheduleOptionsOpened))},directives:[s.a,l.o,c.a],pipes:[l.b],styles:["[_nghost-%COMP%]{position:relative;display:block}@keyframes options-slide-in{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.calendar-options-btn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;transform:rotate(0deg);transition:transform .1s ease,color .1s ease;color:#2f2f2f}.calendar-options-btn.options-opened[_ngcontent-%COMP%]{color:#036;transform:rotate(45deg)}.calendar-schedule-options-container[_ngcontent-%COMP%]{overflow:hidden;margin:0 8px;border-bottom:1px solid #ccc}.calendar-schedule-options-container[_ngcontent-%COMP%]   .calendar-schedule-options[_ngcontent-%COMP%]{max-width:350px;padding:8px;margin:8px auto;transform:translateY(-100%);animation:options-slide-in .15s ease;animation-iteration-count:1;animation-fill-mode:forwards}.calendar-settings-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;text-align:center;margin:0 0 8px;color:#737373}"],changeDetection:0}),e}()},obdK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BadgeCollectionClient=t.BadgeCollection=void 0;var i=n("tJrb"),r=g((function e(){u(this,e)}));t.BadgeCollection=r,r.serviceName="minga.badge.BadgeCollection",r.GetPersonBadges={methodName:"GetPersonBadges",service:r,requestStream:!1,responseStream:!1,requestType:i.GetPersonBadgesRequest,responseType:i.GetPersonBadgesResponse},t.BadgeCollectionClient=function(){function e(){u(this,e)}return g(e,[{key:"getPersonBadges",value:function(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}]),e}()},p58v:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n("kxWE");var i,r=n("SVse"),a=n("8Y7J"),o=n("u9T3"),s=n("s7LF"),l=n("ZTz/"),c=n("cPHN"),d=n("DWt7"),p=n("HxU+"),m=n("ls3q"),h=((i=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||i)},i.\u0275mod=a["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[l.b,d.a,p.a,m.a,c.a,r.c,o.a,s.m]]}),i)},"q/ba":function(n,i,r){"use strict";r.r(i),r.d(i,"HomeRoutesModule",(function(){return hr}));var a,o=r("SVse"),s=r("8Y7J"),l=r("u9T3"),c=r("s7LF"),p=r("pMoy"),m=r("UhP/"),h=r("o4Yh"),f=r("Q2Ze"),v=r("Tj54"),y=r("e6WT"),C=r("pu8Q"),P=r("jMqV"),x=r("M9ds"),w=r("iInd"),b=r("TSSN"),M=r("Vwx4"),O=r("mrSG"),k=r("DwZP"),_=r("k/kw"),I=r("UWMR"),S=r("B3cG"),E=r("uT/y"),F=r("w8an"),N=((a=function(){function e(t,n,i,r,a){u(this,e),this.mingaManager=t,this.snackBar=n,this.fileUploadManager=i,this.router=r,this.cdr=a,this.mingaFiles=[],this.fileListStyle=k.b.CARDS,this.retrieveFiles()}return g(e,[{key:"onFileChange",value:function(e){this.fileUploadManager.addPendingFiles("mingaFiles",e),this.router.navigate(["",{outlets:{o:["files~upload"]}}])}},{key:"retrieveFiles",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mingaManager.getFiles().catch((function(e){return console.error("retrieve minga files error: ",e),t.snackBar.open("unable to retrieve files, please try again later."),[]}));case 2:this.mingaFiles=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"onFileDelete",value:function(e){this._removeFile(e.file,e.index)}},{key:"_removeFile",value:function(e,t){return Object(O.a)(this,void 0,void 0,d().mark((function n(){var i=this;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.mingaFiles.splice(t,1),n.next=3,this.mingaManager.removeFile(e.hash).then((function(e){i.mingaFiles=e})).catch((function(t){console.error("onFileIndexDelete() removeGroupFile error: ",t),i.mingaFiles.push({file:e}),i.snackBar.open("uh oh, an error occurred, please try again later"),i.cdr.markForCheck()}));case 3:case"end":return n.stop()}}),n,this)})))}}]),e}()).\u0275fac=function(e){return new(e||a)(s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](I.b),s["\u0275\u0275directiveInject"](S.d),s["\u0275\u0275directiveInject"](w.g),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},a.\u0275cmp=s["\u0275\u0275defineComponent"]({type:a,selectors:[["mg-minga-files"]],decls:2,vars:5,consts:[[3,"files","listStyle","enableFileManagement","fileDelete"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mg-file-list-container",0),s["\u0275\u0275listener"]("fileDelete",(function(e){return t.onFileDelete(e)})),s["\u0275\u0275pipe"](1,"hasPermission"),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("files",t.mingaFiles)("listStyle",t.fileListStyle)("enableFileManagement",s["\u0275\u0275pipeBind1"](1,3,"MINGA_FILE_CREATE"))},directives:[E.a],pipes:[F.a],styles:["mg-file-list[_ngcontent-%COMP%]{--mg-file-list-side-padding:0}@media (orientation:landscape){mg-file-list[_ngcontent-%COMP%]{margin-top:5.0724637681vh}}@media (orientation:portrait){mg-file-list[_ngcontent-%COMP%]{margin-top:5.0724637681vw}}@media (orientation:landscape) and (max-height:414px){mg-file-list[_ngcontent-%COMP%]{margin-top:21px}}@media (orientation:portrait) and (max-width:414px){mg-file-list[_ngcontent-%COMP%]{margin-top:21px}}@media (min-width:433.7142857143px){mg-file-list[_ngcontent-%COMP%]{margin-top:22px}}@media (max-width:599px){mg-file-list[_ngcontent-%COMP%]{--mg-file-list-side-padding:16px}}"]}),a);r("Z+Q6"),r("ls3q");var B=r("5m4e"),D=r("ZTz/"),T=r("p58v"),j=r("HxU+"),R=r("DjdL"),z=r("HDrY"),L=r("TUjp"),V=r("kxWE"),A=r("Q5WP");function U(e,t){if(1&e&&s["\u0275\u0275element"](0,"mg-search-content",1),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("query",n.searchText)}}var H,W,q=((W=g((function e(){u(this,e),this.searchText=""}))).\u0275fac=function(e){return new(e||W)},W.\u0275cmp=s["\u0275\u0275defineComponent"]({type:W,selectors:[["ng-component"]],decls:3,vars:0,consts:[["mgSearchArea","","placeholder","Search Events",3,"searchText"],["contentType","EVENT",3,"query"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,U,1,1,"ng-template",0),s["\u0275\u0275listener"]("searchText",(function(e){return t.searchText=e})),s["\u0275\u0275element"](1,"mg-events-home"),s["\u0275\u0275element"](2,"router-outlet"))},directives:[L.a,V.a,w.l,A.a],styles:["[_nghost-%COMP%]{position:relative;display:block}@keyframes options-slide-in{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.calendar-options-btn[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;transform:rotate(0deg);transition:transform .1s ease,color .1s ease;color:#2f2f2f}.calendar-options-btn.options-opened[_ngcontent-%COMP%]{color:#036;transform:rotate(45deg)}.calendar-schedule-options-container[_ngcontent-%COMP%]{overflow:hidden;margin:0 8px;border-bottom:1px solid #ccc}.calendar-schedule-options-container[_ngcontent-%COMP%]   .calendar-schedule-options[_ngcontent-%COMP%]{max-width:350px;padding:8px;margin:8px auto;transform:translateY(-100%);animation:options-slide-in .15s ease;animation-iteration-count:1;animation-fill-mode:forwards}.calendar-settings-title[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:700;text-align:center;margin:0 0 8px;color:#737373}"],changeDetection:0}),W),G=((H=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||H)},H.\u0275mod=s["\u0275\u0275defineNgModule"]({type:H}),H.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[z.a,R.d,j.a,T.a,o.c,w.k,l.a,f.f,D.b,c.m,p.b]]}),H),$=r("O8vW"),Y=r("WIUb"),Q=r("CO6v"),K=(r("MMqW"),r("9F0b")),J=r("YcSX");function Z(e){return e.substr(0,1)}var X,ee=((X=function(){function e(){u(this,e),this.type=null,this.status=null}return g(e,[{key:"mingaType",get:function(){return this.type?Z(this.type):""}},{key:"mingaStatus",get:function(){return this.status?Z(this.status):""}}]),e}()).\u0275fac=function(e){return new(e||X)},X.\u0275cmp=s["\u0275\u0275defineComponent"]({type:X,selectors:[["mg-minga-identity"]],hostVars:4,hostBindings:function(e,t){2&e&&s["\u0275\u0275classProp"]("has-type",t.type)("has-status",t.status)},inputs:{type:"type",status:"status"},decls:2,vars:1,consts:[[1,"mg-minga-identity"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.mingaType||t.mingaStatus,"\n"))},styles:["[_nghost-%COMP%]{display:inline-block;margin:8px;--mg-minga-identity-size:24px}[_nghost-%COMP%], [_nghost-%COMP%]   .mg-minga-identity[_ngcontent-%COMP%]{height:var(--mg-minga-identity-size)}[_nghost-%COMP%]   .mg-minga-identity[_ngcontent-%COMP%]{display:inherit;border-radius:50%;border:1px;border-style:solid;line-height:var(--mg-minga-identity-size);width:var(--mg-minga-identity-size);display:inline-block;font-size:10px;border-color:inherit;color:inherit;text-align:center;vertical-align:top}.has-type[_nghost-%COMP%]{border-color:#3cf;color:#3cf}.has-status[_nghost-%COMP%]{border-color:#93f;color:#93f}"]}),X),te=r("iIIi"),ne=r("fHWq"),ie=r("gU2t"),re=r("Ogcz"),ae=r("7Tcv"),oe=(r("mmWe"),r("LvDl")),se=(r("g8ec"),r("GVla")),le=r("vtEA"),ce=r("Ggka"),de=r("jaBy"),ue=r("yPf/"),pe=r("QPZY"),ge=r("mI3D"),me=r("Cnb3"),he=r("Pwpr"),fe=r.n(he),ve=r("iELJ"),ye=r("JF7H"),Ce=r("GFah"),Pe=r("IPaV"),xe=r("Tcc+"),we=r("WH00"),be=r("Y9fu"),Me=r("orC8"),Oe=r("zc8W"),ke=r("3qIc"),_e=r("gjtd"),Ie=r("Hp2Z"),Se=r("2FiO"),Ee=r("T0RT"),Fe=r("iBVM"),Ne=r("sj4O"),Be=r("cKGL"),De=r("i1AJ"),Te=r("h1gb"),je=r("4avL"),Re=["fileInput"],ze=["form"],Le=["mingaNameInput"],Ve=["oldPasswordInput"],Ae=["profileCard"];function Ue(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-ellipsis",25),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).openProfilePopoverOptions(e)})),s["\u0275\u0275elementEnd"]()}}function He(e,t){if(1&e&&s["\u0275\u0275element"](0,"mg-file-upload",29),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275property"]("file",n.logoInputFiles[0])("formControl",n.uploadFormControl)}}function We(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mg-file-input",26,27),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).logoInputFiles=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](3,He,1,2,"mg-file-upload",28),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("multiple",!1)("customTitleText","Change")("ngModel",i.logoInputFiles),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",i.logoInputFiles[0])}}function qe(e,t){1&e&&s["\u0275\u0275element"](0,"mg-spinner",30),2&e&&s["\u0275\u0275property"]("diameter",100)("thickness",4)}function Ge(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",35),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.schoolType," ")}}function $e(e,t){if(1&e&&s["\u0275\u0275element"](0,"p",36),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275property"]("innerHTML",n.locationDetails,s["\u0275\u0275sanitizeHtml"])}}function Ye(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",31),s["\u0275\u0275elementStart"](1,"p",32),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](3,Ge,2,1,"p",33),s["\u0275\u0275template"](4,$e,1,1,"p",34),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.minga.name),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("hasPermission","SUPERADMIN"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.locationDetails)}}function Qe(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"p",39),s["\u0275\u0275text"](2,"Minga Administrator"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"p",40),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==n.minga?null:n.minga.adminFullName)}}function Ke(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",40),s["\u0275\u0275elementStart"](1,"a",41),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"span"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate1"]("href","mailto:",null==n.minga?null:n.minga.adminEmail,"",s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",null==n.minga?null:n.minga.adminEmail," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==n.minga?null:n.minga.adminPhone)}}function Je(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",37),s["\u0275\u0275template"](1,Qe,5,1,"ng-container",2),s["\u0275\u0275template"](2,Ke,5,3,"p",38),s["\u0275\u0275pipe"](3,"hasPermission"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==n.minga?null:n.minga.adminFullName),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",((null==n.minga?null:n.minga.adminEmail)||(null==n.minga?null:n.minga.adminPhone))&&s["\u0275\u0275pipeBind1"](3,2,"SUPERADMIN"))}}function Ze(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",42),s["\u0275\u0275element"](1,"mg-minga-identity",43),s["\u0275\u0275element"](2,"mg-minga-identity",44),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("type",n.minga.mingaType),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("status",n.minga.mingaStatus)}}function Xe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Start: ",n.subscriptionStartDate,"")}}function et(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("End: ",n.subscriptionEndDate,"")}}function tt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",45),s["\u0275\u0275elementStart"](1,"p",39),s["\u0275\u0275text"](2,"Subscription"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"p",40),s["\u0275\u0275template"](4,Xe,2,1,"span",2),s["\u0275\u0275template"](5,et,2,1,"span",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",n.subscriptionStartDate),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.subscriptionEndDate)}}function nt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.mingaName.error.maxlength")," "))}function it(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.mingaName.error.pattern")," "))}function rt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.mingaName.error.required")," "))}function at(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275elementContainerStart"](1,54),s["\u0275\u0275template"](2,nt,3,3,"span",55),s["\u0275\u0275template"](3,it,3,3,"span",55),s["\u0275\u0275template"](4,rt,3,3,"span",55),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitch",n.mingaNameControlErrorKey),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","maxlength"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","pattern"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","required")}}function ot(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",56),s["\u0275\u0275elementStart"](1,"mg-button",57),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](3).toggleEditForm()})),s["\u0275\u0275text"](2,"Cancel"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mg-button",58),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](3).updateProfile(e)})),s["\u0275\u0275text"](4,"Save"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){s["\u0275\u0275nextContext"]();var i=s["\u0275\u0275reference"](1);s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("disabled",null==i?null:i.invalid)}}function st(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",46,47),s["\u0275\u0275listener"]("submit",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).updateProfile(e)})),s["\u0275\u0275element"](2,"input",48),s["\u0275\u0275elementStart"](3,"mat-form-field",49),s["\u0275\u0275elementStart"](4,"mat-label"),s["\u0275\u0275text"](5,"Minga Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"input",50,51),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).minga.name=e}))("keydown",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onKeyDown(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](8,at,5,4,"mat-error",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"mg-address",52),s["\u0275\u0275listener"]("save",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).updateProfile(e)}))("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).newMingaPlace=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](10,ot,5,1,"div",53),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275reference"](1),r=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("autocomplete","minga-profile-form-off-"+r.currentTime),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("autocomplete","hidden-input-off-"+r.currentTime)("name","mingaProfileHidden-"+r.currentTime),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("name","profileMingaName-"+r.currentTime)("ngModel",r.minga.name)("autocomplete","mingaName-off-"+r.currentTime)("formControl",r.mingaNameFormControl),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",r.mingaNameFormControl.invalid&&(r.mingaNameFormControl.dirty||r.mingaNameFormControl.touched||i.submitted)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("outerFormControl",r.mingaPlaceFormControl)("ngModel",r.newMingaPlace)("originalValue",r.currentMingaPlace)("required",!0),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.editing&&r.formHasChanges)}}function lt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mat-icon",62),s["\u0275\u0275listener"]("click",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"](3);return t._preventEventBehaviors(e),t.openChangePhoneDialog(e)})),s["\u0275\u0275text"](1,"edit"),s["\u0275\u0275elementEnd"]()}}function ct(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",59),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onPhoneLinkClick(e)})),s["\u0275\u0275template"](1,lt,2,0,"mat-icon",60),s["\u0275\u0275element"](2,"mg-button-icon",61),s["\u0275\u0275elementStart"](3,"span",22),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classProp"]("unprovided",!i.minga.phone),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.editing),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](i.prettyPhoneDisplay||"add phone number")}}function dt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mat-icon",62),s["\u0275\u0275listener"]("click",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"](3);return t._preventEventBehaviors(e),t.openChangeUrlDialog(e)})),s["\u0275\u0275text"](1,"edit"),s["\u0275\u0275elementEnd"]()}}function ut(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",59),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onWebUrlLinkClick(e)})),s["\u0275\u0275template"](1,dt,2,0,"mat-icon",60),s["\u0275\u0275element"](2,"mg-button-icon",63),s["\u0275\u0275elementStart"](3,"span",22),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classProp"]("unprovided",!i.mingaUrlShortened),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.editing),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](i.mingaUrlShortened||"add website")}}function pt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mat-icon",62),s["\u0275\u0275listener"]("click",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"](3);return t._preventEventBehaviors(e),t.openChangeEmailDialog(e)})),s["\u0275\u0275text"](1,"edit"),s["\u0275\u0275elementEnd"]()}}function gt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",59),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onEmailLinkClick(e)})),s["\u0275\u0275template"](1,pt,2,0,"mat-icon",60),s["\u0275\u0275element"](2,"mg-button-icon",64),s["\u0275\u0275elementStart"](3,"span",22),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classProp"]("unprovided",!i.minga.email),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.editing),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](i.minga.email||"add email")}}function mt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mat-icon",62),s["\u0275\u0275listener"]("click",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"](2),i=t.$implicit,r=t.index,a=s["\u0275\u0275nextContext"](3);return a._preventEventBehaviors(e),a.openChangeLinkDialog(i.link,r)})),s["\u0275\u0275text"](1,"edit"),s["\u0275\u0275elementEnd"]()}}function ht(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",59),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275nextContext"]().$implicit;return s["\u0275\u0275nextContext"](3).onMingaLinkClick(e.link.url)})),s["\u0275\u0275template"](1,mt,2,0,"mat-icon",60),s["\u0275\u0275element"](2,"mg-button-icon",68),s["\u0275\u0275elementStart"](3,"span",22,69),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275reference"](4),r=s["\u0275\u0275nextContext"]().$implicit,a=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",a.editing),s["\u0275\u0275advance"](1),s["\u0275\u0275styleProp"]("color",r.color),s["\u0275\u0275classProp"]("social-link",r.isSocialMedia),s["\u0275\u0275property"]("icon",r.link.icon)("no-active",r.isSocialMedia),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](a.getShortLinkText(r.link.title,i))}}function ft(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,ht,6,8,"div",67),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.link.id)}}function vt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",65),s["\u0275\u0275template"](1,ft,2,1,"ng-container",66),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",n.mingaLinks)}}function yt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",70),s["\u0275\u0275elementStart"](1,"mg-button",71),s["\u0275\u0275listener"]("click",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"](2);return t._preventEventBehaviors(e),t.openAddNewLinkDialog(e)})),s["\u0275\u0275text"](2),s["\u0275\u0275pipe"](3,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](3,1,"button.addNewLink")))}var Ct=function(){return["minga-files"]},Pt=function(e){return{o:e}},xt=function(e){return{outlets:e}},wt=function(e){return["",e]};function bt(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,Ue,1,0,"mg-ellipsis",3),s["\u0275\u0275elementStart"](2,"div",4),s["\u0275\u0275elementStart"](3,"mg-avatar",5),s["\u0275\u0275elementStart"](4,"div",6),s["\u0275\u0275element"](5,"div",7),s["\u0275\u0275template"](6,We,4,4,"ng-container",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,qe,1,2,"mg-spinner",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",9),s["\u0275\u0275elementStart"](9,"div",10),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](11," Members "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](12,Ye,5,3,"div",11),s["\u0275\u0275template"](13,Je,4,4,"div",12),s["\u0275\u0275template"](14,Ze,3,2,"div",13),s["\u0275\u0275pipe"](15,"hasPermission"),s["\u0275\u0275template"](16,tt,6,2,"div",14),s["\u0275\u0275pipe"](17,"hasPermission"),s["\u0275\u0275template"](18,st,11,13,"form",15),s["\u0275\u0275elementStart"](19,"div",16),s["\u0275\u0275elementStart"](20,"div",17),s["\u0275\u0275template"](21,ct,5,4,"div",18),s["\u0275\u0275template"](22,ut,5,4,"div",18),s["\u0275\u0275template"](23,gt,5,4,"div",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"div",19),s["\u0275\u0275elementStart"](25,"div",20),s["\u0275\u0275element"](26,"mg-button-icon",21),s["\u0275\u0275elementStart"](27,"span",22),s["\u0275\u0275text"](28,"Files"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](29,vt,2,1,"div",23),s["\u0275\u0275template"](30,yt,4,3,"div",24),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.hasEditPermission),s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("editing",n.editing),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("square",!0)("overflow",!1)("borderless",!n.editing),s["\u0275\u0275advance"](2),s["\u0275\u0275styleProp"]("background-image","url("+n.mingaLogo+")"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.editing),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n._loading),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](null==n.minga?null:n.minga.memberCount),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!n.editing),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!n.editing),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!n.editing&&s["\u0275\u0275pipeBind1"](15,24,"SUPERADMIN")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!n.editing&&(n.subscriptionStartDate||n.subscriptionEndDate)&&s["\u0275\u0275pipeBind1"](17,26,"MINGA_PROFILE_EDIT")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.editing),s["\u0275\u0275advance"](2),s["\u0275\u0275classProp"]("triple-link-row",n.editing||n.minga.phone&&n.minga.websiteUrl&&n.minga.email),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.editing||n.minga.phone),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.editing||n.minga.websiteUrl),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.editing||n.minga.email),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](33,wt,s["\u0275\u0275pureFunction1"](31,xt,s["\u0275\u0275pureFunction1"](29,Pt,s["\u0275\u0275pureFunction0"](28,Ct))))),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",n.mingaLinks&&n.mingaLinks.length),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.editing)}}var Mt,Ot,kt,_t=((Mt=function(){function e(t,n,i,r,a,o,s,l,d,p,g,m,h,f){var v=this;u(this,e),this.dialog=t,this.authService=n,this.snackBar=i,this.rootService=r,this.errorReporting=a,this.permissions=o,this.element=s,this.analytics=l,this.mingaManager=d,this.contentEvents=p,this.linkOpener=g,this.userStorage=m,this.authInfo=h,this.mingaStore=f,this.mingaLogo="",this.logoInputFiles=[],this._loading=!1,this._uploading=!1,this.uploadAsset="",this.hasEditPermission=!1,this.editing=!1,this.memberCount=0,this.editingName=!1,this.editingPlace=!1,this.newMingaPlace=null,this.newMingaPhone=null,this.newMingaUrl=null,this.newMingaEmail=null,this.showEmail=!1,this.oldPasswordVisible=!1,this.oldPasswordType="password",this.oldPasswordIcon="visibility",this.newPasswordVisible=!1,this.newPasswordType="password",this.newPasswordIcon="visibility",this.handingFocusEvent=!1,this.enableReadOnlyState=!window.MINGA_DEVICE_ANDROID&&!window.MINGA_DEVICE_IOS,this.currentTime=Date.now(),this.currentMingaName="",this.linkClipCharLength=16,this.mingaNameFormControl=new c.h,this.mingaPlaceFormControl=new c.h,this.mingaPhoneFormControl=new c.h(this.newMingaPhone,[le.b]),this.mingaWebsiteUrlFormControl=new c.h(this.newMingaUrl,[ce.a.WebsiteUrl]),this.mingaEmailFormControl=new c.h(this.newMingaEmail,[ce.a.Email,c.D.maxLength(50)]),this.uploadFormControl=new c.h,this.uploadFormControl.statusChanges.subscribe((function(e){v._uploading="PENDING"===e,"VALID"===e&&v.onUploadLogoDone(v.uploadFormControl.value)})),window.addEventListener("keyboardWillShow",(function(e){var t=document.getElementsByClassName("bottom-toolbar");if(t&&t.length)for(var n=0;n<t.length;n++)t[n].setAttribute("style","display: none")})),window.addEventListener("keyboardWillHide",(function(){var e=document.getElementsByClassName("bottom-toolbar");if(e&&e.length)for(var t=0;t<e.length;t++)e[t].setAttribute("style","display: block")})),this.initPermissions(),this.mingaLinkSaveSub=this.mingaManager.onMingaLinkSaveSuccess.subscribe((function(e){return v.onMingaLinkSave(e)})),this.mingaLinkDeleteSub=this.mingaManager.onMingaLinkDelete.subscribe((function(e){return v.onMingaLinkDelete(e)}))}return g(e,[{key:"onResize",value:function(e){this.calcLinkTextClipping()}},{key:"onBeforeUnload",value:function(e){var t=this.preventNavigation();if(t)return e.returnValue=t,t}},{key:"formHasChanges",get:function(){return!(!this.minga.name||this.minga.name==this.currentMingaName)||!(!this.newMingaPlace||this.newMingaPlace==this.currentMingaPlace)||null!==this.newMingaPhone&&this.newMingaPhone!=this.minga.phone||null!==this.newMingaUrl&&this.newMingaUrl!=this.minga.websiteUrl||null!==this.newMingaEmail&&this.newMingaEmail!=this.minga.email||!(!this.newMingaPlace||this.newMingaPlace==this.minga.placeId)}},{key:"ngOnInit",value:function(){this._retrieveProfile(),this.calcLinkTextClipping(),window.MINGA_DEVICE_IOS&&this.element.nativeElement.classList.add("ios-long")}},{key:"ngOnDestroy",value:function(){this.mingaLinkSaveSub&&this.mingaLinkSaveSub.unsubscribe(),this.mingaLinkDeleteSub&&this.mingaLinkDeleteSub.unsubscribe()}},{key:"initPermissions",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.hasEditPermission=this.permissions.hasPermission(me.MingaPermission.MINGA_PROFILE_EDIT);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"currentMingaPlace",get:function(){return this.minga?this.minga.placeId:""},set:function(e){this.minga.placeId=e}},{key:"mingaUrlShortened",get:function(){return this.getShortUrl(this.minga.websiteUrl)}},{key:"disableSavingMingaName",get:function(){return!this.minga.name||this.minga.name==this.currentMingaName||this.mingaNameControlErrorKey||this.mingaNameFormControl.invalid&&(this.mingaNameFormControl.dirty||this.mingaNameFormControl.touched||this.form.submitted)}},{key:"mingaNameControlErrorKey",get:function(){return this.mingaNameError?this.mingaNameError:this.mingaNameFormControl.errors?Object.keys(this.mingaNameFormControl.errors)[0]:""}},{key:"prettyPhoneDisplay",get:function(){return this.minga&&this.minga.phone?this.minga.phone.length>10?this.minga.phone.replace(/^(\d|)?(\d{3})(\d{3})(\d{4})/,"$1.$2.$3.$4"):this.minga.phone.length>7?this.minga.phone.replace(/(\d{3})(\d{3})(\d{4})/,"$1.$2.$3"):this.minga.phone.replace(/(\d{3})(\d{4})/,"$1.$2"):""}},{key:"websiteUrlLinkTarget",get:function(){return this.mingaUrlShortened?window.MINGA_APP_BROWSER?"_blank":"_system":""}},{key:"schoolType",get:function(){return this.minga.schoolType?me.schoolTypes[this.minga.schoolType]:""}},{key:"subscriptionEndDate",get:function(){return this.minga.endDate?this.minga.endDate.toLocaleDateString():""}},{key:"subscriptionStartDate",get:function(){return this.minga.startDate?this.minga.startDate.toLocaleDateString():""}},{key:"openProfilePopoverOptions",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopImmediatePropagation(),e.preventDefault(),t.t0=this.hasEditPermission,!t.t0){t.next=6;break}return t.next=6,this.rootService.openGlobalMenu({x:e.pageX,y:e.pageY,items:[{name:this.editing?"Cancel":"Edit",click:function(){return n.toggleEditForm()}}]});case 6:case"end":return t.stop()}}),t,this)})))}},{key:"initProfileContextMenu",value:function(){var e=this;this.minga&&this.profileCardElement&&this.profileCardElement.nativeElement.addEventListener("contextmenu",(function(t){e.openProfilePopoverOptions(t)}))}},{key:"toggleEditForm",value:function(){this.editing=!this.editing,this.editing||this.resetForm()}},{key:"onMingaLinkSave",value:function(e){e.link&&(null!=e.link.index?this.updateMingaProfileLink(e.link,e.link.index):this.addMingaProfileLink(e.link))}},{key:"onMingaLinkDelete",value:function(e){var t=null!=e.index&&void 0!==e.index?e.index:null;if(null==t&&e.id)for(var n=0;n<this.mingaLinks.length;n++)if(this.mingaLinks[n].link.id==e.id){t=n;break}null!=t&&this.mingaLinks.splice(t,1)}},{key:"getSocialMediaIconColor",value:function(e){var n,i=t(se.b);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(e==r.icon)return r.color}}catch(a){i.e(a)}finally{i.f()}return""}},{key:"calcLinkTextClipping",value:function(){var e=window.innerWidth;this.mingaLinksClippedTexts?this.mingaLinksClippedTexts.clear():this.mingaLinksClippedTexts=new Map,this.linkClipCharLength=e>599?15:e>410?14:e>=375?12:10}},{key:"getShortLinkText",value:function(e,t){var n=this.mingaLinksClippedTexts.get(e),i=t.getBoundingClientRect().height;if(n&&i<35)return n;var r=e;return i>35&&(r=fe()(e,this.linkClipCharLength,{breakWords:!0,maxLines:2})),i&&this.mingaLinksClippedTexts.set(e,r),r}},{key:"preventNavigation",value:function(){return this.form.pending||this.editingName||this.editingPlace?"You have unsaved changes. Are you sure you want to leave?":""}},{key:"initEditMingaName",value:function(){this.minga.name=this.currentMingaName,this.mingaNameFormControl=new c.h(this.minga.name,[c.D.required,c.D.maxLength(70),ce.a.NoSymbols]),this.form.form.contains("mingaName")?this.form.form.setControl("mingaName",this.mingaNameFormControl):this.form.form.addControl("mingaName",this.mingaNameFormControl),this.form.form.markAsPristine(),this.mingaNameInput.nativeElement.focus(),this.handingFocusEvent=!1}},{key:"initEditMingaPlace",value:function(){this.newMingaPlace=this.currentMingaPlace,this.mingaPlaceFormControl=new c.h(this.newMingaPlace,[c.D.required]),this.form.form.contains("place")?this.form.form.setControl("place",this.mingaPlaceFormControl):this.form.form.addControl("place",this.mingaPlaceFormControl),this.form.form.markAsPristine(),this.mingaNameInput.nativeElement.focus(),this.handingFocusEvent=!1}},{key:"_onUploadLogoDone",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mingaManager.updateMingaImage(null,e);case 2:(n=t.sent).getStatus()==pe.StatusCode.OK&&(this.snackBar.open("Minga Logo has been updated."),(i=n.getMingaImageInfo())&&(this.mingaLogo=Object(de.d)(i),this.mingaStore.setMingaImageUrl(this.mingaLogo)));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"_completeUrl",value:function(e){return Object(ue.a)(e)}},{key:"getShortUrl",value:function(e){return Object(ue.b)(e)}},{key:"onUploadLogoDone",value:function(e){var t=this;return this._loading=!0,this._onUploadLogoDone(e).then((function(){t._loading=!1}),(function(e){console.error(e),t._loading=!1}))}},{key:"updatePhotoClick",value:function(e){this.fileInput.trigger()}},{key:"resetForm",value:function(){this.minga.name=this.currentMingaName,this.newMingaPlace=this.currentMingaPlace,this.form.form.markAsPristine()}},{key:"toggleEditName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.editingName,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._preventEventBehaviors(t),this.editingName=e;var n=this.currentMingaName;this.editingName?this.initEditMingaName():(this.minga.name=n,this.form.form.markAsPristine())}},{key:"_retrieveLocationFromPlaceId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentMingaPlace;return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n,i,r,a=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="placeId_mingaProfile_".concat(e),t.next=3,this.userStorage.getItem(n);case 3:if(!(i=t.sent)||"string"!=typeof i){t.next=6;break}return t.abrupt("return",void(this.locationDetails=String(i)));case 6:r=document.createElement("div"),new google.maps.places.PlacesService(r).getDetails({placeId:e,fields:["adr_address"]},(function(t,i){if(i==google.maps.places.PlacesServiceStatus.OK){var r=t.adr_address,o=r.indexOf(",");if(o){var s=r.substring(0,o),l=r.substring(o+1);r=s+"<br>"+l,a.locationDetails=r,a.userStorage.setItem(n,a.locationDetails)}}else console.error("<mg-address> update with place_id (".concat(e,") failed with: ").concat(i))}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"toggleEditPlace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.editingPlace,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._preventEventBehaviors(t),this.editingPlace=e;var n=this.currentMingaPlace;this.editingPlace?this.initEditMingaPlace():(this.newMingaPlace=n,this.form.form.markAsPristine())}},{key:"saveProfileChangesDialog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profile";return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){n.dialog.open(te.a,{data:{text:"dialog.profileChange",saveButtonLocale:"button.save",textParams:e}}).afterClosed().subscribe((function(e){t(!0===e)}))})));case 1:case"end":return t.stop()}}),t)})))}},{key:"openAddNewLinkDialog",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._preventEventBehaviors(e),t.next=3,this.mingaManager.openMingaLinkForm(null);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"openChangeLinkDialog",value:function(e,t){e.index=t,this.mingaManager.openMingaLinkForm({link:e})}},{key:"openChangePhoneDialog",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this._preventEventBehaviors(e),new Promise((function(e,t){n.dialog.open(te.a,{data:{text:"dialog.phone.title",saveButtonLocale:"button.save",inputPlaceholder:"dialog.phone.placeholder",inputType:"tel",inputValue:n.minga.phone,inputControl:n.mingaPhoneFormControl,textParams:"Phone number (ie: 1 555-555-5555)"}}).afterClosed().subscribe((function(e){"string"==typeof e&&(n.newMingaPhone=e.replace(/\D/g,""),n.updateProfile())}))}))));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"openChangeUrlDialog",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this._preventEventBehaviors(e),new Promise((function(e,t){n.dialog.open(te.a,{data:{text:"dialog.url.title",inputPlaceholder:"dialog.url.placeholder",saveButtonLocale:"button.save",inputType:"text",inputValue:n.minga.websiteUrl,inputControl:n.mingaWebsiteUrlFormControl,textParams:"Website Address"}}).afterClosed().subscribe((function(e){"string"==typeof e&&(e=n._completeUrl(e),n.newMingaUrl=e,n.updateProfile())}))}))));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"openChangeEmailDialog",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this._preventEventBehaviors(e),new Promise((function(e,t){n.dialog.open(te.a,{data:{text:"dialog.email.title",inputPlaceholder:"dialog.email.placeholder",saveButtonLocale:"button.save",inputType:"text",inputValue:n.minga.email,inputControl:n.mingaEmailFormControl,textParams:"Email"}}).afterClosed().subscribe((function(e){"string"==typeof e&&(n.newMingaEmail=e,n.updateProfile())}))}))));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"_preventEventBehaviors",value:function(e){e&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())}},{key:"onFocusName",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.handingFocusEvent||this.editingName){t.next=10;break}if(this.handingFocusEvent=!0,!this.editingPlace||this.newMingaPlace==this.currentMingaPlace){t.next=9;break}return t.next=4,this.saveProfileChangesDialog("address");case 4:if(!t.sent){t.next=8;break}return t.next=7,this.updateProfile(e);case 7:return t.abrupt("return",void t.sent);case 8:this.editingPlace=!1,this.newMingaPlace=null;case 9:this.toggleEditPlace(!1),this.toggleEditName(!0),this.handingFocusEvent=!1,this.form.form.markAsPristine();case 10:case"end":return t.stop()}}),t,this)})))}},{key:"onFocusPlace",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.handingFocusEvent||this.editingPlace){t.next=10;break}if(this.handingFocusEvent=!0,!this.editingName||this.minga.name==this.currentMingaName){t.next=9;break}return t.next=4,this.saveProfileChangesDialog("Minga name");case 4:if(!t.sent){t.next=8;break}return t.next=7,this.updateProfile(e);case 7:return t.abrupt("return",void t.sent);case 8:this.editingName=!1,this.minga.name=this.currentMingaName;case 9:this.toggleEditName(!1),this.toggleEditPlace(!0),this.handingFocusEvent=!1,this.form.form.markAsPristine();case 10:case"end":return t.stop()}}),t,this)})))}},{key:"onSavePlace",value:function(e){this.newMingaPlace=e,this.updateProfile()}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&(this._preventEventBehaviors(e),this.updateProfile())}},{key:"_retrieveProfile",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rootService.addLoadingPromise(this.mingaManager.readUserMinga()).then((function(e){n.minga=e,n.mingaLogo=e.logoUrl,n.currentMingaName=e.name,n.newMingaPlace=n.minga.placeId,n.newMingaPhone=n.minga.phone;var i,r=t(n.minga.links);try{for(r.s();!(i=r.n()).done;){var a=i.value;n.addMingaProfileLink(a)}}catch(o){r.e(o)}finally{r.f()}n.editing||(n.locationDetails=n.minga.mingaAddress),n.initProfileContextMenu()})).catch((function(e){console.error("[MingaProfile]_retrieveProfile() err:",e),n.analytics.sendException("readUserMinga throw error",ge.errorPriority.ALERT)}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"addMingaProfileLink",value:function(e){this.mingaLinks||(this.mingaLinks=[]);var t=this.getSocialMediaIconColor(e.icon);this.mingaLinks.push({link:e,isSocialMedia:!!t,color:t})}},{key:"updateMingaProfileLink",value:function(e,t){var n=this.getSocialMediaIconColor(e.icon);this.mingaLinks[t]={link:e,isSocialMedia:!!n,color:n}}},{key:"setCustomError",value:function(e,t){e.setErrors({errorKey:!0})}},{key:"onPhoneLinkClick",value:function(e){this.minga&&this.minga.phone?window.location.href="tel:".concat(this.minga.phone):this.editing&&this.openChangePhoneDialog(e),e&&this._preventEventBehaviors(e)}},{key:"onWebUrlLinkClick",value:function(e){this.mingaUrlShortened?this.linkOpener.open(this.minga.websiteUrl):this.editing&&this.openChangeUrlDialog(e)}},{key:"onMingaLinkClick",value:function(e){this.linkOpener.open(this._completeUrl(e))}},{key:"onEmailLinkClick",value:function(e){this.minga&&this.minga.email?window.location.href="mailto:".concat(this.minga.email):this.editing&&this.openChangeEmailDialog(e)}},{key:"updateProfile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n,i,r,a,o,s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&this._preventEventBehaviors(e),this.oldPasswordError="",this.newPasswordError="",this.mingaNameError="",this.mingaNameFormControl.setErrors(null),this.mingaPlaceFormControl.setErrors(null),this.minga.name){t.next=2;break}return t.abrupt("return",(this.mingaNameError="required",void this.mingaNameFormControl.setErrors({required:!0})));case 2:if(!this.form.invalid){t.next=4;break}return t.abrupt("return",(console.log("updateProfile invalid form: ",this.form),void this.snackBar.open("your changes have errors, please fix and try again.")));case 4:if(n={},this.minga.name&&this.minga.name!=this.currentMingaName&&(n.name=this.minga.name.trim()),this.newMingaPlace&&this.newMingaPlace!=this.currentMingaPlace&&(n.placeId=this.newMingaPlace),null!==this.newMingaPhone&&this.newMingaPhone!=this.minga.phone&&(n.phone=this.newMingaPhone),null!==this.newMingaUrl&&this.newMingaUrl!=this.minga.websiteUrl&&(n.websiteUrl=this.newMingaUrl),null!==this.newMingaEmail&&this.newMingaEmail!=this.minga.email&&(n.email=this.newMingaEmail),this.newMingaPlace&&this.newMingaPlace!=this.minga.placeId&&(n.placeId=this.newMingaPlace),!oe.isEmpty(n)){t.next=7;break}return t.abrupt("return",void this.snackBar.open("There are no changes to be saved"));case 7:return t.next=9,this.rootService.addLoadingPromise(this.mingaManager.updateMingaProfile(n));case 9:if((i=t.sent).getStatus()!=pe.StatusCode.OK){t.next=50;break}return r="Changes saved!",t.next=14,this.mingaStore.getMingaAsPromise();case 14:return(a=t.sent).name=this.minga.name,a.logo=this.minga.logoUrl,t.next=19,this.mingaStore.setMingaSettings(a);case 19:if(!("phone"in n)){t.next=23;break}this.minga.phone=this.newMingaPhone,r="Phone Number saved!",t.next=37;break;case 23:if(!("websiteUrl"in n)){t.next=27;break}this.minga.websiteUrl=this.newMingaUrl,r="Website Address saved!",t.next=37;break;case 27:if(!("email"in n)){t.next=31;break}this.minga.email=this.newMingaEmail,r="Email saved!",t.next=37;break;case 31:if(t.t0=n.placeId,!t.t0){t.next=37;break}return this.currentMingaPlace=this.newMingaPlace,t.next=36,this._retrieveLocationFromPlaceId();case 36:r="Address saved!";case 37:this.contentEvents.emitMingaUpdateEvent({logo:this.minga.logoUrl,name:this.minga.name}),this.snackBar.open(r),this.editingName=!1,this.editingPlace=!1,this.newMingaPhone=null,this.newMingaUrl=null,this.newMingaPlace=null,this.newMingaEmail=null,this.handingFocusEvent=!1,this.element.nativeElement.blur(),this.resetForm(),t.next=54;break;case 50:return o=i.getReason(),s=o?o.getMessage():"(n/a)",console.error("[Profile] error occurred while updating profile! reason: ",s),t.next=54,this.errorReporting.sendErrorReport("client MingaProfile.component","error occurred while updating minga profile",ge.errorPriority.ALERT);case 54:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Mt)(s["\u0275\u0275directiveInject"](ve.b),s["\u0275\u0275directiveInject"](ye.a),s["\u0275\u0275directiveInject"](I.b),s["\u0275\u0275directiveInject"](Ce.a),s["\u0275\u0275directiveInject"](Pe.a),s["\u0275\u0275directiveInject"](M.c),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](xe.a),s["\u0275\u0275directiveInject"](_.a),s["\u0275\u0275directiveInject"](we.a),s["\u0275\u0275directiveInject"](be.a),s["\u0275\u0275directiveInject"](Me.a),s["\u0275\u0275directiveInject"](Oe.a),s["\u0275\u0275directiveInject"](ke.b))},Mt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Mt,selectors:[["mg-minga-profile"]],viewQuery:function(e,t){var n;1&e&&(s["\u0275\u0275viewQuery"](Re,1),s["\u0275\u0275viewQuery"](ze,1,c.v),s["\u0275\u0275viewQuery"](Le,1),s["\u0275\u0275viewQuery"](Ve,1),s["\u0275\u0275viewQuery"](Ae,1)),2&e&&(s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.fileInput=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.form=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.mingaNameInput=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.oldPasswordInput=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.profileCardElement=n.first))},hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("resize",(function(e){return t.onResize(e)}),!1,s["\u0275\u0275resolveWindow"])("beforeunload",(function(e){return t.onBeforeUnload(e)}),!1,s["\u0275\u0275resolveWindow"])},decls:3,vars:1,consts:[[1,"profile-card"],["profileCard",""],[4,"ngIf"],[3,"click",4,"ngIf"],[1,"avatar-edit-wrap","user-content","mg-centered"],[3,"square","overflow","borderless"],[1,"avatar-input"],[1,"current-avatar"],[3,"diameter","thickness",4,"ngIf"],[1,"minga-profile-membercount","mg-centered","smaller-font-size"],[1,"mg-cta","count"],["class","mg-centered public-info",4,"ngIf"],["class","mg-centered minga-admin",4,"ngIf"],["class","mg-centered minga-identity-container",4,"ngIf"],["class","mg-centered subscription",4,"ngIf"],["class","profile-edit-form mg-minicopy","role","presentation",3,"autocomplete","submit",4,"ngIf"],[1,"profile-details-container"],[1,"mg-centered","profile-links","mg-minicopy"],["class","profile-link mg-button-hover-harbour","matRipple","",3,"unprovided","click",4,"ngIf"],[1,"file-link-container","mg-centered","profile-links","mg-minicopy"],["matRipple","",1,"profile-link","mg-button-hover-harbour",3,"routerLink"],["icon","minga-files-o"],[1,"profile-link-text"],["class","links-container mg-minicopy",4,"ngIf"],["class","mg-centered add-new-link-container mg-minicopy",4,"ngIf"],[3,"click"],["mgIconCompact","",3,"multiple","customTitleText","ngModel","ngModelChange"],["fileInput",""],[3,"file","formControl",4,"ngIf"],[3,"file","formControl"],[3,"diameter","thickness"],[1,"mg-centered","public-info"],[1,"minga-name"],["class","minga-school-type",4,"hasPermission"],["class","minga-address smaller-font-size",3,"innerHTML",4,"ngIf"],[1,"minga-school-type"],[1,"minga-address","smaller-font-size",3,"innerHTML"],[1,"mg-centered","minga-admin"],["class","minga-contact",4,"ngIf"],[1,"minga-admin-title"],[1,"minga-contact"],[3,"href"],[1,"mg-centered","minga-identity-container"],[3,"type"],[3,"status"],[1,"mg-centered","subscription"],["role","presentation",1,"profile-edit-form","mg-minicopy",3,"autocomplete","submit"],["form","ngForm"],["type","text",1,"input-hidden",3,"autocomplete","name"],["mgFormField","",1,"display-name-field"],["matInput","","autocapitalize","none","required","",3,"name","ngModel","autocomplete","formControl","ngModelChange","keydown"],["mingaNameInput",""],["name","address",3,"outerFormControl","ngModel","originalValue","required","save","ngModelChange"],["class","footer-button-container",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"footer-button-container"],["type","text",1,"mg-minicopy",3,"click"],["type","outline",1,"mg-minicopy",3,"disabled","click"],["matRipple","",1,"profile-link","mg-button-hover-harbour",3,"click"],["class","edit-icon",3,"click",4,"ngIf"],["icon","phone-o"],[1,"edit-icon",3,"click"],["icon","weblink-o"],["icon","email-o"],[1,"links-container","mg-minicopy"],[4,"ngFor","ngForOf"],["class","profile-link mg-button-hover-harbour","matRipple","",3,"click",4,"ngIf"],["icon-namespace","minga.profile",3,"icon","no-active"],["linkText",""],[1,"mg-centered","add-new-link-container","mg-minicopy"],["type","outline block",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0,1),s["\u0275\u0275template"](2,bt,31,35,"ng-container",2),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.minga))},directives:[o.o,_e.a,w.h,Ie.a,Se.a,Ee.a,c.t,c.w,Fe.a,c.i,Ne.a,Be.a,ee,c.E,c.u,c.v,f.d,De.a,f.h,y.b,c.d,c.B,Te.a,f.c,o.q,o.r,je.a,v.a,o.n],pipes:[F.a,b.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:block;--feed-item-margin-side:16px}@media (min-width:600px){[_nghost-%COMP%]{--feed-item-margin-side:0}}.ios-long[_nghost-%COMP%]{min-height:100vh;width:100%}@media (min-width:600px){.ios-long[_nghost-%COMP%]{min-height:120vh}.ios-long[_nghost-%COMP%]   .profile-card[_ngcontent-%COMP%]{width:calc(100% - 2 * (var(--feed-item-margin-side, 16px)))!important}}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#93f;text-decoration:none;font-size:14px}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.75}[_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]{margin-left:1em}[_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .input-actions.disabled[_ngcontent-%COMP%], [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   .input-action.disabled[_ngcontent-%COMP%]{color:#d1d1d1}[_nghost-%COMP%]   .input-actions.disabled[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   .input-action.disabled[_ngcontent-%COMP%]:hover{cursor:not-allowed}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-right:10px}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]:hover{cursor:pointer;color:#93f}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]:last-child{padding-right:0}[_nghost-%COMP%]   .input-action.icon[_ngcontent-%COMP%]     mg-button{font-size:0;--mg-icon-size:12px}[_nghost-%COMP%]   .non-input-text[_ngcontent-%COMP%]{margin:0;color:#737373;border-bottom:1px solid #ccc}.input-hidden[_ngcontent-%COMP%]{display:none}.profile-card[_ngcontent-%COMP%]{display:block;overflow:hidden;border-radius:8px;background-color:#fff;box-shadow:0 0 6px rgba(0,0,0,.15);margin:12px var(--feed-item-margin-side,16px) var(--feed-item-margin-top,4px) var(--feed-item-margin-side,16px);text-align:left;max-width:510px;position:relative;padding:0;min-width:289px}@media (min-width:600px){.profile-card[_ngcontent-%COMP%]{margin-top:28px;margin-left:0;min-width:510px}}@media (min-width:960px){.profile-card[_ngcontent-%COMP%]{min-width:289px}}.profile-card[_ngcontent-%COMP%]   mg-ellipsis[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}.profile-links[_ngcontent-%COMP%]{margin-top:1em}.profile-links.triple-link-row[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{max-width:calc(33.33% - 1px)}.profile-links.no-bottom-border[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{border-bottom:none}.profile-links[_ngcontent-%COMP%] + .profile-links[_ngcontent-%COMP%]{margin-top:0}.profile-links[_ngcontent-%COMP%] + .profile-links[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]:first-child{border-top:none}.links-container[_ngcontent-%COMP%], .profile-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}a.profile-link[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#036}@media (orientation:landscape){a.profile-link[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){a.profile-link[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){a.profile-link[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){a.profile-link[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){a.profile-link[_ngcontent-%COMP%]{font-size:13px}}.profile-link[_ngcontent-%COMP%]{flex-direction:column;padding:8px 0 12px;border:1px solid #ccc;border-right:none;display:inline-flex;justify-content:center;align-items:center;position:relative;flex:1 1 0}.profile-link[_ngcontent-%COMP%]   .profile-link-text[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:95%}.profile-link[_ngcontent-%COMP%]:first-child:last-child{flex-basis:100%}.profile-link[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.profile-link[_ngcontent-%COMP%]:first-child{border-left-color:#fff}.profile-link.unprovided[_ngcontent-%COMP%], .profile-link.unprovided[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]     button{color:#737373}.profile-link[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px 4px 12px 12px;font-size:16px}.links-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:start;align-items:stretch;margin-bottom:1em;padding:0 8px}.links-container[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{border:none;flex-basis:25%;display:inline-flex;justify-content:flex-start}.links-container[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{padding:.2em .2em .1em}.links-container[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]   .profile-link-text[_ngcontent-%COMP%]{white-space:normal;text-align:center;max-width:100%;text-overflow:clip;word-break:break-word}.avatar-edit-wrap[_ngcontent-%COMP%]{line-height:1;margin:32px 32px 1em}.avatar-edit-wrap[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;z-index:3;bottom:0;left:0;right:0}.avatar-edit-wrap.editing[_ngcontent-%COMP%]{margin-bottom:31px}.avatar-edit-wrap.editing[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .avatar-edit-wrap.editing[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{z-index:2}.avatar-edit-wrap.editing[_ngcontent-%COMP%]   .avatar-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:2;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.15)}.avatar-edit-wrap.editing[_ngcontent-%COMP%]   mg-avatar[_ngcontent-%COMP%]{cursor:pointer}@media (hover:hover){.avatar-edit-wrap.editing[_ngcontent-%COMP%]:hover   .avatar-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:2;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.35)}.avatar-edit-wrap.editing[_ngcontent-%COMP%]:hover   mg-file-input[_ngcontent-%COMP%]{z-index:2}}.current-avatar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;pointer-events:none;background-size:contain;background-repeat:no-repeat;background-position:50%;background-image:url(/assets/Minga_icon.svg)}.current-display-name[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;margin-top:0;margin-bottom:1.8em}@media (orientation:landscape){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vh}}@media (orientation:portrait){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vw}}@media (orientation:landscape) and (max-height:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (orientation:portrait) and (max-width:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (min-width:439.875px){.current-display-name[_ngcontent-%COMP%]{font-size:19.992px}}mg-avatar[_ngcontent-%COMP%]{--mg-avatar-size:100px}.avatar-input[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{position:absolute;top:0;pointer-events:none;z-index:1;overflow:hidden}.avatar-input[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{position:absolute;z-index:0;left:0;right:0;top:50%;transform:translateY(-50%)}.save-button[_ngcontent-%COMP%]{display:block;text-align:center}.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:13px}}.save-button[_ngcontent-%COMP%]{text-align:left}.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{white-space:nowrap;visibility:hidden;pointer-events:none}.save-button[_ngcontent-%COMP%] > mg-button-outline.show[_ngcontent-%COMP%]{display:inline-block;visibility:visible;pointer-events:all}.save-button-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;margin-bottom:1em}.profile-footer-links[_ngcontent-%COMP%]{padding-top:50px;font-size:14px}@media (orientation:landscape){.profile-footer-links[_ngcontent-%COMP%]{padding-top:4.375vh}}@media (orientation:portrait){.profile-footer-links[_ngcontent-%COMP%]{padding-top:4.375vw}}@media (orientation:landscape) and (max-height:320px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:14px}}@media (orientation:portrait) and (max-width:320px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:14px}}@media (min-width:1142.8571428571px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:50px}}.profile-edit-form[_ngcontent-%COMP%]{margin:0 32px;display:block}.minga-profile-membercount[_ngcontent-%COMP%]{color:#2f2f2f;margin-bottom:1em}.minga-profile-membercount[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:#93f}.minga-name[_ngcontent-%COMP%]{margin-bottom:.25em;font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.minga-name[_ngcontent-%COMP%]{font-size:4.0966183575vh}}@media (orientation:portrait){.minga-name[_ngcontent-%COMP%]{font-size:4.0966183575vw}}@media (orientation:landscape) and (max-height:414px){.minga-name[_ngcontent-%COMP%]{font-size:16.96px}}@media (orientation:portrait) and (max-width:414px){.minga-name[_ngcontent-%COMP%]{font-size:16.96px}}@media (min-width:439.875px){.minga-name[_ngcontent-%COMP%]{font-size:18.02px}}.smaller-font-size[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.smaller-font-size[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.smaller-font-size[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.smaller-font-size[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.smaller-font-size[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.smaller-font-size[_ngcontent-%COMP%]{font-size:17px}}.minga-school-type[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35;color:#737373;margin-top:0;margin-bottom:4px}@media (orientation:landscape){.minga-school-type[_ngcontent-%COMP%]{font-size:2.9758454106vh}}@media (orientation:portrait){.minga-school-type[_ngcontent-%COMP%]{font-size:2.9758454106vw}}@media (orientation:landscape) and (max-height:414px){.minga-school-type[_ngcontent-%COMP%]{font-size:12.32px}}@media (orientation:portrait) and (max-width:414px){.minga-school-type[_ngcontent-%COMP%]{font-size:12.32px}}@media (min-width:439.875px){.minga-school-type[_ngcontent-%COMP%]{font-size:13.09px}}.minga-admin-title[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35;margin-top:0;margin-bottom:0}@media (orientation:landscape){.minga-admin-title[_ngcontent-%COMP%]{font-size:2.9758454106vh}}@media (orientation:portrait){.minga-admin-title[_ngcontent-%COMP%]{font-size:2.9758454106vw}}@media (orientation:landscape) and (max-height:414px){.minga-admin-title[_ngcontent-%COMP%]{font-size:12.32px}}@media (orientation:portrait) and (max-width:414px){.minga-admin-title[_ngcontent-%COMP%]{font-size:12.32px}}@media (min-width:439.875px){.minga-admin-title[_ngcontent-%COMP%]{font-size:13.09px}}.minga-admin[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.minga-contact[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#737373}@media (orientation:landscape){.minga-contact[_ngcontent-%COMP%]{font-size:2.9758454106vh}}@media (orientation:portrait){.minga-contact[_ngcontent-%COMP%]{font-size:2.9758454106vw}}@media (orientation:landscape) and (max-height:414px){.minga-contact[_ngcontent-%COMP%]{font-size:12.32px}}@media (orientation:portrait) and (max-width:414px){.minga-contact[_ngcontent-%COMP%]{font-size:12.32px}}@media (min-width:439.875px){.minga-contact[_ngcontent-%COMP%]{font-size:13.09px}}.minga-contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:before, .minga-contact[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:before{content:" | "}.minga-address[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;color:#737373;margin-top:0;margin-bottom:1.5em}@media (orientation:landscape){.minga-address[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.minga-address[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.minga-address[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.minga-address[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.minga-address[_ngcontent-%COMP%]{font-size:17px}}.minga-identity-container[_ngcontent-%COMP%]{margin:1em 0}.minga-identity-container[_ngcontent-%COMP%]   mg-minga-identity[_ngcontent-%COMP%], .public-info[_ngcontent-%COMP%]{margin:0 16px}.public-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child:last-child{margin-bottom:1em}.dev-admin-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-bar{position:relative!important;top:auto!important;transform:none!important}.add-new-link-container[_ngcontent-%COMP%]{margin:24px 0}.type-letter[_ngcontent-%COMP%]{border-radius:50%;border:1px;border-style:solid;line-height:24px;width:24px;height:24px;display:inline-block;font-size:10px;margin:8px}.subscription[_ngcontent-%COMP%]{margin-bottom:1em}.subscription[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}']}),Mt),It=r("pw3p"),St=r("2Vo4"),Et=r("jtHE"),Ft=r("itXk"),Nt=r("lJxs"),Bt=r("1G5W"),Dt=r("XMmb"),Tt=r("NG82"),jt=r("AmzI"),Rt=r("8aDb"),zt=r("5km/"),Lt=r("IeKC"),Vt=r("+dib"),At=function(e){return e.UPLOAD_PICTURE_MSG="*Background pictures autosave",e.UPLOAD_ID_PICTURE_MSG="*Background and ID pictures autosave",e}({}),Ut=r("c+ZS"),Ht=r("IScg"),Wt=r("qwsH"),qt=r("lkjj"),Gt=r("QWb5"),$t=r("vaq4"),Yt=r("HSxi"),Qt=r("tJrb"),Kt=r("ei1q"),Jt=r("Cfvw"),Zt=r("vnsL"),Xt=((Ot=function(){function e(t){u(this,e),this.badgeCollection=t}return g(e,[{key:"getPersonBadges",value:function(e){if(!e)throw new Error("[BadgeCollectionService] getPersonBadges() missing person hash");var t=new Qt.GetPersonBadgesRequest;return t.setPersonHash(e),Object(Jt.a)(this._getPersonBadgesRequest(t))}},{key:"_getPersonBadgesRequest",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.badgeCollection.getPersonBadges(e);case 2:return t.abrupt("return",t.sent.getBadgeList().map((function(e){return Kt.IBadgeProtoMapper.fromBadgeMessage(e)})));case 3:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Ot)(s["\u0275\u0275inject"](Zt.BadgeCollection))},Ot.\u0275prov=s["\u0275\u0275defineInjectable"]({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot),en=r("mEol"),tn=r("OgRi"),nn=r("/YXT"),rn=r("yCgN"),an=r("5xcx"),on=r("ifhk"),sn=r("VDRc"),ln=r("teZX"),cn=r("nCoN"),dn=r("EEb0"),un=r("85oS"),pn=r("dhKc"),gn=r("c+vN"),mn=r("2nPA"),hn=r("HQAS"),fn=r("0cKA"),vn=r("05dM"),yn=r("qLpX"),Cn=r("dc+t"),Pn=r("SLe5"),xn=r("jcBT"),wn=r("StFh"),bn=function(){return["bannerlibpreview","cardbanner"]},Mn=function(e){return["blurloading1",e]},On=((kt=function(){function e(t){u(this,e),this.contentEvents=t,this.cancelContentLink=!0}return g(e,[{key:"badge",get:function(){return this._badge},set:function(e){e&&(this._badge=e)}},{key:"_onClick",value:function(){this.onBadgeClick()}},{key:"hasLinks",get:function(){return this.hasContextLinks}},{key:"hasContextLinks",get:function(){var e,t;return!!(null===(t=null===(e=this._badge)||void 0===e?void 0:e.contentContextHashes)||void 0===t?void 0:t.length)}},{key:"onBadgeClick",value:function(){var e,t,n;if(null===(t=null===(e=this._badge)||void 0===e?void 0:e.contentContextHashes)||void 0===t?void 0:t.length){var i=null===(n=this._badge)||void 0===n?void 0:n.contentContextHashes[0];i&&this.contentEvents.emitContentOpen({contentContextHash:i})}}}]),e}()).\u0275fac=function(e){return new(e||kt)(s["\u0275\u0275directiveInject"](we.a))},kt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:kt,selectors:[["mg-badge-mini-card"]],hostVars:4,hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t._onClick()})),2&e&&s["\u0275\u0275classProp"]("mg-cancel-content-link",t.cancelContentLink)("has-links",t.hasLinks)},inputs:{badge:"badge"},decls:11,vars:14,consts:[[1,"container"],[1,"icon-container"],[1,"badge-image",3,"background-size","srcs"],[1,"divider"],[1,"content-container"],[1,"title",3,"innerHTML"],[1,"message-text",3,"innerHTML"],[1,"date"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275element"](2,"mg-image",2),s["\u0275\u0275pipe"](3,"mgImageUrls"),s["\u0275\u0275element"](4,"div",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",4),s["\u0275\u0275element"](6,"div",5),s["\u0275\u0275element"](7,"div",6),s["\u0275\u0275elementStart"](8,"div",7),s["\u0275\u0275text"](9),s["\u0275\u0275pipe"](10,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("background-size","contain")("srcs",s["\u0275\u0275pipeBind2"](3,5,null==t.badge?null:t.badge.image,s["\u0275\u0275pureFunction1"](12,Mn,s["\u0275\u0275pureFunction0"](11,bn)))),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("innerHTML",null==t.badge?null:t.badge.name,s["\u0275\u0275sanitizeHtml"]),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("innerHTML",null==t.badge?null:t.badge.description,s["\u0275\u0275sanitizeHtml"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind2"](10,8,null==t.badge?null:t.badge.date,"MMM d, y")))},directives:[xn.a],pipes:[wn.a,o.f],styles:["[_nghost-%COMP%]{display:block;height:92px;overflow:hidden;border-radius:8px;background-color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.16)}.has-links[_nghost-%COMP%]{cursor:pointer}.has-links[_nghost-%COMP%]:hover{box-shadow:0 3px 12px rgba(0,0,0,.16)}.container[_ngcontent-%COMP%]{position:relative;height:100%;padding:8px 14px 8px 12px;box-sizing:border-box}.title[_ngcontent-%COMP%]{font-size:15px;color:#036;margin-bottom:3px}.message-text[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.icon-container[_ngcontent-%COMP%]{position:absolute;left:0;width:110px;display:flex;align-items:center;justify-content:space-between;padding-left:12px;box-sizing:border-box;top:8px;bottom:8px;height:calc(100% - 16px)}.icon-container[_ngcontent-%COMP%]   mg-image[_ngcontent-%COMP%]{width:80px;height:80px}.message-text[_ngcontent-%COMP%]{color:#707070;font-size:14px}.content-container[_ngcontent-%COMP%]{margin-left:110px;padding:12px 10px;position:relative;box-sizing:border-box;height:100%;display:flex;flex-direction:column;justify-content:center}.content-container[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;top:0;right:0;color:#036}.divider[_ngcontent-%COMP%]{background-color:#eaeaea;border-radius:20px;height:100%;width:5px}.date[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),kt),kn=["fileInput"],_n=["coverImageFileInput"],In=["form"],Sn=["displayNameInput"],En=["oldPasswordInput"],Fn=["profileCard"],Nn=["profileLinksElement"];function Bn(e,t){if(1&e&&(s["\u0275\u0275element"](0,"mg-avatar",40),s["\u0275\u0275pipe"](1,"async")),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("color",n.currentRoleColor)("src",s["\u0275\u0275pipeBind1"](1,2,n.idImage$))}}function Dn(e,t){if(1&e&&s["\u0275\u0275element"](0,"mg-file-upload",45),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("previewSize",510)("previewPaddingBottom","222px")("file",n.coverImageInputFiles[0])("formControl",n.uploadCoverImageFormControl)}}function Tn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",41),s["\u0275\u0275elementStart"](1,"mg-file-input",42,43),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().coverImageInputFiles=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](3,Dn,1,4,"mg-file-upload",44),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("customTitleText","Change Photo")("multiple",!1)("ngModel",i.coverImageInputFiles),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",i.coverImageInputFiles[0])}}function jn(e,t){1&e&&s["\u0275\u0275element"](0,"mg-spinner",46),2&e&&s["\u0275\u0275property"]("diameter",100)("thickness",3)}function Rn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-ellipsis",47),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().openProfilePopoverOptions(e)})),s["\u0275\u0275elementEnd"]()}}function zn(e,t){1&e&&s["\u0275\u0275elementContainer"](0)}function Ln(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,zn,1,0,"ng-container",49),s["\u0275\u0275elementContainerEnd"]()),2&e){s["\u0275\u0275nextContext"](2);var n=s["\u0275\u0275reference"](1);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Vn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",48),s["\u0275\u0275template"](1,Ln,2,1,"ng-container",13),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!n.editing)}}function An(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",50),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"uppercase"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,n.fullName)," ")}}function Un(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",54),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.fields.displayName," ")}}function Hn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",55),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.currentRole," ")}}function Wn(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,Un,2,1,"p",51),s["\u0275\u0275template"](2,Hn,2,1,"p",52),s["\u0275\u0275elementStart"](3,"p",53),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.fields.displayName),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.isOwnProfile||n.personFormPermissions),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",n.teams," ")}}function qn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",56),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275pipe"](3,"translate"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ","K"===n.fields.grade?s["\u0275\u0275pipeBind1"](2,1,"profile.kindergarten"):s["\u0275\u0275pipeBind2"](3,3,"profile.grade",n.getTranslateParams(n.fields.grade))," ")}}function Gn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",62),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onPointsClick()})),s["\u0275\u0275element"](1,"div",63),s["\u0275\u0275text"](2," Activity "),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classProp"]("selected","POINTS"===i.currentSelectedTab)}}function $n(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",62),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onFeedClick()})),s["\u0275\u0275element"](1,"mg-button-icon",64),s["\u0275\u0275text"](2," My Feed "),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classProp"]("selected","FEED"===i.currentSelectedTab)}}function Yn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",62),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onGroupsClick()})),s["\u0275\u0275element"](1,"mg-button-icon",65),s["\u0275\u0275text"](2," My Groups "),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classProp"]("selected","GROUPS"===i.currentSelectedTab)}}function Qn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",57,58),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275pipe"](3,"async"),s["\u0275\u0275template"](4,Gn,3,2,"div",59),s["\u0275\u0275pipe"](5,"async"),s["\u0275\u0275elementStart"](6,"div",60),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onBadgesClick()})),s["\u0275\u0275element"](7,"mg-button-icon",61),s["\u0275\u0275text"](8," Badges "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,$n,3,2,"div",59),s["\u0275\u0275template"](10,Yn,3,2,"div",59),s["\u0275\u0275pipe"](11,"async"),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275classProp"]("has-feed",i.isOwnProfile||i.personFormPermissions)("has-groups",(i.isOwnProfile||i.personFormPermissions||i.groupsPermissions)&&s["\u0275\u0275pipeBind1"](2,11,i.isGroupsEnabled$))("has-points",(i.isOwnProfile||i.personFormPermissions||i.pointsPermissions)&&s["\u0275\u0275pipeBind1"](3,13,i.isPointsEnabled$)),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",(i.isOwnProfile||i.personFormPermissions||i.pointsPermissions)&&s["\u0275\u0275pipeBind1"](5,15,i.isPointsEnabled$)),s["\u0275\u0275advance"](2),s["\u0275\u0275classProp"]("selected","BADGES"===i.currentSelectedTab),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",i.isOwnProfile||i.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",(i.isOwnProfile||i.personFormPermissions||i.groupsPermissions)&&s["\u0275\u0275pipeBind1"](11,17,i.isGroupsEnabled$))}}function Kn(e,t){1&e&&s["\u0275\u0275element"](0,"div",71)}function Jn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",72),s["\u0275\u0275element"](1,"img",73),s["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("src",n,s["\u0275\u0275sanitizeUrl"])}}function Zn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"div",66),s["\u0275\u0275elementStart"](2,"div",67),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().changeStudentIdImage()})),s["\u0275\u0275template"](3,Kn,1,0,"div",68),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275template"](5,Jn,2,1,"div",69),s["\u0275\u0275pipe"](6,"async"),s["\u0275\u0275elementStart"](7,"div",70),s["\u0275\u0275elementStart"](8,"span"),s["\u0275\u0275text"](9,"Change Photo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275styleProp"]("width",100,"%"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",""===s["\u0275\u0275pipeBind1"](4,4,i.idImage$)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](6,6,i.idImage$))}}function Xn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",74),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.getAutosaveMsg(s["\u0275\u0275pipeBind1"](2,1,n.canChangeIDPicture$)),"\n")}}function ei(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mg-first-name",75,76),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fields.firstname=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mg-last-name",77,78),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fields.lastname=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngModel",i.fields.firstname)("required",!0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngModel",i.fields.lastname)("required",!0)}}function ti(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-form-field",79),s["\u0275\u0275elementStart"](1,"mat-label"),s["\u0275\u0275text"](2,"Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"input",80),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("mgReadOnly",!0),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",n.fullName)}}function ni(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-role-select",81),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fields.accountRoleType=e}))("roleName",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onRoleChange(e)}))("displayNameFormat",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().displayNameFormat=e})),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("required",!0)("ngModel",i.fields.accountRoleType)}}function ii(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-form-field",79),s["\u0275\u0275elementStart"](1,"mat-label"),s["\u0275\u0275text"](2,"Role"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"input",82),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("mgReadOnly",!0),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",n.currentRole)}}function ri(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-display-name",83),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fields.displayName=e}))("customChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fields.customDisplayName=e})),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](),r=s["\u0275\u0275reference"](22);s["\u0275\u0275property"]("firstName",i.fields.firstname)("lastName",i.fields.lastname)("statusPending",null==r.controls||null==r.controls.displayName?null:r.controls.displayName.pending)("statusTouched",null==r.controls||null==r.controls.displayName?null:r.controls.displayName.touched)("ngModel",i.fields.displayName)("custom",i.fields.customDisplayName)("displayNameFormat",i.displayNameFormat)("required",i.fields.customDisplayName)}}function ai(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.minlength")," "))}function oi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.maxlength")," "))}function si(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.pattern")," "))}function li(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.displayName.error.required")," "))}function ci(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275elementContainerStart"](1,87),s["\u0275\u0275template"](2,ai,3,3,"span",88),s["\u0275\u0275template"](3,oi,3,3,"span",88),s["\u0275\u0275template"](4,si,3,3,"span",88),s["\u0275\u0275template"](5,li,3,3,"span",89),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementEnd"]()),2&e){s["\u0275\u0275nextContext"]();var n=s["\u0275\u0275reference"](4);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitch",null==n.control?null:n.control.errors),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","minlength"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","maxlength"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","pattern")}}function di(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mat-form-field",84),s["\u0275\u0275elementStart"](1,"mat-label"),s["\u0275\u0275text"](2,"Display Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"input",85,86),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fields.displayName=e}))("keydown",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onKeyDown(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,ci,6,4,"mat-error",13),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275reference"](4),r=s["\u0275\u0275nextContext"](),a=s["\u0275\u0275reference"](22);s["\u0275\u0275property"]("mgReadOnly",!r.changeDisplayName),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("name","profileDisplayName-"+r.currentTime)("ngModel",r.fields.displayName)("pattern",r.noSymbolsRegex)("autocomplete","displayName-off-"+r.currentTime)("readonly",!r.changeDisplayName),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",(null==i.control?null:i.control.invalid)&&((null==i.control?null:i.control.dirty)||(null==i.control?null:i.control.touched)||a.submitted))}}function ui(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-option",92),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n," ")}}function pi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mat-form-field",79),s["\u0275\u0275elementStart"](1,"mat-label"),s["\u0275\u0275text"](2,"Grade"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mat-select",90),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fields.grade=e})),s["\u0275\u0275template"](4,ui,2,2,"mat-option",91),s["\u0275\u0275pipe"](5,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("mgReadOnly",!i.personFormPermissions),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",i.fields.grade),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind1"](5,3,i.gradeOptions$))}}function gi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-password",93,94),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fields.password=e}))("keypress",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onKeyDown(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("ngModel",i.fields.password)("editMode",i.editing)("name","personFormPassword-"+i.currentTime)("required",!1)}}function mi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mg-button",101),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).toggleEditPassword(!0,e)})),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()}2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](2,1,"button.changePassword")))}function hi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",102),s["\u0275\u0275elementStart"](1,"mat-icon",103),s["\u0275\u0275listener"]("mousedown",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).toggleOldPasswordVisibility()})),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](i.oldPasswordIcon)}}function fi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.maxlength")," "))}function vi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.minlength")," "))}function yi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.pattern")," "))}function Ci(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.requiredOld")," "))}function Pi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.incorrect")," "))}function xi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.cannotMatch")," "))}function wi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.required")," "))}function bi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275elementContainerStart"](1,87),s["\u0275\u0275template"](2,fi,3,3,"span",88),s["\u0275\u0275template"](3,vi,3,3,"span",88),s["\u0275\u0275template"](4,yi,3,3,"span",88),s["\u0275\u0275template"](5,Ci,3,3,"span",88),s["\u0275\u0275template"](6,Pi,3,3,"span",88),s["\u0275\u0275template"](7,xi,3,3,"span",88),s["\u0275\u0275template"](8,wi,3,3,"span",89),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitch",n.oldPasswordControlErrorKey),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","maxlength"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","minlength"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","pattern"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","requiredOld"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","incorrect"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","cannotMatch")}}function Mi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",102),s["\u0275\u0275elementStart"](1,"mat-icon",103),s["\u0275\u0275listener"]("mousedown",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](3).toggleNewPasswordVisibility()})),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](i.newPasswordIcon)}}function Oi(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.maxlength")," "))}function ki(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.minlength")," "))}function _i(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.pattern")," "))}function Ii(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"translate"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,"input.password.error.required")," "))}function Si(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275elementContainerStart"](1,87),s["\u0275\u0275template"](2,Oi,3,3,"span",88),s["\u0275\u0275template"](3,ki,3,3,"span",88),s["\u0275\u0275template"](4,_i,3,3,"span",88),s["\u0275\u0275template"](5,Ii,3,3,"span",89),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitch",n.newPasswordControlErrorKey),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","maxlength"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","minlength"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase","pattern")}}function Ei(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mat-form-field",104),s["\u0275\u0275elementStart"](1,"input",105),s["\u0275\u0275listener"]("keydown",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"](2);return t.onFocusPassword(e)&&t.onKeyDown(e)}))("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).fields.password=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](2,Mi,3,1,"div",99),s["\u0275\u0275template"](3,Si,6,4,"mat-error",13),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](2),r=s["\u0275\u0275reference"](22);s["\u0275\u0275classProp"]("expand-for-error",!!i.newPasswordControlErrorKey||i.newPasswordFormControl.invalid&&(i.newPasswordFormControl.dirty||i.newPasswordFormControl.touched||r.submitted)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("type",i.newPasswordType)("name","profilenewPassword-"+i.currentTime)("autocomplete","profile-new-password-"+i.currentTime)("required",i.oldPassword)("ngModel",i.fields.password)("formControl",i.newPasswordFormControl),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.editingPassword),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!!i.newPasswordControlErrorKey||i.newPasswordFormControl.invalid&&(i.newPasswordFormControl.dirty||i.newPasswordFormControl.touched||r.submitted))}}function Fi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"mat-form-field",95),s["\u0275\u0275elementStart"](2,"mat-label"),s["\u0275\u0275text"](3,"Current Password"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](4,mi,3,3,"mg-button",96),s["\u0275\u0275elementStart"](5,"input",97,98),s["\u0275\u0275listener"]("focus",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onFocusPassword(e)}))("keydown",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"]();return t.onFocusPassword(e)&&t.onKeyDown(e)}))("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().oldPassword=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,hi,3,1,"div",99),s["\u0275\u0275template"](8,bi,9,7,"mat-error",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Ei,4,10,"mat-form-field",100),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"](),r=s["\u0275\u0275reference"](22);s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!i.editingPassword),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("name","profileoldPassword-"+i.currentTime)("autocomplete","oldPassword-off-"+i.currentTime)("type",i.oldPasswordType)("required",i.fields.password)("ngModel",i.oldPassword)("formControl",i.oldPasswordFormControl),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",i.editingPassword),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!!i.oldPasswordControlErrorKey||i.oldPasswordFormControl.invalid&&(i.oldPasswordFormControl.dirty||i.oldPasswordFormControl.touched||r.submitted)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.editingPassword)}}function Ni(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"a",106),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().forgotPassword()})),s["\u0275\u0275text"](1,"Forgot password?"),s["\u0275\u0275elementEnd"]()}}function Bi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",107),s["\u0275\u0275elementStart"](1,"mg-button",108),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleEditForm()})),s["\u0275\u0275text"](2,"Cancel"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mg-button",109),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().updateProfile(e)})),s["\u0275\u0275text"](4,"Save"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("disabled",i.disableSavingButton)}}function Di(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",110),s["\u0275\u0275elementStart"](1,"div",111),s["\u0275\u0275text"](2,"Permanently Delete"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"a",47),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().launchArchiveAccountConfDialog()})),s["\u0275\u0275text"](4," I want to delete this account "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function Ti(e,t){if(1&e&&s["\u0275\u0275element"](0,"mg-profile-points",112),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("personHash",n._personHash)("emptyStreamString",n.emptyPointString)}}function ji(e,t){if(1&e&&(s["\u0275\u0275element"](0,"mg-date-separator",117),s["\u0275\u0275element"](1,"mg-content-feed-item",118)),2&e){var n=t.$implicit,i=t.itemId;s["\u0275\u0275property"]("text",n.separatorText),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("context",i)("content",n.feedItemView)}}function Ri(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",113),s["\u0275\u0275elementStart"](1,"mg-stream-scroller",114),s["\u0275\u0275template"](2,ji,2,3,"ng-template",115),s["\u0275\u0275element"](3,"mg-empty-state",116),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("filter",n.filter)("service",n.profileContent),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("title",n.emptyFeedString)}}function zi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"mg-group-list",120),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("groups",s["\u0275\u0275pipeBind1"](2,1,n.myGroups$))}}function Li(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,zi,3,3,"div",119),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275elementContainerEnd"]()),2&e){var n,i=s["\u0275\u0275nextContext"](),r=s["\u0275\u0275reference"](56);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==(n=s["\u0275\u0275pipeBind1"](2,2,i.myGroups$))?null:n.length)("ngIfElse",r)}}function Vi(e,t){if(1&e&&s["\u0275\u0275element"](0,"mg-empty-state",116),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("title",n.emptyGroupsString)}}function Ai(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementContainerStart"](1),s["\u0275\u0275element"](2,"mg-badge-mini-card",124),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("badge",n)}}function Ui(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",122),s["\u0275\u0275template"](1,Ai,3,1,"div",123),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind1"](2,1,n.myBadges$))}}function Hi(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275template"](1,Ui,3,3,"div",121),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275elementContainerEnd"]()),2&e){var n,i=s["\u0275\u0275nextContext"](),r=s["\u0275\u0275reference"](59);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==(n=s["\u0275\u0275pipeBind1"](2,2,i.myBadges$))?null:n.length)("ngIfElse",r)}}function Wi(e,t){if(1&e&&s["\u0275\u0275element"](0,"mg-empty-state",116),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("title",n.emptyBadgesString)}}var qi,Gi,$i,Yi,Qi=function(e){return e.FEED="FEED",e.POINTS="POINTS",e.BADGES="BADGES",e.GROUPS="GROUPS",e}({}),Ki=((qi=function(){function t(n,i,r,a,o,s,l,p,g,m,h,f,v,y,C,P,x,w,b,M,k,_,I,S,E,F,N){var B=this;u(this,t),this.route=n,this.authService=i,this.profileService=r,this.snackBar=a,this.rootService=o,this.errorReporting=s,this.permissions=l,this.element=p,this.analytics=g,this.peopleManagerService=m,this.contentFeedService=h,this.profileContent=f,this.rolesService=v,this.router=y,this.gradesService=C,this.pointsManager=P,this.groupsFacadeService=x,this.groupsService=w,this.badges=b,this.fileUploadManager=M,this.dialog=k,this.rootNav=_,this.authInfoService=I,this._settingService=S,this._studentIdImageService=E,this._studentIdService=F,this._idUploaderDialog=N,this.MESSAGES=At,this._idImageSubj=new St.a(""),this.idImage$=this._idImageSubj.asObservable(),this.coverImageInputFiles=[],this.uploadAsset="",this._loading=!1,this._uploading=!1,this._loadingCoverImage=!1,this._disableUploaderButton=!1,this._uploadingCoverImage=!1,this.editing=!1,this.currentSelectedTab=null,this.currentDisplayTab=null,this._permissionsInitialized=!1,this._destroyed$=new Et.a(1),this._personHash="",this.fields=Tt.b.defaultValue(),this.initialFields=Tt.b.defaultValue(),this.changeDisplayName=!1,this.showEmail=!1,this.personUniqueHash=new pe.UniqueHash,this.currentEmail="",this.oldPassword=Dt.a,this.grade="",this.firstName="",this.lastName="",this.coverImageUrl="",this.publicBirthdate=!1,this.currentRole="",this.currentRoleColor="",this.teams="",this.editingName=!1,this.editingEmail=!1,this.editingPassword=!1,this.oldPasswordVisible=!1,this.oldPasswordType="password",this.oldPasswordIcon="visibility",this.newPasswordVisible=!1,this.newPasswordType="password",this.newPasswordIcon="visibility",this.handingFocusEvent=!1,this.enableReadOnlyState=!window.MINGA_DEVICE_ANDROID&&!window.MINGA_DEVICE_IOS,this.currentTime=Date.now(),this.currentDate=new Date,this.savingBirthdate=!1,this.savingBirthdatePublic=!1,this.currentBirthdate=null,this.roleName="",this.hasCustomDisplayName=!1,this.showGradeField=!1,this.showStudentIdField=!1,this.personFormPermissions=!1,this.pointsPermissions=!1,this.groupsPermissions=!1,this.roleTranslateParams={},this.uploadCoverImageFormControl=new c.h,this.oldPasswordFormControl=new c.h,this.newPasswordFormControl=new c.h,this.noSymbolsRegex=ce.a.NoSymbolsRegex,this.canChangeIDPicture$=Object(Ft.b)([this.permissions.observePermission(me.MingaPermission.ADMINISTER_STUDENT_ID),this.permissions.observePermission(me.MingaPermission.VIEW_STUDENT_ID_DASHBOARD),this._settingService.getSettingValueObs(me.mingaSettingTypes.ID_STAFF_CHANGE_PICTURE)]).pipe(Object(Nt.a)((function(t){var n=e(t,3),i=n[0],r=n[1],a=n[2];return!!i||r&&a}))),this.isGroupsEnabled$=this._settingService.getSettingValueObs(me.mingaSettingTypes.FEATURE_ENABLE_GROUPS),this.canUserDeleteAccount$=this._settingService.getSettingValueObs(me.mingaSettingTypes.FEATURE_ALLOW_ACCOUNT_DELETION),this.canChangeEmail$=this._settingService.getSettingValueObs(me.mingaSettingTypes.FEATURE_ALLOW_STUDENT_EMAIL_CHANGE),this.initPermissions(),this.uploadCoverImageFormControl.statusChanges.subscribe((function(e){B._uploadingCoverImage="PENDING"===e,"VALID"===e&&B.onUploadCoverImageDone(B.uploadCoverImageFormControl.value)})),this.gradeOptions$=C.grades$,this.isPointsEnabled$=this.pointsManager.getTrackingExpansionPackObservableState(),n.params.pipe(Object(Bt.a)(this._destroyed$),Object(Nt.a)((function(e){return e.personHash}))).subscribe((function(e){e||(e=B.authInfoService.authPersonHash||""),e&&(B._personHash=e,B.isOwnProfile||B._studentIdService.read(B._personHash),B._permissionsInitialized&&B._initPersonInfo())})),this._studentIdService.studentId$.pipe(Object(Bt.a)(this._destroyed$)).subscribe((function(e){return Object(O.a)(B,void 0,void 0,d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.fileName||e.personHash!==this._personHash){t.next=5;break}return t.next=3,this._studentIdImageService.getFilePathToStudentIdImage(e.fileName,Lt.b.ID_FULL);case 3:n=t.sent,this._idImageSubj.next(n);case 5:case"end":return t.stop()}}),t,this)})))}))}return g(t,[{key:"person",get:function(){return this.authInfoService.authPerson}},{key:"feedItemClick",value:function(e){this.contentFeedService.feedItemClick(e)}},{key:"onBeforeUnload",value:function(e){var t=this.preventNavigation();if(t)return e.returnValue=t,t}},{key:"_initPersonInfo",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._personHash||console.error("[Profile] could not init person info, missing person hash"),this.myGroups$=this.isOwnProfile?this.groupsFacadeService.getMyGroups():this.groupsService.getPersonGroups(this._personHash),this.myBadges$=this.badges.getPersonBadges(this._personHash).pipe(Object(Nt.a)((function(e){return e.sort((function(e,t){return e.date<t.date?1:-1}))}))),e.next=5,this._studentIdService.read();case 5:if(!this.personFormPermissions){e.next=10;break}return e.next=8,this._readPerson();case 8:e.next=12;break;case 10:return e.next=12,this._retrieveProfile();case 12:setTimeout((function(){t.profileLinksElement&&t.profileLinksElement.nativeElement.children[0].click()}),0);case 13:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gradesService.fetchIfNeeded();case 2:this.groupsFacadeService.dispatchLoadAll(),this._scrollToTop();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"_scrollToTop",value:function(){window.scrollTo(window.pageXOffset,0)}},{key:"ngOnDestroy",value:function(){this._destroyed$.next(),this._destroyed$.complete()}},{key:"initPermissions",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.changeDisplayName=this.permissions.hasPermission(me.MingaPermission.ACCOUNT_DISPLAYNAME_CHANGE),t=this.permissions.hasPermission(me.MingaPermission.MINGA_PEOPLE_MANAGE),this.personFormPermissions=!(!this.authInfoService.authPersonHash||!t),this.pointsPermissions=this.permissions.hasPermission(me.MingaPermission.POINTS_ALLOCATE_ALLOWED),this.groupsPermissions=this.permissions.hasPermission(me.MingaPermission.CONTENT_GROUP_CREATE),e.t0=this._personHash,!e.t0){e.next=9;break}return e.next=9,this._initPersonInfo();case 9:this._permissionsInitialized=!0;case 10:case"end":return e.stop()}}),e,this)})))}},{key:"disableSavingButton",get:function(){return this._uploading||this._loading||this.form&&this.form.pristine||!this.oldPassword&&!this.newPassword||!this.form||this.formInvalid}},{key:"formInvalid",get:function(){var e=!1;if(this.form)for(var t in this.form.controls)if(this.form.controls[t].invalid){if(t=="profileDisplayName-"+this.currentTime&&!this.changeDisplayName)continue;e=!0;break}return e}},{key:"oldPasswordControlErrorKey",get:function(){return this.oldPasswordError?this.oldPasswordError:this.oldPasswordFormControl.errors?Object.keys(this.oldPasswordFormControl.errors)[0]:""}},{key:"newPasswordControlErrorKey",get:function(){return this.newPasswordError?this.newPasswordError:this.newPasswordFormControl.errors?Object.keys(this.newPasswordFormControl.errors)[0]:""}},{key:"fullName",get:function(){return this.fields.firstname+" "+this.fields.lastname}},{key:"isOwnProfile",get:function(){return this._personHash==this.authInfoService.authPersonHash}},{key:"filter",get:function(){return{personHash:this._personHash||this.authInfoService.authPersonHash}}},{key:"emptyFeedString",get:function(){return(this.isOwnProfile?"You haven't":this.fields.displayName+" hasn't")+" posted anything yet."}},{key:"emptyBadgesString",get:function(){return(this.isOwnProfile?"You haven't":this.fields.displayName+" hasn't")+" earned any badges yet."}},{key:"emptyGroupsString",get:function(){return(this.isOwnProfile?"You aren't":this.fields.displayName+" isn't")+" a member of any groups."}},{key:"emptyPointString",get:function(){return this.isOwnProfile?"":this.fields.displayName+" hasn't earned any points yet."}},{key:"getAutosaveMsg",value:function(e){return e?this.MESSAGES.UPLOAD_ID_PICTURE_MSG:this.MESSAGES.UPLOAD_PICTURE_MSG}},{key:"onRoleChange",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.roleName=e,t.next=3,this.rolesService.formShouldShowGrade(this.fields.accountRoleType);case 3:return this.showGradeField=t.sent,t.next=6,this.rolesService.formShouldShowStudentId(this.fields.accountRoleType);case 6:this.showStudentIdField=t.sent;case 7:case"end":return t.stop()}}),t,this)})))}},{key:"openProfilePopoverOptions",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopImmediatePropagation(),e.preventDefault(),t.next=4,this.rootService.openGlobalMenu({x:e.pageX,y:e.pageY,items:[{name:this.editing?"Cancel":"Edit Profile",click:function(){return n.toggleEditForm()}},{name:"Preferences",click:function(){return n.router.navigate(["user-preferences"])}}]});case 4:case"end":return t.stop()}}),t,this)})))}},{key:"toggleEditForm",value:function(){this.editing=!this.editing,this.resetForm()}},{key:"preventNavigation",value:function(){return this.form.pending||this.editingName||this.editingEmail||this.editingPassword?"You have unsaved changes. Are you sure you want to leave?":""}},{key:"commitPublicBirthdate",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Rt.UpdateProfileBirthdatePublicRequest).setPersonHash(this._personHash),this.isOwnProfile&&(this.publicBirthdate=!0),t.setPublicBirthdate(this.publicBirthdate),e.next=6,this.profileService.updateBirthdatePublic(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"publicBirthdateChange",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.savingBirthdatePublic=!this.savingBirthdatePublic;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"commitBirthdate",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Rt.UpdateProfileBirthdateRequest).setPersonHash(this._personHash),this.currentBirthdate?((n=new jt.Date).setYear(this.currentBirthdate.getUTCFullYear()),n.setMonth(this.currentBirthdate.getUTCMonth()+1),n.setDay(this.currentBirthdate.getUTCDate()),t.setBirthdate(n)):t.clearBirthdate(),e.next=4,this.profileService.updateBirthdate(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"birthdateChanged",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isOwnProfile&&(this.publicBirthdate=!!this.fields.birthdate);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"initEditPassword",value:function(){this.oldPassword="",this.fields.password="";var e=[];e.push(c.D.minLength(4)),e.push(c.D.maxLength(16)),this.oldPasswordFormControl=new c.h(this.oldPassword,e),e.push(ce.a.NoSymbolsOneLetterOneNumber),this.newPasswordFormControl=new c.h(this.newPassword,e),this.form.form.contains("oldPassword")?(this.form.form.setControl("oldPassword",this.oldPasswordFormControl),this.form.form.setControl("newPassword",this.newPasswordFormControl)):(this.form.form.addControl("oldPassword",this.oldPasswordFormControl),this.form.form.addControl("newPassword",this.newPasswordFormControl)),this.form.form.markAsPristine(),this.handingFocusEvent=!1}},{key:"_onUploadCoverImageDone",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){var n,i,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Rt.UpdateProfileCoverImageRequest).setAsset(e),n.setPersonHash(this._personHash),t.next=4,this.profileService.updateProfileCoverImage(n);case 4:(i=t.sent).getStatus()==pe.StatusCode.OK&&(r=i.getProfileCoverImageInfo().getSizeMap().get("raw").getPath(),this.coverImageUrl=window.MINGA_ASSET_URL_PREFIX+r);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"onUploadCoverImageDone",value:function(e){var t=this;return this._loadingCoverImage=!0,this._onUploadCoverImageDone(e).then((function(){t._loadingCoverImage=!1}),(function(e){console.error(e),t._loadingCoverImage=!1}))}},{key:"onFeedClick",value:function(){this.currentSelectedTab=this.currentDisplayTab=Qi.FEED}},{key:"onPointsClick",value:function(){this.currentSelectedTab=this.currentDisplayTab=Qi.POINTS}},{key:"onBadgesClick",value:function(){this.currentSelectedTab=this.currentDisplayTab=Qi.BADGES}},{key:"onGroupsClick",value:function(){this.currentSelectedTab=this.currentDisplayTab=Qi.GROUPS}},{key:"updatePhotoClick",value:function(e){this.fileInput.trigger()}},{key:"resetForm",value:function(){this.fields.displayName=this.displayName,this.oldPassword=Dt.a,this.oldPasswordType="password",this.fields.password="",this.newPasswordType="password",this.newPasswordVisible=!1,this.oldPasswordVisible=!1,this.oldPasswordFormControl=new c.h(this.oldPassword,[]),this.newPasswordFormControl=new c.h(this.newPassword,[]),this.fields=oe.cloneDeep(this.initialFields),this.form.form.markAsPristine()}},{key:"toggleEditPassword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.editingPassword,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._preventEventBehaviors(t),this.editingPassword=e,this.editingPassword?this.initEditPassword():(this.oldPassword=Dt.a,this.oldPasswordType="password",this.fields.password="",this.newPasswordType="password",this.newPasswordVisible=!1,this.oldPasswordVisible=!1,this.oldPasswordFormControl=new c.h(this.oldPassword,[]),this.newPasswordFormControl=new c.h(this.newPassword,[]),this.form.form.markAsPristine())}},{key:"toggleOldPasswordVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.oldPasswordVisible;this.oldPasswordVisible=e,this.oldPasswordVisible?(this.oldPasswordIcon="visibility_off",this.oldPasswordType="text"):(this.oldPasswordIcon="visibility",this.oldPasswordType="password")}},{key:"toggleNewPasswordVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.newPasswordVisible;this.newPasswordVisible=e,this.newPasswordVisible?(this.newPasswordIcon="visibility_off",this.newPasswordType="text"):(this.newPasswordIcon="visibility",this.newPasswordType="password")}},{key:"_preventEventBehaviors",value:function(e){e&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())}},{key:"onFocusPassword",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.handingFocusEvent||!e||this.editingPassword||(this.handingFocusEvent=!0,this.toggleEditPassword(!0),this.editingEmail=!1);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getTranslateParams",value:function(e){return{value:e}}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&(this._preventEventBehaviors(e),this.updateProfile())}},{key:"initBirthdateFromDate",value:function(e){this.fields.birthdate=e?new Date(Date.UTC(e.getYear(),e.getMonth()-1,e.getDay(),(new Date).getTimezoneOffset()/60)):null}},{key:"_readPerson",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t,n,i,r,a,o=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._personHash||this.authInfoService.authPersonHash){e.next=3;break}return e.abrupt("return",void console.error("unable to read person, no person hash available"));case 3:return e.next=5,this.peopleManagerService.readPeople([t],!0).catch((function(e){return o.analytics.sendException("profile readPerson readPeoeple throw error",ge.errorPriority.ALERT),console.error("[Profile]readPerson() no person found.",e),[]}));case 5:if(!(n=e.sent).length){e.next=28;break}return i=n[0],r=i.getIdentity(),a=i.getAccount(),this.personUniqueHash=r.getHash(),this.fields.firstname=r.getFirstName(),this.fields.lastname=r.getLastName(),this.fields.email=r.getEmailAddress(),this.fields.pin=r.getPin(),this.fields.studentId=r.getStudentId(),this.fields.grade=a.getGrade(),this.fields.phoneNumber=r.getPhoneNumber(),this.fields.accountRoleType=i.getAccountRoleType(),this.coverImageUrl=a.getProfileCoverImageUrl(),this.currentEmail=r.getEmailAddress(),this.currentRole=i.getAccountRoleType().replace("_"," "),this.currentRoleColor=i.getAccountRoleColor(),e.next=23,this.findTeams();case 23:this.teams=e.sent,this.initBirthdateFromDate(i.getBirthdate()),a&&(this.fields.displayName=a.getDisplayName(),this.fields.customDisplayName=!!a.getCustomDisplayName(),this.displayName=this.fields.displayName),this.initialFields=oe.cloneDeep(this.fields),this.form&&this.form.form.markAsPristine();case 28:case"end":return e.stop()}}),e,this)})))}},{key:"_retrieveProfile",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t,n,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._personHash||this.authInfoService.authPersonHash){e.next=3;break}return e.abrupt("return",void console.error("unable to retrieve profile, no person hash available"));case 3:return(n=new Rt.ReadProfileRequest).setPersonHash(t),e.next=7,this.rootService.addLoadingPromise(this.profileService.readProfile(n)).then((function(e){return Object(O.a)(i,void 0,void 0,d().mark((function t(){var n,i,r,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getStatus()!=pe.StatusCode.OK){t.next=17;break}return n=e.getEmail(),this.fields.email=n,this.currentEmail=n,(i=e.getDisplayName())&&(this.fields.displayName=i,this.displayName=i),this.fields.studentId=e.getStudentId(),this.fields.grade=e.getGrade(),this.fields.phoneNumber=e.getPhoneNumber(),this.fields.firstname=e.getFirstName(),this.fields.lastname=e.getLastName(),r=e.getPersonViewMinimal(),this.coverImageUrl=e.getProfileCoverImageUrl(),this.currentRoleColor=r.getBadgeIconColor(),this.currentRole=r.getBadgeRoleName().replace("_"," "),t.next=11,this.findTeams();case 11:this.teams=t.sent,this.publicBirthdate=e.getPublicBirthdate(),(a=e.getBirthdate())&&(this.currentBirthdate=Object(Vt.b)(a)),this.initBirthdateFromDate(a),this.initialFields=oe.cloneDeep(this.fields),this.roleTranslateParams={value:this.fields.studentId},t.next=18;break;case 17:this.analytics.sendException("readProfile gave non ok statusCode",ge.errorPriority.ALERT);case 18:this.form&&this.form.form.markAsPristine();case 19:case"end":return t.stop()}}),t,this)})))})).catch((function(e){i.analytics.sendException("readProfile throw error",ge.errorPriority.ALERT)}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"forgotPassword",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rootService.addLoadingPromise(this.authService.forgotPassword(this.currentEmail));case 2:this.snackBar.open("Reset password email sent to ".concat(this.currentEmail));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"setCustomError",value:function(e,t){e.setErrors({errorKey:!0})}},{key:"launchArchiveAccountConfDialog",value:function(){var e=this;this._launchConfirmationDialog({data:{text:"Are you sure you want to delete this account?",saveButtonLocale:"button.delete"}},(function(){e._launch2ndAccountArchiveConfDialog()}))}},{key:"findTeams",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peopleManagerService.getMyTeams(this._personHash);case 2:return t=e.sent,e.abrupt("return",t.length>1?t.join(", "):t.length?t[0]:"");case 4:case"end":return e.stop()}}),e,this)})))}},{key:"changeStudentIdImage",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._disableUploaderButton||(this._disableUploaderButton=!0,this._idUploaderDialog.open({data:{personHash:this._personHash,currentImage:this._idImageSubj.value}}).afterClosed().subscribe((function(e){return Object(O.a)(t,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,!t.t0){t.next=15;break}if(!e.deleteImage){t.next=10;break}return t.next=5,this._studentIdService.deleteStudentIdImage(this._personHash);case 5:return t.next=7,this._updateStudentId({personHash:this._personHash,fileName:void 0,tempPhoto:!1});case 7:this._idImageSubj.next(""),t.next=15;break;case 10:if(t.t1=e.fileName,!t.t1){t.next=15;break}return t.next=14,this._updateStudentId({personHash:this._personHash,fileName:e.fileName});case 14:e.previewUrl&&this._idImageSubj.next(e.previewUrl);case 15:case"end":return t.stop()}}),t,this)})))})),this._disableUploaderButton=!1);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_launch2ndAccountArchiveConfDialog",value:function(){var e=this;this._launchConfirmationDialog({data:{text:"Are you ABSOLUTELY sure you want to delete this account?",saveButtonLocale:"button.delete"}},(function(){e._personHash&&e.peopleManagerService.selfArchivePerson(e._personHash)}))}},{key:"_launchConfirmationDialog",value:function(e,t){var n=this;this.dialog.open(zt.i,e).afterClosed().subscribe((function(e){return Object(O.a)(n,void 0,void 0,d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e&&t();case 1:case"end":return n.stop()}}),n)})))}))}},{key:"_updateStudentId",value:function(e){return Object(O.a)(this,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._studentIdService.updateStudentId(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"_updatePersonForm",value:function(){var t=this,n=Object.entries(this.fields),i={};this._uploading=!0;for(var r=0,a=n;r<a.length;r++){var o=e(a[r],2),s=o[0],l=o[1];oe.isEqual(this.initialFields[s],l)||("password"!=s||"password"==s&&this.fields.password!=Dt.a)&&(i[s]=l)}"customDisplayName"in i&&(i.displayName=this.fields.displayName),this.rootService.addLoadingPromise(this.peopleManagerService.updatePerson(i,this.personUniqueHash)).then((function(e){e.getStatus()==pe.StatusCode.OK?t._handleUpdateSuccess():t._handleUpdateError()})).catch((function(e){t.errorReporting.sendErrorReport("client Profile.component","error occurred while updating profile by updatePeople",ge.errorPriority.ALERT),t._handleUpdateError()}))}},{key:"_updateProfile",value:function(){return Object(O.a)(this,void 0,void 0,d().mark((function e(){var t,n,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.oldPasswordError="",this.newPasswordError="",this.oldPasswordFormControl.setErrors(null),this.newPasswordFormControl.setErrors(null),!this.form.pristine){e.next=2;break}return e.abrupt("return",void this.snackBar.open("There are no changes to be saved"));case 2:if(e.t0=this.fields.birthdate!=this.initialFields.birthdate,!e.t0){e.next=6;break}return e.next=6,this.rootService.addLoadingPromise(this.commitPublicBirthdate()).catch((function(e){i.isOwnProfile&&(i.publicBirthdate=!!i.currentBirthdate),console.error("update public birthdate error: ",e),i.snackBar.open("Unable to update the showing of your birthdate, please try again later.")}));case 6:if(!this.fields.password||this.oldPassword){e.next=8;break}return e.abrupt("return",(this.oldPasswordError="requiredOld",void this.oldPasswordFormControl.setErrors({requireOld:!0})));case 8:if(this.fields.password||!this.oldPassword||this.oldPassword==Dt.a){e.next=10;break}return e.abrupt("return",(this.newPasswordError="required",void this.newPasswordFormControl.setErrors({required:!0})));case 10:if(!this.formInvalid){e.next=12;break}return e.abrupt("return",void this.snackBar.open("your changes have errors, please fix and try again."));case 12:return this._uploading=!0,(t=new Rt.UpdateProfileRequest).setPersonHash(this._personHash),this.oldPassword&&this.fields.password&&(t.setNewPassword(this.fields.password),t.setOldPassword(this.oldPassword)),this.fields.displayName&&this.fields.displayName!=this.displayName&&t.setDisplayName(this.fields.displayName.trim()),this.fields.email&&this.fields.email!=this.currentEmail&&t.setNewEmail(this.fields.email.trim()),this.fields.birthdate!=this.initialFields.birthdate&&(this.fields.birthdate?((n=new jt.Date).setYear(this.fields.birthdate.getUTCFullYear()),n.setMonth(this.fields.birthdate.getUTCMonth()+1),n.setDay(this.fields.birthdate.getUTCDate()),t.setBirthdate(n)):t.setBirthdate(new jt.Date)),this.fields.phoneNumber!=this.initialFields.phoneNumber&&t.setPhoneNumber(this.fields.phoneNumber||""),e.next=18,this.rootService.addLoadingPromise(this.profileService.updateProfile(t)).then((function(e){if(e.getStatus()==pe.StatusCode.OK){var t=e.getError();t?(i.snackBar.open(t),t.toLowerCase().includes("current password")?(i.oldPasswordError="incorrect",i.oldPasswordFormControl.setErrors({incorrect:!0})):t.toLowerCase().includes("new password")&&(i.newPasswordError="cannotMatch",i.oldPasswordFormControl.setErrors({cannotMatch:!0}))):i._handleUpdateSuccess()}else{var n=e.getReason().getMessage();console.error("[Profile] error occurred while updating profile! reason: ",n),i.errorReporting.sendErrorReport("client Profile.component","error occurred while updating profile",ge.errorPriority.ALERT),i._handleUpdateError()}})).catch((function(e){console.error("[Profile] error occurred while updating profile! ",e),i._handleUpdateError()}));case 18:case"end":return e.stop()}}),e,this)})))}},{key:"_handleUpdateError",value:function(){this.snackBar.open("An error occurred while updating your profile, please try again later."),this._uploading=!1}},{key:"_handleUpdateSuccess",value:function(){this.analytics.sendProfileUpdated(),this.editing=!1,this._uploading=!1,this.snackBar.open("Changes saved!"),this.initialFields=oe.cloneDeep(this.fields),this.editingName=!1,this.editingEmail=!1,this.editingPassword=!1,this.toggleEditPassword(!1),this.handingFocusEvent=!1,this.element.nativeElement.blur(),this.form.form.markAsPristine()}},{key:"updateProfile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(O.a)(this,void 0,void 0,d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&this._preventEventBehaviors(e),!this.personFormPermissions){t.next=5;break}this._updatePersonForm(),t.next=7;break;case 5:return t.next=7,this._updateProfile();case 7:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(e){return new(e||qi)(s["\u0275\u0275directiveInject"](w.a),s["\u0275\u0275directiveInject"](ye.a),s["\u0275\u0275directiveInject"](Ut.ProfileService),s["\u0275\u0275directiveInject"](I.b),s["\u0275\u0275directiveInject"](Ce.a),s["\u0275\u0275directiveInject"](Pe.a),s["\u0275\u0275directiveInject"](M.c),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](xe.a),s["\u0275\u0275directiveInject"](Tt.a),s["\u0275\u0275directiveInject"](Ht.a),s["\u0275\u0275directiveInject"](Wt.ProfileContent),s["\u0275\u0275directiveInject"](qt.a),s["\u0275\u0275directiveInject"](w.g),s["\u0275\u0275directiveInject"](Gt.b),s["\u0275\u0275directiveInject"]($t.b),s["\u0275\u0275directiveInject"](Yt.b),s["\u0275\u0275directiveInject"](Yt.c),s["\u0275\u0275directiveInject"](Xt),s["\u0275\u0275directiveInject"](S.d),s["\u0275\u0275directiveInject"](ve.b),s["\u0275\u0275directiveInject"](en.b),s["\u0275\u0275directiveInject"](Oe.a),s["\u0275\u0275directiveInject"](ke.a),s["\u0275\u0275directiveInject"](Lt.a),s["\u0275\u0275directiveInject"](tn.a),s["\u0275\u0275directiveInject"](nn.b))},qi.\u0275cmp=s["\u0275\u0275defineComponent"]({type:qi,selectors:[["mg-profile"]],viewQuery:function(e,t){var n;1&e&&(s["\u0275\u0275viewQuery"](kn,3),s["\u0275\u0275viewQuery"](_n,3),s["\u0275\u0275viewQuery"](In,3,c.v),s["\u0275\u0275viewQuery"](Sn,3),s["\u0275\u0275viewQuery"](En,3),s["\u0275\u0275viewQuery"](Fn,3),s["\u0275\u0275viewQuery"](Nn,1)),2&e&&(s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.fileInput=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.coverImageFileInput=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.form=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.displayNameInput=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.oldPasswordInput=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.profileCardElement=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.profileLinksElement=n.first))},hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("beforeunload",(function(e){return t.onBeforeUnload(e)}),!1,s["\u0275\u0275resolveWindow"])},decls:60,vars:58,consts:[["avatarTpl",""],[1,"profile-card"],["profileCard",""],[1,"header-background"],[1,"cover-image-input"],[1,"current-cover-image"],["class","cover-image-editing-wrap",4,"ngIf"],[3,"diameter","thickness",4,"ngIf"],[1,"white-divider"],[3,"click",4,"ngIf"],["class","avatar-edit-wrap user-content mg-centered",4,"ngIf"],[1,"non-editing-container"],["class","person-name",4,"ngIf"],[4,"ngIf"],[1,"profile-details-container"],["class","grad-year-container mg-minicopy",4,"ngIf"],["class","mg-centered profile-links",3,"has-feed","has-groups","has-points",4,"ngIf"],["class","editing-photos-text",4,"ngIf"],["role","presentation",1,"profile-edit-form","mg-minicopy",3,"autocomplete","submit"],["form","ngForm"],["type","text",1,"input-hidden",3,"autocomplete","name"],["mgFormField","",3,"mgReadOnly",4,"ngIf"],["name","profileemail","placeholder","Email",3,"nohint","unique","ngModel","name","required","readOnly","save","ngModelChange"],["mgFormField",""],["type","text","matInput","","mgPhoneNumberValidator","","name","phoneInput","placeholder","Mobile Phone Number",3,"ngModel","required","ngModelChange"],["name","accountRole","mgApperance","outline",3,"required","ngModel","ngModelChange","roleName","displayNameFormat",4,"ngIf"],["minlength","4","name","displayName","alwaysDefaultValue","true",3,"firstName","lastName","statusPending","statusTouched","ngModel","custom","displayNameFormat","required","ngModelChange","customChange",4,"ngIf"],["mgFormField","","class","display-name-field",3,"mgReadOnly",4,"ngIf"],["datePlaceholder","Birthday","name","birthday",3,"canReset","disabled","utc","ngModel","maxDate","dateOnly","ngModelChange"],[3,"ngModel","editMode","name","required","ngModelChange","keypress",4,"ngIf"],[1,"save-button-container"],[1,"save-button"],["href","javascript:;",3,"click",4,"ngIf"],["class","footer-button-container",4,"ngIf"],[1,"grey-divider"],["class","archive-account-container",4,"ngIf"],[3,"personHash","emptyStreamString",4,"ngIf"],["class","feed-items",4,"ngIf"],["emptyGroupFeed",""],["emptyBadgeFeed",""],[3,"color","src"],[1,"cover-image-editing-wrap"],["mgIconCompact","",3,"customTitleText","multiple","ngModel","ngModelChange"],["coverImageFileInput",""],[3,"previewSize","previewPaddingBottom","file","formControl",4,"ngIf"],[3,"previewSize","previewPaddingBottom","file","formControl"],[3,"diameter","thickness"],[3,"click"],[1,"avatar-edit-wrap","user-content","mg-centered"],[4,"ngTemplateOutlet"],[1,"person-name"],["class","person-displayname",4,"ngIf"],["class","mg-minicopy person-role",4,"ngIf"],[1,"mg-minicopy","person-team-names"],[1,"person-displayname"],[1,"mg-minicopy","person-role"],[1,"grad-year-container","mg-minicopy"],[1,"mg-centered","profile-links"],["profileLinksElement",""],["class","profile-link","matRipple","",3,"selected","click",4,"ngIf"],["matRipple","",1,"profile-link","badges",3,"click"],["icon","badges"],["matRipple","",1,"profile-link",3,"click"],[1,"trophy-icon"],["icon","points-star1"],["icon","group"],["fxLayout","row","fxLayoutAlign","center center"],[1,"id-container",3,"click"],["class","id-image",4,"ngIf"],["class","id-image filled",4,"ngIf"],[1,"id-change-image"],[1,"id-image"],[1,"id-image","filled"],[3,"src"],[1,"editing-photos-text"],["name","firstname",3,"ngModel","required","ngModelChange"],["firstname","ngModel"],["name","lastname",3,"ngModel","required","ngModelChange"],["lastname","ngModel"],["mgFormField","",3,"mgReadOnly"],["type","text","matInput","","name","nameInput","placeholder","Name","readonly","","required","",3,"ngModel"],["name","accountRole","mgApperance","outline",3,"required","ngModel","ngModelChange","roleName","displayNameFormat"],["type","text","matInput","","name","roleName","placeholder","Role","readonly","","required","",3,"ngModel"],["minlength","4","name","displayName","alwaysDefaultValue","true",3,"firstName","lastName","statusPending","statusTouched","ngModel","custom","displayNameFormat","required","ngModelChange","customChange"],["mgFormField","",1,"display-name-field",3,"mgReadOnly"],["matInput","","placeholder","Display Name","minlength","4","maxlength","16","required","",3,"name","ngModel","pattern","autocomplete","readonly","ngModelChange","keydown"],["displayNameInput","ngModel"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["name","grade","placeholder","Grade",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","editMode","name","required","ngModelChange","keypress"],["password","ngModel"],["mgFormField","",1,"password-old-field"],["type","text","matSuffix","","class","input-action mg-minicopy",3,"click",4,"ngIf"],["matInput","","placeholder","Current Password","autocorrect","off",3,"name","autocomplete","type","required","ngModel","formControl","focus","keydown","ngModelChange"],["oldPasswordInput",""],["class","input-icon","matSuffix","",4,"ngIf"],["mgFormField","","class","password-new-field",3,"expand-for-error",4,"ngIf"],["type","text","matSuffix","",1,"input-action","mg-minicopy",3,"click"],["matSuffix","",1,"input-icon"],[1,"clickable",3,"mousedown"],["mgFormField","",1,"password-new-field"],["matInput","","placeholder","New Password","autocorrect","off",3,"type","name","autocomplete","required","ngModel","formControl","keydown","ngModelChange"],["href","javascript:;",3,"click"],[1,"footer-button-container"],["type","text",1,"mg-minicopy",3,"click"],["type","outline",1,"mg-minicopy",3,"disabled","click"],[1,"archive-account-container"],[1,"archive-account-title"],[3,"personHash","emptyStreamString"],[1,"feed-items"],["mgStreamControl","profileContent","rpcStream","search","rpcControl","searchControl",3,"filter","service"],["mgStreamItem",""],["mg-stream-empty","",3,"title"],["streamName","profileContent",3,"text"],["display","miniCard",3,"context","content"],[4,"ngIf","ngIfElse"],[3,"groups"],["class","badges-list",4,"ngIf","ngIfElse"],[1,"badges-list"],[4,"ngFor","ngForOf"],[3,"badge"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,Bn,2,4,"ng-template",null,0,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementStart"](2,"div",1,2),s["\u0275\u0275elementStart"](4,"div",3),s["\u0275\u0275elementStart"](5,"div",4),s["\u0275\u0275element"](6,"div",5),s["\u0275\u0275template"](7,Tn,4,4,"div",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](8,jn,1,2,"mg-spinner",7),s["\u0275\u0275element"](9,"div",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](10,Rn,1,0,"mg-ellipsis",9),s["\u0275\u0275template"](11,Vn,2,1,"div",10),s["\u0275\u0275elementStart"](12,"div",11),s["\u0275\u0275template"](13,An,3,3,"p",12),s["\u0275\u0275template"](14,Wn,5,3,"ng-container",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",14),s["\u0275\u0275template"](16,qn,4,6,"div",15),s["\u0275\u0275template"](17,Qn,12,19,"div",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](18,Zn,10,8,"ng-container",13),s["\u0275\u0275pipe"](19,"async"),s["\u0275\u0275template"](20,Xn,3,3,"p",17),s["\u0275\u0275elementStart"](21,"form",18,19),s["\u0275\u0275listener"]("submit",(function(e){return t.updateProfile(e)})),s["\u0275\u0275element"](23,"input",20),s["\u0275\u0275template"](24,ei,5,4,"ng-container",13),s["\u0275\u0275template"](25,ti,4,2,"mat-form-field",21),s["\u0275\u0275elementStart"](26,"mg-email",22),s["\u0275\u0275listener"]("save",(function(e){return t.updateProfile(e)}))("ngModelChange",(function(e){return t.fields.email=e})),s["\u0275\u0275pipe"](27,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"mat-form-field",23),s["\u0275\u0275elementStart"](29,"mat-label"),s["\u0275\u0275text"](30,"Phone Number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"input",24),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.phoneNumber=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"mat-error"),s["\u0275\u0275elementContainerStart"](33),s["\u0275\u0275elementStart"](34,"span"),s["\u0275\u0275text"](35),s["\u0275\u0275pipe"](36,"translate"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](37,ni,1,2,"mg-role-select",25),s["\u0275\u0275template"](38,ii,4,2,"mat-form-field",21),s["\u0275\u0275template"](39,ri,1,8,"mg-display-name",26),s["\u0275\u0275template"](40,di,6,7,"mat-form-field",27),s["\u0275\u0275template"](41,pi,6,5,"mat-form-field",21),s["\u0275\u0275elementStart"](42,"mg-date-time-picker",28),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.fields.birthdate=e}))("ngModelChange",(function(e){return t.birthdateChanged(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](43,gi,2,4,"mg-password",29),s["\u0275\u0275template"](44,Fi,10,10,"ng-container",13),s["\u0275\u0275elementStart"](45,"div",30),s["\u0275\u0275elementStart"](46,"div",31),s["\u0275\u0275template"](47,Ni,2,0,"a",32),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](48,Bi,5,1,"div",33),s["\u0275\u0275element"](49,"div",34),s["\u0275\u0275template"](50,Di,5,0,"div",35),s["\u0275\u0275pipe"](51,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](52,Ti,1,2,"mg-profile-points",36),s["\u0275\u0275template"](53,Ri,4,3,"div",37),s["\u0275\u0275template"](54,Li,3,4,"ng-container",13),s["\u0275\u0275template"](55,Vi,1,1,"ng-template",null,38,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](57,Hi,3,4,"ng-container",13),s["\u0275\u0275template"](58,Wi,1,1,"ng-template",null,39,s["\u0275\u0275templateRefExtractor"])),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275classProp"]("editing",t.editing),s["\u0275\u0275advance"](2),s["\u0275\u0275styleProp"]("background-image","url("+t.coverImageUrl+")"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.editing),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t._loadingCoverImage),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.isOwnProfile||t.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.person),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.fullName),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.editing),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!t.editing&&t.fields.grade),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.editing),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](19,50,t.editing&&t.canChangeIDPicture$)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.editing),s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("show",t.editing&&t.person),s["\u0275\u0275property"]("autocomplete","profile-form-off-"+t.currentTime),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("autocomplete","hidden-input-off-"+t.currentTime)("name","profilehidden-"+t.currentTime),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("nohint",!0)("unique",t.currentEmail)("ngModel",t.fields.email)("name","profile-email-off-"+t.currentTime)("required",!0)("readOnly",!s["\u0275\u0275pipeBind1"](27,52,t.canChangeEmail$)),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.fields.phoneNumber)("required",!1),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](36,54,"input.phone.error.format")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.fields.grade||t.personFormPermissions&&t.showGradeField),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("canReset",!0)("disabled",t.savingBirthdate)("utc",!0)("ngModel",t.fields.birthdate)("maxDate",t.currentDate)("dateOnly",!0),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.personFormPermissions),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.personFormPermissions),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",!t.newPassword),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.editing),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](51,56,t.canUserDeleteAccount$)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!t.editing&&"POINTS"===t.currentDisplayTab&&t._personHash),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.editing&&"FEED"===t.currentDisplayTab),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.editing&&"GROUPS"===t.currentDisplayTab),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",!t.editing&&"BADGES"===t.currentDisplayTab))},directives:[o.o,c.E,c.u,c.v,rn.a,c.t,c.w,c.B,f.d,De.a,f.h,y.b,c.d,an.a,f.c,on.a,_e.a,Ee.a,Fe.a,c.i,Ne.a,Se.a,o.t,Ie.a,sn.e,sn.d,ln.a,cn.a,dn.a,un.a,c.o,c.n,c.z,o.q,o.r,o.s,D.a,o.n,m.m,pn.b,je.a,f.j,v.a,gn.a,mn.a,hn.a,fn.a,vn.a,yn.a,Cn.a,Pn.a,On],pipes:[o.b,b.d,o.y],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");[_nghost-%COMP%]{display:block;--feed-item-margin-side:16px}@media (min-width:600px){[_nghost-%COMP%]{--feed-item-margin-side:0}}.ios-long[_nghost-%COMP%]{min-height:100vh;width:100%}@media (min-width:600px){.ios-long[_nghost-%COMP%]{min-height:120vh}.ios-long[_nghost-%COMP%]   .profile-card[_ngcontent-%COMP%]{width:calc(100% - 2 * (var(--feed-item-margin-side, 16px)))!important}}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#93f;text-decoration:none;font-size:14px}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.75}[_nghost-%COMP%]   .non-editing-name[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .non-editing-name[_ngcontent-%COMP%]     .mat-input-wrapper{padding-bottom:0}[_nghost-%COMP%]   .non-editing-name[_ngcontent-%COMP%]     .mat-input-wrapper .mat-input-underline{background-color:initial}[_nghost-%COMP%]   .student-info-container[_ngcontent-%COMP%]{color:#737373;text-align:center;margin-top:1em}[_nghost-%COMP%]   .student-info-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:last-child):after{content:" | "}[_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .input-actions.disabled[_ngcontent-%COMP%], [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   .input-action.disabled[_ngcontent-%COMP%]{color:#d1d1d1}[_nghost-%COMP%]   .input-actions.disabled[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   .input-action.disabled[_ngcontent-%COMP%]:hover{cursor:not-allowed}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-left:1.5em}[_nghost-%COMP%]   .input-action[_ngcontent-%COMP%]:hover{cursor:pointer;color:#93f}[_nghost-%COMP%]   .input-action.icon[_ngcontent-%COMP%]     mg-button{--mg-icon-size:12px;font-size:0}[_nghost-%COMP%]   .non-input-text[_ngcontent-%COMP%]{margin:0;color:#737373;text-align:center}[_nghost-%COMP%]   .profile-edit-form[_ngcontent-%COMP%]{color:#737373}.input-hidden[_ngcontent-%COMP%]{display:none}mg-profile-points[_ngcontent-%COMP%]{display:block;margin:0 var(--feed-item-margin-side,16px) 200px var(--feed-item-margin-side,16px)}.profile-card[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]{display:block;overflow:hidden;border-radius:8px;background-color:#fff;box-shadow:0 0 6px rgba(0,0,0,.15);margin:12px var(--feed-item-margin-side,16px) var(--feed-item-margin-top,4px) var(--feed-item-margin-side,16px);text-align:left;max-width:510px;position:relative;margin-bottom:24px;padding:0;min-width:289px}@media (min-width:600px){.profile-card[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]{margin-top:28px;margin-left:0;min-width:510px}}@media (min-width:960px){.profile-card[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]{min-width:289px}}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]{height:222px;box-sizing:border-box;width:100%;background-color:#036;z-index:0;position:absolute}.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]{cursor:pointer}.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{z-index:2}.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   .cover-image-input[_ngcontent-%COMP%]:before, .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]   .cover-image-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.15)}@media (hover:hover){.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]:hover   .cover-image-input[_ngcontent-%COMP%]:before, .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]:hover   .cover-image-input[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.35)}.profile-card[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]:hover   mg-file-input[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background.editing[_ngcontent-%COMP%]:hover   mg-file-input[_ngcontent-%COMP%]{z-index:2}}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .white-divider[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .white-divider[_ngcontent-%COMP%]{position:absolute;bottom:-28px;left:0;right:0;background-color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:10px;height:40px}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .white-divider[_ngcontent-%COMP%]:after, .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .white-divider[_ngcontent-%COMP%]:after{background-color:#fff;height:30px;content:"";position:absolute;bottom:-20px;left:-20px;right:-20px}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{text-align:left;--mg-file-input-drop-info-padding:18px 18px 18px 10%;--mg-file-input-icon-margin:auto auto 15px 6%;--mg-file-input-drop-area-padding-top:12%}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .current-cover-image[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .current-cover-image[_ngcontent-%COMP%]{height:222px;background-size:cover;background-position:50%}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .cover-image-editing-wrap[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .cover-image-editing-wrap[_ngcontent-%COMP%]   mg-file-upload[_ngcontent-%COMP%]{position:absolute;top:0;pointer-events:none;z-index:1;overflow:hidden}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .cover-image-editing-wrap[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   .cover-image-editing-wrap[_ngcontent-%COMP%]   mg-file-input[_ngcontent-%COMP%]{position:absolute;z-index:0;left:0;right:0;top:50%;transform:translateY(-50%)}.profile-card[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   .header-background[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:50%;z-index:3;bottom:0;left:0;right:0;margin:0;transform:translateY(-50%)}.profile-card[_ngcontent-%COMP%]   mg-ellipsis[_ngcontent-%COMP%], .profile-edit-form[_ngcontent-%COMP%]   mg-ellipsis[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}.editing-photos-text[_ngcontent-%COMP%]{color:#888;font-size:15px;margin:19px auto 30px 1.1764705882rem;text-align:left}.non-editing-container[_ngcontent-%COMP%]{text-align:center}.non-editing-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:.2em 0}.grad-year-container[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#036;padding:6px}.person-name[_ngcontent-%COMP%]{font-size:14px;font-weight:800;color:#243b75;line-height:1.9}.person-displayname[_ngcontent-%COMP%]{color:#2f2f2f}.person-role[_ngcontent-%COMP%], .person-team-names[_ngcontent-%COMP%]{color:#737373}.profile-details-container[_ngcontent-%COMP%]{margin-top:2em}.profile-links[_ngcontent-%COMP%]{display:flex;flex-basis:100%}.profile-links[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;box-sizing:border-box;font-size:15px;padding:12px 2px;flex-basis:100%;flex-shrink:0;cursor:pointer}.profile-links[_ngcontent-%COMP%]   .profile-link.badges[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.profile-links[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]   .trophy-icon[_ngcontent-%COMP%]{background-image:url(/assets/points/trophys_Points-2.svg);background-repeat:no-repeat;background-size:contain;height:38px;width:35px}.profile-links[_ngcontent-%COMP%]   .profile-link.selected[_ngcontent-%COMP%]{background-color:#e2e2e2;border-top:5px solid #745b9f}.profile-links.has-groups[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%], .profile-links.has-points[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{flex-basis:calc(100% / 2)}.profile-links.has-feed.has-groups[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%], .profile-links.has-feed.has-points[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%], .profile-links.has-groups.has-points[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{flex-basis:calc(100% / 3)}.profile-links.has-feed.has-points.has-groups[_ngcontent-%COMP%]   .profile-link[_ngcontent-%COMP%]{flex-basis:calc(100% / 4)}.avatar-edit-wrap[_ngcontent-%COMP%]{margin:140px 8px 4px}@media (orientation:landscape){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:.0266666667vh}}@media (orientation:portrait){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:.0266666667vw}}@media (orientation:landscape) and (max-height:375px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:.1px}}@media (orientation:portrait) and (max-width:375px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:.1px}}@media (min-width:30000px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-right:8px}}@media (orientation:landscape){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:.0266666667vh}}@media (orientation:portrait){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:.0266666667vw}}@media (orientation:landscape) and (max-height:375px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:.1px}}@media (orientation:portrait) and (max-width:375px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:.1px}}@media (min-width:30000px){.avatar-edit-wrap[_ngcontent-%COMP%]{margin-left:8px}}.avatar-edit-wrap[_ngcontent-%COMP%]   mg-spinner[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;z-index:3;bottom:0;left:0;right:0;margin:0}mg-avatar-picker[_ngcontent-%COMP%]{--mg-file-input-icon-margin:0;--mg-avatar-picker-item-padding:0;--mg-avatar-picker-swipe-container-width:85%;--mg-file-input-drop-area-padding-bottom:40%;--mg-icon-size:30px;font-weight:700;padding-top:42px}@media (min-width:599px){mg-avatar-picker[_ngcontent-%COMP%]{padding-top:22px}}.current-display-name[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;margin-top:0;margin-bottom:1.8em}@media (orientation:landscape){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vh}}@media (orientation:portrait){.current-display-name[_ngcontent-%COMP%]{font-size:4.5449275362vw}}@media (orientation:landscape) and (max-height:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (orientation:portrait) and (max-width:414px){.current-display-name[_ngcontent-%COMP%]{font-size:18.816px}}@media (min-width:439.875px){.current-display-name[_ngcontent-%COMP%]{font-size:19.992px}}mg-avatar[_ngcontent-%COMP%]{--mg-avatar-size:95px;--mg-avatar-border-radius:8%;--mg-avatar-border-width:0;--mg-avatar-box-shadow:0 0 10px rgba(0,0,0,0.65);margin-top:20px}.save-button[_ngcontent-%COMP%]{display:block;text-align:center}.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{font-size:13px}}.save-button[_ngcontent-%COMP%]{text-align:left}.save-button[_ngcontent-%COMP%] > mg-button-outline[_ngcontent-%COMP%]{white-space:nowrap;visibility:hidden;pointer-events:none}.save-button[_ngcontent-%COMP%] > mg-button-outline.show[_ngcontent-%COMP%]{display:inline-block;visibility:visible;pointer-events:all}.save-button-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;margin-bottom:1em}.grey-divider[_ngcontent-%COMP%]{border-top:2px solid #e2e2e2;margin:35px 0 25px}.archive-account-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:8px;cursor:pointer}.archive-account-title[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.archive-account-title[_ngcontent-%COMP%]{font-size:3.0917874396vh}}@media (orientation:portrait){.archive-account-title[_ngcontent-%COMP%]{font-size:3.0917874396vw}}@media (orientation:landscape) and (max-height:414px){.archive-account-title[_ngcontent-%COMP%]{font-size:12.8px}}@media (orientation:portrait) and (max-width:414px){.archive-account-title[_ngcontent-%COMP%]{font-size:12.8px}}@media (min-width:439.875px){.archive-account-title[_ngcontent-%COMP%]{font-size:13.6px}}.profile-footer-links[_ngcontent-%COMP%]{padding-top:50px;font-size:14px;max-width:510px}@media (orientation:landscape){.profile-footer-links[_ngcontent-%COMP%]{padding-top:4.375vh}}@media (orientation:portrait){.profile-footer-links[_ngcontent-%COMP%]{padding-top:4.375vw}}@media (orientation:landscape) and (max-height:320px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:14px}}@media (orientation:portrait) and (max-width:320px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:14px}}@media (min-width:1142.8571428571px){.profile-footer-links[_ngcontent-%COMP%]{padding-top:50px}}.profile-edit-form[_ngcontent-%COMP%]{display:none;padding:40px 30px;margin-bottom:200px}.profile-edit-form.show[_ngcontent-%COMP%]{display:block}.show-public-wrap[_ngcontent-%COMP%]{transform:translateY(-8px);margin-top:.25em;font-family:Muli,sans-serif;line-height:1.35}@media (orientation:landscape){.show-public-wrap[_ngcontent-%COMP%]{font-size:3.0917874396vh}}@media (orientation:portrait){.show-public-wrap[_ngcontent-%COMP%]{font-size:3.0917874396vw}}@media (orientation:landscape) and (max-height:414px){.show-public-wrap[_ngcontent-%COMP%]{font-size:12.8px}}@media (orientation:portrait) and (max-width:414px){.show-public-wrap[_ngcontent-%COMP%]{font-size:12.8px}}@media (min-width:439.875px){.show-public-wrap[_ngcontent-%COMP%]{font-size:13.6px}}.show-public-wrap[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-left:8px}mg-date-time-picker[_ngcontent-%COMP%]{display:block}.feed-items[_ngcontent-%COMP%]{margin-bottom:50px}.badges-list[_ngcontent-%COMP%]{margin-bottom:200px}.badges-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-top:var(--feed-item-margin-vert,4px);padding-bottom:var(--feed-item-margin-vert,4px)}.id-container[_ngcontent-%COMP%]{position:relative}.id-image[_ngcontent-%COMP%]{height:155px}.id-image[_ngcontent-%COMP%]:not(.filled){width:155px;background-size:100%;background-repeat:no-repeat;background-image:url(/assets/student-id/placeholder-profile-pic.png);background-position:50%;border-radius:.4rem}@media print,screen and (max-width:59.99875em){.id-image[_ngcontent-%COMP%]:not(.filled){background-size:100%}}.id-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;image-orientation:from-image;border-radius:.4rem}.id-change-image[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.35);opacity:0;cursor:pointer;transition:opacity .3s ease-in-out;font-size:12px;color:#fff;text-align:center;border-radius:.4rem}.id-change-image[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:auto}.id-change-image[_ngcontent-%COMP%]:hover{opacity:1}']}),qi),Ji=r("yp3o"),Zi=r("NG9B"),Xi=r("qsjj"),er=r("n09W"),tr=r("KRyY"),nr=r("/2l8"),ir=r("m9yI"),rr=r("SOT1"),ar=r("5uzz"),or=r("26Ds"),sr=r("ugqS"),lr=((Gi=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||Gi)},Gi.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Gi}),Gi.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[sr.a,re.b,o.c]]}),Gi),cr=r("WsNZ"),dr=r("kWWr"),ur=r("c+LB"),pr=r("ojOe"),gr=(($i=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||$i)},$i.\u0275mod=s["\u0275\u0275defineNgModule"]({type:$i}),$i.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[ar.a,ir.b,Q.a,ae.a,er.a,ne.a,rr.a,j.a,ie.a,Dt.b,or.a,dr.a,Xi.a,tr.a,nr.a,K.c,J.b,M.b,le.a,pr.a,cr.a,Zi.a,lr,Ji.b,ur.a,o.c,c.m,c.A,b.c,f.f,P.b,D.b,v.b,y.c,l.a]]}),$i),mr=[{path:"events",pathMatch:"full",redirectTo:"events/calendar"},{path:"events",component:q,canActivate:[B.a],children:[{path:"calendar",pathMatch:"full",component:$.a},{path:"schedule",component:Y.a},{path:"schedule/:quickFilter",component:Y.a}]},{path:"notifications",component:It.a,canActivate:[B.a],data:{title:"View Notifications"}},{path:"minga-profile",component:_t,canActivate:[B.a],data:{title:"Minga Profile"}},{path:"minga-files",component:N,canActivate:[B.a],data:{title:"Minga Files"}},{path:"user-preferences",data:{title:"User Preferences"},canActivate:[B.a],loadChildren:function(){return Promise.all([r.e(0),r.e(83)]).then(r.bind(null,"Gk8+")).then((function(e){return e.UserPreferencesRoutesModule}))}},{path:"profile",component:Ki,canActivate:[B.a],data:{title:"My Profile"}},{path:"profile/:personHash",component:Ki,canActivate:[B.a],data:{title:"Profile"}}],hr=((Yi=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||Yi)},Yi.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Yi}),Yi.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[G,Y.b,$.b,It.b,gr,M.b,b.c.forChild(),w.k.forChild(mr),o.c,c.m,c.A,p.b,P.b,C.b,l.a,x.g,h.b,v.b,f.f,y.c,m.r]]}),Yi)},qsjj:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("SVse"),r=n("8Y7J"),a=n("s7LF"),o=n("pMoy"),s=n("Q2Ze"),l=n("e6WT"),c=n("TSSN"),d=n("HxU+"),p=n("7Tcv");n("85oS");var m,h=((m=g((function e(){u(this,e)}))).\u0275fac=function(e){return new(e||m)},m.\u0275mod=r["\u0275\u0275defineNgModule"]({type:m}),m.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[d.a,p.a,i.c,a.m,s.f,l.c,o.b,c.c]]}),m)},qwsH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileContent=void 0,n("8Y7J");var i=n("qCKp"),r=n("+6wJ"),a=n("ACkK"),o=n("8Y7J"),s=function(){function e(t){u(this,e),this._ngZone=t}return g(e,[{key:"search",value:function(e,t,n,o,s){var l,c,d,u,p,g=this;if("function"==typeof t?(d=t,u=n,p=o):"function"==typeof n?(c=t,d=n,u=o,p=s):c=t,d)u||(u=function(e){return console.error(e)}),p||(p=function(e,t,n){});else{var m=new i.Subject;l=m.asObservable(),d=function(e){m.next(e)},u=function(e){m.error(e)},p=function(e,t,n){m.complete()}}var h=r.grpc.invoke(a.ProfileContent.Search,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:c,onMessage:function(e){return g._ngZone.run((function(){d(e)}))},onEnd:function(e,t,n){return g._ngZone.run((function(){if(e==r.grpc.Code.OK)p(e,t,n);else{var i=new Error(e+" "+(t||""));i.code=e,u(i)}}))}});return l.close=function(){return console.warn("[Angular Grpc] .close() is deprecated use .cancel() instead"),h.close()},l.cancel=function(){return h.close()},l}},{key:"searchControl",value:function(e,t,n){var i,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(i=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,d=r.grpc.invoke(a.ProfileContent.SearchControl,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new r.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=r.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return i.cancel=function(){return d.close()},i}}]),e}();t.ProfileContent=s,s.\u0275fac=function(e){return new(e||s)(o.\u0275\u0275inject(o.NgZone))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})},tJrb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetPersonBadgesResponse=t.GetPersonBadgesRequest=t.Badge=void 0;var i=n("hRO2"),a=n("Lvrm"),s=n("jlhD"),c=function(e){r(n,e);var t=o(n);function n(e){var r;return u(this,n),r=t.call(this),i.Message.initialize(l(r),e,0,-1,n.repeatedFields_,n.oneofGroups_),r}return g(n,[{key:"getImageCase",value:function(){return i.Message.computeOneofCase(this,n.oneofGroups_[0])}},{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getId",value:function(){return i.Message.getFieldWithDefault(this,1,0)}},{key:"setId",value:function(e){i.Message.setProto3IntField(this,1,e)}},{key:"getName",value:function(){return i.Message.getFieldWithDefault(this,2,"")}},{key:"setName",value:function(e){i.Message.setProto3StringField(this,2,e)}},{key:"getDescription",value:function(){return i.Message.getFieldWithDefault(this,3,"")}},{key:"setDescription",value:function(e){i.Message.setProto3StringField(this,3,e)}},{key:"getAsset",value:function(){return i.Message.getWrapperField(this,s.ImageInfo,4)}},{key:"setAsset",value:function(e){i.Message.setOneofWrapperField(this,4,n.oneofGroups_[0],e)}},{key:"clearAsset",value:function(){this.setAsset(void 0)}},{key:"hasAsset",value:function(){return null!=i.Message.getField(this,4)}},{key:"getBanner",value:function(){return i.Message.getWrapperField(this,s.ImageInfo,5)}},{key:"setBanner",value:function(e){i.Message.setOneofWrapperField(this,5,n.oneofGroups_[0],e)}},{key:"clearBanner",value:function(){this.setBanner(void 0)}},{key:"hasBanner",value:function(){return null!=i.Message.getField(this,5)}},{key:"getDate",value:function(){return i.Message.getWrapperField(this,a.DateTime,6)}},{key:"setDate",value:function(e){i.Message.setWrapperField(this,6,e)}},{key:"clearDate",value:function(){this.setDate(void 0)}},{key:"hasDate",value:function(){return null!=i.Message.getField(this,6)}},{key:"getContentContextHashList",value:function(){return i.Message.getRepeatedField(this,20)}},{key:"setContentContextHashList",value:function(e){i.Message.setField(this,20,e||[])}},{key:"addContentContextHash",value:function(e,t){i.Message.addToRepeatedField(this,20,e,t)}},{key:"clearContentContextHashList",value:function(){this.setContentContextHashList([])}}],[{key:"toObject",value:function(e,t){var n,r={id:i.Message.getFieldWithDefault(t,1,0),name:i.Message.getFieldWithDefault(t,2,""),description:i.Message.getFieldWithDefault(t,3,""),asset:(n=t.getAsset())&&s.ImageInfo.toObject(e,n),banner:(n=t.getBanner())&&s.ImageInfo.toObject(e,n),date:(n=t.getDate())&&a.DateTime.toObject(e,n),contentContextHashList:null==(n=i.Message.getRepeatedField(t,20))?void 0:n};return e&&(r.$jspbMessageInstance=t),r}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),r=new n;return n.deserializeBinaryFromReader(r,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setId(n);break;case 2:var i=t.readString();e.setName(i);break;case 3:var r=t.readString();e.setDescription(r);break;case 4:var o=new s.ImageInfo;t.readMessage(o,s.ImageInfo.deserializeBinaryFromReader),e.setAsset(o);break;case 5:var l=new s.ImageInfo;t.readMessage(l,s.ImageInfo.deserializeBinaryFromReader),e.setBanner(l);break;case 6:var c=new a.DateTime;t.readMessage(c,a.DateTime.deserializeBinaryFromReader),e.setDate(c);break;case 20:var d=t.readString();e.addContentContextHash(d);break;default:t.skipField()}return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n=void 0;0!==(n=e.getId())&&t.writeInt32(1,n),(n=e.getName()).length>0&&t.writeString(2,n),(n=e.getDescription()).length>0&&t.writeString(3,n),null!=(n=e.getAsset())&&t.writeMessage(4,n,s.ImageInfo.serializeBinaryToWriter),null!=(n=e.getBanner())&&t.writeMessage(5,n,s.ImageInfo.serializeBinaryToWriter),null!=(n=e.getDate())&&t.writeMessage(6,n,a.DateTime.serializeBinaryToWriter),(n=e.getContentContextHashList()).length>0&&t.writeRepeatedString(20,n)}}]),n}(i.Message);t.Badge=c,c.displayName="Badge",c.repeatedFields_=[20],c.oneofGroups_=[[4,5]],function(e){!function(e){e[e.IMAGE_NOT_SET=0]="IMAGE_NOT_SET",e[e.ASSET=4]="ASSET",e[e.BANNER=5]="BANNER"}(e.ImageCase||(e.ImageCase={}))}(c=t.Badge||(t.Badge={}));var d=function(e){r(n,e);var t=o(n);function n(e){var r;return u(this,n),r=t.call(this),i.Message.initialize(l(r),e,0,-1,null,null),r}return g(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getPersonHash",value:function(){return i.Message.getFieldWithDefault(this,1,"")}},{key:"setPersonHash",value:function(e){i.Message.setProto3StringField(this,1,e)}}],[{key:"toObject",value:function(e,t){var n={personHash:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),r=new n;return n.deserializeBinaryFromReader(r,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setPersonHash(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getPersonHash()).length>0&&t.writeString(1,n)}}]),n}(i.Message);t.GetPersonBadgesRequest=d,d.displayName="GetPersonBadgesRequest";var p=function(e){r(n,e);var t=o(n);function n(e){var r;return u(this,n),r=t.call(this),i.Message.initialize(l(r),e,0,-1,n.repeatedFields_,null),r}return g(n,[{key:"toObject",value:function(e){return n.toObject(e||!1,this)}},{key:"serializeBinary",value:function(){var e=new i.BinaryWriter;return n.serializeBinaryToWriter(this,e),e.getResultBuffer()}},{key:"getBadgeList",value:function(){return i.Message.getRepeatedWrapperField(this,c,1)}},{key:"setBadgeList",value:function(e){i.Message.setRepeatedWrapperField(this,1,e)}},{key:"addBadge",value:function(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,c,t)}},{key:"clearBadgeList",value:function(){this.setBadgeList([])}}],[{key:"toObject",value:function(e,t){var n={badgeList:i.Message.toObjectList(t.getBadgeList(),c.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}},{key:"deserializeBinary",value:function(e){var t=new i.BinaryReader(e),r=new n;return n.deserializeBinaryFromReader(r,t)}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=new c;t.readMessage(n,c.deserializeBinaryFromReader),e.addBadge(n)}else t.skipField();return e}},{key:"serializeBinaryToWriter",value:function(e,t){var n;(n=e.getBadgeList()).length>0&&t.writeRepeatedMessage(1,n,c.serializeBinaryToWriter)}}]),n}(i.Message);t.GetPersonBadgesResponse=p,p.displayName="GetPersonBadgesResponse",p.repeatedFields_=[1]},vnsL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BadgeCollection=void 0,n("8Y7J");var i=n("+6wJ"),r=n("obdK"),a=n("8Y7J"),o=function(){function e(t){u(this,e),this._ngZone=t}return g(e,[{key:"getPersonBadges",value:function(e,t,n){var a,o,s,l=this;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((function(e,t){o=function(n,i){n?t(n):e(i)}})));var c=null,d=i.grpc.invoke(r.BadgeCollection.GetPersonBadges,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:function(e){return c=e},onMessage:function(e){return l._ngZone.run((function(){o(null,e,c||new i.grpc.Metadata)}))},onEnd:function(e,t,n){return l._ngZone.run((function(){if(e!=i.grpc.Code.OK){var n=new Error(t);n.code=e,o(n)}}))}});return a.cancel=function(){return d.close()},a}}]),e}();t.BadgeCollection=o,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.NgZone))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}}])}();
//# sourceMappingURL=minga-app-src-app-routes-home-HomeRoutes-module-es5.js.map