!function(){function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return e};var e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(D){s=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof h?e:h,a=Object.create(r.prototype),c=new P(i||[]);return o(a,"_invoke",{value:O(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=u;var p={};function h(){}function g(){}function m(){}var f={};s(f,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(b([])));y&&y!==n&&i.call(y,a)&&(f=y);var x=m.prototype=h.prototype=Object.create(f);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){var n;o(this,"_invoke",{value:function(o,r){function a(){return new e((function(n,a){!function n(o,r,a,c){var l=d(t[o],t,r);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(u).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(l.arg)}(o,r,n,a)}))}return n=n?n.then(a,a):a()}})}function O(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return _()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var c=F(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function F(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,F(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function b(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return g.prototype=m,o(x,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=s(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(C.prototype),s(C.prototype,c,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var a=new C(u(t,n,i,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),s(x,l,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=b,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),l=i.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:b(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?r:String(r)),i)}var o,r}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{GVla:function(n,o,r){"use strict";r.d(o,"b",(function(){return U})),r.d(o,"a",(function(){return V}));var a=r("mrSG"),c=r("8Y7J"),l=r("s7LF"),s=r("Ggka"),u=r("yPf/"),d=r("QPZY"),p=r("mI3D"),h=r("SVse"),g=r("GFah"),m=r("k/kw"),f=r("UWMR"),v=r("IPaV"),y=r("YgQ7"),x=r("SYVq"),k=r("Q2Ze"),C=r("i1AJ"),O=r("e6WT"),F=r("Fudl"),w=r("UhP/"),M=r("pzvA"),P=r("Hp2Z"),b=r("cRkC"),_=r("TSSN"),D=["linkForm"],S=["successOverlayTemplate"];function E(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkUrl.error.maxlength")," "))}function I(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkUrl.error.pattern")," "))}function L(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkUrl.error.required")," "))}function B(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkTitle.error.maxlength")," "))}function j(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkTitle.error.pattern")," "))}function N(t,e){1&t&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&t&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"input.mingaLinkTitle.error.required")," "))}function R(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button-icon",26),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var t=e.$implicit;return c["\u0275\u0275nextContext"]().setIcon(t)})),c["\u0275\u0275elementEnd"]()}if(2&t){var i=e.$implicit,o=c["\u0275\u0275nextContext"]();c["\u0275\u0275styleProp"]("color",o.linkIcons[i].color),c["\u0275\u0275classProp"]("active",i==o.icon)("social-link",!!o.linkIcons[i].color),c["\u0275\u0275property"]("icon",i)}}function T(t,e){if(1&t){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mg-button-outline",27),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().deleteButtonClick()})),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}2&t&&(c["\u0275\u0275property"]("color","warn"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"button.delete")," "))}function A(t,e){if(1&t&&(c["\u0275\u0275elementStart"](0,"div",28),c["\u0275\u0275elementStart"](1,"div",29),c["\u0275\u0275element"](2,"mg-success-checkmark"),c["\u0275\u0275elementStart"](3,"div",30),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&t){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate2"](" ",n.title," link ",n.editing?"updated":"saved","! ")}}var G={"link2-o":{},"food-icon-o":{},"weblink2-o":{},"map-o":{},"apps-o":{},"resources-o":{},"group2-o":{},"school-o":{},"schedule-o":{},"directory-o":{},"grades-o":{},"city-o":{},"sports-icon-o":{},"student-o":{},"news-o":{},"documents-o":{},facebook:{},instagram:{},twitter:{},youtube:{}},U=[{icon:"facebook",name:"Facebook",pattern:/(faceboo[k\u212A](?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])com|fb(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])me)/i,color:"#3b5998"},{icon:"instagram",name:"Instagram",pattern:/(in[s\u017F]tagram(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])com)/i,color:"#d93175"},{icon:"twitter",name:"Twitter",pattern:/(twitter(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])com|t(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])co)/i,color:"#1da1f2"},{icon:"youtube",name:"Youtube",pattern:/(youtube(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])com|youtu(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])be)/i,color:"#ff0000"}],V=function(){var n=function(){function n(t,i,o,r,a,c){e(this,n),this._location=t,this.rootService=i,this.mingaManager=o,this.snackBar=r,this.errorReporting=a,this.mgModal=c,this.url="",this.title="",this.icon="link2-o",this.inputPattern=s.a.WebsiteUrlRegex,this.titlePattern=s.a.NoSymbolsRegex,this.iconColor="",this.isSocialMediaIcon=!1,this.hideIcons=!0,this.editing=!1,this.canRipple=!1,this.initForm()}return i(n,[{key:"initForm",value:function(){return Object(a.a)(this,void 0,void 0,t().mark((function e(){var n,i,o,r,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.linkIcons=G,n=0,i=U;n<i.length;n++)o=i[n],this.linkIcons[o.icon]=o;return this.linkIconNames=Object.keys(this.linkIcons),this.canRipple=window.MINGA_DEVICE_ANDROID||window.MINGA_DEVICE_IOS,t.next=5,this.mingaManager.getMingaLinkFormData();case 5:(r=t.sent)&&r.link&&(a=r.link,this.url=a.url,this.title=a.title,this.icon=a.icon,this.id=a.id,this.initLink=r.link,this.checkIfSocialMediaIcon(),this.editing=!0);case 7:case"end":return t.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){this.onOverlayNextDisabled(!0)}},{key:"ngAfterViewInit",value:function(){var t=this;this.form.statusChanges.subscribe((function(e){t.checkNextStep()}))}},{key:"registerOnOverlayPreviousUpdate",value:function(t){this.onRegisterOnOverlayPreviousUpdate=t}},{key:"registerOnOverlayNextUpdate",value:function(t){this.onRegisterOnOverlayNextUpdate=t}},{key:"registerOnOverlayNextDisabled",value:function(t){this.onOverlayNextDisabled=t}},{key:"registerOnOverlayPreviousDisabled",value:function(t){this.onOverlayPreviousDisabled=t}},{key:"disableSaveButton",get:function(){return this.form.invalid||!this.url||!this.title}},{key:"urlControlErrorKey",get:function(){return this.form.controls.urlInput&&this.form.controls.urlInput.errors?Object.keys(this.form.controls.urlInput.errors)[0]:""}},{key:"titleControlErrorKey",get:function(){return this.form.controls.titleInput&&this.form.controls.titleInput.errors?Object.keys(this.form.controls.titleInput.errors)[0]:""}},{key:"checkNextStep",value:function(){this.form&&"function"==typeof this.onOverlayNextDisabled&&this.onOverlayNextDisabled(!!this.disableSaveButton)}},{key:"onUrlChange",value:function(){(!this.initLink||this.initLink&&(this.url!=this.initLink.url||this.url==this.initLink.url&&this.icon!=this.initLink.icon))&&this.checkIfSocialMediaIcon(),this.checkNextStep()}},{key:"checkIfSocialMediaIcon",value:function(){for(var t=!1,e=0,n=U;e<n.length;e++){var i=n[e];if(i.pattern.test(this.url)){this.setIcon(i.icon),this.iconColor=i.color,t=!0;break}}t||(this.isSocialMediaIcon&&(this.icon="link2-o"),this.iconColor=""),this.isSocialMediaIcon=t}},{key:"setIcon",value:function(t){this.icon=t,this.iconColor="",this.checkNextStep()}},{key:"cancel",value:function(){this.onOverlayPrevious()}},{key:"deleteButtonClick",value:function(){return Object(a.a)(this,void 0,void 0,t().mark((function e(){var n,i=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.editing){e.next=8;break}if(n=function(){i.snackBar.open("an error occurred while deleting link, please try again later")},this.initLink){e.next=4;break}return e.abrupt("return",void n());case 4:return e.next=6,this.rootService.addLoadingPromise(this.mingaManager.removeMingaLink(this.initLink.id)).then((function(e){return Object(a.a)(i,void 0,void 0,t().mark((function i(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getStatus()!=d.StatusCode.OK){t.next=6;break}return this.snackBar.open("".concat(this.title," link deleted successfully")),this.mingaManager.emitMingaLinkDelete({id:this.initLink.id,index:this.initLink.index}),t.next=5,this.onOverlayClose();case 5:return t.abrupt("return",t.sent);case 6:n();case 7:case"end":return t.stop()}}),i,this)})))})).catch((function(t){console.log(t),n()}));case 6:e.next=9;break;case 8:this.cancel();case 9:case"end":return e.stop()}}),e,this)})))}},{key:"save",value:function(){this.onOverlayNext()}},{key:"toggleIcons",value:function(){this.hideIcons=!this.hideIcons}},{key:"toggleLinkText",value:function(){return this.hideIcons?"More":"Less"}},{key:"overlayPrevious",get:function(){return{icon:"close",text:"Cancel"}}},{key:"hasOverlayPrevious",value:function(){return this.overlayPrevious}},{key:"onOverlayPrevious",value:function(){return Object(a.a)(this,void 0,void 0,t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onOverlayClose();case 2:case"end":return t.stop()}}),e,this)})))}},{key:"onOverlayClose",value:function(){return Object(a.a)(this,void 0,void 0,t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this._location.back(),!0));case 1:case"end":return t.stop()}}),e,this)})))}},{key:"hasOverlayNext",value:function(){return{text:"Save",icon:"publish-o"}}},{key:"addNewLink",value:function(t){var e=this;return this.rootService.addLoadingPromise(this.mingaManager.addMingaLink(t)).then((function(n){var i=n.getStatus(),o=n.getLink();if(i==d.StatusCode.OK&&o)t.id=o.getId(),e.showSuccessOverlayAndClose(t);else if(i!=d.StatusCode.OK||o){var r=n.getReason(),a=r?r.getMessage():"(n/a)";console.error("[MingaLink] error occurred while adding link to Minga! reason: ",a),e.errorReporting.sendErrorReport("client MingaProfile.component","error occurred while adding link to minga",p.errorPriority.ALERT),e.snackBar.open("an error occurred while adding your new link, please try again later")}else console.error("[MingaLink] error occurred while adding link to Minga! reason: link missing from response!"),e.errorReporting.sendErrorReport("client MingaProfile.component","error occurred while adding link to minga: link missing from response",p.errorPriority.ALERT)}))}},{key:"updateLink",value:function(t){var e=this,n=function(){e.snackBar.open("an error occurred while updating link, please try again later")};this.rootService.addLoadingPromise(this.mingaManager.updateMingaLink(t)).then((function(i){if(i.getStatus()==d.StatusCode.OK)e.showSuccessOverlayAndClose(t);else{var o=i.getReason(),r=o?o.getMessage():"(n/a)";console.error("[MingaLink] error occurred while adding link to Minga! reason: ",r),e.errorReporting.sendErrorReport("client MingaProfile.component","error occurred while updating minga link",p.errorPriority.ALERT),n()}})).catch((function(t){console.log(t),n()}))}},{key:"onOverlayNext",value:function(){return Object(a.a)(this,void 0,void 0,t().mark((function e(){var n;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.onOverlayNextDisabled(!0),n={url:Object(u.a)(this.url),title:this.title,icon:this.icon||"link2-o",id:this.id||null,index:this.initLink&&null!=this.initLink.index?this.initLink.index:null},!this.editing){t.next=7;break}return t.next=5,this.updateLink(n);case 5:t.next=9;break;case 7:return t.next=9,this.addNewLink(n);case 9:this.onOverlayNextDisabled(!1);case 10:case"end":return t.stop()}}),e,this)})))}},{key:"showSuccessOverlayAndClose",value:function(e){return Object(a.a)(this,void 0,void 0,t().mark((function n(){var i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.mingaManager.emitMingaLinkSaveSuccess({link:e}),i=this.mgModal.open(this.successOverlayTemplate,{full:!0,animation:"fade"}),setTimeout((function(){return i.close()}),2e3),t.next=5,new Promise((function(t){return setTimeout(t,1e3)}));case 5:return t.next=7,this.onOverlayClose();case 7:case"end":return t.stop()}}),n,this)})))}}]),n}();return n.\u0275fac=function(t){return new(t||n)(c["\u0275\u0275directiveInject"](h.k),c["\u0275\u0275directiveInject"](g.a),c["\u0275\u0275directiveInject"](m.a),c["\u0275\u0275directiveInject"](f.b),c["\u0275\u0275directiveInject"](v.a),c["\u0275\u0275directiveInject"](y.b))},n.\u0275cmp=c["\u0275\u0275defineComponent"]({type:n,selectors:[["mg-minga-link-form"]],viewQuery:function(t,e){var n;(1&t&&(c["\u0275\u0275viewQuery"](D,3,l.v),c["\u0275\u0275viewQuery"](S,3)),2&t)&&(c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(e.form=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(e.successOverlayTemplate=n.first))},decls:48,vars:33,consts:[[3,"component"],[1,"overlay-container"],[1,"top-title"],[1,"mg-minicopy"],["linkForm","ngForm"],["mgFormField",""],["matInput","","placeholder","Paste/Enter Link","name","urlInput","maxlength","255","autocapitalize","none","required","",3,"ngModel","pattern","ngModelChange"],["urlInput","ngModel"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["icon-namespace","minga.profile","matSuffix","",1,"url-icon"],["matInput","","placeholder","Paste/Enter Link Title","name","titleInput","maxlength","18","required","",3,"ngModel","pattern","ngModelChange"],["titleInput","ngModel"],["align","end"],[1,"links-text"],[1,"links-container"],["icon-namespace","minga.profile",3,"icon","active","color","social-link","click",4,"ngFor","ngForOf"],["matRipple","",1,"show-icons-toggle-container",3,"matRippleDisabled","click"],[1,"show-icons-toggle"],[1,"mat-expansion-indicator"],[1,"mg-minicopy","footer-button-container"],["href","javascript:;",1,"cancel-link",3,"click"],["class","bottom-link",3,"color","click",4,"ngIf"],[1,"save-button","bottom-link",3,"disabled","click"],["successOverlayTemplate",""],["icon-namespace","minga.profile",3,"icon","click"],[1,"bottom-link",3,"color","click"],[1,"success-overlay"],[1,"checkmark-wrap"],[1,"mg-bodycopy"]],template:function(t,e){1&t&&(c["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"p",2),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"form",3,4),c["\u0275\u0275elementStart"](6,"mat-form-field",5),c["\u0275\u0275elementStart"](7,"mat-label"),c["\u0275\u0275text"](8,"Link (ex: www.domain.com)"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"input",6,7),c["\u0275\u0275listener"]("ngModelChange",(function(t){return e.url=t}))("ngModelChange",(function(){return e.onUrlChange()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"mat-error"),c["\u0275\u0275elementContainerStart"](12,8),c["\u0275\u0275template"](13,E,3,3,"span",9),c["\u0275\u0275template"](14,I,3,3,"span",9),c["\u0275\u0275template"](15,L,3,3,"span",10),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"mg-icon",11),c["\u0275\u0275text"](17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"mat-form-field",5),c["\u0275\u0275elementStart"](19,"mat-label"),c["\u0275\u0275text"](20,"Link Title"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"input",12,13),c["\u0275\u0275listener"]("ngModelChange",(function(t){return e.title=t}))("ngModelChange",(function(){return e.checkNextStep()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"mat-hint",14),c["\u0275\u0275text"](24),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"mat-error"),c["\u0275\u0275elementContainerStart"](26,8),c["\u0275\u0275template"](27,B,3,3,"span",9),c["\u0275\u0275template"](28,j,3,3,"span",9),c["\u0275\u0275template"](29,N,3,3,"span",10),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"p",15),c["\u0275\u0275text"](31,"Change icon?"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"div",16),c["\u0275\u0275template"](33,R,1,7,"mg-button-icon",17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"div",18),c["\u0275\u0275listener"]("click",(function(){return e.toggleIcons()})),c["\u0275\u0275elementStart"](35,"p",19),c["\u0275\u0275text"](36),c["\u0275\u0275element"](37,"span",20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"div",21),c["\u0275\u0275elementStart"](39,"a",22),c["\u0275\u0275listener"]("click",(function(){return e.cancel()})),c["\u0275\u0275text"](40),c["\u0275\u0275pipe"](41,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](42,T,3,4,"mg-button-outline",23),c["\u0275\u0275elementStart"](43,"mg-button-outline",24),c["\u0275\u0275listener"]("click",(function(){return e.save()})),c["\u0275\u0275text"](44),c["\u0275\u0275pipe"](45,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](46,A,5,2,"ng-template",null,25,c["\u0275\u0275templateRefExtractor"])),2&t&&(c["\u0275\u0275property"]("component",e),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("",e.editing?"Edit":"Add a"," link"),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngModel",e.url)("pattern",e.inputPattern),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngSwitch",e.urlControlErrorKey),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase","maxlength"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase","pattern"),c["\u0275\u0275advance"](2),c["\u0275\u0275styleProp"]("color",e.iconColor),c["\u0275\u0275classProp"]("dirty",!!e.url),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.icon),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",e.title)("pattern",e.titlePattern),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("",e.title.length," / 18"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngSwitch",e.titleControlErrorKey),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase","maxlength"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase","pattern"),c["\u0275\u0275advance"](4),c["\u0275\u0275classProp"]("show-icons",!e.hideIcons),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.linkIconNames),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matRippleDisabled",!e.canRipple),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.toggleLinkText()," "),c["\u0275\u0275advance"](1),c["\u0275\u0275classProp"]("show",!e.hideIcons),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](41,29,"button.cancel")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.editing),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("disabled",e.disableSaveButton),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](45,31,"button.save")," "))},directives:[x.a,l.E,l.u,l.v,k.d,C.a,k.h,O.b,l.d,l.n,l.B,l.t,l.w,l.z,k.c,h.q,h.r,h.s,F.a,k.j,k.g,h.n,w.q,h.o,M.a,P.a,b.a],pipes:[_.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");.overlay-container[_ngcontent-%COMP%]{padding:24px 16px}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-top:6.4vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-top:6.4vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-top:24px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-top:24px}}@media (min-width:500px){.overlay-container[_ngcontent-%COMP%]{padding-top:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-left:4.2666666667vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-left:4.2666666667vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-left:16px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-left:16px}}@media (min-width:750px){.overlay-container[_ngcontent-%COMP%]{padding-left:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-bottom:6.4vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-bottom:6.4vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:24px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:24px}}@media (min-width:500px){.overlay-container[_ngcontent-%COMP%]{padding-bottom:32px}}@media (orientation:landscape){.overlay-container[_ngcontent-%COMP%]{padding-right:4.2666666667vh}}@media (orientation:portrait){.overlay-container[_ngcontent-%COMP%]{padding-right:4.2666666667vw}}@media (orientation:landscape) and (max-height:375px){.overlay-container[_ngcontent-%COMP%]{padding-right:16px}}@media (orientation:portrait) and (max-width:375px){.overlay-container[_ngcontent-%COMP%]{padding-right:16px}}@media (min-width:750px){.overlay-container[_ngcontent-%COMP%]{padding-right:32px}}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{color:#737373}[_nghost-%COMP%]   mg-button[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-button-outline[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;margin-right:8px}@media (orientation:landscape){[_nghost-%COMP%]   mg-button[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vh}}@media (orientation:portrait){[_nghost-%COMP%]   mg-button[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-button-outline[_ngcontent-%COMP%]{font-size:2.8985507246vw}}@media (orientation:landscape) and (max-height:414px){[_nghost-%COMP%]   mg-button[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (orientation:portrait) and (max-width:414px){[_nghost-%COMP%]   mg-button[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-button-outline[_ngcontent-%COMP%]{font-size:12px}}@media (min-width:448.5px){[_nghost-%COMP%]   mg-button[_ngcontent-%COMP%], [_nghost-%COMP%]   mg-button-outline[_ngcontent-%COMP%]{font-size:13px}}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#93f;text-decoration:none}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]   a.cancel-link[_ngcontent-%COMP%]{padding-right:1.5em}[_nghost-%COMP%]   .top-title[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   .links-text[_ngcontent-%COMP%]{margin:1em 0 .5em}[_nghost-%COMP%]   .save-button[_ngcontent-%COMP%]{margin-top:1em}[_nghost-%COMP%]   .url-icon[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}[_nghost-%COMP%]   .url-icon.dirty[_ngcontent-%COMP%]{color:#036}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-wrap:wrap;transition:max-height .5s cubic-bezier(.55,0,.55,.2);overflow:hidden;max-height:36px}[_nghost-%COMP%]   .links-container.show-icons[_ngcontent-%COMP%]{max-height:200px}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{flex-basis:15%}@media (max-width:600px){[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   mg-button-icon[_ngcontent-%COMP%]{flex-basis:25%}}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   mg-button-icon.social-link[_ngcontent-%COMP%]:hover     mg-button:not(.disabled) .default-icon{opacity:.75!important}[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]   mg-button-icon.social-link.active[_ngcontent-%COMP%]     mg-button .default-icon{opacity:1!important}@media (min-width:600px){[_nghost-%COMP%]   .links-container[_ngcontent-%COMP%]{width:70%}}@media (max-width:374px){[_nghost-%COMP%]   .bottom-link[_ngcontent-%COMP%]{font-size:13px}}[_nghost-%COMP%]   .show-icons-toggle-container[_ngcontent-%COMP%]{position:relative;display:inline-block;padding-right:8px;width:11%;min-width:52px;margin:.5em 0 1em}[_nghost-%COMP%]   .show-icons-toggle-container[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .show-icons-toggle-container[_ngcontent-%COMP%]   .show-icons-toggle[_ngcontent-%COMP%]{margin:0;display:inline-block;padding-right:22px}[_nghost-%COMP%]   .show-icons-toggle-container[_ngcontent-%COMP%]   .show-icons-toggle[_ngcontent-%COMP%]   .mat-expansion-indicator[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(.55,0,.55,.2);position:absolute;top:50%;transform:translateY(-60%);right:4px}[_nghost-%COMP%]   .show-icons-toggle-container[_ngcontent-%COMP%]   .show-icons-toggle[_ngcontent-%COMP%]   .mat-expansion-indicator[_ngcontent-%COMP%]:after{transition:transform .3s cubic-bezier(.55,0,.55,.2);transform:translateX(2px) rotate(45deg)}[_nghost-%COMP%]   .show-icons-toggle-container[_ngcontent-%COMP%]   .show-icons-toggle[_ngcontent-%COMP%]   .mat-expansion-indicator.show[_ngcontent-%COMP%]{transform:translateY(-40%)}[_nghost-%COMP%]   .show-icons-toggle-container[_ngcontent-%COMP%]   .show-icons-toggle[_ngcontent-%COMP%]   .mat-expansion-indicator.show[_ngcontent-%COMP%]:after{transform:translateX(2px) rotate(225deg)}.success-overlay[_ngcontent-%COMP%]{height:100%;text-align:center;position:relative}.success-overlay[_ngcontent-%COMP%]   .checkmark-wrap[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}']}),n}()},g8ec:function(t,n,o){"use strict";o.d(n,"a",(function(){return v}));var r=o("SVse"),a=o("8Y7J"),c=o("s7LF"),l=o("UhP/"),s=o("Q2Ze"),u=o("e6WT"),d=o("TSSN"),p=o("CO6v"),h=o("eJkR"),g=o("HxU+"),m=o("ls3q"),f=o("CL15");o("GVla");var v=function(){var t=i((function t(){e(this,t)}));return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[h.a,p.a,m.a,g.a,f.a,s.f,r.c,c.m,l.r,d.c,u.c]]}),t}()}}])}();
//# sourceMappingURL=default~minga-app-src-app-components-Overlay-MingaLinkForm-MingaLinkFormRouting-module~minga-app-src~9ea7b0c4-es5.js.map