(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"3JiK":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.cloudflareUrlMetaDecode=t.cloudflareUrlMetaEncode=void 0;const i=n("tpqs"),r=globalThis.btoa||(t=>e.from(t).toString("base64")),a=globalThis.atob||(t=>e.from(t,"base64").toString());t.cloudflareUrlMetaEncode=function(e,t){const n=i.extname(e),a=i.basename(e,n),o=function(e){const t=Object.assign({c:e.country,e:e.environment,v:e.clientVersion},e);return delete t.country,delete t.environment,delete t.clientVersion,t}(t);return a+"--"+r(JSON.stringify(o))+n},t.cloudflareUrlMetaDecode=function(e){const t=i.extname(e),n=i.basename(e,t),r=n.substr(n.lastIndexOf("--")+2);return function(e){const t=Object.assign({country:e.c,environment:e.e,clientVersion:e.v},e);return delete t.c,delete t.e,delete t.v,t}(JSON.parse(a(r)))}}).call(this,n("HDXh").Buffer)},"3wAF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeltaSmsMessageInfo=t.SmsMessageInfo=void 0;const i=n("hRO2"),r=n("bHfG");class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={message:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setMessage(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;(n=e.getMessage()).length>0&&t.writeString(1,n)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getMessage(){return i.Message.getFieldWithDefault(this,1,"")}setMessage(e){i.Message.setProto3StringField(this,1,e)}}t.SmsMessageInfo=a,a.displayName="SmsMessageInfo";class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n,a={contentHash:i.Message.getFieldWithDefault(t,1,""),message:(n=t.getMessage())&&r.StringDelta.toObject(e,n)};return e&&(a.$jspbMessageInstance=t),a}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setContentHash(n);break;case 2:var i=new r.StringDelta;t.readMessage(i,r.StringDelta.deserializeBinaryFromReader),e.setMessage(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getContentHash()).length>0&&t.writeString(1,n),null!=(n=e.getMessage())&&t.writeMessage(2,n,r.StringDelta.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getContentHash(){return i.Message.getFieldWithDefault(this,1,"")}setContentHash(e){i.Message.setProto3StringField(this,1,e)}getMessage(){return i.Message.getWrapperField(this,r.StringDelta,2)}setMessage(e){i.Message.setWrapperField(this,2,e)}clearMessage(){this.setMessage(void 0)}hasMessage(){return null!=i.Message.getField(this,2)}}t.DeltaSmsMessageInfo=o,o.displayName="DeltaSmsMessageInfo"},"6bpZ":function(e,t,n){"use strict";n.r(t),n.d(t,"contentRoutes",(function(){return Zr})),n.d(t,"ContentModule",(function(){return Xr}));var i=n("SVse"),r=n("8Y7J"),a=n("iInd"),o=n("TSSN"),s=n("03Y+"),l=n("9jR1"),d=n("oTGS"),c=n("CL15"),g=n("Cnb3"),u=n("mrSG"),h=n("o4Yh"),p=n("qvb8"),m=n.n(p),f=n("XNiG"),v=n("gEWx"),y=n("9iN8"),C=n("w3KL"),M=n("WFJ2"),b=n("+dib"),O=n("F5Qo"),w=n("f16K"),D=n("joVo"),S=n("l6At"),F=n("4Zvv"),x=n("2Vo4"),P=n("5km/"),I=n("LvDl");class _{constructor(e,t,n,i){this.userStorage=e,this.permissions=t,this._memDraft=null,this._initMemDraft=null,this._saveTimeoutResolves=[],this._cachedDirtyStatus={},this._storagePrefix=n,this._contentHash=i}get storageKey(){return"CID~"+this._storagePrefix+"~"+this._contentHash}get contentHash(){return this._contentHash}hasImageContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!1}))}hasTextContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!1}))}hasMemDraftFields(){return!!this._memDraft&&Object.keys(this._memDraft).length>0}setInitialDraft(e){this._initMemDraft=e,this._cachedDirtyStatus={}}initialDraftDifference(){const e=this._initMemDraft||{};return I.omitBy(this._memDraft||{},(t,n)=>I.isEqual(e[n],t))}isFieldDirty(e){if(e in this._cachedDirtyStatus)return this._cachedDirtyStatus[e];const t=this._memDraft||{};if(!(e in t))return!1;const n=!I.isEqual((this._initMemDraft||{})[e],t[e]);return this._memDraft&&this._initMemDraft&&(this._cachedDirtyStatus[e]=n),n}getStoredDraft(){return Object(u.a)(this,void 0,void 0,(function*(){return yield this.userStorage.getItem(this.storageKey)}))}getDraft(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.createEmptyDraft();if(!this._memDraft){const e=yield this.getStoredDraft();e&&(this._memDraft=e.data)}return I.merge(e,I.cloneDeep(this._memDraft||{}))}))}fetchInitialDraftInfoIfNeeded(){return Object(u.a)(this,void 0,void 0,(function*(){this._initMemDraft||(yield this.fetchInitialDraftInfo())}))}cloneDraftMergedWithInitialFetchIfNeeded(){return Object(u.a)(this,void 0,void 0,(function*(){return yield this.fetchInitialDraftInfoIfNeeded(),this.cloneDraftMergedWithInitial()}))}cloneDraftMergedWithInitial(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.createEmptyDraft();yield this.getDraft();const t=this._memDraft||{},n=this._initMemDraft||[];return I.mergeWith({},I.cloneDeep(e),I.cloneDeep(n),I.cloneDeep(t),(e,t)=>{if(Array.isArray(e)&&Array.isArray(t))return t})}))}saveToDraft(e,t){return Object(u.a)(this,void 0,void 0,(function*(){if(!this._memDraft){const e=yield this.getStoredDraft();this._memDraft||(this._memDraft=e?e.data:{})}this._memDraft[e]=t,delete this._cachedDirtyStatus[e],clearTimeout(this._saveTimeout),yield new Promise(e=>{this._saveTimeoutResolves.push(e),this._saveTimeout=setTimeout(()=>{this.userStorage.setItem(this.storageKey,{lastUpdated:Date.now(),data:this._memDraft})},300),this._saveTimeoutResolves.forEach(e=>e()),this._saveTimeoutResolves=[]})}))}clearDraft(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.userStorage.setItem(this.storageKey,null),this._memDraft=null,this._initMemDraft=null,this._cachedDirtyStatus={}}))}bodyAsPreviewHtml(e){return Object(u.a)(this,void 0,void 0,(function*(){return this.permissions.hasPermission(g.MingaPermission.CONTENT_HTML_INCLUDE)?e:Object(g.nl2p)(e)}))}submitDraft(){return this.contentHash?this.submitDraftUpdate():this.submitDraftNew()}previewComponentBackgroundColor(e){return""}getStyleImageAsset(){return Object(u.a)(this,void 0,void 0,(function*(){return""}))}makeRepeatedStringDelta(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=new O.RepeatedStringDelta;let n=(yield this.cloneDraftMergedWithInitialFetchIfNeeded())[e],i=[],r=[],a=[];if(!Array.isArray(n))throw new Error(`Info draft key '${e}' is not an array`);const o=this._initMemDraft[e]||[];if(!Array.isArray(o))throw new Error(`Info draft key '${e}' is not an array`);i=o,r=I.difference(n,i),a=I.difference(i,n);const s=Math.max(n.length,i.length);for(let e=0;s>e;++e){const o=i[e];if(n[e]!=o){const i=n.indexOf(o);if(-1===i)if(void 0===o){const n=r.shift(),i=new O.RepeatedStringDelta.InsertInstruction;i.setInsertOffset(e),i.setInsertString(n),t.addInsertInstruction(i)}else{const n=a.shift(),i=new O.RepeatedStringDelta.EraseInstruction;i.setEraseOffset(e),i.setEraseString(n),t.addEraseInstruction(i)}else{const n=new O.RepeatedStringDelta.EraseInstruction;n.setEraseOffset(e),n.setEraseString(o),t.addEraseInstruction(n);const r=new O.RepeatedStringDelta.InsertInstruction;r.setInsertOffset(i),r.setInsertString(o),t.addInsertInstruction(r)}}}for(let e of r){const i=n.indexOf(e),r=new O.RepeatedStringDelta.InsertInstruction;r.setInsertOffset(i),r.setInsertString(e),t.addInsertInstruction(r)}for(let e of a){const n=i.indexOf(e),r=new O.RepeatedStringDelta.EraseInstruction;r.setEraseOffset(n),r.setEraseString(e),t.addEraseInstruction(r)}return t}))}_getInitialDraftInfo(){return I.cloneDeep(this._initMemDraft)}_draftFieldIs(e,t){const n=this._memDraft||{},i=this._initMemDraft||{},r=this.createEmptyDraft();return I.has(n,e)?I.isEqual(I.get(n,e),t):I.has(i,e)?I.isEqual(I.get(i,e),t):I.isEqual(I.get(r,e),t)}}var T=n("iELJ"),B=n("UWMR"),E=n("HSxi");let j=(()=>{class e{constructor(e,t,n,i,r){this.route=e,this.router=t,this.matDialog=n,this.snackBar=i,this.groupsFacadeService=r,this.context=null,this._skipPreventNav=!1,this.enabledNextStepSubject=new x.a(!0),this.enablePreviousStepSubject=new x.a(!0),this.overlayConfigSubject=new x.a({}),this._groupHashSub=this.groupsFacadeService.getCurrentGroupHashObservable().subscribe(e=>{this._groupHash=e}),e.url.subscribe(e=>{let t;switch(e[0].path){case"m":t="minga";break;case"p":t="program";break;case"g":t="group"}t?this.context?this.context.type=t:this.context={type:t}:this.context=null}),e.params.subscribe(e=>{e.programHash?this.context&&"program"===this.context.type&&(this.context.hash=e.programHash):e.contentContextHash?(this.context&&"minga"===this.context.type&&(this.context.hash=e.contentContextHash),this.context&&"group"===this.context.type&&(this.context.hash=e.contentContextHash)):this.context&&delete this.context.hash}),this.route.data.subscribe(e=>{if(!e.contentInfoDraft)throw new Error("Router data 'contentInfoDraft' must be provided must inherit ContentInfoDraft");const t=e.contentInfoDraft;if(!(t instanceof _))throw new Error("Router data 'contentInfoDraft' must inherit ContentInfoDraft");this._contentInfoDraft=t,this.mgContentInfoDraftReady()})}get groupHash(){return this._groupHash}get contentHash(){return this.contentInfoDraft.contentHash}get nextEnabled(){return this.enabledNextStepSubject.value}get previousEnabled(){return this.enablePreviousStepSubject.value}get onEnableNextStepChange(){return this.enabledNextStepSubject.asObservable()}get onEnablePreviousStepChange(){return this.enablePreviousStepSubject.asObservable()}get onOverlayConfigChange(){return this.overlayConfigSubject.asObservable()}get contentInfoDraft(){return this._contentInfoDraft}ngOnDestroy(){this._groupHashSub&&this._groupHashSub.unsubscribe()}navigateBackWithoutPrevent(){return Object(u.a)(this,void 0,void 0,(function*(){this._skipPreventNav=!0,history.back(),yield new Promise(e=>{const t=this.router.events.subscribe(()=>{e(),t.unsubscribe()})}),this._skipPreventNav=!1}))}preventNavigation(e,t,n){return Object(u.a)(this,void 0,void 0,(function*(){if(n.url.includes("(o:content/"))return"";if(this._skipPreventNav)return"";if(!this.contentInfoDraft.hasMemDraftFields())return"";const e=this.contentInfoDraft.initialDraftDifference();if(0===Object.keys(e).length)return yield this.contentInfoDraft.clearDraft(),"";let t=this.matDialog.open(P.g);const i=yield t.beforeClosed().toPromise();if("keep"===i)return"";if("discard"===i)return yield this.contentInfoDraft.clearDraft(),"";throw new Error("User abort")}))}navigate(e){return Object(u.a)(this,void 0,void 0,(function*(){let t=[],n=[];if(this.context){switch(this.context.type){case"minga":t.push("m");break;case"program":t.push("p");break;case"group":t.push("g")}this.context.hash&&n.push(this.context.hash)}this._skipPreventNav=!0;const i=yield this.router.navigate(["",{outlets:{o:["content",...t,...e,...n]}}]).catch(e=>{throw this._skipPreventNav=!1,e});return this._skipPreventNav=!1,i}))}exitDraft(e=!1){return Object(u.a)(this,void 0,void 0,(function*(){e&&(this._skipPreventNav=!0);try{yield this.router.navigate(["",{outlets:{o:null}}])}finally{e&&(this._skipPreventNav=!1)}}))}navigateToPreview(){return Object(u.a)(this,void 0,void 0,(function*(){const e=["preview",this.contentInfoDraft.type];this.contentHash&&e.push(this.contentHash),yield this.navigate(e)}))}enableNextStep(){this.enabledNextStepSubject.next(!0)}disableNextStep(){this.enabledNextStepSubject.next(!1)}enablePreviousStep(){this.enablePreviousStepSubject.next(!0)}disablePreviousStep(){this.enablePreviousStepSubject.next(!1)}setOverlayConfig(e){this.overlayConfigSubject.next(e)}getNextStep(){return null}getPreviousStep(){return null}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})(),R=(()=>{class e{constructor(){this._onMetaDataUpdateFromRemoteSubscription=null,this._onContentMetadataSaved=new f.a}static _setContentInfoDraft(e,t){e.contentInfoDraft=t}onContentMetadataSaved(){return this._onContentMetadataSaved.asObservable()}saveContentMetadata(e,t){if(!this.contentMetadataKeys.includes(e))throw new Error(`ContentPreviewControl does not include key '${e}' in contentMetadataKeys.`);this._onContentMetadataSaved.next({[e]:t})}registerMetadataObservable(e){this._onMetaDataUpdateFromRemoteSubscription=e.asObservable().subscribe(e=>{this.mgDraftReady(e)})}ngOnDestroy(){this._onMetaDataUpdateFromRemoteSubscription&&this._onMetaDataUpdateFromRemoteSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();var k=n("GFah"),z=n("YTnL"),N=n("YgQ7"),V=n("jNxq"),W=n("LTMa"),L=n("H2Qt"),U=n("Vwx4"),A=n("WH00"),G=n("6fNz"),H=n("/q54"),q=n("Tcc+"),$=n("tqRt"),Q=n("xH8m"),K=n("NU8R"),Y=n("s7LF"),Z=n("cRkC");const J=["previewView"],X=["successOverlayTemplate"],ee=["previewControlsForm"],te=["expansionAccordion"];function ne(e,t){}function ie(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-expansion-panel",8),r["\u0275\u0275elementStart"](1,"mat-expansion-panel-header"),r["\u0275\u0275elementStart"](2,"mat-panel-title"),r["\u0275\u0275elementStart"](3,"strong"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,ne,0,0,"ng-template",9),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275classProp"]("bordered",(null==n.previewControlsData?null:n.previewControlsData.length)>1||"xs"==n.mqAlias),r["\u0275\u0275property"]("expanded",n.initiallyExpanded),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](null==e.compRef?null:e.compRef.instance.displayTitle)}}function re(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",3,4),r["\u0275\u0275elementStart"](2,"mat-accordion",5,6),r["\u0275\u0275template"](4,ie,6,4,"mat-expansion-panel",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngForOf",e.previewControlsData)}}function ae(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",10),r["\u0275\u0275elementStart"](1,"div",11),r["\u0275\u0275element"](2,"mg-success-checkmark"),r["\u0275\u0275elementStart"](3,"div",12),r["\u0275\u0275text"](4,"Success!"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())}let oe=(()=>{class e extends j{constructor(e,t,n,i,r,a,o,s,l,d,c,g,u,h,p,m,v,y,C,M){super(e,t,o,g,m),this.route=e,this.router=t,this.rootService=n,this.programManager=i,this.mgModal=r,this.streamManager=a,this.matDialog=o,this.componentFactoryResolver=s,this.injector=l,this.mingaContent=d,this.mingaGroupContent=c,this.snackBar=g,this.permissions=u,this.contentEvents=h,this.contentMetadataService=p,this.groupsFacadeService=m,this.media=v,this.analytics=y,this.store=C,this.commentHandler=M,this.mqAlias="",this.previewControlsData=[],this.loadingPreview=!1,this.metadataInited=!1,this.initiallyExpanded=window.MINGA_APP_BROWSER,this.contentPreviewMetadata={programContentOffset:null,mingaContentPublishDate:null,mingaContentUnpublishDate:null,mingaContentPinEndDate:null,emailContent:!1,emailContentRoles:[],emailContentIncludeUnregistered:!1,commentRoleTypes:null},this.metadataUpdated=new f.a,this.expansionPanelCleanup=()=>{},this.route.data.subscribe(e=>this.rootService.addLoadingPromise(this._handleRouteData(e))),v.asObservable().subscribe(e=>{this.mqAlias=e[0].mqAlias})}_handleRouteData(e){return Object(u.a)(this,void 0,void 0,(function*(){if(this.previewControlsData=[],Array.isArray(e.previewControls)){const t=e.previewControls;for(let e of t){const t=this.componentFactoryResolver.resolveComponentFactory(e.component);if(e.permissions){if(e.permissions.atLeastOne){let t=e.permissions.atLeastOne.map(e=>Object(v.$enum)(g.MingaPermission).asValueOrThrow(e)),n=!0;for(let e of t)if(n=this.permissions.hasPermission(e),n)break;if(!n)continue}if(Array.isArray(e.permissions.only)){let t=e.permissions.only.map(e=>Object(v.$enum)(g.MingaPermission).asValueOrThrow(e)),n=!0;for(let e of t)if(n=this.permissions.hasPermission(e),!n)break;if(!n)continue}if(e.permissions.except){let t=e.permissions.except.map(e=>Object(v.$enum)(g.MingaPermission).asValueOrThrow(e)),n=!1;for(let e of t)if(n=this.permissions.hasPermission(e),n)break;if(n)continue}}this.previewControlsData.push({compFactory:t,cleanupFn:()=>{}})}}yield this.initContentMetadata(),yield this.initPreview()}))}initContentMetadata(){var e,t,n,i,r;return Object(u.a)(this,void 0,void 0,(function*(){let a;if((null===(e=this.context)||void 0===e?void 0:e.hash)&&"group"===(null===(t=this.context)||void 0===t?void 0:t.type))a={contentContextHash:this.context.hash,contentHash:this.contentHash};else if((null===(n=this.context)||void 0===n?void 0:n.hash)&&"minga"===(null===(i=this.context)||void 0===i?void 0:i.type))a={contentContextHash:this.context.hash,contentHash:this.contentHash};else{if("program"!==(null===(r=this.context)||void 0===r?void 0:r.type)||!this.contentHash)return;a={contentHash:this.contentHash},this.contentHash&&(this.previewControlsData=[])}const{publishTimestamp:o,unpublishTimestamp:s,pinEndTimestamp:l,allowedCommentingRoleTypesList:d}=yield this.contentMetadataService.getContentMetadata(a);o&&(this.contentPreviewMetadata.mingaContentPublishDate=new Date(o)),s&&(this.contentPreviewMetadata.mingaContentUnpublishDate=new Date(s)),l&&(this.contentPreviewMetadata.mingaContentPinEndDate=new Date(l)),d&&d.length>0&&(this.contentPreviewMetadata.commentRoleTypes=d),this.metadataInited=!0,this.metadataUpdated.next(this.contentPreviewMetadata)}))}ngOnInit(){}ngOnDestroy(){this.expansionPanelCleanup()}_updateBgColor(){const e=this.previewComponentRef;"function"==typeof e.instance.mgCheckStyleChanges&&e.instance.mgCheckStyleChanges();const t=this.contentInfoDraft.previewComponentBackgroundColor(e);this.setOverlayConfig({background:t})}_handleExpansionPanels(){this.expansionPanelCleanup();const e=[];this.expansionPanels.forEach((t,n)=>{e.push(t.expandedChange.subscribe(()=>{clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(()=>{window.dispatchEvent(new CustomEvent("resize"))},1e3)}))});let t=[];this.previewExpansionPanels.forEach((e,n)=>{const i=this.previewControlsData[n];if(i.compFactory){i&&i.cleanupFn(),e.clear(),i.compRef=e.createComponent(i.compFactory);const n=i.compRef.instance,r=n.contentMetadataKeys;for(let i of r)if(t.includes(i))return e.clear(),void console.error(`[ContentDraftPreviewComponent] key '${i}' is already used by another ContentPreviewControl. Skipping this content preview control`);t.push(...r);const a=n.onChanges().subscribe(()=>Object(u.a)(this,void 0,void 0,(function*(){this.previewComponentRef&&(yield this.contentInfoDraft.updatePreviewComponent(this.previewComponentRef),this._updateBgColor())}))),o=n.onContentMetadataSaved().subscribe(e=>{(this.metadataInited||this.context)&&(this.contentPreviewMetadata=Object.assign(this.contentPreviewMetadata,e))});n.registerMetadataObservable(this.metadataUpdated),R._setContentInfoDraft(n,this.contentInfoDraft),n.mgDraftReady(this.contentPreviewMetadata),i.cleanupFn=()=>{a.unsubscribe(),o.unsubscribe()}}}),this.expansionPanelCleanup=()=>{e.forEach(e=>e.unsubscribe())}}ngAfterViewInit(){this.previewExpansionPanels.changes.subscribe(()=>{this._handleExpansionPanels()}),this._handleExpansionPanels()}getNextStep(){return this.contentInfoDraft.contentHash?{name:"Save",icon:"publish-o"}:{name:"Publish",icon:"publish-o"}}getPreviousStep(){return{name:"Back",icon:"back"}}previousStep(){return this.navigateBackWithoutPrevent()}nextStep(){return this.submitPreview()}initPreview(){return Object(u.a)(this,void 0,void 0,(function*(){this.loadingPreview=!0,yield this._initPreview().catch(e=>{throw this.loadingPreview=!1,e}),this.loadingPreview=!1}))}mgContentInfoDraftReady(){}_initPreview(){return Object(u.a)(this,void 0,void 0,(function*(){this.previewComponentRef=null;const e=yield this.contentInfoDraft.createPreviewComponent();if(this.previewComponentRef=e,"registerOnOverlayConfig"in e.instance){let t=!1;e.instance.registerOnOverlayConfig(e=>{if(t)throw new Error("Cannot call OnOverlayConfig on destroyed content view");this.setOverlayConfig(e)}),e.onDestroy(()=>t=!0)}yield this.calcStyleDefaults().catch(e=>{console.error(e)}),this.previewView.insert(e.hostView),this._updateBgColor()}))}calcStyleDefaults(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.getStyleImageAsset(),t=window.MINGA_ASSET_URL_PREFIX+e;if(!e)return;const n=yield m()(t,{ignore:["rgb(255,255,255)","rgb(0,0,0)"]}).catch(e=>(console.error(e),[])),i=0==n.length?"rgb(0,0,0)":n[0].color,r=new M.a(i);yield this.contentInfoDraft.saveToDraft("backgroundColor",i.toString()),yield this.contentInfoDraft.saveToDraft("lightContent",r.isDark()),yield this.contentInfoDraft.saveToDraft("gradientOverlap",!0),this.previewComponentRef&&(yield this.contentInfoDraft.updatePreviewComponent(this.previewComponentRef),this._updateBgColor())}))}_addToProgram(e,t){return Object(u.a)(this,void 0,void 0,(function*(){const n=new S.ProgramContentPosition;if(this.contentPreviewMetadata.programContentOffset){const{programContentOffset:e}=this.contentPreviewMetadata;n.setOffset(Object(y.b)(e)),n.setRelativeOffset(e.relative)}const i=new S.ProgramAddContent;return i.setContentHash(e),i.setProgramHash(t),i.setContentStartPosition(n),yield this.programManager.addContent(i)}))}_addToMinga(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=new D.MingaAddContent;if(t.setContentHash(e),this.contentPreviewMetadata.mingaContentPublishDate){const e=Object(b.e)(this.contentPreviewMetadata.mingaContentPublishDate);t.setContentStartDateTime(e)}if(this.contentPreviewMetadata.mingaContentUnpublishDate){const e=Object(b.e)(this.contentPreviewMetadata.mingaContentUnpublishDate);t.setContentEndDateTime(e)}if(this.contentPreviewMetadata.mingaContentPinEndDate){const e=Object(b.e)(this.contentPreviewMetadata.mingaContentPinEndDate);t.setContentPinEndDateTime(e)}return yield this.mingaContent.addContent(t)}))}_addToGroup(e,t){return Object(u.a)(this,void 0,void 0,(function*(){const n=new w.MingaGroupAddContent;if(n.setContentHash(e),n.setMingaGroupHash(t),this.contentPreviewMetadata.mingaContentPublishDate){const e=Object(b.e)(this.contentPreviewMetadata.mingaContentPublishDate);n.setContentStartDateTime(e)}if(this.contentPreviewMetadata.mingaContentUnpublishDate){const e=Object(b.e)(this.contentPreviewMetadata.mingaContentUnpublishDate);n.setContentEndDateTime(e)}if(this.contentPreviewMetadata.mingaContentPinEndDate){const e=Object(b.e)(this.contentPreviewMetadata.mingaContentPinEndDate);n.setContentPinEndDateTime(e)}return yield this.mingaGroupContent.addContent(n)}))}_moveGroupContent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=new w.MingaGroupMoveContent;t.setContentContextHash(e);let n=this.groupHash;if(n||(n=(yield this.contentMetadataService.getContentMetadata({contentContextHash:e})).ownerGroupHash),t.setMingaGroupHash(n),this.contentPreviewMetadata.mingaContentPublishDate){const e=this.contentPreviewMetadata.mingaContentPublishDate,n=new O.DateTimeDelta;n.setNewDateTime(Object(b.g)(e)),t.setContentStartDateTime(n)}const i=new O.DateTimeDelta;if(this.contentPreviewMetadata.mingaContentUnpublishDate){const e=this.contentPreviewMetadata.mingaContentUnpublishDate;i.setNewDateTime(Object(b.g)(e))}if(t.setContentEndDateTime(i),this.contentPreviewMetadata.mingaContentPinEndDate){const e=this.contentPreviewMetadata.mingaContentPinEndDate,n=new O.DateTimeDelta;n.setNewDateTime(Object(b.g)(e)),t.setContentPinEndDateTime(n)}else t.setContentPinEndDateTime(new O.DateTimeDelta);const r=yield this.mingaGroupContent.moveContent(t);return this.contentMetadataService.clearContentMetadata(e),r}))}_moveMingaContent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=new D.MingaMoveContent;if(t.setContentContextHash(e),this.contentPreviewMetadata.mingaContentPublishDate){const e=this.contentPreviewMetadata.mingaContentPublishDate,n=new O.DateTimeDelta;n.setNewDateTime(Object(b.g)(e)),t.setContentStartDateTime(n)}const n=new O.DateTimeDelta;if(this.contentPreviewMetadata.mingaContentUnpublishDate){const e=this.contentPreviewMetadata.mingaContentUnpublishDate;n.setNewDateTime(Object(b.g)(e))}if(t.setContentEndDateTime(n),this.contentPreviewMetadata.mingaContentPinEndDate){const e=this.contentPreviewMetadata.mingaContentPinEndDate,n=new O.DateTimeDelta;n.setNewDateTime(Object(b.g)(e)),t.setContentPinEndDateTime(n)}else t.setContentPinEndDateTime(new O.DateTimeDelta);const i=yield this.mingaContent.moveContent(t);return this.contentMetadataService.clearContentMetadata(e),i}))}_moderationFailDialog(e,t,n,i,r=!1,a=!1){return Object(u.a)(this,void 0,void 0,(function*(){this.contentEvents.emitFailedModeration({contentHash:e,contextHash:t,textFailed:r&&!n.allTextContentPassed,imageFailed:a&&!n.allImageContentPassed,imageTextFailed:a&&!n.allImageTextContentPassed&&n.allImageContentPassed,imageAndTextFailed:a&&!n.allImageTextContentPassed&&!n.allImageContentPassed,tags:n.tags,imageTags:n.imageTags,emailContentSend:i}),yield new Promise(e=>setTimeout(e,300)),yield this.exitDraft(!0)}))}_successDialog(){return Object(u.a)(this,void 0,void 0,(function*(){let e=this.mgModal.open(this.successOverlayTemplate,{full:!0,animation:"fade"});setTimeout(()=>e.close(),2e3),yield new Promise(e=>setTimeout(e,1e3)),yield this.exitDraft(!0)}))}isProgramContent(){return this.context&&"program"===this.context.type}isMingaContent(){return this.context&&"minga"===this.context.type}isGroupContent(){return this.context&&"group"===this.context.type}_add(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=e.contentHash;let n,i=Object.assign({},e,{contentHash:e.contentHash});return delete i.moderation,this.isProgramContent()?this.contentHash||(n=yield this._addToProgram(t,this.context.hash)):this.isMingaContent()?n=this.contentHash?yield this._moveMingaContent(this.context.hash):yield this._addToMinga(t):this.isGroupContent()?n=this.contentHash?yield this._moveGroupContent(this.context.hash):yield this._addToGroup(t,this.groupHash):console.warn("ContentDraftPreview._add unhandled context:",this.context),n&&(n.hasModerationResult()&&(i.moderation=F.ModerationResultMapper.toIModerationResult(n.getModerationResult())),n.getContentContextHash&&(i.contentContextHash=n.getContentContextHash())),i}))}submitPreview(){return Object(u.a)(this,void 0,void 0,(function*(){if(this.isProgramContent()&&!this.contentPreviewMetadata.programContentOffset&&!this.contentHash)return void this.snackBar.open("Cannot publish program content, no date values provided!");if(this.contentPreviewMetadata.mingaContentUnpublishDate&&this.contentPreviewMetadata.mingaContentPublishDate&&this.contentPreviewMetadata.mingaContentUnpublishDate.getTime()<this.contentPreviewMetadata.mingaContentPublishDate.getTime())return void this.snackBar.open("Cannot publish with unpublish date before a publish date!");const e=this.getSendEmailOptions();let t=yield this.rootService.addLoadingPromise(this.contentInfoDraft.submitDraft());if(t.moderation&&!t.moderation.allPassed){yield this.contentInfoDraft.clearDraft(),yield this.streamManager.restartStreamIfAvailable("MingaReportFeed"),yield this.streamManager.restartStreamIfAvailable("MingaGlobalReportFeed");try{yield this.rootService.addLoadingPromise(this._add(t))}catch(n){console.warn("Moderation failed on create. Ignoring error on add:",n)}const i=yield this.contentInfoDraft.hasTextContent(),r=yield this.contentInfoDraft.hasImageContent();this.analytics.sendContentBlockedEvent({type:t.type}),yield this._moderationFailDialog(t.contentHash,t.contentContextHash,t.moderation,e,i,r)}else{try{t=yield this.rootService.addLoadingPromise(this._add(t))}catch(n){throw n.message&&this.snackBar.open(n.message),n}if(t.moderation&&!t.moderation.allPassed){const n=yield this.contentInfoDraft.hasTextContent(),i=yield this.contentInfoDraft.hasImageContent();this.analytics.sendContentBlockedEvent({type:t.type}),yield this.contentInfoDraft.clearDraft(),yield this._moderationFailDialog(t.contentHash,t.contentContextHash,t.moderation,e,n,i),yield this.streamManager.restartStreamIfAvailable("MingaReportFeed"),yield this.streamManager.restartStreamIfAvailable("MingaGlobalReportFeed")}else this.contentHash||this.analytics.sendContentCreatedEvent({type:t.type,success:!0}),this.isMingaContent()&&this.contentEvents.emitPostCreateSuccess({typeString:t.type,date:t.date,endDate:t.endDate}),this.contentEvents.emitContentFeedsUpdate(),e&&this.sendEmailContent(t.contentHash,e),this.contentPreviewMetadata.commentRoleTypes&&this.commentHandler.sendCommentRolesRequest(t.contentHash,this.contentPreviewMetadata.commentRoleTypes),yield this.contentMetadataService.clearContentMetadata(t.contentHash),yield this.rootService.addLoadingPromise(new Promise(e=>setTimeout(e,300))),yield this.contentInfoDraft.clearDraft(),yield this._successDialog()}}))}getSendEmailOptions(){return this.contentPreviewMetadata.emailContent?{includeUnregistered:this.contentPreviewMetadata.emailContentIncludeUnregistered,roleTypes:this.contentPreviewMetadata.emailContentRoles}:null}sendEmailContent(e,t){return Object(u.a)(this,void 0,void 0,(function*(){this.store.dispatch(Object(C.a)({contentHash:e,options:t}))}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](k.a),r["\u0275\u0275directiveInject"](z.ProgramManager),r["\u0275\u0275directiveInject"](N.b),r["\u0275\u0275directiveInject"](V.a),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](r.ComponentFactoryResolver),r["\u0275\u0275directiveInject"](r.Injector),r["\u0275\u0275directiveInject"](W.MingaContent),r["\u0275\u0275directiveInject"](L.MingaGroupContent),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](U.c),r["\u0275\u0275directiveInject"](A.a),r["\u0275\u0275directiveInject"](G.a),r["\u0275\u0275directiveInject"](E.b),r["\u0275\u0275directiveInject"](H.g),r["\u0275\u0275directiveInject"](q.a),r["\u0275\u0275directiveInject"]($.i),r["\u0275\u0275directiveInject"](Q.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-content-draft-preview"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](J,3,r.ViewContainerRef),r["\u0275\u0275viewQuery"](X,3),r["\u0275\u0275viewQuery"](ee,3,r.ElementRef),r["\u0275\u0275viewQuery"](te,3),r["\u0275\u0275viewQuery"](h.d,1,r.ViewContainerRef),r["\u0275\u0275viewQuery"](h.c,1)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.previewView=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.successOverlayTemplate=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.previewControlsForm=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.expansionAccordion=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.previewExpansionPanels=e),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.expansionPanels=e)}},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:1,consts:[["previewView",""],["class","preview-controls-form",4,"mgFixed"],["successOverlayTemplate",""],[1,"preview-controls-form"],["previewControlsForm",""],[1,"controls-accordion"],["expansionAccordion",""],[3,"expanded","bordered",4,"ngFor","ngForOf"],[3,"expanded"],["matExpansionPanelContent",""],[1,"success-overlay"],[1,"checkmark-wrap"],[1,"mg-bodycopy"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"div",null,0),r["\u0275\u0275template"](2,re,5,1,"form",1),r["\u0275\u0275template"](3,ae,5,0,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"])),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("mgFixed","bottom"))},directives:[K.a,Y.E,Y.u,Y.v,h.a,i.n,h.c,h.f,h.g,h.d,Z.a],styles:[".preview-controls-form[_ngcontent-%COMP%]{left:0;right:0;padding:0;box-shadow:0 0 16px rgba(0,0,0,.17);background-color:#fff;max-height:100vh;overflow:auto}.controls-accordion[_ngcontent-%COMP%]{display:block;max-width:740px;margin:auto}.success-overlay[_ngcontent-%COMP%]{height:100%;text-align:center;position:relative}.success-overlay[_ngcontent-%COMP%]   .checkmark-wrap[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}.mat-expansion-panel.bordered[_ngcontent-%COMP%]{border-top:none}"]}),e})();var se=n("eJkR"),le=n("zkd0");let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[le.a,se.a,i.c,Y.m,h.b]]}),e})();var ce=n("YLbN"),ge=n("SYVq");const ue=["routerOutlet"];let he=(()=>{class e{constructor(e){this.contentBuilder=e}onOverlayClose(){return Object(u.a)(this,void 0,void 0,(function*(){return this.contentBuilder.emitDraftExit(),!0}))}onOverlayNext(){if(this.activeDraftStep)return this.activeDraftStep.nextStep()}onOverlayPrevious(){if(this.activeDraftStep)return this.activeDraftStep.previousStep()}hasOverlayNext(){if(!this.activeDraftStep)return!1;const e=this.activeDraftStep.getNextStep();return!!e&&{disabled:!this.activeDraftStep.nextEnabled,icon:e.icon,text:e.name}}hasOverlayPrevious(){if(!this.activeDraftStep)return!1;const e=this.activeDraftStep.getPreviousStep();return!!e&&{disabled:!this.activeDraftStep.previousEnabled,icon:e.icon,text:e.name}}registerOnOverlayNextUpdate(e){this.onOverlayNextUpdate=e}registerOnOverlayPreviousUpdate(e){this.onOverlayPreviousUpdate=e}registerOnOverlayNextDisabled(e){this.onOverlayNextDisabled=e}registerOnOverlayPreviousDisabled(e){this.onOverlayPreviousDisabled=e}registerOnOverlayConfig(e){this.onOverlayConfig=e}registerOnOverlayNavRefresh(e){this.refreshNav=e,this.initActiveDraftStep()}initActiveDraftStep(){this.onOverlayNextUpdate&&this.activeDraftStep&&(this.refreshNav&&this.refreshNav(),this.onOverlayNextUpdate(!0),this.onOverlayPreviousUpdate(!0),this.onOverlayConfig({background:""}),this.onEnableNextStepChange||(this.onEnableNextStepChange=this.activeDraftStep.onEnableNextStepChange.subscribe(()=>{this.activeDraftStep&&this.onOverlayNextDisabled(!this.activeDraftStep.nextEnabled)})),this.onEnablePreviousStepChange||(this.onEnablePreviousStepChange=this.activeDraftStep.onEnablePreviousStepChange.subscribe(()=>{this.onOverlayPreviousDisabled(!this.activeDraftStep.previousEnabled)})),this.onOverlayConfigChange||(this.onOverlayConfigChange=this.activeDraftStep.onOverlayConfigChange.subscribe(e=>{this.onOverlayConfig(e)})),this._cleanupActiveDraftStep=()=>{this.onEnablePreviousStepChange&&this.onEnablePreviousStepChange.unsubscribe(),this.onEnableNextStepChange&&this.onEnableNextStepChange.unsubscribe(),this.onOverlayConfigChange&&this.onOverlayConfigChange.unsubscribe()},this.activeDraftStep.refreshNav=this.refreshNav)}onRouterActivate(e){e instanceof j?(this.activeDraftStep=e,setTimeout(()=>this.initActiveDraftStep(),0)):delete this.activeDraftStep}onRouterDeactivate(e){delete this.activeDraftStep,this._cleanupActiveDraftStep&&this._cleanupActiveDraftStep()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](ce.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-module-content-root"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](ue,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.routerOutlet=e.first)}},decls:3,vars:1,consts:[["mode","override",3,"component"],[3,"activate","deactivate"],["routerOutlet",""]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"mg-legacy-overlay-nav",0),r["\u0275\u0275elementStart"](1,"router-outlet",1,2),r["\u0275\u0275listener"]("activate",(function(e){return t.onRouterActivate(e)}))("deactivate",(function(e){return t.onRouterDeactivate(e)})),r["\u0275\u0275elementEnd"]()),2&e&&r["\u0275\u0275property"]("component",t)},directives:[ge.a,a.l],encapsulation:2}),e})();var pe=n("Q2Ze"),me=n("i1AJ"),fe=n("8p1t"),ve=n("QSFu"),ye=n("9sQ6"),Ce=n("w8an");const Me=["form"];function be(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.generic.error.tooLong")))}function Oe(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.title.error.required")))}function we(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",8),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.announcementTitle.length," / 255")}}let De=(()=>{class e extends j{constructor(e,t,n,i,r){super(e,t,n,i,r),this.route=e,this.router=t,this.matDialog=n,this.snackBar=i,this.groupsFacadeService=r,this.announcementTitle="",this.announcementBody=""}isAnnouncementTitleDirty(){return this.contentInfoDraft.isFieldDirty("title")}ngAfterViewInit(){this.form&&this.form.statusChanges&&this.form.statusChanges.subscribe(e=>{"VALID"===e?this.enableNextStep():this.disableNextStep()})}getPreviousStep(){return{name:"Cancel",icon:"close"}}previousStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.exitDraft()}))}getNextStep(){return{name:"Preview",icon:"forward"}}nextStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.navigateToPreview()}))}mgContentInfoDraftReady(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.cloneDraftMergedWithInitialFetchIfNeeded();this.announcementBody=e.body,this.announcementTitle=e.title}))}isBodyDirty(){return this.contentInfoDraft.isFieldDirty("body")}onAnnouncementTitleChange(e){this.contentInfoDraft.saveToDraft("title",e)}onAnnouncementBodyChange(e){this.contentInfoDraft.saveToDraft("body",e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-create-announcement"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](Me,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:17,consts:[["form","ngForm"],[1,"title-input"],["mgFormField","",1,"form-input-hpadding"],["mgMentionable2","inline","allowedTags","mg-mention","name","announcementTitle","autocomplete","off",3,"required","multiline","maxlength","ngModel","ngModelChange"],["announcementHeadlineInput","ngModel"],[4,"ngIf"],["align","end",4,"ngIf"],["name","announcementBody","placeholder","Tell people a bit more... ",1,"form-input-hpadding",3,"richContent","customToolbar","maxlength","ngModel","ngModelChange"],["align","end"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",null,0),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"mat-form-field",2),r["\u0275\u0275elementStart"](4,"mat-label"),r["\u0275\u0275text"](5,"Headline"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"mg-textarea",3,4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.announcementTitle=e}))("ngModelChange",(function(e){return t.onAnnouncementTitleChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,be,3,3,"mat-error",5),r["\u0275\u0275template"](9,Oe,3,3,"mat-error",5),r["\u0275\u0275template"](10,we,2,1,"mat-hint",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"mg-body-input",7),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.announcementBody=e}))("ngModelChange",(function(e){return t.onAnnouncementBodyChange(e)})),r["\u0275\u0275pipe"](12,"hasPermission"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](7);r["\u0275\u0275advance"](6),r["\u0275\u0275classProp"]("mg-draft-dirty",t.isAnnouncementTitleDirty()),r["\u0275\u0275property"]("required",!0)("multiline",!1)("maxlength",255)("ngModel",t.announcementTitle),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==e.control||null==e.control.errors?null:e.control.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==e.control?null:e.control.touched)&&(null==e.control||null==e.control.errors?null:e.control.errors.required)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.announcementTitle),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("mg-draft-dirty",t.isBodyDirty()),r["\u0275\u0275property"]("richContent",r["\u0275\u0275pipeBind1"](12,15,"CONTENT_HTML_INCLUDE"))("customToolbar",!1)("maxlength",5e3)("ngModel",t.announcementBody)}},directives:[Y.E,Y.u,Y.v,pe.d,me.a,pe.h,fe.a,ve.a,Y.B,Y.n,Y.t,Y.w,i.o,ye.a,pe.c,pe.g],pipes:[Ce.a,o.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");mat-form-field[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{color:#737373}mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;box-sizing:border-box}@media (orientation:landscape){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:445.8461538462px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:14px}}.form-input-hpadding[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.pseudo-mg-input[_ngcontent-%COMP%]{color:#737373;border-bottom:1px solid #ccc}.pseudo-mg-input[_ngcontent-%COMP%]     .textarea-placeholder{color:#2f2f2f}.input-margin[_ngcontent-%COMP%]{margin:8px}.input-group[_ngcontent-%COMP%]{margin:16px;--mg-form-field-margin:4px 0}.input-group.vmargin-only[_ngcontent-%COMP%]{margin:16px 0}.input-group[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%]{padding:0;margin:16px 0}mat-form-field[mgFormField][_ngcontent-%COMP%] + .input-group[_ngcontent-%COMP%]{margin-top:0}.input-hpadding[_ngcontent-%COMP%]{padding-left:14px;padding-right:14px}.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:17px}}.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e2e2e2}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;color:#737373;font-size:16px;font-weight:400;font-family:Muli,sans-serif}.text-input[_ngcontent-%COMP%]   input.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-padding[_ngcontent-%COMP%]{padding:16px}.body-input[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;color:#737373}.body-input.mg-draft-dirty[_ngcontent-%COMP%], .mg-label[_ngcontent-%COMP%]{color:#2f2f2f}.mg-label[_ngcontent-%COMP%]{margin-top:8px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]{margin-left:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]:first-child{margin-top:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label{align-items:flex-start}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content{text-align:left;padding-bottom:.5em}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content .toggle-subtext{display:block;white-space:normal;margin-top:1em}form[_ngcontent-%COMP%]{padding-top:16px}']}),e})();var Se=n("EBcp"),Fe=n("HxU+"),xe=n("ppIK"),Pe=n("+/Hu"),Ie=n("Ogcz");let _e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[xe.a,Se.a,Ie.b,Fe.a,U.b,Pe.a,i.c,Y.m,pe.f,o.c]]}),e})();function Te(e,t){const n=Object.assign(Object.assign({},t),{contentHash:e.getContentHash(),contentContextHash:e.getContentContextHash()});delete n.moderation;const i=e.getModerationResult();return i&&(n.moderation=F.ModerationResultMapper.toIModerationResult(i)),n}var Be=n("6sqc"),Ee=n("4doY"),je=n("wXoJ");const Re=new Set,ke=new Map;class ze{constructor(e,t){if(this.userStorage=e,this._storagePrefix=t,!t)throw new Error("ContentInfoDraft storage key may not be empty");if(Re.has(t))throw new Error(`ContentInfoDraft storage key '${t}' already created. Cannot create multiple with same storage key. Check to make sure you dont have an injectable service as a provider in multiple sibbling modules.`);Re.add(t)}get storagePrefix(){return this._storagePrefix}ensureInfoDraftInstance(e){const t=this.storagePrefix+e;return ke.has(t)||ke.set(t,this.createInfoDraftInstance(e)),ke.get(t)}}var Ne=n("orC8"),Ve=n("PmRf"),We=n("JF7H");let Le=(()=>{class e extends ze{constructor(e,t,n,i,r,a){super(e,"AnnouncementContent"),this.componentResolver=t,this.injector=n,this.announcement=i,this.auth=r,this.permissions=a}createInfoDraftInstance(e){return new Ue(this.userStorage,this.componentResolver,this.auth,this.injector,this.announcement,this.storagePrefix,e,this.permissions)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ne.a),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](Ve.Announcement),r["\u0275\u0275inject"](We.a),r["\u0275\u0275inject"](U.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class Ue extends _{constructor(e,t,n,i,r,a,o,l){super(e,l,a,o),this.auth=n,this.injector=i,this.announcement=r,this.permissions=l,this.componentFactory=t.resolveComponentFactory(s.a)}get type(){return"announcement"}get contentType(){return"ANNOUNCEMENT"}fetchInitialDraftInfo(){return Object(u.a)(this,void 0,void 0,(function*(){if(!this.contentHash)return;const e=new Ee.ContentInfoQuery;e.setContentHash(this.contentHash);const t=yield this.announcement.getInfo(e);this.setInitialDraft({body:t.getBody(),title:t.getTitle()})}))}hasImageContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!1}))}hasTextContent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft();return!!e.body||!!e.title}))}createEmptyDraft(){return{title:"",body:""}}submitDraftNew(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.cloneDraftMergedWithInitialFetchIfNeeded(),t=new Be.AnnouncementInfo;return t.setBody(e.body),t.setTitle(e.title),Te(yield this.announcement.new(t),{type:this.type})}))}submitDraftUpdate(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.initialDraftDifference(),t=new Be.DeltaAnnouncementInfo;if(t.setContentHash(this.contentHash),"body"in e){const n=new O.StringDelta;n.setNewString(e.body),t.setBody(n)}if("title"in e){const n=new O.StringDelta;n.setNewString(e.title),t.setTitle(n)}return Te(yield this.announcement.update(t),{type:this.type})}))}createPreviewComponent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.componentFactory.create(this.injector);return yield this.updatePreviewComponent(e),e}))}updatePreviewComponent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=yield this.cloneDraftMergedWithInitialFetchIfNeeded(),n=Object(je.b)(t.body);e.instance.disableActions=!1,e.instance.contentHash="",e.instance.contextHash="",e.instance.content={body:yield this.bodyAsPreviewHtml(n),title:t.title}}))}}class Ae{resolve(e,t){return Object(u.a)(this,void 0,void 0,(function*(){const t=e.params.contentHash;if(t&&"string"!=typeof t)throw new Error("Wrong type for 'contentHash' param in ContentInfoDraftServiceResolver. Must be string");let n,i=null;switch(e.url[0].path){case"m":n="minga";break;case"p":n="program"}return n?(i={type:n},"program"===n&&(i.hash=e.params.programHash)):i=null,this.resolveFromContentHash(t||"",i)}))}}let Ge=(()=>{class e extends Ae{constructor(e){super(),this.announcementInfoDraftService=e}resolveFromContentHash(e){return this.announcementInfoDraftService.ensureInfoDraftInstance(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Le))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var He=n("jaBy");const qe=n("oAJy").createInstance({name:"mgBannerHeadlineInfo"});function $e(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=qe.getItem(e);if(!t)throw new Error("call storeBannerHeadlineOptions before calling loadBannerHeadlineOptions");return t}))}function Qe(e,t){return Object(u.a)(this,void 0,void 0,(function*(){yield qe.setItem(e,t)}))}var Ke=n("TNy8"),Ye=n("VE1M"),Ze=n("quSY"),Je=n("sK7p"),Xe=n("vaq4"),et=n("Fudl"),tt=n("Kyc/"),nt=n("nbn/"),it=n("VDRc"),rt=n("T0RT"),at=n("jMqV"),ot=n("e6WT"),st=n("ZTz/"),lt=n("ura0"),dt=n("iBVM"),ct=n("9PXH"),gt=n("rs8O"),ut=n("UhP/"),ht=n("ifhk");const pt=["imageUploadControl"],mt=["form"],ft=["titleField"],vt=["bannerPreviewWrap"],yt=["ticketPriceInput"];function Ct(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",49,50),r["\u0275\u0275elementStart"](2,"mg-file-upload",51,52),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().eventImageAsset=t}))("mgModelStatusChanges",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onFileUploadStatusChange(t)}))("previewUrlOutput",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().customImagePreviewUrl=t})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("previewAspectRatio",9/16)("previewSize",600)("file",e.customImage[0])("ngModel",e.eventImageAsset)}}function Mt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.generic.error.tooLong")))}function bt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.title.error.required")))}function Ot(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",53),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate2"]("",e.eventTitle.length," / ",e.titleMaxLength,"")}}function wt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error",54),r["\u0275\u0275elementStart"](1,"strong"),r["\u0275\u0275elementStart"](2,"u"),r["\u0275\u0275text"](3,"Banner selection is required."),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())}function Dt(e,t){1&e&&r["\u0275\u0275element"](0,"div",37)}const St=function(){return{value:"Ticket URL"}};function Ft(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind2"](2,1,"input.generic.error.required",r["\u0275\u0275pureFunction0"](4,St))," "))}function xt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1," Instructions are required "),r["\u0275\u0275elementEnd"]())}function Pt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.ticketInfo.length," / 100 ")}}function It(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind2"](2,1,"input.generic.error.required",r["\u0275\u0275pureFunction0"](4,St))," "))}function _t(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",55),r["\u0275\u0275elementStart"](2,"div",56),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.enableTicketUrl=!t.enableTicketUrl})),r["\u0275\u0275text"](3," Buy tickets online? "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",26),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.enableTicketUrl=!t.enableTicketUrl})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"mat-slide-toggle",57),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().enableTicketUrl=t})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"div",28),r["\u0275\u0275elementStart"](7,"mat-form-field",29),r["\u0275\u0275elementStart"](8,"mat-label"),r["\u0275\u0275text"](9,"URL"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"input",58,59),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().ticketUrl=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onTicketUrlChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](12,Ft,3,5,"mat-error",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",55),r["\u0275\u0275elementStart"](14,"div",56),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.enableTicketInfo=!t.enableTicketInfo})),r["\u0275\u0275text"](15," Buy tickets in person? "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"div",26),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.enableTicketInfo=!t.enableTicketInfo})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"mat-slide-toggle",60),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().enableTicketInfo=t})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"div",28),r["\u0275\u0275elementStart"](19,"mat-form-field",29),r["\u0275\u0275elementStart"](20,"mat-label"),r["\u0275\u0275text"](21,"Instructions (100 character count)"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"mg-textarea",61,62),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().ticketInfo=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onTicketInfoChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](24,xt,2,0,"mat-error",8),r["\u0275\u0275template"](25,Pt,2,1,"mat-hint",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](26,"mat-form-field",29),r["\u0275\u0275elementStart"](27,"span",63),r["\u0275\u0275text"](28,"$\xa0"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"mat-label"),r["\u0275\u0275text"](30,"Ticket Price"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](31,"input",64,65),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onTicketPriceChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](33,It,3,5,"mat-error",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](34,"div",37),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](11),t=r["\u0275\u0275reference"](23),n=r["\u0275\u0275reference"](32),i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",i.enableTicketUrl),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("expand",i.enableTicketUrl),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngModel",i.ticketUrl)("required",i.enableTicketUrl),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==e.control||null==e.control.errors?null:e.control.errors.required),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",i.enableTicketInfo),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("expand",i.enableTicketInfo),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngModel",i.ticketInfo)("required",i.enableTicketInfo),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",(null==t.control?null:t.control.touched)&&(null==t.control||null==t.control.errors?null:t.control.errors.required)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",i.ticketInfo.length),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",i.ticketPriceString),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==n.control||null==n.control.errors?null:n.control.errors.required)}}function Tt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.generic.error.tooLong")))}function Bt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",53),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.eventHostedBy.length," / 255")}}function Et(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.generic.error.tooLong")))}function jt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",53),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.eventLocation.length," / 255")}}function Rt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-points-selector",66),r["\u0275\u0275listener"]("pointsClick",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onPointsChange(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("title","Points awarded to people who attend this event")("selectedPoints",e.points)}}function kt(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",67),r["\u0275\u0275element"](1,"span",68),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("value",e),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background-color",n.getEventCategoryColor(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",n.getEventCategoryPrettyString(e)," ")}}function zt(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1,"Event category is required"),r["\u0275\u0275elementEnd"]())}function Nt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-icon",76),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]().index;return r["\u0275\u0275nextContext"]().removeEventDay(t)})),r["\u0275\u0275text"](1,"minus-icon-o"),r["\u0275\u0275elementEnd"]()}}function Vt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-expansion-panel",69),r["\u0275\u0275elementStart"](1,"mat-expansion-panel-header"),r["\u0275\u0275elementStart"](2,"mat-panel-title",42),r["\u0275\u0275elementStart"](3,"span"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,Nt,2,0,"mg-icon",70),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"div",43),r["\u0275\u0275elementStart"](7,"div",71),r["\u0275\u0275elementStart"](8,"div",72),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.index;return r["\u0275\u0275nextContext"]().toggleAllDay(n)})),r["\u0275\u0275text"](9," All day event? "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"div",26),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.index;return r["\u0275\u0275nextContext"]().toggleAllDay(n)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"mat-slide-toggle",73),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.$implicit.allDay=e}))("ngModelChange",(function(n){r["\u0275\u0275restoreView"](e);const i=t.index;return r["\u0275\u0275nextContext"]().onAllDayChange(i,n)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"mg-date-time-picker",74),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.$implicit.startDate=e}))("ngModelChange",(function(n){r["\u0275\u0275restoreView"](e);const i=t.index;return r["\u0275\u0275nextContext"]().onStartDateChange(i,n)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"mg-date-time-picker",75),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.$implicit.endDate=e}))("ngModelChange",(function(n){r["\u0275\u0275restoreView"](e);const i=t.index;return r["\u0275\u0275nextContext"]().onEndDateChange(i,n)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngClass.xs","mobile")("expanded",i.showLatestAddedEventDay?n==i.eventDays.length-1:0==n),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngClass",(null==i.eventDays[n]?null:i.eventDays[n].error)&&"required-error"),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate2"]("DAY ",n+1," ",null!=i.eventDays[n]&&i.eventDays[n].error?"(Dates missing or invalid)":"",""),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n>0&&!i.contentHash),r["\u0275\u0275advance"](6),r["\u0275\u0275propertyInterpolate1"]("name","allDay_",n,""),r["\u0275\u0275property"]("ngModel",e.allDay),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate1"]("name","eventStartDate_",n,""),r["\u0275\u0275property"]("required",!0)("stackInputs",i.mobileInputs)("ngModel",e.startDate)("dateOnly",e.allDay)("dateError",null==e?null:e.error),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate1"]("name","eventEndDate_",n,""),r["\u0275\u0275property"]("required",!e.allDay)("stackInputs",i.mobileInputs)("minDate",e.startDate)("ngModel",e.endDate)("canReset",!0)("dateOnly",e.allDay)}}function Wt(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",77),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().addEventDay()})),r["\u0275\u0275elementStart"](1,"mg-icon"),r["\u0275\u0275text"](2,"post"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"span"),r["\u0275\u0275text"](4,"Add Additional day"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}const Lt=function(){return{standalone:!0}};let Ut=(()=>{class e extends j{constructor(e,t,n,i,r,a,o){super(e,t,n,i,r),this.route=e,this.router=t,this.matDialog=n,this.snackBar=i,this.groupsFacadeService=r,this.eventService=a,this.pointsManager=o,this.MAX_TICKET_PRICE=99999999999.99,this.bannerSearchQuery="",this.titleMaxLength=70,this.eventCategoryKeys=Object.keys(Ye.EventCategoryEnum),this.BannerLibrary=Ke.BannerLibrary,this._imageUploadControlSub=null,this.filterCategories=[],this.selectedBannerHash="",this.eventTitle="",this.eventBody="",this.eventImageAsset="",this.eventLocation="",this.eventHostedBy="",this.ticketed=!1,this.enableTicketUrl=!1,this.enableTicketInfo=!1,this.ticketUrl="",this.ticketInfo="",this.ticketPriceString="",this.ticketPrice=0,this.bannerHeadlineOptions=null,this._bannerSelectionActive=!0,this.draftReadyFinish=!1,this.eventCode="",this.allowGoing=!0,this.enableEventCode=!1,this.mobileInputs=!1,this.points=0,this.bannerCategories=[],this.eventDays=[{allDay:!1}],this.showLatestAddedEventDay=!1,this.debounceEventTitle="",this.customImage=[],this.canAllocateContentPoints$=this.pointsManager.getCanCurrentUserAllocatePointsObs()}set imageUploadControl(e){if(this._imageUploadControlSub&&(this._imageUploadControlSub.unsubscribe(),this._imageUploadControlSub=null),!e)return;const t=new Ze.a;t.add(e.statusChanges.subscribe(e=>{"VALID"===e&&this.hasCustomImage&&this.saveEventImage()})),this._imageUploadControlSub=t}onResize(e){this.initInputSizes()}get hasCustomImage(){return this.customImage&&this.customImage.length>0}set bannerSelectionActive(e){this._bannerSelectionActive=e,this.checkStatus()}get bannerSelectionActive(){return this._bannerSelectionActive}get bannerPreviewWrapOffsetTop(){return this.bannerPreviewWrap?this.bannerPreviewWrap.nativeElement.offsetTop:0}get bannerPreviewWrapHeight(){return this.bannerPreviewWrap?this.bannerPreviewWrap.nativeElement.clientHeight:0}get bannerPreviewWrapWidth(){return this.bannerPreviewWrap?this.bannerPreviewWrap.nativeElement.clientWidth:0}get showBannerPreview(){return this.eventImageAsset||this.customImage.length>0}ngOnInit(){this.initInputSizes()}initInputSizes(){const e=window.innerWidth;this.mobileInputs=e<415}_getEventCategoryKey(e){return Object(v.$enum)(Ye.EventCategoryEnum).asValueOrDefault(e,Ye.EventCategoryEnum.OTHER)}getEventCategoryColor(e){const t=this._getEventCategoryKey(e);return Object(Ye.eventCategoryColor)(t)}getEventCategoryPrettyString(e){const t=this._getEventCategoryKey(e);return Object(Ye.eventCategoryPrettyText)(t)}onCustomImageChange(e){e&&e.length>0&&(this.selectedBannerHash="",this.selectedBanner=null,this.eventImageAsset="",this.bannerHeadlineOptions=null,this.bannerSelectionActive=!1)}onBannerSelected(e){e&&(this.selectedBanner=e,this.bannerSelectionActive=!1,this.bannerHeadlineOptions=e.headlineOptions,this.eventImageAsset=Object(He.c)(e.image),this.titleInput&&this.titleInput.focus(),this.saveEventImage())}ngAfterViewInit(){this.form.statusChanges.subscribe(()=>{this.checkStatus()})}checkStatus(){this.nextStepEnabled?this.enableNextStep():this.disableNextStep(),this.refreshNav&&this.refreshNav()}get nextStepEnabled(){return!0}get validPrice(){return!(this.ticketPrice&&this.ticketPrice>this.MAX_TICKET_PRICE)}getPreviousStep(){return{name:"Cancel",icon:"close"}}previousStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.exitDraft()}))}getNextStep(){return{name:"Preview",icon:"forward"}}validateForm(){var e,t,n;const i=this.form.controls;let r=!0;this.eventCategory||(i.eventCategory.markAsTouched(),r=!1),this.eventTitle||(i.eventTitle.markAsTouched(),r=!1),this.validPrice||(r=!1),i.eventBanner.value||(null===(e=i.customImageUpload)||void 0===e?void 0:e.value)||(i.eventBanner.markAsTouched(),r=!1);let a=0;for(const o of this.eventDays)o.allDay&&o.startDate?o.error=!1:(o.startDate||(o.error=!0,i[`eventStartDate_${a}`].markAsTouched()),o.endDate||(o.error=!0,i[`eventEndDate_${a}`].markAsTouched()),(null===(t=o.startDate)||void 0===t?void 0:t.getTime())>=(null===(n=o.endDate)||void 0===n?void 0:n.getTime())||this._hasDuplicateEventDays()?(o.error=!0,r=!1):o.startDate&&o.endDate&&(o.error=!1),a++);return this.enableEventCode&&!this.eventCode&&(i.eventCode.markAsTouched(),r=!1),"VALID"!==this.form.status&&(r=!1),r}nextStep(){return Object(u.a)(this,void 0,void 0,(function*(){this.validateForm()&&(yield this.navigateToPreview())}))}mgContentInfoDraftReady(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.cloneDraftMergedWithInitialFetchIfNeeded();if(this.eventTitle=e.title,this.debounceEventTitle=e.title,this.eventBody=e.body,this.eventImageAsset=e.bannerAsset,this.allowGoing=e.allowGoing,this.eventCode=e.eventCode,this.enableEventCode=!!e.eventCode,this.eventHostedBy=e.hostedBy,this.eventLocation=e.location,this.selectedBannerHash=e.banner,this.points=e.points,this.ticketUrl=e.ticketUrl,this.ticketInfo=e.ticketInfo,this.ticketed=e.hasTickets,this.enableTicketInfo=!!e.ticketInfo,this.enableTicketUrl=!!e.ticketUrl,e.ticketPrice){this.ticketPrice=e.ticketPrice;const t=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});this.ticketPriceString=t.format(this.ticketPrice)}e.eventCategory&&(this.eventCategory=this._getEventCategoryKey(e.eventCategory)),this.eventDays=[];const t={allDay:e.allDay};if(e.startDate&&(t.startDate=new Date(e.startDate)),e.endDate&&(t.endDate=new Date(e.endDate)),this.eventDays.push(t),e.additionalDates.length)for(let n=0;n<e.additionalDates.length;n++){if(0==n)continue;const t=e.additionalDates[n],i={allDay:t.allDay};t.startDate&&(i.startDate=new Date(t.startDate)),t.endDate&&(i.endDate=new Date(t.endDate)),t.contentId&&(i.contentId=t.contentId),this.eventDays.push(i)}e.bannerHeadlineOptions?(this.bannerHeadlineOptions=e.bannerHeadlineOptions,yield Qe(this.eventImageAsset,this.bannerHeadlineOptions)):this.eventImageAsset&&(this.bannerHeadlineOptions=yield $e(this.eventImageAsset)),this.draftReadyFinish=!0}))}categoryToggle(e,t){if(t)this.filterCategories.push(e);else{const t=this.filterCategories.indexOf(e);t>-1&&this.filterCategories.splice(t,1)}}onEventTitleChange(e){this.contentInfoDraft.saveToDraft("title",e),clearTimeout(this.debounceEventTitleTimeout),this.debounceEventTitleTimeout=setTimeout(()=>{this.debounceEventTitle=this.eventTitle},600)}toggleTicked(){this.ticketed=!this.ticketed,this.contentInfoDraft.saveToDraft("hasTickets",this.ticketed),this.ticketed||(this.ticketUrl="",this.onTicketUrlChange(this.ticketUrl))}toggleAllDay(e){this.eventDays.length>e&&(this.eventDays[e].allDay=!this.eventDays[e].allDay)}formatPrice(e=this.ticketPriceString){if((e=(e=e.replace(/[^\d]/gim,"")).replace(/^0+(?!$)/gim,"")).length){const t=e.replace(".","");let n=t.substring(-2,t.length-2);n.length||(n="0");const i=t.substring(t.length-2,t.length);this.ticketPriceString=n+"."+i}else this.ticketPriceString="";this.ticketPriceInput&&this.ticketPriceInput.value!=this.ticketPriceString&&this.ticketPriceInput.control.setValue(this.ticketPriceString)}onEventHostedByChange(e){this.contentInfoDraft.saveToDraft("hostedBy",e)}onEventLocationChange(e){this.contentInfoDraft.saveToDraft("location",e)}onTicketUrlChange(e){this.contentInfoDraft.saveToDraft("ticketUrl",e)}onTicketInfoChange(e){this.contentInfoDraft.saveToDraft("ticketInfo",e)}onTicketPriceChange(e){this.formatPrice(e),this.ticketPriceString&&(this.ticketPrice=parseFloat(this.ticketPriceString),this.validPrice?this.contentInfoDraft.saveToDraft("ticketPrice",this.ticketPrice):this.snackBar.open("Too high a ticket price, use a lower price and try again."))}onEventCategoryChange(e){this.contentInfoDraft.saveToDraft("eventCategory",e)}onEventBodyChange(e){this.contentInfoDraft.saveToDraft("body",e)}addEventDay(){var e,t;const n={allDay:!1};(null===(e=this.eventDays[0])||void 0===e?void 0:e.startDate)&&(n.startDate=null===(t=this.eventDays[0])||void 0===t?void 0:t.startDate),this.eventDays.push(n),this.showLatestAddedEventDay=!0}removeEventDay(e){this.eventDays[e]&&this.eventDays.splice(e,1)}onStartDateChange(e,t){const n=this.eventDays[e];n&&n.startDate&&(n.allDay&&(t.setHours(0),t.setMinutes(0)),0==e?this.contentInfoDraft.saveToDraft("startDate",t.getTime()):this.contentInfoDraft.saveToDraft("additionalDates",this.eventDays),!n.endDate||n.endDate&&n.startDate>=n.endDate?this._updateEndDateFromStart(e):n.allDay?this._updateEndDateToEndofTheDay(e):this.checkStatus())}_hasDuplicateEventDays(){var e,t,n,i;for(let r=0;r<this.eventDays.length;r++){const a=this.eventDays[r];for(let o=r+1;o<this.eventDays.length;o++){const r=this.eventDays[o],s=null===(e=a.startDate)||void 0===e?void 0:e.getTime(),l=null===(t=r.startDate)||void 0===t?void 0:t.getTime(),d=null===(n=a.endDate)||void 0===n?void 0:n.getTime(),c=null===(i=r.endDate)||void 0===i?void 0:i.getTime();if(s==l&&d==c)return!0}}return!1}onEndDateChange(e,t){if(!t)return;const n=this.eventDays[e];n&&t&&(n.allDay&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0)),this.eventDays[e].endDate=t,n.startDate&&t.getTime()<=n.startDate.getTime()&&this.snackBar.open("The end date for this event must be after the start date."),this._hasDuplicateEventDays()&&this.snackBar.open("Cannot have matching start and end times for recurring events."),0==e?this.contentInfoDraft.saveToDraft("endDate",t.getTime()):this.contentInfoDraft.saveToDraft("additionalDates",this.eventDays),this.checkStatus())}onAllowGoingChange(e){this.contentInfoDraft.saveToDraft("allowGoing",e)}onEnableEventCodeChange(){this.enableEventCode||(this.eventCode="",this.onEventCodeChange(""))}onEventCodeChange(e){this.contentInfoDraft.saveToDraft("eventCode",e)}onAllDayChange(e,t){this.eventDays[e]&&(this.eventDays[e].allDay=t,0==e?this.contentInfoDraft.saveToDraft("allDay",t):this.contentInfoDraft.saveToDraft("additionalDates",this.eventDays),this.eventDays[e].startDate&&this.onStartDateChange(e,this.eventDays[e].startDate),this._updateEndDateFromStart(e))}onPointsChange(e){this.contentInfoDraft.saveToDraft("points",e)}saveEventImage(){Qe(this.eventImageAsset,this.bannerHeadlineOptions),this.contentInfoDraft.saveToDraft("bannerHeadlineOptions",this.bannerHeadlineOptions),this.contentInfoDraft.saveToDraft("banner",this.selectedBannerHash),this.contentInfoDraft.saveToDraft("bannerAsset",this.eventImageAsset)}onFileUploadStatusChange(e){"VALID"===e&&this.saveEventImage()}isTitleDirty(){return this.contentInfoDraft.isFieldDirty("title")}isLocationDirty(){return this.contentInfoDraft.isFieldDirty("location")}isHostedByDirty(){return this.contentInfoDraft.isFieldDirty("hostedBy")}isRecurringEditOrCreate(){return this.eventDays.length>1&&this.contentHash||!this.contentHash}_updateEndDateFromStart(e){var t;(null===(t=this.eventDays[e])||void 0===t?void 0:t.startDate)&&(this.eventDays[e].endDate=new Date(this.eventDays[e].startDate.getTime()+36e5),this.onEndDateChange(e,this.eventDays[e].endDate))}_updateEndDateToEndofTheDay(e){const t=this.eventDays[e];if(!t||!t.startDate)return;const n=new Date(t.startDate.getTime());n.setHours(23),n.setMinutes(59),this.eventDays[e].endDate=n,this.onEndDateChange(e,this.eventDays[e].endDate)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b),r["\u0275\u0275directiveInject"](Je.Event),r["\u0275\u0275directiveInject"](Xe.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-create-event"]],viewQuery:function(e,t){if(1&e&&(r["\u0275\u0275viewQuery"](pt,3),r["\u0275\u0275viewQuery"](mt,3),r["\u0275\u0275viewQuery"](ft,3),r["\u0275\u0275viewQuery"](vt,1),r["\u0275\u0275viewQuery"](yt,1)),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.imageUploadControl=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.titleInput=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.bannerPreviewWrap=e.first),r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.ticketPriceInput=e.first)}},hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("resize",(function(e){return t.onResize(e)}),!1,r["\u0275\u0275resolveWindow"])},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:85,vars:72,consts:[[1,"create-event-form"],["form","ngForm"],["class","file-input-wrap form-input-container-border",4,"ngIf"],[1,"title-input"],["mgFormField","","mgHideOptionalMarker","",1,"form-input-hpadding"],["matSuffix","",1,"camera-icon",3,"click"],["mgMentionable2","inline","allowedTags","mg-mention","name","eventTitle","required","","autocomplete","off",3,"multiline","maxlength","ngModel","ngModelChange"],["titleInput","ngModel","titleField",""],[4,"ngIf"],["align","end",4,"ngIf"],[1,"banner-edit-wrap"],[1,"banner-select-wrap"],[1,"banner-select-fade-left"],["name","eventBanner",3,"categories","query","ngModel","ngModelChange","selectedBannerChange"],[1,"banner-select-fade-right"],[1,"mg-minicopy","filter-text"],[1,"mg-centered",3,"allowDeselect","ngModelOptions","ngModel","ngModelChange"],["fxLayout","column",1,"mg-centered"],[1,"mg-minicopy"],["customTitleText","Upload Custom Image","displayStyle","BUTTON",1,"mg-minicopy",3,"multiple","ngModelOptions","ngModel","ngModelChange"],["class","banner-error",4,"ngIf"],["name","eventBody","placeholder","Event description...",1,"form-input-hpadding",3,"richContent","maxlength","ngModel","ngModelChange"],["class","divider",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"all-day-toggle-container","form-input-hpadding"],[1,"ticket-toggle-text","mg-minicopy",3,"click"],["src","assets/ticket-events-icon.png"],["fxFlex","",3,"click"],["name","ticketed",1,"no-mg",3,"ngModel","ngModelChange"],[1,"ticket-url-container"],["mgFormField","",1,"form-input-hpadding"],["mgMentionable2","inline","allowedTags","mg-mention","name","eventHostedBy",3,"multiline","maxlength","ngModel","ngModelChange"],["hostedByInput","ngModel"],["matInput","","autocomplete","off","maxlength","255","minlength","2","name","eventLocation",3,"ngModel","ngModelChange"],["locationInput","ngModel"],[3,"title","selectedPoints","pointsClick",4,"ngIf"],["name","eventCategory",1,"event-category-select",3,"ngModel","required","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"divider"],[1,"section-padding","mg-bodycopy-bold"],["class","post-input no-material bordered inner-panel",3,"ngClass.xs","expanded",4,"ngFor","ngForOf"],["class","section-padding add-day-row",3,"click",4,"ngIf"],[1,"post-input","no-material","bordered",3,"ngClass.xs"],[1,"mg-bodycopy-bold",3,"ngClass"],[1,"post-event-panel-body","mg-minicopy"],["labelPostion","'before'","name","allowGoingToggle",1,"post-event-going-toggle","post-black","post-step-spacing","post-input","input-group","toggle-with-subtext",3,"ngModel","ngModelChange"],[1,"toggle-subtext","mg-microtext"],["mat-suffix","","labelPostion","'before'","name","enableEventCodeToggle",1,"post-event-code-toggle","post-black","post-step-spacing","post-input","input-group","toggle-with-subtext",3,"ngModel","disabled","ngModelChange"],["mgFormField","",1,"input-group","event-code-wrapper"],["matInput","","name","eventCode","autocomplete","off","autocapitalize","none",3,"ngModel","required","disabled","ngModelChange"],[1,"file-input-wrap","form-input-container-border"],["bannerPreviewWrap",""],["name","customImageUpload",3,"previewAspectRatio","previewSize","file","ngModel","ngModelChange","mgModelStatusChanges","previewUrlOutput"],["imageUploadControl","ngModel"],["align","end"],[1,"banner-error"],["fxLayout","row","fxLayoutAlign","center center",1,"form-input-hpadding","toggle-container"],[1,"ticket-toggle-text","sub-toggle","mg-minicopy",3,"click"],["name","enableTicketUrl",1,"no-mg",3,"ngModel","ngModelChange"],["matInput","","autocomplete","off","name","ticketUrlInput",3,"ngModel","required","ngModelChange"],["ticketUrlInput","ngModel"],["name","enableTicketInfo",1,"no-mg",3,"ngModel","ngModelChange"],["autocomplete","off","name","ticketInfoInput","maxlength","100","mgMentionable2","inline","allowedTags","mg-mention","type","text",3,"ngModel","required","ngModelChange"],["ticketInfoInput","ngModel"],["matPrefix",""],["matInput","","autocomplete","off","name","ticketPriceInput",3,"ngModel","ngModelChange"],["ticketPriceInput","ngModel"],[3,"title","selectedPoints","pointsClick"],[3,"value"],[1,"event-category-circle"],[1,"post-input","no-material","bordered","inner-panel",3,"ngClass.xs","expanded"],[3,"click",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"all-day-toggle-container"],[1,"all-day-toggle-text","mg-minicopy",3,"click"],[1,"no-mg",3,"name","ngModel","ngModelChange"],["datePlaceholder","Start date","timePlaceholder","Start time",1,"input-body-color",3,"required","stackInputs","name","ngModel","dateOnly","dateError","ngModelChange"],["datePlaceholder","End date","timePlaceholder","End time",1,"input-body-color",3,"required","stackInputs","minDate","name","ngModel","canReset","dateOnly","ngModelChange"],[3,"click"],[1,"section-padding","add-day-row",3,"click"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",0,1),r["\u0275\u0275template"](2,Ct,4,4,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275elementStart"](4,"mat-form-field",4),r["\u0275\u0275elementStart"](5,"mat-label"),r["\u0275\u0275text"](6,"Event Title"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"mg-icon",5),r["\u0275\u0275listener"]("click",(function(){return t.bannerSelectionActive=!t.bannerSelectionActive})),r["\u0275\u0275text"](8,"camera"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"mg-textarea",6,7),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.eventTitle=e}))("ngModelChange",(function(e){return t.onEventTitleChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](12,Mt,3,3,"mat-error",8),r["\u0275\u0275template"](13,bt,3,3,"mat-error",8),r["\u0275\u0275template"](14,Ot,2,2,"mat-hint",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"div",10),r["\u0275\u0275elementStart"](16,"div",11),r["\u0275\u0275element"](17,"div",12),r["\u0275\u0275elementStart"](18,"mg-banner-select2",13),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.selectedBannerHash=e}))("selectedBannerChange",(function(e){return t.onBannerSelected(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](19,"div",14),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](20,"p",15),r["\u0275\u0275text"](21,"Filter banner images by event theme"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"mg-banner-category-select",16),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.bannerCategories=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"div",17),r["\u0275\u0275elementStart"](24,"p",18),r["\u0275\u0275text"](25,"or"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](26,"mg-file-input",19),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.customImage=e}))("ngModelChange",(function(e){return t.onCustomImageChange(e)})),r["\u0275\u0275text"](27,"Upload Custom Image"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](28,wt,4,0,"mat-error",20),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](29,"mg-body-input",21),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.eventBody=e}))("ngModelChange",(function(e){return t.onEventBodyChange(e)})),r["\u0275\u0275pipe"](30,"hasPermission"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](31,Dt,1,0,"div",22),r["\u0275\u0275elementStart"](32,"div",23),r["\u0275\u0275elementStart"](33,"div",24),r["\u0275\u0275listener"]("click",(function(){return t.toggleTicked()})),r["\u0275\u0275element"](34,"img",25),r["\u0275\u0275text"](35," This is a ticketed event "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](36,"div",26),r["\u0275\u0275listener"]("click",(function(){return t.toggleTicked()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](37,"mat-slide-toggle",27),r["\u0275\u0275listener"]("ngModelChange",(function(){return t.toggleTicked()}))("ngModelChange",(function(e){return t.ticketed=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](38,"div",28),r["\u0275\u0275template"](39,_t,35,15,"ng-container",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](40,"mat-form-field",29),r["\u0275\u0275elementStart"](41,"mat-label"),r["\u0275\u0275text"](42,"Hosted by"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](43,"mg-textarea",30,31),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.eventHostedBy=e}))("ngModelChange",(function(e){return t.onEventHostedByChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](45,Tt,3,3,"mat-error",8),r["\u0275\u0275template"](46,Bt,2,1,"mat-hint",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](47,"mat-form-field",29),r["\u0275\u0275elementStart"](48,"mat-label"),r["\u0275\u0275text"](49,"Location"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](50,"input",32,33),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.eventLocation=e}))("ngModelChange",(function(e){return t.onEventLocationChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](52,Et,3,3,"mat-error",8),r["\u0275\u0275template"](53,jt,2,1,"mat-hint",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](54,Rt,1,2,"mg-points-selector",34),r["\u0275\u0275pipe"](55,"async"),r["\u0275\u0275elementStart"](56,"mat-form-field",29),r["\u0275\u0275elementStart"](57,"mat-label"),r["\u0275\u0275text"](58,"Event Category"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](59,"mat-select",35),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.eventCategory=e}))("ngModelChange",(function(e){return t.onEventCategoryChange(e)})),r["\u0275\u0275template"](60,kt,3,4,"mat-option",36),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](61,zt,2,0,"mat-error",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](62,"div",37),r["\u0275\u0275elementStart"](63,"p",38),r["\u0275\u0275text"](64,"Select Event Day"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](65,Vt,14,21,"mat-expansion-panel",39),r["\u0275\u0275template"](66,Wt,5,0,"div",40),r["\u0275\u0275elementStart"](67,"div"),r["\u0275\u0275elementStart"](68,"mat-expansion-panel",41),r["\u0275\u0275elementStart"](69,"mat-expansion-panel-header"),r["\u0275\u0275elementStart"](70,"mat-panel-title",42),r["\u0275\u0275text"](71," Event Settings "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](72,"div",43),r["\u0275\u0275elementStart"](73,"mat-slide-toggle",44),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.allowGoing=e}))("ngModelChange",(function(e){return t.onAllowGoingChange(e)})),r["\u0275\u0275text"](74," Track event engagement? "),r["\u0275\u0275elementStart"](75,"span",45),r["\u0275\u0275text"](76,'(this will allow members to show their intention to "go" to an event and check in to an event)'),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](77,"mat-slide-toggle",46),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.enableEventCode=e}))("ngModelChange",(function(){return t.onEnableEventCodeChange()})),r["\u0275\u0275text"](78," Require code for check in? "),r["\u0275\u0275elementStart"](79,"span",45),r["\u0275\u0275text"](80,"(members will have to enter code to successfully check in to an event)"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](81,"mat-form-field",47),r["\u0275\u0275elementStart"](82,"mat-label"),r["\u0275\u0275text"](83,"Enter Check In Code"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](84,"input",48),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.eventCode=e}))("ngModelChange",(function(e){return t.onEventCodeChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](1),n=r["\u0275\u0275reference"](10),i=r["\u0275\u0275reference"](44),a=r["\u0275\u0275reference"](51);r["\u0275\u0275classProp"]("form-pad-top",!t.showBannerPreview),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showBannerPreview),r["\u0275\u0275advance"](2),r["\u0275\u0275classProp"]("pad-input-top",t.showBannerPreview),r["\u0275\u0275advance"](5),r["\u0275\u0275classProp"]("mg-draft-dirty",t.isTitleDirty()),r["\u0275\u0275property"]("multiline",!1)("maxlength",t.titleMaxLength)("ngModel",t.eventTitle),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",null==n.control||null==n.control.errors?null:n.control.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==n.control?null:n.control.touched)&&(null==n.control||null==n.control.errors?null:n.control.errors.required)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.eventTitle),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("banner-edit-hidden",!t.bannerSelectionActive),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("categories",t.bannerCategories)("query",t.eventTitle)("ngModel",t.selectedBannerHash),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("allowDeselect",!0)("ngModelOptions",r["\u0275\u0275pureFunction0"](70,Lt))("ngModel",t.bannerCategories),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("multiple",!1)("ngModelOptions",r["\u0275\u0275pureFunction0"](71,Lt))("ngModel",t.customImage),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",(null==e.controls||null==e.controls.eventBanner?null:e.controls.eventBanner.touched)&&!t.eventImageAsset),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("richContent",r["\u0275\u0275pipeBind1"](30,66,"CONTENT_HTML_INCLUDE"))("maxlength",5e3)("ngModel",t.eventBody),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.ticketed),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("non-ticketed",!t.ticketed),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",t.ticketed),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("expand",t.ticketed),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.ticketed),r["\u0275\u0275advance"](4),r["\u0275\u0275classProp"]("mg-draft-dirty",t.isHostedByDirty()),r["\u0275\u0275property"]("multiline",!1)("maxlength",255)("ngModel",t.eventHostedBy),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==i.control||null==i.control.errors?null:i.control.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.eventHostedBy),r["\u0275\u0275advance"](4),r["\u0275\u0275classProp"]("mg-draft-dirty",t.isLocationDirty()),r["\u0275\u0275property"]("ngModel",t.eventLocation),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==a.control||null==a.control.errors?null:a.control.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.eventLocation),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](55,68,t.canAllocateContentPoints$)),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngModel",t.eventCategory)("required",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.eventCategoryKeys),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.eventCategory),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngForOf",t.eventDays),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isRecurringEditOrCreate()),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngClass.xs","mobile"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngClass",(null==e.controls||null==e.controls.eventCode?null:e.controls.eventCode.touched)&&t.enableEventCode&&!t.eventCode&&"required-error"),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.allowGoing),r["\u0275\u0275advance"](4),r["\u0275\u0275classProp"]("code-enabled",t.enableEventCode),r["\u0275\u0275property"]("ngModel",t.enableEventCode)("disabled",!t.allowGoing),r["\u0275\u0275advance"](4),r["\u0275\u0275classProp"]("show",t.enableEventCode),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.eventCode)("required",!0)("disabled",!t.enableEventCode||!t.allowGoing)}},directives:[Y.E,Y.u,Y.v,i.o,pe.d,me.a,pe.h,et.a,pe.j,fe.a,ve.a,Y.B,Y.n,Y.t,Y.w,tt.a,nt.a,it.e,rt.a,ye.a,it.d,it.b,at.a,ot.b,Y.d,Y.o,st.a,i.n,h.c,lt.a,h.f,h.g,i.m,dt.a,ct.a,pe.c,pe.g,pe.i,gt.a,ut.m,ht.a],pipes:[Ce.a,i.b,o.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");mat-form-field[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{color:#737373}mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;box-sizing:border-box}@media (orientation:landscape){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:445.8461538462px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:14px}}.form-input-hpadding[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.pseudo-mg-input[_ngcontent-%COMP%]{color:#737373;border-bottom:1px solid #ccc}.pseudo-mg-input[_ngcontent-%COMP%]     .textarea-placeholder{color:#2f2f2f}.input-margin[_ngcontent-%COMP%]{margin:8px}.input-group[_ngcontent-%COMP%]{margin:16px;--mg-form-field-margin:4px 0}.input-group.vmargin-only[_ngcontent-%COMP%]{margin:16px 0}.input-group[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%]{padding:0;margin:16px 0}mat-form-field[mgFormField][_ngcontent-%COMP%] + .input-group[_ngcontent-%COMP%]{margin-top:0}.input-hpadding[_ngcontent-%COMP%]{padding-left:14px;padding-right:14px}.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:17px}}.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e2e2e2}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;color:#737373;font-size:16px;font-weight:400;font-family:Muli,sans-serif}.text-input[_ngcontent-%COMP%]   input.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-padding[_ngcontent-%COMP%]{padding:16px}.body-input[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;color:#737373}.body-input.mg-draft-dirty[_ngcontent-%COMP%], .mg-label[_ngcontent-%COMP%]{color:#2f2f2f}.mg-label[_ngcontent-%COMP%]{margin-top:8px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]{margin-left:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]:first-child{margin-top:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label{align-items:flex-start}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content{text-align:left;padding-bottom:.5em}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content .toggle-subtext{display:block;white-space:normal;margin-top:1em}[_nghost-%COMP%]   .footer-button-container[_ngcontent-%COMP%]{margin-top:16px;display:none}@media (max-width:599px){[_nghost-%COMP%]   .footer-button-container[_ngcontent-%COMP%]{display:block}}form.form-pad-top[_ngcontent-%COMP%]{padding-top:16px}.form-footer[_ngcontent-%COMP%]{padding-bottom:20px}.all-day-toggle-text[_ngcontent-%COMP%]{margin-right:8px}.ticket-toggle-text[_ngcontent-%COMP%]{font-size:14px;color:#036;font-weight:700;display:inline-flex;align-items:center}.ticket-toggle-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;margin-right:12px}.ticket-toggle-text.sub-toggle[_ngcontent-%COMP%]{color:#737373;font-weight:400}mat-form-field[_ngcontent-%COMP%]{box-sizing:border-box}mat-accordion[_ngcontent-%COMP%]{display:block;border-top:1px solid #ccc;border-bottom:1px solid #ccc}.event-category-circle[_ngcontent-%COMP%]{width:25px;height:25px;display:inline-block;vertical-align:middle;border-radius:50%;margin-right:9px}.toggle-container[_ngcontent-%COMP%]{margin-bottom:20px}.required-error[_ngcontent-%COMP%]{color:#de1717}.all-day-toggle-container[_ngcontent-%COMP%]{margin:8px 4px 20px;color:#737373;position:relative;z-index:0}.all-day-toggle-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(mat-slide-toggle){cursor:pointer}.all-day-toggle-container[_ngcontent-%COMP%] > div[fxFlex][_ngcontent-%COMP%]{height:1em}.all-day-toggle-container.non-ticketed[_ngcontent-%COMP%]{margin-top:0}mg-body-input[_ngcontent-%COMP%]{position:relative;z-index:1}.divider[_ngcontent-%COMP%]{border-top:1px solid #ccc}.section-padding[_ngcontent-%COMP%]{padding:0 24px}.add-day-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin:1em 0}.add-day-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ccc;margin-left:8px}.add-day-row[_ngcontent-%COMP%]:hover{cursor:pointer}.add-day-row[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#036}.inner-panel[_ngcontent-%COMP%]{margin:0 12px;border-radius:0;border-bottom:none}.inner-panel[_ngcontent-%COMP%] + .inner-panel[_ngcontent-%COMP%]{border-top:1px solid #ccc}.inner-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{justify-content:space-between}.inner-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{color:#de1717;cursor:pointer;opacity:.5;padding-left:30px}.inner-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]:hover{opacity:1}.event-code-wrapper[_ngcontent-%COMP%]{max-height:0;transition:max-height .5s cubic-bezier(.55,0,.55,.2),border-color .5s cubic-bezier(.55,0,.55,.2),padding-bottom .5s cubic-bezier(.55,0,.55,.2);overflow:hidden;padding:16px;margin-top:0;margin-left:0;margin-right:0}.event-code-wrapper[_ngcontent-%COMP%]:not(.show){border-color:transparent;padding-bottom:0;margin-top:0;margin-bottom:0}.event-code-wrapper.show[_ngcontent-%COMP%]{max-height:100px}.ticket-url-container[_ngcontent-%COMP%]{max-height:0;transition:max-height .5s cubic-bezier(.55,0,.55,.2),padding-top .5s cubic-bezier(.55,0,.55,.2),margin-bottom .5s cubic-bezier(.55,0,.55,.2);overflow:hidden;padding-top:0}.ticket-url-container.expand[_ngcontent-%COMP%]{max-height:500px;padding-top:4px;margin-bottom:calc(var(--hint-height, 14px) + 16px)}.ticket-url-container[_ngcontent-%COMP%]   .ticket-url-container[_ngcontent-%COMP%], .ticket-url-container[_ngcontent-%COMP%]   .ticket-url-container.expand[_ngcontent-%COMP%]{margin-bottom:0}.post-event-panel-header[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;padding:0}.post-event-panel-body[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{color:#737373}.post-event-panel-body[_ngcontent-%COMP%]{text-align:center}.post-event-panel-body[_ngcontent-%COMP%] > mat-expansion-panel[_ngcontent-%COMP%]{margin:auto;width:calc(100% - 32px);border-bottom:1px solid #ccc}.post-event-panel-body[_ngcontent-%COMP%] > mat-expansion-panel[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .post-event-panel-body[_ngcontent-%COMP%] > mat-expansion-panel[_ngcontent-%COMP%] > mat-expansion-panel-header[_ngcontent-%COMP%]{text-align:left}.banner-edit-wrap[_ngcontent-%COMP%]{margin:0 16px 32px}.banner-edit-wrap[_ngcontent-%COMP%]   p.mg-minicopy[_ngcontent-%COMP%]{color:#737373}.banner-edit-wrap[_ngcontent-%COMP%]   p.mg-minicopy.filter-text[_ngcontent-%COMP%]{margin-bottom:.5em}.banner-select-wrap[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-bottom:16px}.banner-select-wrap[_ngcontent-%COMP%]   mg-banner-select2[_ngcontent-%COMP%]{display:block}.banner-select-wrap[_ngcontent-%COMP%]   .banner-select-fade-left[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;left:0;bottom:0;width:20px;background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.banner-select-wrap[_ngcontent-%COMP%]   .banner-select-fade-right[_ngcontent-%COMP%]{position:absolute;z-index:1;top:0;right:0;bottom:0;width:20px;background:linear-gradient(270deg,#fff,hsla(0,0%,100%,0))}.camera-icon[_ngcontent-%COMP%]{cursor:pointer}.file-input-wrap[_ngcontent-%COMP%]{--file-upload-bgcolor:transparent;background-color:#f5f5f5;position:relative;margin-bottom:16px}.banner-preview-image[_ngcontent-%COMP%]{overflow:hidden;position:relative;padding-bottom:56.25%;margin-bottom:16px;background-size:cover;background-position:50%}mg-banner-category-select[_ngcontent-%COMP%]{font-size:12px}.banner-edit-hidden[_ngcontent-%COMP%]{display:none}.cancel-link[_ngcontent-%COMP%]{padding-bottom:20px;margin-left:15px}.cancel-link[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}mg-points-selector[_ngcontent-%COMP%]{width:100%;display:inline-block;padding-left:16px;margin-bottom:30px}.banner-error[_ngcontent-%COMP%]{margin-top:10px}']}),e})();var At=n("u9T3"),Gt=n("CO6v"),Ht=n("07le"),qt=n("+0Zl"),$t=n("5Ynh"),Qt=n("9F0b"),Kt=n("YcSX"),Yt=n("pu9B"),Zt=n("SOT1"),Jt=n("Ruz7"),Xt=n("ls3q");let en=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Se.a,Kt.b,$t.a,Ht.a,xe.a,Zt.a,Fe.a,Gt.a,Ie.b,Y.m,Xt.a,qt.a,Qt.c,Jt.a,U.b,Pe.a,Yt.a,i.c,pe.f,ot.c,at.b,h.b,st.b,o.c,At.a]]}),e})();var tn=n("+V+6"),nn=n("V0rs"),rn=n("biMj"),an=n("Fawd");let on=(()=>{class e extends ze{constructor(e,t,n,i,r,a,o){super(e,"EventContent"),this.componentResolver=t,this.injector=n,this.eventService=i,this.auth=r,this.bannerService=a,this.permissions=o}createInfoDraftInstance(e){return new sn(this.userStorage,this.componentResolver,this.auth,this.injector,this.eventService,this.storagePrefix,e,this.bannerService,this.permissions)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ne.a),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](Je.Event),r["\u0275\u0275inject"](We.a),r["\u0275\u0275inject"](Ke.BannerLibrary),r["\u0275\u0275inject"](U.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class sn extends _{constructor(e,t,n,i,r,a,o,s,l){super(e,l,a,o),this.auth=n,this.injector=i,this.eventService=r,this.bannerService=s,this.permissions=l,this.componentFactory=t.resolveComponentFactory(tn.a)}get type(){return"event"}get contentType(){return"EVENT"}fetchInitialDraftInfo(){var e,t,n,i;return Object(u.a)(this,void 0,void 0,(function*(){if(!this.contentHash)return;const r=new Ee.ContentInfoQuery;r.setContentHash(this.contentHash);const a=yield this.eventService.getInfo(r),o={allDay:a.getAllDayEvent(),allowGoing:a.getAllowGoing(),bannerAsset:a.getEventBannerAsset(),body:a.getDescription(),hostedBy:a.getEventHost(),location:a.getEventLocation(),title:a.getTitle(),eventCode:a.getEventCode(),banner:a.getEventBannerHash(),points:a.getPoints(),ticketUrl:a.getTicketUrl(),hasTickets:a.getHasTickets(),ticketInfo:a.getTicketInfo(),ticketPrice:a.getTicketPrice(),additionalDates:[],eventCategory:Object(v.$enum)(Ye.EventCategoryEnum).asValueOrDefault(a.getEventCategory(),Ye.EventCategoryEnum.OTHER)};if(a.hasEventBannerHash()){const e=new an.BannerLibraryGet;e.setBannerHash(a.getEventBannerHash());const t=yield this.bannerService.get(e);t.hasHeadlineOptions()&&(o.bannerHeadlineOptions=t.getHeadlineOptions().toObject());const n=t.getImage().getSizeMap().get("raw");n&&(o.bannerAsset=n.getPath())}const s=(e,t,n,i)=>{const r={allDay:n};if(e){const t=Object(b.f)(e),n=6e4*t.getTimezoneOffset();r.startDate=new Date(t.getTime()-n)}if(t){const e=Object(b.f)(t),n=6e4*e.getTimezoneOffset();r.endDate=new Date(e.getTime()-n)}return i&&(r.contentId=i),r},l=s(a.getEventStart(),a.getEventEnd(),a.getAllDayEvent());o.startDate=null===(e=l.startDate)||void 0===e?void 0:e.getTime(),o.endDate=null===(t=l.endDate)||void 0===t?void 0:t.getTime(),null===(n=o.additionalDates)||void 0===n||n.push(l);const d=a.getAdditionalDatesList();if(d.length)for(let e of d){const t=e.getAllDayEvent(),n=e.getEventEnd(),r=s(e.getEventStart(),n,t,e.getContentId());null===(i=o.additionalDates)||void 0===i||i.push(r)}this.setInitialDraft(o)}))}hasImageContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!!(yield this.getDraft()).bannerAsset}))}hasTextContent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft();return!!(e.body||e.title||e.location||e.hostedBy)}))}createEmptyDraft(){return{title:"",banner:"",body:"",hostedBy:"",location:"",allDay:!1,endDate:null,startDate:null,allowGoing:!0,bannerAsset:"",bannerHeadlineOptions:null,bannerChoiceLocked:!1,eventCode:"",points:0,ticketUrl:"",eventCategory:"",hasTickets:!1,additionalDates:[{allDay:!1}],ticketInfo:"",ticketPrice:0}}submitDraftNew(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft(),t=new rn.EventInfo;t.setTitle(e.title),t.setDescription(e.body),e.banner?t.setEventBannerHash(e.banner):t.setEventBannerAsset(e.bannerAsset),t.setAllDayEvent(e.allDay),t.setEventHost(e.hostedBy),t.setEventLocation(e.location),t.setAllowGoing(e.allowGoing),t.setEventCode(e.eventCode),t.setPoints(e.points),t.setTicketUrl(e.ticketUrl),t.setEventCategory(e.eventCategory),t.setHasTickets(e.hasTickets),t.setTicketInfo(e.ticketInfo),t.setTicketPrice(e.ticketPrice);for(let i=0;i<e.additionalDates.length;i++){if(0==i)continue;const n=e.additionalDates[i],r=new rn.AdditionalDate;if(r.setAllDayEvent(n.allDay),n.startDate){const e=Object(b.e)(n.startDate);r.setEventStart(e)}if(n.endDate){const e=Object(b.e)(n.endDate);r.setEventEnd(e)}t.addAdditionalDates(r)}if(e.startDate){const n=new Date(e.startDate),i=Object(b.e)(n);t.setEventStart(i)}if(e.endDate){const n=new Date(e.endDate),i=Object(b.e)(n);t.setEventEnd(i)}const n=Te(yield this.eventService.new(t),{type:this.type});return n.moderation&&n.moderation.allPassed&&(e.startDate&&(n.date=new Date(e.startDate)),e.endDate&&(n.endDate=new Date(e.endDate))),n}))}submitDraftUpdate(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.fetchInitialDraftInfo();const e=yield this.initialDraftDifference(),t=new rn.DeltaEventInfo;if(t.setContentHash(this.contentHash),"title"in e){const n=new O.StringDelta;n.setNewString(e.title),t.setTitle(n)}if("body"in e){const n=new O.StringDelta;n.setNewString(e.body),t.setDescription(n)}if("hostedBy"in e){const n=new O.StringDelta;n.setNewString(e.hostedBy),t.setEventHost(n)}if("location"in e){const n=new O.StringDelta;n.setNewString(e.location),t.setEventLocation(n)}if("startDate"in e){const n=new O.DateTimeDelta,i=Object(b.e)(new Date(e.startDate));n.setNewDateTime(i),t.setEventStart(n)}if("endDate"in e){const n=new O.DateTimeDelta,i=Object(b.e)(new Date(e.endDate));n.setNewDateTime(i),t.setEventEnd(n)}if("allowGoing"in e){const n=new O.BoolDelta;n.setNewBool(e.allowGoing),t.setAllowGoing(n)}if("banner"in e||"bannerAsset"in e)if(e.banner){const n=new O.StringDelta;n.setNewString(e.banner),t.setEventBannerHash(n)}else if(e.bannerAsset){const n=new O.StringDelta;n.setNewString(e.bannerAsset),t.setEventBannerAsset(n),t.setEventBannerHash(new O.StringDelta)}if("allDay"in e){const n=new O.BoolDelta;n.setNewBool(e.allDay),t.setAllDayEvent(n)}if("eventCode"in e){const n=new O.StringDelta;n.setNewString(e.eventCode),t.setEventCode(n)}if("points"in e){const n=new O.Int32Delta;n.setNewInt32(e.points),t.setPoints(n)}if("ticketUrl"in e){const n=new O.StringDelta;n.setNewString(e.ticketUrl),t.setTicketUrl(n)}if("eventCategory"in e){const n=new O.StringDelta,i=Object(v.$enum)(Ye.EventCategoryEnum).asValueOrDefault(e.eventCategory,Ye.EventCategoryEnum.OTHER);n.setNewString(i),t.setEventCategory(n)}if("hasTickets"in e){const n=new O.BoolDelta;n.setNewBool(e.hasTickets),t.setHasTickets(n)}if("ticketInfo"in e){const n=new O.StringDelta;n.setNewString(e.ticketInfo||""),t.setTicketInfo(n)}if("ticketPrice"in e){const n=new O.FloatDelta;n.setNewFloat(e.ticketPrice||0),t.setTicketPrice(n)}if(e.additionalDates)for(let n=0;n<e.additionalDates.length;n++){if(0==n)continue;const i=e.additionalDates[n],r=new rn.AdditionalDate;r.setAllDayEvent(i.allDay),i.contentId&&r.setContentId(i.contentId),i.endDate&&r.setEventEnd(Object(b.e)(i.endDate)),i.startDate&&r.setEventStart(Object(b.e)(i.startDate)),t.addAdditionalDates(r)}return Te(yield this.eventService.update(t),{type:this.type})}))}createPreviewComponent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.componentFactory.create(this.injector);return yield this.updatePreviewComponent(e),e}))}updatePreviewComponent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=this.auth.getPersonViewMinimalFromCurrentPerson(),n=yield this.cloneDraftMergedWithInitialFetchIfNeeded(),i=Object(He.b)(n.bannerAsset);let r=null;const a=yield $e(n.bannerAsset);if(i){const{width:e,height:t}=yield Object(nn.d)(i);r={sizeMap:[["raw",{width:e,height:t,path:n.bannerAsset}]]}}e.instance.disableActions=!1,e.instance.contentHash="",e.instance.contextHash="",e.instance.content={allDay:n.allDay,allowGoing:n.allowGoing,hostedBy:"Hosted by "+n.hostedBy,location:n.location,authorPersonView:t.toObject(),fullBody:yield this.bodyAsPreviewHtml(n.body),title:n.title,startTimestamp:n.startDate||0,endTimestamp:n.endDate||0,hasCode:!1,image:r,banner:{archived:!1,bannerHash:"",categoryList:[],keywordList:[],headlineOptions:a,image:r},commentCount:0,commentList:[],commentListPage:0,likeCount:0,timestamp:Date.now(),totalCommentCount:0,lightContent:!1,gradientOverlap:!1,backgroundColor:"",goingCount:0,gradientSize:0,ticketUrl:n.ticketUrl||"",category:n.eventCategory||"",hasTickets:n.hasTickets||!1,ticketInfo:n.ticketInfo||"",ticketPrice:n.ticketPrice||0},e.instance.disableEventPhotoGallery=!0}))}}let ln=(()=>{class e extends Ae{constructor(e){super(),this.eventInfoDraftService=e}resolveFromContentHash(e){return this.eventInfoDraftService.ensureInfoDraftInstance(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](on))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var dn=n("o1f5");let cn=(()=>{class e extends j{constructor(e,t,n,i,r){super(e,t,n,i,r),this.route=e,this.router=t,this.matDialog=n,this.snackBar=i,this.groupsFacadeService=r,this._initDraft()}mgContentInfoDraftReady(){}getPreviousStep(){return{name:"Cancel",icon:"close"}}previousStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.exitDraft()}))}getNextStep(){return{name:"Preview",icon:"forward"}}nextStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.navigateToPreview()}))}_initDraft(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.getDraft();e?(this.imageAsset=e.asset,this.imageAsset?this.enableNextStep():this.disableNextStep()):this.disableNextStep()}))}onImageAssetChange(e){this.contentInfoDraft.saveToDraft("asset",e),e&&this.enableNextStep()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-create-full-graphic"]],features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[["required","","name","image","previewAspectRatio","3:4",3,"previewSize","ngModel","ngModelChange"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form"),r["\u0275\u0275elementStart"](1,"mg-file-input-upload",0),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.imageAsset=e}))("ngModelChange",(function(e){return t.onImageAssetChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("previewSize",700)("ngModel",t.imageAsset))},directives:[Y.E,Y.u,Y.v,dn.a,Y.B,Y.t,Y.w],styles:["[_nghost-%COMP%]{display:block}mg-file-input-upload[_ngcontent-%COMP%]{max-width:414px;margin:16px auto}@media (max-width:599px){mg-file-input-upload[_ngcontent-%COMP%]{margin:8px auto;font-size:75%;max-width:300px}}"]}),e})();var gn=n("p+4T");let un=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[gn.a,Y.m]]}),e})();var hn=n("sH97"),pn=n("8slR");let mn=(()=>{class e extends ze{constructor(e,t,n,i,r){super(e,"FullGraphicContent"),this.componentResolver=t,this.fullGraphic=n,this.injector=i,this.permissions=r}createInfoDraftInstance(e){return new fn(this.userStorage,this.componentResolver,this.fullGraphic,this.injector,this.storagePrefix,e,this.permissions)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ne.a),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](pn.FullGraphic),r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](U.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class fn extends _{constructor(e,t,n,i,r,a,o){super(e,o,r,a),this.fullGraphic=n,this.injector=i,this.permissions=o,this.componentFactory=t.resolveComponentFactory(s.c)}get type(){return"fullGraphic"}get contentType(){return"INSPIRATION"}createEmptyDraft(){return{asset:"",backgroundColor:"",lightContent:!1,gradientOverlap:!1,gradientSize:.6}}fetchInitialDraftInfo(){return Object(u.a)(this,void 0,void 0,(function*(){if(!this.contentHash)return;const e=new Ee.ContentInfoQuery;e.setContentHash(this.contentHash);const t=yield this.fullGraphic.getInfo(e);this.setInitialDraft({asset:t.getFullGraphicAsset(),backgroundColor:t.getStyleBackgroundColor(),gradientOverlap:t.getStyleGradientOverlap(),lightContent:t.getStyleLightContent(),gradientSize:t.getStyleGradientSize()})}))}hasImageContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!!(yield this.getDraft()).asset}))}hasTextContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!1}))}submitDraftNew(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft(),t=new hn.FullGraphicInfo;return t.setFullGraphicAsset(e.asset),t.setStyleBackgroundColor(e.backgroundColor),t.setStyleGradientOverlap(e.gradientOverlap),t.setStyleLightContent(e.lightContent),t.setStyleGradientSize(e.gradientSize),Te(yield this.fullGraphic.new(t),{type:this.type})}))}submitDraftUpdate(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.contentHash,t=this.initialDraftDifference(),n=new hn.DeltaFullGraphicInfo;if(n.setContentHash(e),"asset"in t){const e=new O.StringDelta;e.setNewString(t.asset),n.setFullGraphicAsset(e)}if("backgroundColor"in t){const e=new O.StringDelta;e.setNewString(t.backgroundColor),n.setStyleBackgroundColor(e)}if("gradientOverlap"in t){const e=new O.BoolDelta;e.setNewBool(t.gradientOverlap),n.setStyleGradientOverlap(e)}if("lightContent"in t){const e=new O.BoolDelta;e.setNewBool(t.lightContent),n.setStyleLightContent(e)}if("gradientSize"in t){const e=new O.FloatDelta;e.setNewFloat(t.gradientSize),n.setStyleGradientSize(e)}return Te(yield this.fullGraphic.update(n),{type:this.type})}))}getStyleImageAsset(){return Object(u.a)(this,void 0,void 0,(function*(){return(yield this.getDraft()).asset}))}updatePreviewComponent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=yield this.cloneDraftMergedWithInitialFetchIfNeeded();let n=0,i=0;if(t.asset){const e=window.MINGA_ASSET_URL_PREFIX+t.asset,r=yield Object(nn.d)(e);n=r.width,i=r.height}e.instance.disableActions=!1,e.instance.contentHash="",e.instance.contextHash="",e.instance.content={gradientSize:t.gradientSize,backgroundColor:t.backgroundColor,gradientOverlap:t.gradientOverlap,lightContent:t.lightContent,commentCount:0,commentList:[],commentListPage:0,likeCount:0,timestamp:Date.now(),image:{url:"",height:0,width:0,sizeMap:[["raw",{height:i,width:n,path:t.asset}]]},title:"",totalCommentCount:0}}))}createPreviewComponent(e=this.injector){return Object(u.a)(this,void 0,void 0,(function*(){const t=this.componentFactory.create(e);return yield this.updatePreviewComponent(t),t}))}previewComponentBackgroundColor(e){const{backgroundColor:t}=e.instance.content;return t}}let vn=(()=>{class e extends Ae{constructor(e){super(),this.fullGraphicInfoDraftService=e}resolveFromContentHash(e){return this.fullGraphicInfoDraftService.ensureInfoDraftInstance(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](mn))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var yn=n("FHm2"),Cn=n("+Iyi"),Mn=n("0/Ay"),bn=n("62mg"),On=n("oFih"),wn=n("/jon"),Dn=n("P4MA"),Sn=function(e){return e.UNSET="",e.LIST="LIST",e.EMOTIVE="EMOTIVE",e}({});let Fn=(()=>{class e extends ze{constructor(e,t,n,i,r,a,o){super(e,"PollContent"),this.componentResolver=t,this.pollService=n,this.pollStyleLibrary=i,this.injector=r,this.auth=a,this.permissions=o}createInfoDraftInstance(e){return new xn(this.userStorage,this.componentResolver,this.pollService,this.pollStyleLibrary,this.auth,this.injector,this.storagePrefix,e,this.permissions)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ne.a),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](wn.Poll),r["\u0275\u0275inject"](Dn.PollStyleLibrary),r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](We.a),r["\u0275\u0275inject"](U.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class xn extends _{constructor(e,t,n,i,r,a,o,s,l){super(e,l,o,s),this.pollService=n,this.pollStyleLibrary=i,this.auth=r,this.injector=a,this.permissions=l,this.componentFactory=t.resolveComponentFactory(Mn.a)}get type(){return"poll"}get contentType(){return"POLL"}isListPoll(e){return e?e.pollType===Sn.LIST:this._draftFieldIs("pollType",Sn.LIST)}isEmotivePoll(e){return e?e.pollType===Sn.EMOTIVE:this._draftFieldIs("pollType",Sn.EMOTIVE)}createEmptyDraft(){return{question:"",pollStyleId:0,pollType:Sn.LIST,listPollChoices:[{choiceId:0,choiceText:""},{choiceId:0,choiceText:""}],showResults:!0,closed:!1,points:0}}fetchInitialDraftInfo(){return Object(u.a)(this,void 0,void 0,(function*(){if(!this.contentHash)return;const e=new Ee.ContentInfoQuery;e.setContentHash(this.contentHash);const t=yield this.pollService.getInfo(e),n=t.getQuestion(),i=t.getPollStyleId(),r=t.getShowResults(),a=t.getCloseDate(),o=t.getClosed(),s=t.getPoints(),l=a?Object(b.b)(a).getTime():0;if(t.hasListPollChoices()){const e=t.getListPollChoices().getChoiceList();this.setInitialDraft({pollType:Sn.LIST,listPollChoices:e.map(e=>e.toObject()),question:n,closeOnDate:l,closed:o,pollStyleId:i,showResults:r,points:s})}else t.hasEmotivePollChoices()&&this.setInitialDraft({pollType:Sn.EMOTIVE,question:n,closeOnDate:l,closed:o,pollStyleId:i,showResults:r,points:s})}))}_fillInEmotivePollDraft(e,t){const n=new bn.PollInfo.EmotivePollChoices;e.setEmotivePollChoices(n)}_fillInListPollDraft(e,t){const n=new bn.PollInfo.ListPollChoices,i=t.listPollChoices||[];for(let r of i){const e=new bn.PollInfo.ListPollChoices.Choice;e.setChoiceId(r.choiceId),e.setChoiceText(r.choiceText),n.addChoice(e)}e.setListPollChoices(n)}submitDraftNew(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft(),t=new bn.PollInfo;if(t.setQuestion(e.question),t.setPollStyleId(e.pollStyleId),t.setShowResults(e.showResults),t.setClosed(e.closed),t.setPoints(e.points),e.closeOnDate){const n=Object(b.e)(new Date(e.closeOnDate));t.setCloseDate(n)}switch(e.pollType){case Sn.EMOTIVE:this._fillInEmotivePollDraft(t,e);break;case Sn.LIST:this._fillInListPollDraft(t,e)}return Te(yield this.pollService.new(t),{type:this.type})}))}submitDraftUpdate(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.fetchInitialDraftInfo();const e=yield this.initialDraftDifference(),t=new bn.DeltaPollInfo;if(t.setContentHash(this.contentHash),"question"in e){const n=new O.StringDelta;n.setNewString(e.question),t.setQuestion(n)}if("pollStyleId"in e){const n=new O.Uint32Delta;n.setNewUint32(e.pollStyleId),t.setPollStyleId(n)}if("showResults"in e){const n=new O.BoolDelta;n.setNewBool(e.showResults),t.setShowResults(n)}if("closeOnDate"in e){const n=new O.DateDelta;if(e.closeOnDate){const t=new Date(e.closeOnDate);n.setNewDate(Object(b.e)(t))}t.setCloseDate(n)}if("closed"in e){const n=new O.BoolDelta;n.setNewBool(e.closed),t.setClosed(n)}if("points"in e){const n=new O.Int32Delta;n.setNewInt32(e.points),t.setPoints(n)}if(this.isListPoll()){if("listPollChoices"in e){const n=e.listPollChoices||[],i=new bn.PollInfo.ListPollChoices;for(let e of n){const t=new bn.PollInfo.ListPollChoices.Choice;t.setChoiceId(e.choiceId),t.setChoiceText(e.choiceText),i.addChoice(t)}t.setListPollChoices(i)}}else if(this.isEmotivePoll()){const e=new bn.PollInfo.EmotivePollChoices;t.setEmotivePollChoices(e)}return Te(yield this.pollService.update(t),{type:this.type})}))}getPollStyle(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=new Cn.PollStyleLibraryGet;return t.setPollStyleId(e),yield this.pollStyleLibrary.get(t)}))}updatePreviewComponent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=this.auth.getPersonViewMinimalFromCurrentPerson(),n=yield this.cloneDraftMergedWithInitialFetchIfNeeded();let i,r=[];const a=yield this.getPollStyle(n.pollStyleId);if(this.isListPoll(n))i=On.PollLayout.PL_LIST,r=(n.listPollChoices||[]).map(e=>({text:e.choiceText,icon:"",count:0,choiceId:e.choiceId}));else{if(!this.isEmotivePoll(n))throw new Error("Unhandled poll type:"+n.pollType);i=On.PollLayout.PL_GRID,r.push({text:"",icon:"sad",count:0,choiceId:0}),r.push({text:"",icon:"meh",count:0,choiceId:0}),r.push({text:"",icon:"happy",count:0,choiceId:0})}let o=0;n.closeOnDate&&(o=n.closeOnDate),e.instance.ignorePermissions=!0,e.instance.content={question:n.question,showResults:n.showResults,choiceList:r,authorPersonView:t.toObject(),contentHash:"",closeTimestamp:o,pollBgImage:Object(He.b)(a.getPollStyleAsset()),timestamp:Date.now(),totalChoiceCount:0,pollLayout:i,pollClosed:n.closed,ownerGroupHash:"",points:n.points,hasResponded:-1,hasLiked:!1}}))}createPreviewComponent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.componentFactory.create(this.injector);return yield this.updatePreviewComponent(e),e}))}}var Pn=n("//iD"),In=n("bN3Y"),_n=n("Tmav");const Tn=["form"];function Bn(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275elementStart"](1,"div",6),r["\u0275\u0275text"](2,"Choose poll type"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",5),r["\u0275\u0275elementStart"](4,"mg-box-select",7),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().pollType=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onPollTypeChange(t)})),r["\u0275\u0275elementStart"](5,"mg-box-select-option",8),r["\u0275\u0275element"](6,"div",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"mg-box-select-option",8),r["\u0275\u0275element"](8,"div",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngModel",e.pollType),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",e.PollType.LIST),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("value",e.PollType.EMOTIVE)}}function En(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mg-box-select-option",8),r["\u0275\u0275element"](1,"div",13),r["\u0275\u0275pipe"](2,"mgAssetUrl"),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e.pollStyleId),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background-image","url("+r["\u0275\u0275pipeBind1"](2,3,e.pollStyleAsset)+")")}}function jn(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275elementStart"](1,"div",6),r["\u0275\u0275text"](2,"Choose poll background"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",5),r["\u0275\u0275elementStart"](4,"mg-box-select",11),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().pollStyleId=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onPollStyleIdChange(t)})),r["\u0275\u0275template"](5,En,3,5,"mg-box-select-option",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngModel",e.pollStyleId),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.pollStyles)}}function Rn(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.generic.error.tooLong")))}const kn=function(){return{value:"Question"}};function zn(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](2,1,"input.generic.error.required",r["\u0275\u0275pureFunction0"](4,kn))))}function Nn(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",21),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.question.length," / 255")}}function Vn(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",27),r["\u0275\u0275elementStart"](1,"mg-icon"),r["\u0275\u0275text"](2,"delete"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())}function Wn(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.generic.error.tooLong")))}const Ln=function(){return{value:"Choice"}};function Un(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](2,1,"input.generic.error.required",r["\u0275\u0275pureFunction0"](4,Ln))))}function An(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",21),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.choiceText.length," / 255")}}function Gn(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"mat-form-field",22),r["\u0275\u0275elementStart"](2,"span",23),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.index;return r["\u0275\u0275nextContext"](2).removeChoice(n)})),r["\u0275\u0275template"](3,Vn,3,0,"div",24),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mat-label"),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"mg-textarea",25,26),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.$implicit.choiceText=e}))("ngModelChange",(function(n){r["\u0275\u0275restoreView"](e);const i=t.index;return r["\u0275\u0275nextContext"](2).onPollChoiceChange(n,i)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,Wn,3,3,"mat-error",17),r["\u0275\u0275template"](9,Un,3,5,"mat-error",17),r["\u0275\u0275template"](10,An,2,1,"mat-hint",18),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=r["\u0275\u0275reference"](7),a=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("mgHideOptionalMarker",!0),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",a.pollChoices.length>2),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("Enter ",a.ordinal(n+1)," choice..."),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate1"]("name","pollChoice_",n,""),r["\u0275\u0275property"]("required",!0)("multiline",!1)("maxlength",255)("ngModel",e.choiceText),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==i.control||null==i.control.errors?null:i.control.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==i.control?null:i.control.touched)&&(null==i.control||null==i.control.errors?null:i.control.errors.required)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.choiceText)}}function Hn(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",28),r["\u0275\u0275elementStart"](1,"div",29),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).addPollChoice()})),r["\u0275\u0275elementStart"](2,"mg-icon"),r["\u0275\u0275text"](3,"post"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"span"),r["\u0275\u0275text"](5,"Add another choice"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](6,"div",30),r["\u0275\u0275elementEnd"]()}}function qn(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",5),r["\u0275\u0275elementStart"](2,"div",6),r["\u0275\u0275text"](3,"Poll question & choices"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",5),r["\u0275\u0275elementStart"](5,"mat-form-field",14),r["\u0275\u0275elementStart"](6,"mat-label"),r["\u0275\u0275text"](7,"Enter your question..."),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"mg-textarea",15,16),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().question=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onQuestionChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](10,Rn,3,3,"mat-error",17),r["\u0275\u0275template"](11,zn,3,5,"mat-error",17),r["\u0275\u0275template"](12,Nn,2,1,"mat-hint",18),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](13,Gn,11,11,"ng-container",19),r["\u0275\u0275template"](14,Hn,7,0,"div",20),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](9),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("multiline",!1)("maxlength",255)("required",!0)("ngModel",t.question),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==e.control||null==e.control.errors?null:e.control.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==e.control?null:e.control.touched)&&(null==e.control||null==e.control.errors?null:e.control.errors.required)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.question),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.pollChoices),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.pollChoices.length<10)}}function $n(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.generic.error.tooLong")))}function Qn(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind2"](2,1,"input.generic.error.required",r["\u0275\u0275pureFunction0"](4,kn))))}function Kn(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",21),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.question.length," / 255")}}function Yn(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",5),r["\u0275\u0275elementStart"](2,"div",6),r["\u0275\u0275text"](3,"Poll question"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mat-form-field",31),r["\u0275\u0275elementStart"](5,"mat-label"),r["\u0275\u0275text"](6,"Enter your question..."),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"mg-textarea",32,33),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().question=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onQuestionChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](9,$n,3,3,"mat-error",17),r["\u0275\u0275template"](10,Qn,3,5,"mat-error",17),r["\u0275\u0275template"](11,Kn,2,1,"mat-hint",18),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](8),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("multiline",!1)("required",!0)("maxlength",255)("ngModel",t.question),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==e.control||null==e.control.errors?null:e.control.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==e.control?null:e.control.touched)&&(null==e.control||null==e.control.errors?null:e.control.errors.required)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.question)}}function Zn(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-points-selector",34),r["\u0275\u0275listener"]("pointsClick",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onPointsChange(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("title","Points awarded to people who respond to this poll")("selectedPoints",e.points)}}let Jn=(()=>{class e extends j{constructor(e,t,n,i,r,a,o,s){super(e,t,n,a,o),this.route=e,this.router=t,this.matDialog=n,this.pollStyleLibrary=i,this.rootService=r,this.snackBar=a,this.groupsFacadeService=o,this.pointsManager=s,this.question="",this.pollChoices=[{choiceId:0,choiceText:""},{choiceId:0,choiceText:""}],this.pollType=Sn.LIST,this.pollStyleId=0,this.pollStyles=[],this.points=0,this.PollType=Sn,this.rootService.addLoadingPromise(this._initStyleList()),this.canAllocateContentPoints$=this.pointsManager.getCanCurrentUserAllocatePointsObs()}_initStyleList(){return Object(u.a)(this,void 0,void 0,(function*(){const e=new Cn.PollStyleLibraryList;e.setCount(10),e.setOffset(0);const t=(yield this.pollStyleLibrary.list(e)).getPollStyleList();this.pollStyles=t.map(e=>e.toObject()),!this.pollStyleId&&this.pollStyles.length>0&&(this.pollStyleId=this.pollStyles[0].pollStyleId)}))}ngAfterViewInit(){this.form.statusChanges.subscribe(e=>{"VALID"===e?this.enableNextStep():this.disableNextStep()})}addPollChoice(){this.pollChoices.push({choiceId:0,choiceText:""}),this._updatePollChoices()}removeChoice(e){this.pollChoices.splice(e,1),this.pollChoices=this.pollChoices.map(e=>Object.assign({},e)),this._updatePollChoices()}mgContentInfoDraftReady(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.contentInfoDraft;let t=yield e.cloneDraftMergedWithInitialFetchIfNeeded();e.isListPoll(t)?this.pollChoices=t.listPollChoices||[]:e.isEmotivePoll(t),this.question=t.question,this.pollType=t.pollType,this.pollStyleId=t.pollStyleId,this.points=t.points}))}getPreviousStep(){return{name:"Cancel",icon:"close"}}previousStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.exitDraft()}))}getNextStep(){return{name:"Preview",icon:"forward"}}nextStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.contentInfoDraft.saveToDraft("pollStyleId",this.pollStyleId),yield this.navigateToPreview()}))}_updatePollChoices(){this.contentInfoDraft.isListPoll()&&this.contentInfoDraft.saveToDraft("listPollChoices",this.pollChoices)}onQuestionChange(e){this.contentInfoDraft.saveToDraft("question",e)}onPollTypeChange(e){this.contentInfoDraft.saveToDraft("pollType",e),this._updatePollChoices()}onPollChoiceChange(e,t){this._updatePollChoices()}onPollStyleIdChange(e){this.contentInfoDraft.saveToDraft("pollStyleId",e)}onPointsChange(e){this.contentInfoDraft.saveToDraft("points",e)}ordinal(e){return Object(yn.a)(e).format("0o")}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](Dn.PollStyleLibrary),r["\u0275\u0275directiveInject"](k.a),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b),r["\u0275\u0275directiveInject"](Xe.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-create-poll"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](Tn,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:8,consts:[["form","ngForm"],["class","input-group",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"title","selectedPoints","pointsClick",4,"ngIf"],[1,"input-group"],[1,"mg-bodycopy"],["name","pollType","required","",3,"ngModel","ngModelChange"],[3,"value"],[1,"list-poll-bg-img","bg-img"],[1,"emotive-poll-bg-img","bg-img"],["required","","minlength","1","maxlength","255","name","pollStyleId",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"bg-img"],["mgFormField","","hideRequiredMarker",""],["matInput","","mgMentionable2","inline","allowedTags","mg-mention","autocomplete","off","name","pollQuestion",3,"multiline","maxlength","required","ngModel","ngModelChange"],["pollQuestionInput","ngModel"],[4,"ngIf"],["align","end",4,"ngIf"],[4,"ngFor","ngForOf"],["class","input-group","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["align","end"],["mgFormField","","hideRequiredMarker","",3,"mgHideOptionalMarker"],["matSuffix","",3,"click"],["class","remove-choice-icon",4,"ngIf"],["matInput","","autocomplete","off",3,"required","multiline","maxlength","name","ngModel","ngModelChange"],["choiceTextInput","ngModel"],[1,"remove-choice-icon"],["fxLayout","row","fxLayoutAlign","start center",1,"input-group"],["fxLayout","row","fxLayoutAlign","start center",1,"add-poll-choice-btn",3,"click"],["fxFlex",""],["mgFormField","","hideRequiredMarker","",1,"form-input-hpadding"],["mgMentionable2","inline","allowedTags","mg-mention","autocomplete","off","name","pollQuestion",3,"multiline","required","maxlength","ngModel","ngModelChange"],["emotiveQuestionInput","ngModel"],[3,"title","selectedPoints","pointsClick"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",null,0),r["\u0275\u0275template"](2,Bn,9,3,"div",1),r["\u0275\u0275template"](3,jn,6,2,"div",1),r["\u0275\u0275elementContainerStart"](4,2),r["\u0275\u0275template"](5,qn,15,9,"ng-container",3),r["\u0275\u0275template"](6,Yn,12,7,"ng-container",3),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275template"](7,Zn,1,2,"mg-points-selector",4),r["\u0275\u0275pipe"](8,"async"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.contentHash),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.pollType),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitch",t.pollType),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",t.PollType.LIST),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",t.PollType.EMOTIVE),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](8,6,t.canAllocateContentPoints$)))},directives:[Y.E,Y.u,Y.v,i.o,i.q,i.r,Pn.a,Y.B,Y.t,Y.w,In.a,Y.o,Y.n,i.n,pe.d,me.a,pe.h,fe.a,ve.a,pe.c,pe.g,pe.j,et.a,gt.a],pipes:[i.b,_n.a,o.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");mat-form-field[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{color:#737373}mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;box-sizing:border-box}@media (orientation:landscape){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:445.8461538462px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:14px}}.form-input-hpadding[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.pseudo-mg-input[_ngcontent-%COMP%]{color:#737373;border-bottom:1px solid #ccc}.pseudo-mg-input[_ngcontent-%COMP%]     .textarea-placeholder{color:#2f2f2f}.input-margin[_ngcontent-%COMP%]{margin:8px}.input-group[_ngcontent-%COMP%]{margin:16px;--mg-form-field-margin:4px 0}.input-group.vmargin-only[_ngcontent-%COMP%]{margin:16px 0}.input-group[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%]{padding:0;margin:16px 0}mat-form-field[mgFormField][_ngcontent-%COMP%] + .input-group[_ngcontent-%COMP%]{margin-top:0}.input-hpadding[_ngcontent-%COMP%]{padding-left:14px;padding-right:14px}.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:17px}}.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e2e2e2}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;color:#737373;font-size:16px;font-weight:400;font-family:Muli,sans-serif}.text-input[_ngcontent-%COMP%]   input.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-padding[_ngcontent-%COMP%]{padding:16px}.body-input[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;color:#737373}.body-input.mg-draft-dirty[_ngcontent-%COMP%], .mg-label[_ngcontent-%COMP%]{color:#2f2f2f}.mg-label[_ngcontent-%COMP%]{margin-top:8px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]{margin-left:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]:first-child{margin-top:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label{align-items:flex-start}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content{text-align:left;padding-bottom:.5em}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content .toggle-subtext{display:block;white-space:normal;margin-top:1em}[_nghost-%COMP%]{overflow:hidden;display:block}.pollBg1[_ngcontent-%COMP%]{background-color:purple}.pollBg2[_ngcontent-%COMP%]{background-color:#00f}.pollBg3[_ngcontent-%COMP%]{background-color:#d3d3d3}.bg-img[_ngcontent-%COMP%]{background-position:50%;background-size:cover;background-repeat:no-repeat;position:absolute;top:0;left:0;right:0;bottom:0}.remove-choice-icon[_ngcontent-%COMP%]{width:16px;cursor:pointer}.emotive-poll-bg-img[_ngcontent-%COMP%]{background-size:85%;background-image:url(/assets/content/emotive_poll_icon.svg)}.list-poll-bg-img[_ngcontent-%COMP%]{background-size:85%;background-image:url(/assets/content/list_poll_icon.svg)}.add-poll-choice-btn[_ngcontent-%COMP%]{cursor:pointer}.add-poll-choice-btn[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{display:inline-block;margin-right:16px}mg-points-selector[_ngcontent-%COMP%]{width:100%;display:inline-block;margin:0 0 16px 16px}']}),e})();var Xn=n("436P");let ei=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Se.a,Xt.a,Fe.a,Ie.b,Xn.a,Pe.a,Yt.a,i.c,Y.m,pe.f,ot.c,o.c]]}),e})(),ti=(()=>{class e extends Ae{constructor(e){super(),this.pollInfoDraftService=e}resolveFromContentHash(e){return this.pollInfoDraftService.ensureInfoDraftInstance(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Fn))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var ni=n("cKGL"),ii=n("cEQe");const ri=["form"];function ai(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",10),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" +",e.imageAssets.length-1," ")}}function oi(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().showSingleImage=!1})),r["\u0275\u0275elementStart"](1,"div",6),r["\u0275\u0275elementStart"](2,"mg-icon"),r["\u0275\u0275text"](3,"camera-o"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div"),r["\u0275\u0275text"](5,"Change / Remove / Add Images"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](6,"div",7),r["\u0275\u0275element"](7,"div",8),r["\u0275\u0275template"](8,ai,2,1,"div",9),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](7),r["\u0275\u0275styleProp"]("background-image","url("+e.getSingleImagePreviewUrl()+")"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.imageAssets.length>1)}}function si(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",11),r["\u0275\u0275elementStart"](1,"mg-file-input-upload-many",12),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().imageAssets=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onImageAssetsChange(t)}))("mgModelStatusChanges",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.onImageAssetsChange(t.imageAssets)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("required",!e.title&&!e.body)("ngModel",e.imageAssets)}}function li(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.title.error.required")))}function di(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",19),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.title.length," / 255")}}const ci=function(){return{standalone:!0}};function gi(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",13),r["\u0275\u0275elementStart"](1,"mat-form-field",14),r["\u0275\u0275elementStart"](2,"mat-label"),r["\u0275\u0275text"](3,"Headline"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mg-textarea",15,16),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().title=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onTitleChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,li,3,3,"mat-error",17),r["\u0275\u0275template"](7,di,2,1,"mat-hint",18),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](5),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](4),r["\u0275\u0275classProp"]("mg-draft-dirty",t.isTitleDirty()),r["\u0275\u0275property"]("multiline",!1)("required",!t.body&&!t.imageAssets)("ngModel",t.title)("ngModelOptions",r["\u0275\u0275pureFunction0"](8,ci)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==e.control||null==e.control.errors?null:e.control.errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.title)}}let ui=(()=>{class e extends j{constructor(e,t,n,i,r){super(e,t,n,i,r),this.route=e,this.router=t,this.matDialog=n,this.snackBar=i,this.groupsFacadeService=r,this.title="",this.body="",this.imageAssets=[],this.showSingleImage=!1}mgContentInfoDraftReady(){this._initDraft()}ngOnInit(){this.checkNextStep(),this.form&&this.form.statusChanges&&this.form.statusChanges.subscribe(e=>{this.checkNextStep()})}_initDraft(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.cloneDraftMergedWithInitialFetchIfNeeded();this.imageAssets=e.assets.filter(e=>!!e),this.title=e.title,this.body=e.body,this.showSingleImage=!!(this.contentHash&&this.imageAssets.length>0),this.checkNextStep()}))}getSingleImagePreviewUrl(){if(this.imageAssets.length>0){const e=this.imageAssets[0];return Object(He.b)(e)}return""}checkNextStep(){this.form&&this.form.valid&&(this.title||this.body||this.imageAssets.length>0)?this.enableNextStep():this.disableNextStep()}onImageAssetsChange(e){"VALID"===this.form.controls.imageAssets.status&&(this.contentInfoDraft.saveToDraft("assets",e),this.checkNextStep())}getPreviousStep(){return{name:"Cancel",icon:"close"}}previousStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.exitDraft()}))}getNextStep(){return{name:"Preview",icon:"forward"}}nextStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.navigateToPreview()}))}isTitleDirty(){return this.contentInfoDraft.isFieldDirty("title")}isBodyDirty(){return this.contentInfoDraft.isFieldDirty("body")}onTitleChange(e){this.contentInfoDraft.saveToDraft("title",e),this.checkNextStep()}onBodyChange(e){this.contentInfoDraft.saveToDraft("body",e),this.checkNextStep()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-create-post"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](ri,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:11,consts:[["form","ngForm"],["class","single-image-preview",3,"click",4,"ngIf"],["class","file-input-upload-many-wrap",4,"ngIf"],["class","title-input",4,"hasPermission"],["name","body","placeholder","Share your thoughts...",1,"form-input-hpadding",3,"required","ngModel","maxlength","richContent","ngModelChange"],[1,"single-image-preview",3,"click"],[1,"single-image-preview-overlay-info"],[1,"single-image-preview-overlay"],[1,"single-image-preview-image"],["class","other-images-count",4,"ngIf"],[1,"other-images-count"],[1,"file-input-upload-many-wrap"],["name","imageAssets",3,"required","ngModel","ngModelChange","mgModelStatusChanges"],[1,"title-input"],["mgFormField","",1,"form-input-hpadding"],["mgMentionable2","inline","allowedTags","mg-mention","name","title","autocomplete","off","maxlength","255","type","text",3,"multiline","required","ngModel","ngModelOptions","ngModelChange"],["titleInput","ngModel"],[4,"ngIf"],["align","end",4,"ngIf"],["align","end"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",null,0),r["\u0275\u0275template"](2,oi,9,3,"div",1),r["\u0275\u0275template"](3,si,2,2,"div",2),r["\u0275\u0275template"](4,gi,8,9,"div",3),r["\u0275\u0275elementStart"](5,"mg-body-input",4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.body=e}))("ngModelChange",(function(e){return t.onBodyChange(e)})),r["\u0275\u0275pipe"](6,"hasPermission"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showSingleImage),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.showSingleImage),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("hasPermission","CONTENT_POST_SET_TITLE"),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("mg-draft-dirty",t.isBodyDirty()),r["\u0275\u0275property"]("required",!t.title&&!t.imageAssets)("ngModel",t.body)("maxlength",5e3)("richContent",r["\u0275\u0275pipeBind1"](6,9,"CONTENT_HTML_INCLUDE")))},directives:[Y.E,Y.u,Y.v,i.o,ni.a,ye.a,Y.B,Y.t,Y.w,Y.n,et.a,ii.a,ct.a,pe.d,me.a,pe.h,fe.a,ve.a,pe.c,pe.g],pipes:[Ce.a,o.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");mat-form-field[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{color:#737373}mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;box-sizing:border-box}@media (orientation:landscape){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:445.8461538462px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:14px}}.form-input-hpadding[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.pseudo-mg-input[_ngcontent-%COMP%]{color:#737373;border-bottom:1px solid #ccc}.pseudo-mg-input[_ngcontent-%COMP%]     .textarea-placeholder{color:#2f2f2f}.input-margin[_ngcontent-%COMP%]{margin:8px}.input-group[_ngcontent-%COMP%]{margin:16px;--mg-form-field-margin:4px 0}.input-group.vmargin-only[_ngcontent-%COMP%]{margin:16px 0}.input-group[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%]{padding:0;margin:16px 0}mat-form-field[mgFormField][_ngcontent-%COMP%] + .input-group[_ngcontent-%COMP%]{margin-top:0}.input-hpadding[_ngcontent-%COMP%]{padding-left:14px;padding-right:14px}.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:17px}}.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e2e2e2}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;color:#737373;font-size:16px;font-weight:400;font-family:Muli,sans-serif}.text-input[_ngcontent-%COMP%]   input.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-padding[_ngcontent-%COMP%]{padding:16px}.body-input[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;color:#737373}.body-input.mg-draft-dirty[_ngcontent-%COMP%], .mg-label[_ngcontent-%COMP%]{color:#2f2f2f}.mg-label[_ngcontent-%COMP%]{margin-top:8px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]{margin-left:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]:first-child{margin-top:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label{align-items:flex-start}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content{text-align:left;padding-bottom:.5em}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content .toggle-subtext{display:block;white-space:normal;margin-top:1em}.single-image-preview[_ngcontent-%COMP%]{margin-bottom:16px;position:relative;padding-bottom:56.25%;cursor:pointer;overflow:hidden;background-color:#000;border-top-left-radius:var(--overlay-border-radius);border-top-right-radius:var(--overlay-border-radius)}.single-image-preview[_ngcontent-%COMP%]   .single-image-preview-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:2}.single-image-preview[_ngcontent-%COMP%]   .single-image-preview-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-position:50%;background-size:contain;background-repeat:no-repeat;z-index:1}.single-image-preview[_ngcontent-%COMP%]   .single-image-preview-overlay-info[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;z-index:3;text-align:center;transform:translateY(-50%);color:#e2e2e2}.single-image-preview[_ngcontent-%COMP%]   .single-image-preview-overlay-info[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{height:64px;width:64px}.single-image-preview[_ngcontent-%COMP%]   .other-images-count[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;padding:8px 16px;margin:8px;color:#e2e2e2;z-index:4}.file-input-upload-many-wrap[_ngcontent-%COMP%]{overflow:hidden;border-top-left-radius:var(--overlay-border-radius);border-top-right-radius:var(--overlay-border-radius)}']}),e})();var hi=n("yUAh");let pi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Xt.a,Se.a,Ie.b,Jt.a,Fe.a,hi.a,xe.a,U.b,Pe.a,i.c,Y.m,pe.f,o.c]]}),e})();var mi=n("DSt7"),fi=n("3PcW");let vi=(()=>{class e extends ze{constructor(e,t,n,i,r,a){super(e,"PostContent"),this.componentResolver=t,this.postService=n,this.injector=i,this.auth=r,this.permissions=a}createInfoDraftInstance(e){return new yi(this.userStorage,this.componentResolver,this.postService,this.auth,this.injector,this.storagePrefix,e,this.permissions)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ne.a),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](fi.Post),r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](We.a),r["\u0275\u0275inject"](U.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class yi extends _{constructor(e,t,n,i,r,a,o,l){super(e,l,a,o),this.postService=n,this.auth=i,this.injector=r,this.permissions=l,this.componentFactory=t.resolveComponentFactory(s.d)}get type(){return"post"}get contentType(){return"POST"}createEmptyDraft(){return{assets:[],body:"",title:""}}fetchInitialDraftInfo(){return Object(u.a)(this,void 0,void 0,(function*(){if(!this.contentHash)return;const e=new Ee.ContentInfoQuery;e.setContentHash(this.contentHash);const t=yield this.postService.getInfo(e);this.setInitialDraft({assets:t.getAssetList(),body:t.getBody(),title:t.getTitle()})}))}hasImageContent(){return Object(u.a)(this,void 0,void 0,(function*(){return(yield this.getDraft()).assets.length>0}))}hasTextContent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft();return!!e.body||!!e.title}))}submitDraftNew(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft(),t=new mi.PostInfo;return t.setAssetList(e.assets),t.setBody(e.body),t.setTitle(e.title),Te(yield this.postService.new(t),{type:this.type})}))}submitDraftUpdate(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.fetchInitialDraftInfo();const e=yield this.initialDraftDifference(),t=new mi.DeltaPostInfo;if(t.setContentHash(this.contentHash),"body"in e){const n=new O.StringDelta;n.setNewString(e.body),t.setBody(n)}if("title"in e){const n=new O.StringDelta;n.setNewString(e.title),t.setTitle(n)}const n=yield this.makeRepeatedStringDelta("assets");return t.setAssetList(n),Te(yield this.postService.update(t),{type:this.type})}))}updatePreviewComponent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=this.auth.getPersonViewMinimalFromCurrentPerson(),n=yield this.cloneDraftMergedWithInitialFetchIfNeeded(),i=[];for(let e of n.assets){const t=[],n=window.MINGA_ASSET_URL_PREFIX+e,{width:r,height:a}=yield Object(nn.d)(n);t.push(["raw",{width:r,height:a,path:e}]),i.push({sizeMap:t})}e.instance.disableActions=!1,e.instance.contentHash="",e.instance.contextHash="",e.instance.content={title:n.title,fullBody:yield this.bodyAsPreviewHtml(n.body),authorDisplayName:"",authorAvatarUrl:"",timestamp:Date.now(),imageList:i,videoUrl:"",likeCount:0,commentCount:0,totalCommentCount:0,commentList:[],commentListPage:0,authorIconUrl:"",authorIconColor:"",authorRoleName:"",authorPersonView:t.toObject(),mediaWidth:0,mediaHeight:0,lightContent:!1,gradientOverlap:!1,backgroundColor:"",disableActions:!1,gradientSize:0}}))}createPreviewComponent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.componentFactory.create(this.injector);return yield this.updatePreviewComponent(e),e}))}}let Ci=(()=>{class e extends Ae{constructor(e){super(),this.postInfoDraftService=e}resolveFromContentHash(e){return this.postInfoDraftService.ensureInfoDraftInstance(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](vi))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var Mi=n("8sFK");const bi=["form"];function Oi(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",7),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("align","end"),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate2"](" ",e.message.length,"/",e.maxLength," ")}}let wi=(()=>{class e extends j{constructor(e,t,n,i,r,a){super(e,t,n,i,r),this.route=e,this.router=t,this.matDialog=n,this.snackBar=i,this.groupsFacadeService=r,this._cdr=a,this.message="",this.maxLength=135}mgContentInfoDraftReady(){this._initDraft()}ngOnInit(){this.checkNextStep()}checkNextStep(){return this.form&&this.form.valid&&this.message?(this.enableNextStep(),!0):(this.disableNextStep(),!1)}getPreviousStep(){return{name:"Cancel",icon:"close"}}previousStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.exitDraft()}))}getNextStep(){return{name:"Preview",icon:"forward"}}nextStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.contentInfoDraft.saveToDraft("message",this.message),yield this.navigateToPreview()}))}onFormSubmit(e){e.preventDefault(),this.checkNextStep()&&this.nextStep()}onTextareaChange(){this.contentInfoDraft.saveToDraft("message",this.message),this.checkNextStep()}_initDraft(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.cloneDraftMergedWithInitialFetchIfNeeded();this.message=e.message,this.checkNextStep(),this._cdr.markForCheck()}))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-create-sms-message"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](bi,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:4,consts:[[1,"mg-centered"],[1,"sms-image"],[3,"submit"],["form","ngForm"],["mgFormField",""],["matInput","","required","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","autocomplete","off","name","smsMessage",3,"placeholder","maxLength","ngModel","ngModelChange"],[3,"align",4,"ngIf"],[3,"align"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275element"](1,"div",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"form",2,3),r["\u0275\u0275listener"]("submit",(function(e){return t.onFormSubmit(e)})),r["\u0275\u0275elementStart"](4,"mat-form-field",4),r["\u0275\u0275elementStart"](5,"mat-label"),r["\u0275\u0275text"](6,"SMS Message"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"textarea",5),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.message=e}))("ngModelChange",(function(){return t.onTextareaChange()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,Oi,2,3,"mat-hint",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](7),r["\u0275\u0275propertyInterpolate1"]("placeholder","Send a text message. Max. ",t.maxLength," characters"),r["\u0275\u0275property"]("maxLength",t.maxLength)("ngModel",t.message),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.message.length>10))},directives:[Y.E,Y.u,Y.v,pe.d,me.a,pe.h,ot.b,Mi.b,Y.d,Y.B,Y.t,Y.w,i.o,pe.g],styles:[".sms-image[_ngcontent-%COMP%]{background-image:url(/assets/settings/settings_sms.png);width:90px;height:90px;background-size:contain;background-position:50%;background-repeat:no-repeat}.sms-image[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{margin:16px auto}form[_ngcontent-%COMP%]{display:block;padding:0 16px;max-width:550px}"],changeDetection:0}),e})();var Di=n("buRW");let Si=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Di.b,Fe.a,i.c,pe.f,ot.c,Y.m,At.a],Di.b]}),e})();var Fi=n("3wAF"),xi=n("9XD7");let Pi=(()=>{class e extends ze{constructor(e,t,n,i,r,a){super(e,"SmsMessageContent"),this.componentResolver=t,this.smsMessageContent=n,this.injector=i,this.auth=r,this.permissions=a}createInfoDraftInstance(e){return new Ii(this.userStorage,this.componentResolver,this.smsMessageContent,this.auth,this.injector,this.storagePrefix,e,this.permissions)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ne.a),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](xi.SmsMessageContent),r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](We.a),r["\u0275\u0275inject"](U.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class Ii extends _{constructor(e,t,n,i,r,a,o,s){super(e,s,a,o),this.smsMessageContent=n,this.auth=i,this.injector=r,this.permissions=s,this.componentFactory=t.resolveComponentFactory(Di.a)}get type(){return"sms_message"}get contentType(){return"SMS_MESSAGE"}createEmptyDraft(){return{message:""}}fetchInitialDraftInfo(){return Object(u.a)(this,void 0,void 0,(function*(){if(!this.contentHash)return;const e=new Ee.ContentInfoQuery;e.setContentHash(this.contentHash);const t=yield this.smsMessageContent.getInfo(e);this.setInitialDraft({message:t.getMessage()})}))}hasImageContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!1}))}hasTextContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!0}))}submitDraftNew(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft(),t=new Fi.SmsMessageInfo;return t.setMessage(e.message),Te(yield this.smsMessageContent.new(t),{type:this.type})}))}submitDraftUpdate(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.fetchInitialDraftInfo();const e=yield this.initialDraftDifference(),t=new Fi.DeltaSmsMessageInfo;if(t.setContentHash(this.contentHash),"message"in e){const n=new O.StringDelta;n.setNewString(e.message||""),t.setMessage(n)}return Te(yield this.smsMessageContent.update(t),{type:this.type})}))}updatePreviewComponent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=this.auth.getPersonViewMinimalFromCurrentPerson(),n=yield this.cloneDraftMergedWithInitialFetchIfNeeded();e.instance.contentHash="",e.instance.contextHash="",e.instance.content=(new On.LongSmsMessageCardView).toObject(),e.instance.content.message=n.message||"",e.instance.content.authorPersonView=t.toObject()}))}createPreviewComponent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.componentFactory.create(this.injector);return yield this.updatePreviewComponent(e),e}))}}let _i=(()=>{class e extends Ae{constructor(e){super(),this.smsMessageInfoDraftService=e}resolveFromContentHash(e){return this.smsMessageInfoDraftService.ensureInfoDraftInstance(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Pi))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ti=n("LRne"),Bi=n("JX91"),Ei=n("lJxs"),ji=n("eHba"),Ri=n("IheW"),ki=n("jXzp"),zi=n("3JiK"),Ni=n("Cfvw"),Vi=n("eIep"),Wi=n("w1tV"),Li=n("3E0/"),Ui=n("/d8p"),Ai=n("GJmQ"),Gi=n("1G5W"),Hi=n("pLZG"),qi=n("0Pi8"),$i=n("Pfbz"),Qi=n("5lxJ");let Ki=(()=>{class e{constructor(e,t,n){this.videoRpc=e,this.http=t,this.appConfig=n}trackVideoStatus(e,t){return Object(Ti.a)(e).pipe(Object(Vi.a)(e=>Object(Ni.a)(this.getVideoStatus(e))),Object(Wi.a)(),Object(Li.a)(3e3),Object(Ui.a)(),Object(Ai.a)(e=>e.pctComplete<100,!0),Object(Gi.a)(t))}uploadVideo(e,t){const n=[Ri.d.UploadProgress];return Object(Ni.a)(this.getMetaForFile()).pipe(Object(Vi.a)(n=>this._uploadVideo(e,t,n)),Object(Wi.a)(),Object(Hi.a)(e=>n.includes(e.type)),Object(Ei.a)(e=>({progress:e.loaded/e.total*.98})),Object(qi.a)({progress:1}))}getMetaForFile(){return Object(u.a)(this,void 0,void 0,(function*(){return{country:(yield this.appConfig.getAppCountry())||"",environment:yield this.appConfig.getEnvironment(),clientVersion:this.appConfig.getAppVersion()}}))}getClientUploadUrl(){return Object(u.a)(this,void 0,void 0,(function*(){const e=new ki.ClouldflareUploadUrlRequest,t=yield this.videoRpc.newCloudflareUploadUrl(e);return{url:t.getUploadUrl(),uid:t.getUid(),signedToken:t.getSignedToken()}}))}getVideoStatus(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=new ki.GetCloudflareVideoStatusRequest;t.setUid(e);const n=yield this.videoRpc.getCloudflareVideoStatus(t);return{pctComplete:n.getPctComplete(),thumbnail:n.getThumbnail()}}))}_uploadVideo(e,t,n){const i=new FormData,r=Object(zi.cloudflareUrlMetaEncode)(e.name,n);i.append("file",e,r);const a=new URL(t.url);return a.searchParams.append("ngsw-bypass","true"),this.http.post(a.href,i,{observe:"events",reportProgress:!0})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"]($i.Video),r["\u0275\u0275inject"](Ri.a),r["\u0275\u0275inject"](Qi.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Yi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[Ki],imports:[[i.c]]}),e})();var Zi=n("/oii");const Ji=["form"];function Xi(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",10),r["\u0275\u0275element"](2,"div",11),r["\u0275\u0275elementStart"](3,"p"),r["\u0275\u0275text"](4,"Video upload in progress"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]())}function er(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-file-input-upload",12),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).videoThumbnail=t}))("mgModelStatusChanges",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onVideoThumbnailStatusChange(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("previewSize",740)("changeText","Change preview image")("ngModel",e.videoThumbnail)("fallback",e.customThumbnail?e.defaultCloudflareThumbnail:e.getVideoDataThumbnailUrl())}}function tr(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",5),r["\u0275\u0275template"](1,Xi,5,0,"ng-container",6),r["\u0275\u0275template"](2,er,1,4,"ng-template",null,7,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementStart"](4,"div",8),r["\u0275\u0275element"](5,"div",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=r["\u0275\u0275reference"](3);r["\u0275\u0275property"]("ngClass","upload-status-"+e.status),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf","uploading"===e.status)("ngIfElse",n),r["\u0275\u0275advance"](4),r["\u0275\u0275styleProp"]("transform","scaleX("+e.progress+")")}}function nr(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",22),r["\u0275\u0275elementStart"](1,"mg-file-input-upload",12),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).videoThumbnail=t}))("mgModelStatusChanges",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).onVideoThumbnailStatusChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("previewSize",740)("changeText","Change preview image")("ngModel",e.videoThumbnail)("fallback",e.getVideoDataThumbnailUrl())}}const ir=function(){return{standalone:!0}};function rr(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-file-input",27),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](4).videoInputFiles=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](4).onFileInput(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](4);r["\u0275\u0275property"]("ngModel",e.videoInputFiles)("ngModelOptions",r["\u0275\u0275pureFunction0"](2,ir))}}function ar(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",24),r["\u0275\u0275template"](1,rr,1,3,"mg-file-input",25),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementStart"](3,"p",26),r["\u0275\u0275text"](4,"Or"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!r["\u0275\u0275pipeBind1"](2,1,e.videoUploadInfo$))}}function or(e,t){1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275template"](1,ar,5,3,"div",23),r["\u0275\u0275elementContainerEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("hasPermission","VIDEO_UPLOAD"))}function sr(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mg-icon",28),r["\u0275\u0275text"](1,"vimeo"),r["\u0275\u0275elementEnd"]())}function lr(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mg-icon",29),r["\u0275\u0275text"](1,"yt"),r["\u0275\u0275elementEnd"]())}function dr(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"span",30),r["\u0275\u0275listener"]("click",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).invalidUrlClick(t)})),r["\u0275\u0275text"](1,"?"),r["\u0275\u0275elementEnd"]()}}function cr(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.youtubeUrl.error.required")))}function gr(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275template"](0,nr,2,4,"div",13),r["\u0275\u0275template"](1,or,2,1,"ng-container",14),r["\u0275\u0275elementStart"](2,"mat-form-field",15),r["\u0275\u0275elementStart"](3,"mat-label"),r["\u0275\u0275text"](4,"Enter/paste YouTube or Vimeo URL"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"input",16,17),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().videoUrl=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onVideoUrlChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerStart"](7,18),r["\u0275\u0275template"](8,sr,2,0,"mg-icon",19),r["\u0275\u0275template"](9,lr,2,0,"mg-icon",20),r["\u0275\u0275template"](10,dr,2,0,"span",21),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275template"](11,cr,3,3,"mat-error",14),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](6),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngIf",t.videoData||t.videoInputPreview),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!((t.assetThumbnailPath||t.customThumbnail)&&t.videoUrl)),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngModel",t.videoUrl),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngSwitch",t.urlIcon),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","vimeo"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase","yt"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",null==e.control||null==e.control.errors?null:e.control.errors.required)}}function ur(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.generic.error.tooLong")))}function hr(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](2,1,"input.title.error.required")))}function pr(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-hint",36),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.title.length," / 255")}}function mr(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",31),r["\u0275\u0275elementStart"](1,"mat-form-field",32),r["\u0275\u0275elementStart"](2,"mat-label"),r["\u0275\u0275text"](3,"Title"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mg-textarea",33,34),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().title=t}))("blur",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onTitleBlur(t)}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onTitleChange(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,ur,3,3,"mat-error",14),r["\u0275\u0275template"](7,hr,3,3,"mat-error",14),r["\u0275\u0275template"](8,pr,2,1,"mat-hint",35),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275reference"](5),t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](4),r["\u0275\u0275classProp"]("edited",t.titleTouched)("mg-draft-dirty",t.isTitleDirty()),r["\u0275\u0275property"]("multiline",!1)("required",!0)("ngModel",t.title),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",null==e.control||null==e.control.errors?null:e.control.errors.maxlength),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==e.control?null:e.control.touched)&&(null==e.control||null==e.control.errors?null:e.control.errors.required)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.title)}}let fr=(()=>{class e extends j{constructor(e,t,n,i,r,a,o,s,l){super(t,n,i,r,a),this.videoService=e,this.route=t,this.router=n,this.matDialog=i,this.snackBar=r,this.groupsFacadeService=a,this.cloudflare=o,this.videoRpc=s,this.cdr=l,this.videoData=null,this.videoUrl="",this.videoThumbnail="",this.title="",this.body="",this.cloudflareUploadUrl=null,this.titleTouched=!1,this.customThumbnail=!1,this.assetThumbnailPath="",this.videoInputFiles=[],this.videoInputPreview=""}get defaultCloudflareThumbnail(){return this.cloudflareUploadUrl?`https://videodelivery.net/${this.cloudflareUploadUrl.signedToken}/thumbnails/thumbnail.jpg`:""}get urlIcon(){return!this.videoData||I.isEmpty(this.videoData)?!!this.videoUrl||null:this.videoData.vimeoId?"vimeo":"yt"}get isNonCustomAssetCloudflare(){return!this.videoUrl&&this.cloudflareUploadUrl&&this.cloudflareUploadUrl.uid&&!this.customThumbnail&&!this.assetThumbnailPath}onFileInput(e){return Object(u.a)(this,void 0,void 0,(function*(){if(e[0].size>=2e8)return this.snackBar.open("Video file too big, can be up to 200mb"),void(this.videoInputFiles=[]);yield this.uploadVideoToCloudflare(this.videoInputFiles[0])}))}mgContentInfoDraftReady(){this._initDraft()}ngOnInit(){if(!this.form||!this.form.statusChanges)throw new Error("form unset");this.form.statusChanges.subscribe(e=>this.onFormStatusChanges(e))}ngOnDestroy(){}uploadVideoToCloudflare(e){return Object(u.a)(this,void 0,void 0,(function*(){this.clearVideoUrl(),this.videoUploadInfo$=Object(Ti.a)({status:"uploading",progress:0});const t=yield this.cloudflare.getClientUploadUrl();this.videoUploadInfo$=this.cloudflare.uploadVideo(e,t).pipe(Object(Bi.a)({progress:0}),Object(Ei.a)(e=>({progress:e.progress,status:e.progress>=1?"done":"uploading"}))),this.videoUploadInfo$.subscribe(null,e=>this.onUploadError(e),()=>{this.cloudflareUploadUrl=t,this.contentInfoDraft.saveToDraft("cloudflareUploadUrl",t),this.videoThumbnail=this.defaultCloudflareThumbnail,this.checkNextStep()}),this.checkNextStep()}))}onUploadError(e){delete this.videoUploadInfo$,console.error("Video upload error:",e),this.snackBar.open("An error occurred while uploading video, please try again.")}onVideoThumbnailStatusChange(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=()=>Object(u.a)(this,void 0,void 0,(function*(){yield this.contentInfoDraft.saveToDraft("videoThumbnail",""),this.defaultCloudflareThumbnail===this.videoThumbnail&&(yield this.contentInfoDraft.saveToDraft("cloudflareThumbnail",this.defaultCloudflareThumbnail))}));if("VALID"===e)if(this.isDefaultThumbnail())t();else{if(this.assetThumbnailPath&&(this.videoThumbnail===this.defaultCloudflareThumbnail&&(this.customThumbnail=!1),this.assetThumbnailPath="",this.isDefaultThumbnail()))return void t();yield this.contentInfoDraft.saveToDraft("videoThumbnail",this.videoThumbnail)}this.checkNextStep()}))}onFormStatusChanges(e){this.checkNextStep()}_initDraft(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.cloneDraftMergedWithInitialFetchIfNeeded();if(this.videoUrl=e.videoUrl,this.title=e.title,this.videoThumbnail=e.videoThumbnail,this.cloudflareUploadUrl=e.cloudflareUploadUrl,this.customThumbnail=!!e.customThumbnail,e.assetThumbnail&&e.videoThumbnail&&(this.assetThumbnailPath=this.videoThumbnail),yield this.fetchVideoData(),this.body=e.description,e.title&&(this.title=e.title),e.videoThumbnail&&e.assetThumbnail&&(this.videoThumbnail=e.videoThumbnail),e.cloudflareUploadUrl&&e.cloudflareUploadUrl.uid){const e={status:"done",progress:1};this.videoUploadInfo$=Object(Ti.a)(e),this.videoThumbnail||(this.videoThumbnail=this.defaultCloudflareThumbnail)}this.checkNextStep()}))}checkNextStep(){this.form&&this.form.valid&&(this.videoUrl||this.cloudflareUploadUrl)?this.enableNextStep():this.disableNextStep()}getVideoDataThumbnailUrl(e=this.videoData){if(this.videoThumbnail&&this.assetThumbnailPath&&!this.customThumbnail)return this.videoThumbnail;if(this.isNonCustomAssetCloudflare)return this.defaultCloudflareThumbnail;if(!e&&!this.videoInputPreview)return"";if(this.videoInputPreview&&!e)return this.videoInputPreview;const t=e.thumbnails[0];return t?t.url:""}preventNavigation(e,t,n){const i=Object.create(null,{preventNavigation:{get:()=>super.preventNavigation}});return Object(u.a)(this,void 0,void 0,(function*(){return yield i.preventNavigation.call(this,e,t,n),""}))}isDefaultThumbnail(){if(this.isNonCustomAssetCloudflare)return this.videoThumbnail===this.defaultCloudflareThumbnail;if(this.assetThumbnailPath)return this.videoThumbnail===this.assetThumbnailPath;{const e=this.getVideoDataThumbnailUrl(this.videoData);return this.videoThumbnail===e}}isVideoDataTitle(e=this.videoData){return!!e&&this.title==e.title}fetchVideoData(){return Object(u.a)(this,void 0,void 0,(function*(){if(this.videoData=null,this.videoUrl){let t=null;try{t=yield this.videoService.getVideoDataFromUrl(this.videoUrl),t&&(t.url||(t.url=this.videoUrl),this.assetThumbnailPath||(this.videoThumbnail=this.getVideoDataThumbnailUrl(t)),this.title=t.title)}catch(e){}this.videoData=t}}))}getPreviousStep(){return{name:"Cancel",icon:"close"}}previousStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.exitDraft()}))}getNextStep(){return{name:"Preview",icon:"forward"}}nextStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.navigateToPreview()}))}onTitleFocus(e){let t=this.title;if(!e)return;this.titleTouched=!0;const n=e.target;!this.title&&this.videoData&&(this.title=t=this.videoData.title),n.setSelectionRange(0,t.length)}onTitleBlur(e){!this.isVideoDataTitle()&&this.title||(this.titleTouched=!1,!this.title&&this.videoData&&(this.title=this.videoData.title))}onVideoUrlChange(e){this.videoThumbnail="",this.fetchVideoData(),this.contentInfoDraft.saveToDraft("videoUrl",e),this.checkNextStep()}onTitleChange(e){this.contentInfoDraft.saveToDraft("title",e),this.checkNextStep()}onBodyChange(e){this.contentInfoDraft.saveToDraft("description",e),this.checkNextStep()}invalidUrlClick(e){e&&e.preventDefault(),this.snackBar.open("Unable to load the video from the provided URL")}isTitleDirty(){return!this.isVideoDataTitle()||this.contentInfoDraft.isFieldDirty("title")}clearVideoUrl(){this.videoUrl="",this.videoData=null,this.contentInfoDraft.saveToDraft("videoUrl","")}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](ji.d),r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b),r["\u0275\u0275directiveInject"](Ki),r["\u0275\u0275directiveInject"]($i.Video),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-create-video"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](Ji,3),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:10,consts:[["form","ngForm"],["class","video-status-container",3,"ngClass",4,"ngIf","ngIfElse"],["notUploading",""],["class","title-input",4,"hasPermission"],["name","body","placeholder","Description...",1,"form-input-hpadding",3,"richContent","ngModel","maxlength","ngModelChange"],[1,"video-status-container",3,"ngClass"],[4,"ngIf","ngIfElse"],["uploadDone",""],[1,"progress-bar-container"],[1,"progress-bar"],[1,"upload-processing-container"],[1,"placeholder-image"],["required","","name","videoThumbnail","previewAspectRatio","16:9",3,"previewSize","changeText","ngModel","fallback","ngModelChange","mgModelStatusChanges"],["class","video-thumbnail",4,"ngIf"],[4,"ngIf"],["mgFormField","","hideRequiredMarker","",1,"form-input-hpadding","url-input"],["matInput","","name","videoUrl","autocomplete","off","type","text","mgFocusSelectText","","name","videoUrl",1,"video-url",3,"ngModel","ngModelChange"],["videoUrlInput","ngModel"],["matSuffix","",3,"ngSwitch"],["class","vimeo-icon",4,"ngSwitchCase"],["class","yt-icon",4,"ngSwitchCase"],["title","Invalid URL","class","invalid-url",3,"click",4,"ngSwitchCase"],[1,"video-thumbnail"],["class","custom-video-input-container",4,"hasPermission"],[1,"custom-video-input-container"],["customTitleText","Upload a Video","icon","upload-o","fileDetailText","Webm, MP4, AVI, limit 200mb","accept","video/mp4,video/x-m4v,video/*",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"mg-smallcopy"],["customTitleText","Upload a Video","icon","upload-o","fileDetailText","Webm, MP4, AVI, limit 200mb","accept","video/mp4,video/x-m4v,video/*",3,"ngModel","ngModelOptions","ngModelChange"],[1,"vimeo-icon"],[1,"yt-icon"],["title","Invalid URL",1,"invalid-url",3,"click"],[1,"title-input"],["mgFormField","","hideRequiredMarker","",1,"form-input-hpadding"],["mgMentionable2","inline","allowedTags","mg-mention","name","titleInput","autocomplete","off","type","text","maxlength","255",3,"multiline","required","ngModel","ngModelChange","blur"],["videoTitleInput","ngModel"],["align","end",4,"ngIf"],["align","end"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"form",null,0),r["\u0275\u0275template"](2,tr,6,5,"div",1),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275template"](4,gr,12,8,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275template"](6,mr,9,10,"div",3),r["\u0275\u0275elementStart"](7,"mg-body-input",4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.body=e}))("ngModelChange",(function(e){return t.onBodyChange(e)})),r["\u0275\u0275pipe"](8,"hasPermission"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275reference"](5);r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](3,6,t.videoUploadInfo$))("ngIfElse",e),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("hasPermission","CONTENT_POST_SET_TITLE"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("richContent",r["\u0275\u0275pipeBind1"](8,8,"CONTENT_HTML_INCLUDE"))("ngModel",t.body)("maxlength",5e3)}},directives:[Y.E,Y.u,Y.v,i.o,ni.a,ye.a,Y.t,Y.w,Y.n,i.m,dn.a,Y.B,ct.a,pe.d,me.a,pe.h,ot.b,Zi.a,Y.d,pe.j,i.q,i.r,rt.a,et.a,pe.c,fe.a,ve.a,pe.g],pipes:[i.b,Ce.a,o.d],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");mat-form-field[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{color:#737373}mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;box-sizing:border-box}@media (orientation:landscape){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:445.8461538462px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:14px}}.form-input-hpadding[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.pseudo-mg-input[_ngcontent-%COMP%]{color:#737373;border-bottom:1px solid #ccc}.pseudo-mg-input[_ngcontent-%COMP%]     .textarea-placeholder{color:#2f2f2f}.input-margin[_ngcontent-%COMP%]{margin:8px}.input-group[_ngcontent-%COMP%]{margin:16px;--mg-form-field-margin:4px 0}.input-group.vmargin-only[_ngcontent-%COMP%]{margin:16px 0}.input-group[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%]{padding:0;margin:16px 0}mat-form-field[mgFormField][_ngcontent-%COMP%] + .input-group[_ngcontent-%COMP%]{margin-top:0}.input-hpadding[_ngcontent-%COMP%]{padding-left:14px;padding-right:14px}.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:17px}}.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e2e2e2}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;color:#737373;font-size:16px;font-weight:400;font-family:Muli,sans-serif}.text-input[_ngcontent-%COMP%]   input.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-padding[_ngcontent-%COMP%]{padding:16px}.body-input[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;color:#737373}.body-input.mg-draft-dirty[_ngcontent-%COMP%], .mg-label[_ngcontent-%COMP%]{color:#2f2f2f}.mg-label[_ngcontent-%COMP%]{margin-top:8px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]{margin-left:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]:first-child{margin-top:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label{align-items:flex-start}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content{text-align:left;padding-bottom:.5em}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content .toggle-subtext{display:block;white-space:normal;margin-top:1em}.video-url-container[_ngcontent-%COMP%]   .invalid-url[_ngcontent-%COMP%], .video-url-container[_ngcontent-%COMP%]   mg-icon[_ngcontent-%COMP%]{flex-grow:0;margin-left:8px}.video-url-container[_ngcontent-%COMP%]   .invalid-url[_ngcontent-%COMP%]{padding-left:30px}.yt-icon[_ngcontent-%COMP%]{color:red}.vimeo-icon[_ngcontent-%COMP%]{color:#1ab7ea}.video-thumbnail[_ngcontent-%COMP%]{display:block;margin-bottom:16px}.video-thumbnail.show[_ngcontent-%COMP%]{display:block}.video-thumbnail.show[_ngcontent-%COMP%]   mat-form-field.url-input[_ngcontent-%COMP%]{margin-top:0}.mg-draft-dirty[_ngcontent-%COMP%]{color:#737373}.mg-draft-dirty.edited[_ngcontent-%COMP%], .mg-draft-dirty.mg-focus-select-dirty[_ngcontent-%COMP%]{color:#036}.custom-video-input-container[_ngcontent-%COMP%], mat-form-field.url-input[_ngcontent-%COMP%]{margin-top:16px}.custom-video-input-container[_ngcontent-%COMP%] + mat-form-field.url-input[_ngcontent-%COMP%]{margin-top:0}form[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#737373;text-align:center}mg-file-input[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #ccc;margin-left:16px;margin-right:16px;display:block;color:#737373;--mg-file-input-icon-size-mobile:24px;--mg-file-input-icon-size-desktop:24px}.video-status-container[_ngcontent-%COMP%]{position:relative;margin-bottom:24px}.video-status-container[_ngcontent-%COMP%]   .upload-processing-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:30px 30px 56px}.video-status-container[_ngcontent-%COMP%]   .upload-processing-container[_ngcontent-%COMP%]   .placeholder-image[_ngcontent-%COMP%]{background-image:url(/assets/video_frame.svg);height:106px;width:106px;margin-left:auto;margin-right:auto}.video-status-container[_ngcontent-%COMP%]   .upload-processing-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#737373;margin:0}.video-status-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{position:absolute;background-color:#fff;z-index:10;bottom:0;left:0;right:0;height:24px;border-top:1px solid #ccc;border-bottom:1px solid #ccc;transition:opacity .3s ease}.video-status-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{margin:-1px 0;transition:transform .3s ease;transform-origin:left;transform:scaleX(0);height:26px;background-color:#1dce4d}.video-status-container.upload-status-processing[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .video-status-container.upload-status-uploading[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{opacity:1}.video-status-container.upload-status-done[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{opacity:0;pointer-events:none}']}),e})(),vr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Fe.a,Xt.a,Se.a,le.a,Ie.b,gn.a,xe.a,Jt.a,U.b,Pe.a,Qt.c,Yi,i.c,Y.m,pe.f,ot.c,o.c]]}),e})(),yr=(()=>{class e extends ze{constructor(e,t,n,i,r,a,o,s){super(e,"VideoContent"),this.componentResolver=t,this.postService=n,this.injector=i,this.auth=r,this.videoService=a,this.video=o,this.permissions=s}createInfoDraftInstance(e){return new Cr(this.userStorage,this.componentResolver,this.postService,this.auth,this.injector,this.videoService,this.video,this.storagePrefix,e,this.permissions)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ne.a),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](fi.Post),r["\u0275\u0275inject"](r.Injector),r["\u0275\u0275inject"](We.a),r["\u0275\u0275inject"](ji.d),r["\u0275\u0275inject"]($i.Video),r["\u0275\u0275inject"](U.c))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class Cr extends _{constructor(e,t,n,i,r,a,o,l,d,c){super(e,c,l,d),this.postService=n,this.auth=i,this.injector=r,this.videoService=a,this.video=o,this.permissions=c,this.componentFactory=t.resolveComponentFactory(s.d)}get type(){return"video"}get contentType(){return"VIDEO"}fetchInitialDraftInfo(){return Object(u.a)(this,void 0,void 0,(function*(){if(!this.contentHash)return;const e=new Ee.ContentInfoQuery;e.setContentHash(this.contentHash);const t=yield this.video.getInfo(e);this.setInitialDraft({title:t.getTitle(),description:t.getDescription(),videoUrl:t.getVideoUrl(),videoThumbnail:t.getVideoThumbnail(),customThumbnail:t.getCustomThumbnail(),assetThumbnail:!0,cloudflareUploadUrl:{url:"",uid:t.getCloudflareUid(),signedToken:t.getCloudflareSignedToken()}})}))}hasImageContent(){return Object(u.a)(this,void 0,void 0,(function*(){return!!(yield this.getDraft()).videoThumbnail}))}hasTextContent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.getDraft();return!!e.description||!!e.title}))}submitDraftUpdate(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.fetchInitialDraftInfo();const e=yield this.initialDraftDifference(),t=new ki.DeltaVideoInfo;if(t.setContentHash(this.contentHash),"description"in e){const n=new O.StringDelta;n.setNewString(e.description),t.setDescription(n)}if("title"in e){const n=new O.StringDelta;n.setNewString(e.title),t.setTitle(n)}if("videoUrl"in e){const n=new O.StringDelta;n.setNewString(e.videoUrl),t.setVideoUrl(n)}if("videoThumbnail"in e){const n=new O.StringDelta;n.setNewString(e.videoThumbnail),t.setVideoThumbnail(n)}if(e.cloudflareUploadUrl){const n=new O.StringDelta;n.setNewString(e.cloudflareUploadUrl.uid),t.setCloudflareUid(n)}return Te(yield this.video.update(t),{type:this.type})}))}submitDraftNew(){var e;return Object(u.a)(this,void 0,void 0,(function*(){const t=yield this.getDraft(),n=new ki.VideoInfo;return n.setTitle(t.title),n.setDescription(t.description),n.setVideoUrl(t.videoUrl),n.setVideoThumbnail(t.videoThumbnail),n.setCloudflareUid((null===(e=t.cloudflareUploadUrl)||void 0===e?void 0:e.uid)||""),Te(yield this.video.new(n),{type:this.type})}))}createEmptyDraft(){return{videoUrl:"",videoThumbnail:"",description:"",title:"",cloudflareUploadUrl:null}}updatePreviewComponent(e){return Object(u.a)(this,void 0,void 0,(function*(){const t=this.auth.getPersonViewMinimalFromCurrentPerson(),n=yield this.cloneDraftMergedWithInitialFetchIfNeeded(),i=[];let r=null,a=null;n.cloudflareUploadUrl&&n.cloudflareUploadUrl&&n.cloudflareUploadUrl.uid||(r=yield this.videoService.getVideoDataFromUrl(n.videoUrl));const o=n.videoThumbnail||n.cloudflareThumbnail;for(let e of[o]){const t=[];let o="",s=ji.b,l=ji.a;if(!e){const t=null==r?void 0:r.thumbnails[0];t&&(t.custom?e=t.url:(o=t.url,s=t.width,l=t.height))}if(e){o=Object(He.b)(e);const{width:t,height:n}=yield Object(nn.d)(o);s=t,l=n}a={width:s,height:l,url:n.videoUrl,title:n.title,body:n.description,thumbnails:[{custom:!0,width:s,height:l,url:o}]},t.push(["raw",{width:s,height:l,path:o}]),i.push({sizeMap:t})}e.instance.disableActions=!1,e.instance.noVideoAutoPlay=!0,e.instance.videoData=a,e.instance.contentHash="",e.instance.contextHash="",e.instance.videoProcessingText="Your video is being processed, but you may publish at any time.",e.instance.content={title:n.title||(null==r?void 0:r.title)||"",fullBody:yield this.bodyAsPreviewHtml(n.description),authorDisplayName:"",authorAvatarUrl:"",timestamp:Date.now(),imageList:i,videoUrl:n.videoUrl,likeCount:0,commentCount:0,totalCommentCount:0,commentList:[],commentListPage:0,authorIconUrl:"",authorIconColor:"",authorRoleName:"",authorPersonView:t.toObject(),mediaWidth:a.width||0,mediaHeight:a.height||0,lightContent:!1,gradientOverlap:!1,backgroundColor:"",disableActions:!1,gradientSize:0,cloudflareUid:n.cloudflareUploadUrl&&n.cloudflareUploadUrl.uid?n.cloudflareUploadUrl.signedToken||n.cloudflareUploadUrl.uid:"",cloudflareVideoUrl:n.cloudflareUploadUrl?n.cloudflareUploadUrl.url:"",cloudflareReady:!!n.assetThumbnail}}))}createPreviewComponent(){return Object(u.a)(this,void 0,void 0,(function*(){const e=this.componentFactory.create(this.injector);return yield this.updatePreviewComponent(e),e}))}}let Mr=(()=>{class e extends Ae{constructor(e){super(),this.videoInfoDraftService=e}resolveFromContentHash(e){return this.videoInfoDraftService.ensureInfoDraftInstance(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](yr))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var br=n("jtHE"),Or=n("itXk"),wr=n("SxV6"),Dr=n("xs9W"),Sr=n("HHVM"),Fr=n("hUj8"),xr=n("lkjj"),Pr=n("4BGm");function Ir(e){return{name:e.name,roleType:e.roleType,tooltip:"",disabled:!1}}let _r=(()=>{class e extends R{constructor(e,t,n,i,r,a){super(),this.commentHandler=r,this._cdr=a,this._destroyed$=new br.a(1),this.displayTitle="Advanced Publish Settings",this.displayPreview="",this.contentMetadataKeys=["mingaContentPublishDate","mingaContentUnpublishDate","mingaContentPinEndDate","emailContent","emailContentRoles","emailContentIncludeUnregistered","commentRoleTypes"],this.publishDate=null,this.unpublishDate=null,this.initiallyPinned=!1,this.initialPinEndDate=null,this.pinned=!1,this.pinDays=0,this.endPinDate=null,this.mobileInputs=!1,this.emailContent=!1,this.emailContentIncludeUnregistered=!1,this.emailContentRoles=[],this.allowedCommentingRoleTypes=null;const o=Object(Or.b)([t.observePermission(g.MingaPermission.EMAIL_CONTENT),t.observePermission(g.MingaPermission.EMAIL_CONTENT_AS_GROUP_OWNER)]).pipe(Object(Vi.a)(([e,t])=>e?Object(Ti.a)(!0):t?n.getCurrentGroupIfSet().pipe(Object(Ei.a)(e=>!!e&&e.rank===Dr.b.OWNER)):Object(Ti.a)(!1)));this.allowedEmailContentTypes$=e.observeAllowedContentTypes(),this.enableEmailContentOption$=o.pipe(Object(Hi.a)(e=>e),Object(Vi.a)(()=>this.allowedEmailContentTypes$),Object(Ei.a)(e=>{var t;return e.includes((null===(t=this.contentInfoDraft)||void 0===t?void 0:t.contentType)||"")})),this._changesSubject=new f.a,this.emailContentRoleOptions$=this.enableEmailContentOption$.pipe(Object(Hi.a)(e=>e),Object(Vi.a)(()=>Object(Ni.a)(i.fetchIfNeeded())),Object(Vi.a)(()=>i.roles$),Object(Ei.a)(e=>e.map(Ir)))}onResize(){this.initInputSizes()}ngOnInit(){this.initInputSizes()}initInputSizes(){const e=window.innerWidth;this.mobileInputs=e<415}pinRemainingTime(e){if(!e)return"";const t=Sr.day.duration(e.getTime()-Date.now()).days()||1;return`${t} ${1==t?"day":"days"} remaining`}onPinnedChange(e){if(e){this.pinDays=this.pinDays||1,this.endPinDate=new Date,this.endPinDate.setHours(23),this.endPinDate.setMinutes(59),this.endPinDate.setSeconds(0),this.endPinDate.setMilliseconds(0);const e=this.endPinDate.getTime()+864e5*this.pinDays;this.endPinDate=new Date(e)}else this.endPinDate=null;this.saveContentMetadata("mingaContentPinEndDate",this.endPinDate)}onChanges(){return this._changesSubject.asObservable()}mgDraftReady(e){if(e.mingaContentPinEndDate){const t=Date.now();this.initialPinEndDate=e.mingaContentPinEndDate;const n=e.mingaContentPinEndDate.getTime();n>t?(this.pinned=!0,this.pinDays=Math.round((n-t)/864e5)):this.pinned=!0}else this.pinned=!1;this.initiallyPinned=this.pinned,this.publishDate=e.mingaContentPublishDate?e.mingaContentPublishDate:null,this.unpublishDate=e.mingaContentUnpublishDate?e.mingaContentUnpublishDate:null,this.emailContentRoleOptions$.pipe(Object(wr.a)(),Object(Ei.a)(e=>e.map(e=>e.roleType))).toPromise().then(e=>{this.emailContentRoles.length||(this.emailContentRoles=e.filter(e=>e!=g.MingaRoleType.STUDENT&&e!=g.MingaRoleType.STUDENT_LEADER))}),this.emailContent=e.emailContent,this.emailContentIncludeUnregistered=e.emailContentIncludeUnregistered,e.commentRoleTypes?this.allowedCommentingRoleTypes=e.commentRoleTypes:this.commentHandler.getDefaultCommentableRoles().pipe(Object(wr.a)()).toPromise().then(e=>{this.allowedCommentingRoleTypes||(this.allowedCommentingRoleTypes=e)})}onUnpublishDateChange(e){this.saveContentMetadata("mingaContentUnpublishDate",e)}onPublishDateChange(e){this.saveContentMetadata("mingaContentPublishDate",e)}onEmailContentChange(e){this.saveContentMetadata("emailContent",e)}onEmailContentRoles(e){this.saveContentMetadata("emailContentRoles",e)}onEmailContentIncludeUnregistered(e){this.saveContentMetadata("emailContentIncludeUnregistered",e)}onCommentRoleTypes(e){e&&this.saveContentMetadata("commentRoleTypes",e)}ngOnDestroy(){super.ngOnDestroy(),this._destroyed$.next(),this._destroyed$.complete()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Fr.a),r["\u0275\u0275directiveInject"](U.c),r["\u0275\u0275directiveInject"](E.b),r["\u0275\u0275directiveInject"](xr.a),r["\u0275\u0275directiveInject"](Q.a),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-content-control"]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("resize",(function(){return t.onResize()}),!1,r["\u0275\u0275resolveWindow"])},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:17,consts:[[3,"publishDate","unpublishDate","pinned","pinDays","endPinDate","readonlyPinDays","stackInputs","enableEmailContentOption","emailContent","emailContentRoleOptions","emailContentRoles","emailContentIncludeUnregistered","commentingRoles","publishDateChange","unpublishDateChange","pinnedChange","pinDaysChange","endPinDateChange","emailContentChange","emailContentRolesChange","emailContentIncludeUnregisteredChange","commentingRolesChange"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mg-content-publish-controls",0),r["\u0275\u0275listener"]("publishDateChange",(function(e){return t.publishDate=e}))("publishDateChange",(function(e){return t.onPublishDateChange(e)}))("unpublishDateChange",(function(e){return t.unpublishDate=e}))("unpublishDateChange",(function(e){return t.onUnpublishDateChange(e)}))("pinnedChange",(function(e){return t.pinned=e}))("pinnedChange",(function(e){return t.onPinnedChange(e)}))("pinDaysChange",(function(e){return t.pinDays=e}))("endPinDateChange",(function(e){return t.endPinDate=e}))("emailContentChange",(function(e){return t.emailContent=e}))("emailContentChange",(function(e){return t.onEmailContentChange(e)}))("emailContentRolesChange",(function(e){return t.emailContentRoles=e}))("emailContentRolesChange",(function(e){return t.onEmailContentRoles(e)}))("emailContentIncludeUnregisteredChange",(function(e){return t.emailContentIncludeUnregistered=e}))("emailContentIncludeUnregisteredChange",(function(e){return t.onEmailContentIncludeUnregistered(e)}))("commentingRolesChange",(function(e){return t.allowedCommentingRoleTypes=e}))("commentingRolesChange",(function(e){return t.onCommentRoleTypes(e)})),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementEnd"]()),2&e&&r["\u0275\u0275property"]("publishDate",t.publishDate)("unpublishDate",t.unpublishDate)("pinned",t.pinned)("pinDays",t.pinDays)("endPinDate",t.endPinDate)("readonlyPinDays",t.initiallyPinned)("stackInputs",t.mobileInputs)("enableEmailContentOption",r["\u0275\u0275pipeBind1"](1,13,t.enableEmailContentOption$))("emailContent",t.emailContent)("emailContentRoleOptions",r["\u0275\u0275pipeBind1"](2,15,t.emailContentRoleOptions$))("emailContentRoles",t.emailContentRoles)("emailContentIncludeUnregistered",t.emailContentIncludeUnregistered)("commentingRoles",t.allowedCommentingRoleTypes)},directives:[Pr.a],pipes:[i.b],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");mat-form-field[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{color:#737373}mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;box-sizing:border-box}@media (orientation:landscape){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:445.8461538462px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:14px}}.form-input-hpadding[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.pseudo-mg-input[_ngcontent-%COMP%]{color:#737373;border-bottom:1px solid #ccc}.pseudo-mg-input[_ngcontent-%COMP%]     .textarea-placeholder{color:#2f2f2f}.input-margin[_ngcontent-%COMP%]{margin:8px}.input-group[_ngcontent-%COMP%]{margin:16px;--mg-form-field-margin:4px 0}.input-group.vmargin-only[_ngcontent-%COMP%]{margin:16px 0}.input-group[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%]{padding:0;margin:16px 0}mat-form-field[mgFormField][_ngcontent-%COMP%] + .input-group[_ngcontent-%COMP%]{margin-top:0}.input-hpadding[_ngcontent-%COMP%]{padding-left:14px;padding-right:14px}.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:17px}}.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e2e2e2}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;color:#737373;font-size:16px;font-weight:400;font-family:Muli,sans-serif}.text-input[_ngcontent-%COMP%]   input.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-padding[_ngcontent-%COMP%]{padding:16px}.body-input[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;color:#737373}.body-input.mg-draft-dirty[_ngcontent-%COMP%], .mg-label[_ngcontent-%COMP%]{color:#2f2f2f}.mg-label[_ngcontent-%COMP%]{margin-top:8px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]{margin-left:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]:first-child{margin-top:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label{align-items:flex-start}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content{text-align:left;padding-bottom:.5em}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content .toggle-subtext{display:block;white-space:normal;margin-top:1em}.input-group[_ngcontent-%COMP%]{color:#737373}']}),e})();var Tr=n("Ji8J");let Br=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Zt.a,Fe.a,U.b,Tr.a,i.c,Y.m,pe.f,st.b,at.b]]}),e})();var Er=n("pzvA");function jr(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mg-date-time-picker",5),r["\u0275\u0275listener"]("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().closeOnDate=t}))("ngModelChange",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onCloseOnDateChange(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("dateOnly",!0)("hasCustomHeader",!0)("canReset",!0)("ngModel",e.closeOnDate)}}function Rr(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"Close Poll"),r["\u0275\u0275elementEnd"]())}function kr(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1,"Re-Open Poll"),r["\u0275\u0275elementEnd"]())}function zr(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",6),r["\u0275\u0275elementStart"](1,"mg-button-outline",7),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().clickCloseNow()})),r["\u0275\u0275template"](2,Rr,2,0,"span",8),r["\u0275\u0275template"](3,kr,2,0,"span",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!e.closed),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.closed)}}let Nr=(()=>{class e extends R{constructor(){super(),this.displayTitle="Advanced Poll Settings",this.displayPreview="",this.contentMetadataKeys=[],this.showResults=!1,this.closed=!1,this._changesSubject=new f.a}get contentHash(){return this.contentInfoDraft.contentHash}onChanges(){return this._changesSubject.asObservable()}mgDraftReady(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.cloneDraftMergedWithInitialFetchIfNeeded();this.showResults=!!e.showResults,this.closed=!!e.closed,e.closeOnDate&&(this.closeOnDate=new Date(e.closeOnDate))}))}onShowResultsChange(e){this.contentInfoDraft.saveToDraft("showResults",e),this._changesSubject.next()}onCloseOnDateChange(e){const t=e?e.getTime():null;this.contentInfoDraft.saveToDraft("closeOnDate",t),this._changesSubject.next()}clickCloseNow(){this.contentInfoDraft.contentHash&&(this.closed=!this.closed,this.contentInfoDraft.saveToDraft("closed",this.closed),this.closed||(this.closeOnDate=null,this.contentInfoDraft.saveToDraft("closeOnDate",this.closeOnDate)),this._changesSubject.next())}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-poll-control"]],features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:3,consts:[[1,"input-group","vmargin-only"],["name","publishDate","datePlaceholder","Close poll date",3,"dateOnly","hasCustomHeader","canReset","ngModel","ngModelChange",4,"ngIf"],[1,"input-group","toggle-with-subtext",3,"ngModel","ngModelChange"],[1,"toggle-subtext","mg-microtext"],["class","user-content input-group close-poll-btn",4,"ngIf"],["name","publishDate","datePlaceholder","Close poll date",3,"dateOnly","hasCustomHeader","canReset","ngModel","ngModelChange"],[1,"user-content","input-group","close-poll-btn"],[3,"click"],[4,"ngIf"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,jr,1,4,"mg-date-time-picker",1),r["\u0275\u0275elementStart"](2,"mat-slide-toggle",2),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.showResults=e}))("ngModelChange",(function(e){return t.onShowResultsChange(e)})),r["\u0275\u0275text"](3," Show poll results in feed? "),r["\u0275\u0275elementStart"](4,"span",3),r["\u0275\u0275text"](5,"(this will allow members to see results once they have answered or the poll is closed)"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](6,zr,4,2,"div",4),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.closed),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngModel",t.showResults),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("ngIf",t.contentHash))},directives:[i.o,at.a,Y.t,Y.w,ht.a,Er.a],styles:['@import url("https://fonts.googleapis.com/css?family=Muli:400,700,900");mat-form-field[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{color:#737373}mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-family:Muli,sans-serif;line-height:1.35;box-sizing:border-box}@media (orientation:landscape){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vh}}@media (orientation:portrait){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:3.1400966184vw}}@media (orientation:landscape) and (max-height:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (orientation:portrait) and (max-width:414px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:13px}}@media (min-width:445.8461538462px){mat-form-field[_ngcontent-%COMP%], mg-body-input[_ngcontent-%COMP%], mg-date-time-picker[_ngcontent-%COMP%]{font-size:14px}}.form-input-hpadding[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.pseudo-mg-input[_ngcontent-%COMP%]{color:#737373;border-bottom:1px solid #ccc}.pseudo-mg-input[_ngcontent-%COMP%]     .textarea-placeholder{color:#2f2f2f}.input-margin[_ngcontent-%COMP%]{margin:8px}.input-group[_ngcontent-%COMP%]{margin:16px;--mg-form-field-margin:4px 0}.input-group.vmargin-only[_ngcontent-%COMP%]{margin:16px 0}.input-group[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%]{padding:0;margin:16px 0}mat-form-field[mgFormField][_ngcontent-%COMP%] + .input-group[_ngcontent-%COMP%]{margin-top:0}.input-hpadding[_ngcontent-%COMP%]{padding-left:14px;padding-right:14px}.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-family:Muli,sans-serif;font-weight:700;line-height:1.35}@media (orientation:landscape){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vh}}@media (orientation:portrait){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:3.8647342995vw}}@media (orientation:landscape) and (max-height:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (orientation:portrait) and (max-width:414px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:439.875px){.title-input[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{font-size:17px}}.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #e2e2e2}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;color:#737373;font-size:16px;font-weight:400;font-family:Muli,sans-serif}.text-input[_ngcontent-%COMP%]   input.mg-draft-dirty[_ngcontent-%COMP%]{color:#036}.text-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.input-padding[_ngcontent-%COMP%]{padding:16px}.body-input[_ngcontent-%COMP%]{border-top:1px solid #e2e2e2;color:#737373}.body-input.mg-draft-dirty[_ngcontent-%COMP%], .mg-label[_ngcontent-%COMP%]{color:#2f2f2f}.mg-label[_ngcontent-%COMP%]{margin-top:8px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]{margin-left:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]:first-child{margin-top:0;margin-bottom:14px}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label{align-items:flex-start}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content{text-align:left;padding-bottom:.5em}mat-slide-toggle.toggle-with-subtext[_ngcontent-%COMP%]     .mat-slide-toggle-label .mat-slide-toggle-content .toggle-subtext{display:block;white-space:normal;margin-top:1em}mat-slide-toggle[_ngcontent-%COMP%]{color:#737373}mat-slide-toggle[_ngcontent-%COMP%]     .mat-slide-toggle-bar{margin-right:0}.close-poll-btn[_ngcontent-%COMP%]{text-align:center}']}),e})(),Vr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[Zt.a,Gt.a,i.c,Y.m,at.b]]}),e})();var Wr=n("tsE+");let Lr=(()=>{class e extends R{constructor(){super(),this.contentMetadataKeys=["programContentOffset"],this.displayTitle="Program Content Controls",this.displayPreview="",this.programContentOffset=null,this._changesSubject=new f.a}programContentOffsetChange(e){this.saveContentMetadata("programContentOffset",e)}onChanges(){return this._changesSubject.asObservable()}mgDraftReady(){this.saveContentMetadata("programContentOffset",this.programContentOffset)}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-program-content-control"]],features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:1,consts:[["name","programContentOffset",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mg-date-time-offset-picker",0),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.programContentOffset=e}))("ngModelChange",(function(e){return t.programContentOffsetChange(e)})),r["\u0275\u0275elementEnd"]()),2&e&&r["\u0275\u0275property"]("ngModel",t.programContentOffset)},directives:[Wr.a,Y.t,Y.w],styles:[""]}),e})(),Ur=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[y.a,Y.m]]}),e})();var Ar=n("VRyK"),Gr=n("mPVK"),Hr=n("E4Uz");const qr=function(){return{standalone:!0}};let $r=(()=>{class e extends R{constructor(){super(),this.contentMetadataKeys=[],this.displayTitle="Styling",this.displayPreview="",this.lightContent=!1,this.gradientOverlap=!1,this.backgroundColor="",this.gradientSize=.6,this.backgroundColorChange=new r.EventEmitter,this.gradientOverlapChange=new r.EventEmitter,this.lightContentChange=new r.EventEmitter,this.gradientSizeChange=new r.EventEmitter}lightContentChanged(e){this.contentInfoDraft.saveToDraft("lightContent",e),this.lightContentChange.emit(e)}gradientOverlapChanged(e){this.contentInfoDraft.saveToDraft("gradientOverlap",e),this.gradientOverlapChange.emit(e)}backgroundColorChanged(e){this.contentInfoDraft.saveToDraft("backgroundColor",e),this.backgroundColorChange.emit(e)}gradientSizeChanged(e){this.contentInfoDraft.saveToDraft("gradientSize",e),this.gradientSizeChange.emit(e)}onChanges(){return Object(Ar.a)(this.lightContentChange,this.gradientOverlapChange,this.backgroundColorChange,this.gradientSizeChange)}mgDraftReady(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.contentInfoDraft.cloneDraftMergedWithInitialFetchIfNeeded();this.backgroundColor=e.backgroundColor||"",this.lightContent=!!e.lightContent,this.gradientOverlap=!!e.gradientOverlap,this.gradientSize=e.gradientSize||.6}))}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-stylish-control"]],inputs:{lightContent:"lightContent",gradientOverlap:"gradientOverlap",backgroundColor:"backgroundColor",gradientSize:"gradientSize"},outputs:{backgroundColorChange:"backgroundColorChange",gradientOverlapChange:"gradientOverlapChange",lightContentChange:"lightContentChange",gradientSizeChange:"gradientSizeChange"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:25,vars:14,consts:[["fxLayout","row","fxLayout.xs","column"],["fxFlex",""],["fxLayout","row","fxLayoutAlign","center center",1,"publish-control-pane"],[1,"publish-control-pane-title"],[3,"ngModelOptions","ngModel","ngModelChange"],[3,"disabled","ngModelOptions","ngModel","ngModelChange"],["min","0","max","1","step","0.01",3,"ngModel","ngModelChange"],["fxFlex","","fxLayout","row",1,"publish-control-pane"],[1,"color-input-wrap"],["tabindex","-1","cpOutputFormat","hex","cpDialogDisplay","inline",1,"color-input","mg-hidden",3,"colorPicker","cpToggle","cpPosition","ngModelOptions","ngModel","colorPickerChange","ngModelChange"],["fxFlex","","fxHide.gt-xs",""]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275text"](4,"Light Content"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"div",1),r["\u0275\u0275elementStart"](6,"div"),r["\u0275\u0275elementStart"](7,"mat-slide-toggle",4),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.lightContentChanged(e)}))("ngModelChange",(function(e){return t.lightContent=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",2),r["\u0275\u0275elementStart"](9,"div",3),r["\u0275\u0275text"](10,"Gradient Overlap"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](11,"div",1),r["\u0275\u0275elementStart"](12,"div"),r["\u0275\u0275elementStart"](13,"mat-slide-toggle",5),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.gradientOverlapChanged(e)}))("ngModelChange",(function(e){return t.gradientOverlap=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",2),r["\u0275\u0275elementStart"](15,"div",3),r["\u0275\u0275text"](16,"Gradient Size"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](17,"div",1),r["\u0275\u0275elementStart"](18,"div"),r["\u0275\u0275elementStart"](19,"mat-slider",6),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.gradientSize=e}))("ngModelChange",(function(e){return t.gradientSizeChanged(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](20,"div",7),r["\u0275\u0275element"](21,"div",1),r["\u0275\u0275elementStart"](22,"div",8),r["\u0275\u0275elementStart"](23,"input",9),r["\u0275\u0275listener"]("colorPickerChange",(function(e){return t.backgroundColor=e}))("ngModelChange",(function(e){return t.backgroundColor=e}))("colorPickerChange",(function(e){return t.backgroundColorChanged(e)}))("ngModelChange",(function(e){return t.backgroundColorChanged(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](24,"div",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngModelOptions",r["\u0275\u0275pureFunction0"](11,qr))("ngModel",t.lightContent),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("disabled",!t.backgroundColor)("ngModelOptions",r["\u0275\u0275pureFunction0"](12,qr))("ngModel",t.gradientOverlap),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngModel",t.gradientSize),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("colorPicker",t.backgroundColor)("cpToggle",!0)("cpPosition","bottom")("ngModelOptions",r["\u0275\u0275pureFunction0"](13,qr))("ngModel",t.backgroundColor))},directives:[it.e,it.b,it.d,at.a,Y.t,Y.w,Gr.a,Y.d,Hr.a,lt.b],styles:[".color-input[_ngcontent-%COMP%]{position:absolute}.publish-control-pane[_ngcontent-%COMP%]{padding:8px}"]}),e})(),Qr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[i.c,Y.m,At.a,Gr.b,at.b,Hr.b]]}),e})(),Kr=(()=>{class e extends j{constructor(e,t,n,i,r){super(e,t,n,i,r),this.route=e,this.router=t,this.matDialog=n,this.snackBar=i,this.groupsFacadeService=r}mgContentInfoDraftReady(){this.initDraft()}initDraft(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.contentInfoDraft.fetchInitialDraftInfo();const e=yield this.contentInfoDraft.cloneDraftMergedWithInitial();this.imageAsset=e.asset}))}onImageAssetChange(e){this.contentInfoDraft.saveToDraft("asset",e)}getPreviousStep(){return{icon:"close",name:"Back"}}previousStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.exitDraft()}))}nextStep(){return Object(u.a)(this,void 0,void 0,(function*(){yield this.navigateToPreview()}))}getNextStep(){return{name:"Preview",icon:"forward"}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](a.g),r["\u0275\u0275directiveInject"](T.b),r["\u0275\u0275directiveInject"](B.b),r["\u0275\u0275directiveInject"](E.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-update-full-graphic"]],features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:2,consts:[["required","","name","image","previewAspectRatio","3:4",3,"previewSize","ngModel","ngModelChange"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form"),r["\u0275\u0275elementStart"](1,"mg-file-input-upload",0),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.imageAsset=e}))("ngModelChange",(function(e){return t.onImageAssetChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("previewSize",700)("ngModel",t.imageAsset))},directives:[Y.E,Y.u,Y.v,dn.a,Y.B,Y.t,Y.w],styles:["[_nghost-%COMP%]{display:block}mg-file-input-upload[_ngcontent-%COMP%]{max-width:414px;margin:16px auto}@media (max-width:599px){mg-file-input-upload[_ngcontent-%COMP%]{margin:8px auto;font-size:75%;max-width:300px}}"]}),e})(),Yr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[gn.a,Y.m]]}),e})();function Zr(e,t){return[{path:"create/"+e,component:t.createComponentType,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver}},{path:"m/create/"+e,component:t.createComponentType,canDeactivate:[d.c],data:{context:{type:"minga"}},resolve:{contentInfoDraft:t.infoDraftResolver}},{path:"p/create/"+e+"/:programHash",component:t.createComponentType,canDeactivate:[d.c],data:{context:{type:"program"}},resolve:{contentInfoDraft:t.infoDraftResolver}},{path:"g/create/"+e,component:t.createComponentType,canDeactivate:[d.c],data:{context:{type:"group"}},resolve:{contentInfoDraft:t.infoDraftResolver}},{path:"edit/"+e+"/:contentHash",component:t.editComponentType,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver}},{path:"m/edit/"+e+"/:contentHash/:contentContextHash",component:t.editComponentType,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver}},{path:"p/edit/"+e+"/:contentHash/:programHash",component:t.editComponentType,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver}},{path:"g/edit/"+e+"/:contentHash/:contentContextHash",component:t.editComponentType,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver}},{path:"preview/"+e,component:oe,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver},data:{previewControls:t.previewControls}},{path:"m/preview/"+e,component:oe,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver},data:{context:{type:"minga"},previewControls:[...t.previewControls,{component:_r,permissions:{atLeastOne:[g.MingaPermission.CONTENT_PUBLISH_DATES_SET,g.MingaPermission.MINGA_CONTENT_PIN,g.MingaPermission.EMAIL_CONTENT_AS_GROUP_OWNER,g.MingaPermission.EMAIL_CONTENT]}}]}},{path:"p/preview/"+e+"/:programHash",component:oe,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver},data:{context:{type:"program"},previewControls:[...t.previewControls,{component:Lr}]}},{path:"g/preview/"+e,component:oe,canDeactivate:[d.c],resolve:{contentInfoDraft:t.infoDraftResolver},data:{context:{type:"group"},previewControls:[...t.previewControls,{component:_r,permissions:{atLeastOne:[g.MingaPermission.CONTENT_PUBLISH_DATES_SET,g.MingaPermission.MINGA_CONTENT_PIN,g.MingaPermission.EMAIL_CONTENT_AS_GROUP_OWNER,g.MingaPermission.EMAIL_CONTENT]}}]}},{path:"preview/"+e+"/:contentHash",canDeactivate:[d.c],component:oe,resolve:{contentInfoDraft:t.infoDraftResolver},data:{previewControls:t.previewControls}},{path:"m/preview/"+e+"/:contentHash/:contentContextHash",canDeactivate:[d.c],component:oe,resolve:{contentInfoDraft:t.infoDraftResolver},data:{context:{type:"minga"},previewControls:[...t.previewControls,{component:_r,permissions:{atLeastOne:[g.MingaPermission.CONTENT_PUBLISH_DATES_SET,g.MingaPermission.MINGA_CONTENT_PIN,g.MingaPermission.EMAIL_CONTENT_AS_GROUP_OWNER,g.MingaPermission.EMAIL_CONTENT]}}]}},{path:"g/preview/"+e+"/:contentHash/:contentContextHash",canDeactivate:[d.c],component:oe,resolve:{contentInfoDraft:t.infoDraftResolver},data:{context:{type:"minga"},previewControls:[...t.previewControls,{component:_r,permissions:{atLeastOne:[g.MingaPermission.CONTENT_PUBLISH_DATES_SET,g.MingaPermission.MINGA_CONTENT_PIN,g.MingaPermission.EMAIL_CONTENT_AS_GROUP_OWNER,g.MingaPermission.EMAIL_CONTENT]}}]}},{path:"p/preview/"+e+"/:contentHash/:programHash",canDeactivate:[d.c],component:oe,resolve:{contentInfoDraft:t.infoDraftResolver},data:{context:{type:"program"},previewControls:[...t.previewControls,{component:Lr}]}}]}const Jr=[{path:"",component:he,children:[{path:"",pathMatch:"full",redirectTo:"/"},...Zr("post",{createComponentType:ui,editComponentType:ui,infoDraftResolver:Ci,previewControls:[]}),...Zr("fullGraphic",{createComponentType:cn,editComponentType:Kr,infoDraftResolver:vn,previewControls:[{component:$r,permissions:{only:[g.MingaPermission.CONTENT_FULL_GRAPHIC_CREATE]}}]}),...Zr("video",{createComponentType:fr,editComponentType:fr,infoDraftResolver:Mr,previewControls:[]}),...Zr("announcement",{createComponentType:De,editComponentType:De,infoDraftResolver:Ge,previewControls:[]}),...Zr("event",{createComponentType:Ut,editComponentType:Ut,infoDraftResolver:ln,previewControls:[]}),...Zr("poll",{createComponentType:Jn,editComponentType:Jn,infoDraftResolver:ti,previewControls:[{component:Nr}]}),...Zr("sms_message",{createComponentType:wi,editComponentType:wi,infoDraftResolver:_i,previewControls:[]})]}];let Xr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[mn,vn,vi,Ci,yr,Mr,Le,Ge,on,ln,Fn,ti,Pi,_i],imports:[[s.b,de,_e,en,un,ei,pi,vr,Si,Yr,Br,Vr,Ur,Qr,l.a,d.a,c.a,i.c,o.c.forChild(),a.k.forChild(Jr)]]}),e})()},"6sqc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeltaAnnouncementInfo=t.AnnouncementInfo=void 0;const i=n("hRO2"),r=n("F5Qo");class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={title:i.Message.getFieldWithDefault(t,1,""),body:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setTitle(n);break;case 2:var i=t.readString();e.setBody(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getTitle()).length>0&&t.writeString(1,n),(n=e.getBody()).length>0&&t.writeString(2,n)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getTitle(){return i.Message.getFieldWithDefault(this,1,"")}setTitle(e){i.Message.setProto3StringField(this,1,e)}getBody(){return i.Message.getFieldWithDefault(this,2,"")}setBody(e){i.Message.setProto3StringField(this,2,e)}}t.AnnouncementInfo=a,a.displayName="AnnouncementInfo";class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n,a={contentHash:i.Message.getFieldWithDefault(t,1,""),title:(n=t.getTitle())&&r.StringDelta.toObject(e,n),body:(n=t.getBody())&&r.StringDelta.toObject(e,n)};return e&&(a.$jspbMessageInstance=t),a}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setContentHash(n);break;case 2:var i=new r.StringDelta;t.readMessage(i,r.StringDelta.deserializeBinaryFromReader),e.setTitle(i);break;case 3:var a=new r.StringDelta;t.readMessage(a,r.StringDelta.deserializeBinaryFromReader),e.setBody(a);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getContentHash()).length>0&&t.writeString(1,n),null!=(n=e.getTitle())&&t.writeMessage(2,n,r.StringDelta.serializeBinaryToWriter),null!=(n=e.getBody())&&t.writeMessage(3,n,r.StringDelta.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getContentHash(){return i.Message.getFieldWithDefault(this,1,"")}setContentHash(e){i.Message.setProto3StringField(this,1,e)}getTitle(){return i.Message.getWrapperField(this,r.StringDelta,2)}setTitle(e){i.Message.setWrapperField(this,2,e)}clearTitle(){this.setTitle(void 0)}hasTitle(){return null!=i.Message.getField(this,2)}getBody(){return i.Message.getWrapperField(this,r.StringDelta,3)}setBody(e){i.Message.setWrapperField(this,3,e)}clearBody(){this.setBody(void 0)}hasBody(){return null!=i.Message.getField(this,3)}}t.DeltaAnnouncementInfo=o,o.displayName="DeltaAnnouncementInfo"},"8slR":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullGraphic=void 0,n("8Y7J");const i=n("+6wJ"),r=n("nfLS"),a=n("8Y7J");class o{constructor(e){this._ngZone=e}new(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.FullGraphic.New,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}update(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.FullGraphic.Update,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}getInfo(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.FullGraphic.GetInfo,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}}t.FullGraphic=o,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.NgZone))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},"9XD7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmsMessageContent=void 0,n("8Y7J");const i=n("+6wJ"),r=n("Oyg3"),a=n("8Y7J");class o{constructor(e){this._ngZone=e}new(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.SmsMessageContent.New,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}update(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.SmsMessageContent.Update,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}getInfo(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.SmsMessageContent.GetInfo,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}}t.SmsMessageContent=o,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.NgZone))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},"9iN8":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return c.b})),n.d(t,"c",(function(){return c.c}));var i=n("SVse"),r=n("8Y7J"),a=n("s7LF"),o=n("pMoy"),s=n("Q2Ze"),l=n("e6WT"),d=n("ZTz/"),c=n("tsE+");let g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({imports:[[i.c,a.m,o.b,d.b,s.f,l.c]]}),e})()},Oyg3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmsMessageContentClient=t.SmsMessageContent=void 0;const i=n("3wAF"),r=n("yJXV");class a{}t.SmsMessageContent=a,a.serviceName="minga.content.SmsMessageContent",a.New={methodName:"New",service:a,requestStream:!1,responseStream:!1,requestType:i.SmsMessageInfo,responseType:r.ContentSaveResult},a.Update={methodName:"Update",service:a,requestStream:!1,responseStream:!1,requestType:i.DeltaSmsMessageInfo,responseType:r.ContentSaveResult},a.GetInfo={methodName:"GetInfo",service:a,requestStream:!1,responseStream:!1,requestType:r.ContentInfoQuery,responseType:i.SmsMessageInfo},t.SmsMessageContentClient=class{new(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}update(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}getInfo(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},Pfbz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Video=void 0,n("8Y7J");const i=n("+6wJ"),r=n("kOX6"),a=n("8Y7J");class o{constructor(e){this._ngZone=e}new(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.Video.New,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}update(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.Video.Update,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}getInfo(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.Video.GetInfo,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}newCloudflareUploadUrl(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.Video.NewCloudflareUploadUrl,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}getCloudflareVideoStatus(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.Video.GetCloudflareVideoStatus,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}}t.Video=o,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.NgZone))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},PmRf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Announcement=void 0,n("8Y7J");const i=n("+6wJ"),r=n("mEJt"),a=n("8Y7J");class o{constructor(e){this._ngZone=e}new(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.Announcement.New,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}update(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.Announcement.Update,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}getInfo(e,t,n){let a,o,s;"function"==typeof t?o=t:(s=t,o=n),o||(a=new Promise((e,t)=>{o=(n,i)=>{n?t(n):e(i)}}));let l=null,d=i.grpc.invoke(r.Announcement.GetInfo,{request:e,host:window.DEFAULT_ANGULAR_GRPC_HOST||"https://"+location.hostname,metadata:s,onHeaders:e=>l=e,onMessage:e=>this._ngZone.run(()=>{o(null,e,l||new i.grpc.Metadata)}),onEnd:(e,t,n)=>this._ngZone.run(()=>{if(e!=i.grpc.Code.OK){let n=new Error(t);n.code=e,o(n)}})});return a.cancel=()=>d.close(),a}}t.Announcement=o,o.\u0275fac=function(e){return new(e||o)(a.\u0275\u0275inject(a.NgZone))},o.\u0275prov=a.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})},ZAf1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTime=t.Date=void 0;const i=n("hRO2");class r extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return r.toObject(e||!1,this)}static toObject(e,t){var n={year:i.Message.getFieldWithDefault(t,1,0),month:i.Message.getFieldWithDefault(t,2,0),day:i.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setYear(n);break;case 2:var i=t.readInt32();e.setMonth(i);break;case 3:var r=t.readInt32();e.setDay(r);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getYear())&&t.writeInt32(1,n),0!==(n=e.getMonth())&&t.writeInt32(2,n),0!==(n=e.getDay())&&t.writeInt32(3,n)}serializeBinary(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()}getYear(){return i.Message.getFieldWithDefault(this,1,0)}setYear(e){i.Message.setProto3IntField(this,1,e)}getMonth(){return i.Message.getFieldWithDefault(this,2,0)}setMonth(e){i.Message.setProto3IntField(this,2,e)}getDay(){return i.Message.getFieldWithDefault(this,3,0)}setDay(e){i.Message.setProto3IntField(this,3,e)}}t.Date=r,r.displayName="Date";class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={year:i.Message.getFieldWithDefault(t,1,0),month:i.Message.getFieldWithDefault(t,2,0),day:i.Message.getFieldWithDefault(t,3,0),seconds:i.Message.getFieldWithDefault(t,4,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setYear(n);break;case 2:var i=t.readInt32();e.setMonth(i);break;case 3:var r=t.readInt32();e.setDay(r);break;case 4:var a=t.readInt32();e.setSeconds(a);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getYear())&&t.writeInt32(1,n),0!==(n=e.getMonth())&&t.writeInt32(2,n),0!==(n=e.getDay())&&t.writeInt32(3,n),0!==(n=e.getSeconds())&&t.writeInt32(4,n)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getYear(){return i.Message.getFieldWithDefault(this,1,0)}setYear(e){i.Message.setProto3IntField(this,1,e)}getMonth(){return i.Message.getFieldWithDefault(this,2,0)}setMonth(e){i.Message.setProto3IntField(this,2,e)}getDay(){return i.Message.getFieldWithDefault(this,3,0)}setDay(e){i.Message.setProto3IntField(this,3,e)}getSeconds(){return i.Message.getFieldWithDefault(this,4,0)}setSeconds(e){i.Message.setProto3IntField(this,4,e)}}t.DateTime=a,a.displayName="DateTime"},bHfG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeDelta=t.DateDelta=t.RepeatedStringDelta=t.DoubleDelta=t.FloatDelta=t.Uint64Delta=t.Int64Delta=t.Uint32Delta=t.Int32Delta=t.BoolDelta=t.StringDelta=void 0;const i=n("hRO2"),r=n("ZAf1");class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={newString:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setNewString(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;(n=e.getNewString()).length>0&&t.writeString(1,n)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewString(){return i.Message.getFieldWithDefault(this,1,"")}setNewString(e){i.Message.setProto3StringField(this,1,e)}}t.StringDelta=a,a.displayName="StringDelta";class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n={newBool:i.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readBool();e.setNewBool(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;(n=e.getNewBool())&&t.writeBool(1,n)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewBool(){return i.Message.getBooleanFieldWithDefault(this,1,!1)}setNewBool(e){i.Message.setProto3BooleanField(this,1,e)}}t.BoolDelta=o,o.displayName="BoolDelta";class s extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return s.toObject(e||!1,this)}static toObject(e,t){var n={newInt32:i.Message.getFieldWithDefault(t,1,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readInt32();e.setNewInt32(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;0!==(n=e.getNewInt32())&&t.writeInt32(1,n)}serializeBinary(){var e=new i.BinaryWriter;return s.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewInt32(){return i.Message.getFieldWithDefault(this,1,0)}setNewInt32(e){i.Message.setProto3IntField(this,1,e)}}t.Int32Delta=s,s.displayName="Int32Delta";class l extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return l.toObject(e||!1,this)}static toObject(e,t){var n={newUint32:i.Message.getFieldWithDefault(t,1,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new l;return l.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readUint32();e.setNewUint32(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;0!==(n=e.getNewUint32())&&t.writeUint32(1,n)}serializeBinary(){var e=new i.BinaryWriter;return l.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewUint32(){return i.Message.getFieldWithDefault(this,1,0)}setNewUint32(e){i.Message.setProto3IntField(this,1,e)}}t.Uint32Delta=l,l.displayName="Uint32Delta";class d extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return d.toObject(e||!1,this)}static toObject(e,t){var n={newInt64:i.Message.getFieldWithDefault(t,1,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new d;return d.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readInt64();e.setNewInt64(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;0!==(n=e.getNewInt64())&&t.writeInt64(1,n)}serializeBinary(){var e=new i.BinaryWriter;return d.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewInt64(){return i.Message.getFieldWithDefault(this,1,0)}setNewInt64(e){i.Message.setProto3IntField(this,1,e)}}t.Int64Delta=d,d.displayName="Int64Delta";class c extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return c.toObject(e||!1,this)}static toObject(e,t){var n={newUint64:i.Message.getFieldWithDefault(t,1,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new c;return c.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readUint64();e.setNewUint64(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;0!==(n=e.getNewUint64())&&t.writeUint64(1,n)}serializeBinary(){var e=new i.BinaryWriter;return c.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewUint64(){return i.Message.getFieldWithDefault(this,1,0)}setNewUint64(e){i.Message.setProto3IntField(this,1,e)}}t.Uint64Delta=c,c.displayName="Uint64Delta";class g extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return g.toObject(e||!1,this)}static toObject(e,t){var n={newFloat:i.Message.getFloatingPointFieldWithDefault(t,1,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new g;return g.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readFloat();e.setNewFloat(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;0!==(n=e.getNewFloat())&&t.writeFloat(1,n)}serializeBinary(){var e=new i.BinaryWriter;return g.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewFloat(){return i.Message.getFloatingPointFieldWithDefault(this,1,0)}setNewFloat(e){i.Message.setProto3FloatField(this,1,e)}}t.FloatDelta=g,g.displayName="FloatDelta";class u extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return u.toObject(e||!1,this)}static toObject(e,t){var n={newDouble:i.Message.getFloatingPointFieldWithDefault(t,1,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new u;return u.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readDouble();e.setNewDouble(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;0!==(n=e.getNewDouble())&&t.writeDouble(1,n)}serializeBinary(){var e=new i.BinaryWriter;return u.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewDouble(){return i.Message.getFloatingPointFieldWithDefault(this,1,0)}setNewDouble(e){i.Message.setProto3FloatField(this,1,e)}}t.DoubleDelta=u,u.displayName="DoubleDelta";class h extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,h.repeatedFields_,null)}toObject(e){return h.toObject(e||!1,this)}static toObject(e,t){var n={eraseInstructionList:i.Message.toObjectList(t.getEraseInstructionList(),h.EraseInstruction.toObject,e),insertInstructionList:i.Message.toObjectList(t.getInsertInstructionList(),h.InsertInstruction.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new h;return h.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new h.EraseInstruction;t.readMessage(n,h.EraseInstruction.deserializeBinaryFromReader),e.addEraseInstruction(n);break;case 2:var i=new h.InsertInstruction;t.readMessage(i,h.InsertInstruction.deserializeBinaryFromReader),e.addInsertInstruction(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getEraseInstructionList()).length>0&&t.writeRepeatedMessage(1,n,h.EraseInstruction.serializeBinaryToWriter),(n=e.getInsertInstructionList()).length>0&&t.writeRepeatedMessage(2,n,h.InsertInstruction.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return h.serializeBinaryToWriter(this,e),e.getResultBuffer()}getEraseInstructionList(){return i.Message.getRepeatedWrapperField(this,h.EraseInstruction,1)}setEraseInstructionList(e){i.Message.setRepeatedWrapperField(this,1,e)}addEraseInstruction(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,h.EraseInstruction,t)}clearEraseInstructionList(){this.setEraseInstructionList([])}getInsertInstructionList(){return i.Message.getRepeatedWrapperField(this,h.InsertInstruction,2)}setInsertInstructionList(e){i.Message.setRepeatedWrapperField(this,2,e)}addInsertInstruction(e,t){return i.Message.addToRepeatedWrapperField(this,2,e,h.InsertInstruction,t)}clearInsertInstructionList(){this.setInsertInstructionList([])}}t.RepeatedStringDelta=h,h.displayName="RepeatedStringDelta",h.repeatedFields_=[1,2],function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={eraseOffset:i.Message.getFieldWithDefault(t,1,0),eraseString:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readUint64();e.setEraseOffset(n);break;case 2:var i=t.readString();e.setEraseString(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getEraseOffset())&&t.writeUint64(1,n),(n=e.getEraseString()).length>0&&t.writeString(2,n)}serializeBinary(){var t=new i.BinaryWriter;return e.EraseInstruction.serializeBinaryToWriter(this,t),t.getResultBuffer()}getEraseOffset(){return i.Message.getFieldWithDefault(this,1,0)}setEraseOffset(e){i.Message.setProto3IntField(this,1,e)}getEraseString(){return i.Message.getFieldWithDefault(this,2,"")}setEraseString(e){i.Message.setProto3StringField(this,2,e)}}t.displayName="RepeatedStringDelta.EraseInstruction",e.EraseInstruction=t}(h=t.RepeatedStringDelta||(t.RepeatedStringDelta={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={insertOffset:i.Message.getFieldWithDefault(t,1,0),insertString:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readUint64();e.setInsertOffset(n);break;case 2:var i=t.readString();e.setInsertString(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getInsertOffset())&&t.writeUint64(1,n),(n=e.getInsertString()).length>0&&t.writeString(2,n)}serializeBinary(){var t=new i.BinaryWriter;return e.InsertInstruction.serializeBinaryToWriter(this,t),t.getResultBuffer()}getInsertOffset(){return i.Message.getFieldWithDefault(this,1,0)}setInsertOffset(e){i.Message.setProto3IntField(this,1,e)}getInsertString(){return i.Message.getFieldWithDefault(this,2,"")}setInsertString(e){i.Message.setProto3StringField(this,2,e)}}t.displayName="RepeatedStringDelta.InsertInstruction",e.InsertInstruction=t}(h=t.RepeatedStringDelta||(t.RepeatedStringDelta={}));class p extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return p.toObject(e||!1,this)}static toObject(e,t){var n,i={newDate:(n=t.getNewDate())&&r.Date.toObject(e,n)};return e&&(i.$jspbMessageInstance=t),i}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new p;return p.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=new r.Date;t.readMessage(n,r.Date.deserializeBinaryFromReader),e.setNewDate(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;null!=(n=e.getNewDate())&&t.writeMessage(1,n,r.Date.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return p.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewDate(){return i.Message.getWrapperField(this,r.Date,1)}setNewDate(e){i.Message.setWrapperField(this,1,e)}clearNewDate(){this.setNewDate(void 0)}hasNewDate(){return null!=i.Message.getField(this,1)}}t.DateDelta=p,p.displayName="DateDelta";class m extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return m.toObject(e||!1,this)}static toObject(e,t){var n,i={newDateTime:(n=t.getNewDateTime())&&r.DateTime.toObject(e,n)};return e&&(i.$jspbMessageInstance=t),i}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new m;return m.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=new r.DateTime;t.readMessage(n,r.DateTime.deserializeBinaryFromReader),e.setNewDateTime(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;null!=(n=e.getNewDateTime())&&t.writeMessage(1,n,r.DateTime.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return m.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewDateTime(){return i.Message.getWrapperField(this,r.DateTime,1)}setNewDateTime(e){i.Message.setWrapperField(this,1,e)}clearNewDateTime(){this.setNewDateTime(void 0)}hasNewDateTime(){return null!=i.Message.getField(this,1)}}t.DateTimeDelta=m,m.displayName="DateTimeDelta"},gzPw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDetailedModerationResult=t.DetailedModerationResult=t.ModerationResult=void 0;const i=n("hRO2"),r=n("mpOZ");class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,a.repeatedFields_,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={allPassed:i.Message.getBooleanFieldWithDefault(t,1,!1),allTextContentPassed:i.Message.getBooleanFieldWithDefault(t,2,!1),allImageContentPassed:i.Message.getBooleanFieldWithDefault(t,3,!1),allImageTextContentPassed:i.Message.getBooleanFieldWithDefault(t,4,!1),detailsList:i.Message.toObjectList(t.getDetailsList(),o.ProviderDetails.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readBool();e.setAllPassed(n);break;case 2:var i=t.readBool();e.setAllTextContentPassed(i);break;case 3:var r=t.readBool();e.setAllImageContentPassed(r);break;case 4:var a=t.readBool();e.setAllImageTextContentPassed(a);break;case 5:var s=new o.ProviderDetails;t.readMessage(s,o.ProviderDetails.deserializeBinaryFromReader),e.addDetails(s);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getAllPassed())&&t.writeBool(1,n),(n=e.getAllTextContentPassed())&&t.writeBool(2,n),(n=e.getAllImageContentPassed())&&t.writeBool(3,n),(n=e.getAllImageTextContentPassed())&&t.writeBool(4,n),(n=e.getDetailsList()).length>0&&t.writeRepeatedMessage(5,n,o.ProviderDetails.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getAllPassed(){return i.Message.getBooleanFieldWithDefault(this,1,!1)}setAllPassed(e){i.Message.setProto3BooleanField(this,1,e)}getAllTextContentPassed(){return i.Message.getBooleanFieldWithDefault(this,2,!1)}setAllTextContentPassed(e){i.Message.setProto3BooleanField(this,2,e)}getAllImageContentPassed(){return i.Message.getBooleanFieldWithDefault(this,3,!1)}setAllImageContentPassed(e){i.Message.setProto3BooleanField(this,3,e)}getAllImageTextContentPassed(){return i.Message.getBooleanFieldWithDefault(this,4,!1)}setAllImageTextContentPassed(e){i.Message.setProto3BooleanField(this,4,e)}getDetailsList(){return i.Message.getRepeatedWrapperField(this,o.ProviderDetails,5)}setDetailsList(e){i.Message.setRepeatedWrapperField(this,5,e)}addDetails(e,t){return i.Message.addToRepeatedWrapperField(this,5,e,o.ProviderDetails,t)}clearDetailsList(){this.setDetailsList([])}}t.ModerationResult=a,a.displayName="ModerationResult",a.repeatedFields_=[5];class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,o.repeatedFields_,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n={title:i.Message.getFieldWithDefault(t,1,""),parentContextHash:i.Message.getFieldWithDefault(t,2,""),contentContextHash:i.Message.getFieldWithDefault(t,3,""),mingaHash:i.Message.getFieldWithDefault(t,4,""),mingaName:i.Message.getFieldWithDefault(t,5,""),contentAuthorHash:i.Message.getFieldWithDefault(t,6,""),timestamp:i.Message.getFieldWithDefault(t,7,0),contentAuthorFirstName:i.Message.getFieldWithDefault(t,8,""),contentAuthorLastName:i.Message.getFieldWithDefault(t,9,""),contentType:i.Message.getFieldWithDefault(t,10,""),contentHistoryList:i.Message.toObjectList(t.getContentHistoryList(),o.ContentHistory.toObject,e),status:i.Message.getFieldWithDefault(t,12,""),actionContextHash:i.Message.getFieldWithDefault(t,13,""),galleryPhotoUuid:i.Message.getFieldWithDefault(t,14,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setTitle(n);break;case 2:var i=t.readString();e.setParentContextHash(i);break;case 3:var r=t.readString();e.setContentContextHash(r);break;case 4:var a=t.readString();e.setMingaHash(a);break;case 5:var s=t.readString();e.setMingaName(s);break;case 6:var l=t.readString();e.setContentAuthorHash(l);break;case 7:var d=t.readUint64();e.setTimestamp(d);break;case 8:var c=t.readString();e.setContentAuthorFirstName(c);break;case 9:var g=t.readString();e.setContentAuthorLastName(g);break;case 10:var u=t.readString();e.setContentType(u);break;case 11:var h=new o.ContentHistory;t.readMessage(h,o.ContentHistory.deserializeBinaryFromReader),e.addContentHistory(h);break;case 12:var p=t.readString();e.setStatus(p);break;case 13:var m=t.readString();e.setActionContextHash(m);break;case 14:var f=t.readString();e.setGalleryPhotoUuid(f);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getTitle()).length>0&&t.writeString(1,n),(n=e.getParentContextHash()).length>0&&t.writeString(2,n),(n=e.getContentContextHash()).length>0&&t.writeString(3,n),(n=e.getMingaHash()).length>0&&t.writeString(4,n),(n=e.getMingaName()).length>0&&t.writeString(5,n),(n=e.getContentAuthorHash()).length>0&&t.writeString(6,n),0!==(n=e.getTimestamp())&&t.writeUint64(7,n),(n=e.getContentAuthorFirstName()).length>0&&t.writeString(8,n),(n=e.getContentAuthorLastName()).length>0&&t.writeString(9,n),(n=e.getContentType()).length>0&&t.writeString(10,n),(n=e.getContentHistoryList()).length>0&&t.writeRepeatedMessage(11,n,o.ContentHistory.serializeBinaryToWriter),(n=e.getStatus()).length>0&&t.writeString(12,n),(n=e.getActionContextHash()).length>0&&t.writeString(13,n),(n=e.getGalleryPhotoUuid()).length>0&&t.writeString(14,n)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getTitle(){return i.Message.getFieldWithDefault(this,1,"")}setTitle(e){i.Message.setProto3StringField(this,1,e)}getParentContextHash(){return i.Message.getFieldWithDefault(this,2,"")}setParentContextHash(e){i.Message.setProto3StringField(this,2,e)}getContentContextHash(){return i.Message.getFieldWithDefault(this,3,"")}setContentContextHash(e){i.Message.setProto3StringField(this,3,e)}getMingaHash(){return i.Message.getFieldWithDefault(this,4,"")}setMingaHash(e){i.Message.setProto3StringField(this,4,e)}getMingaName(){return i.Message.getFieldWithDefault(this,5,"")}setMingaName(e){i.Message.setProto3StringField(this,5,e)}getContentAuthorHash(){return i.Message.getFieldWithDefault(this,6,"")}setContentAuthorHash(e){i.Message.setProto3StringField(this,6,e)}getTimestamp(){return i.Message.getFieldWithDefault(this,7,0)}setTimestamp(e){i.Message.setProto3IntField(this,7,e)}getContentAuthorFirstName(){return i.Message.getFieldWithDefault(this,8,"")}setContentAuthorFirstName(e){i.Message.setProto3StringField(this,8,e)}getContentAuthorLastName(){return i.Message.getFieldWithDefault(this,9,"")}setContentAuthorLastName(e){i.Message.setProto3StringField(this,9,e)}getContentType(){return i.Message.getFieldWithDefault(this,10,"")}setContentType(e){i.Message.setProto3StringField(this,10,e)}getContentHistoryList(){return i.Message.getRepeatedWrapperField(this,o.ContentHistory,11)}setContentHistoryList(e){i.Message.setRepeatedWrapperField(this,11,e)}addContentHistory(e,t){return i.Message.addToRepeatedWrapperField(this,11,e,o.ContentHistory,t)}clearContentHistoryList(){this.setContentHistoryList([])}getStatus(){return i.Message.getFieldWithDefault(this,12,"")}setStatus(e){i.Message.setProto3StringField(this,12,e)}getActionContextHash(){return i.Message.getFieldWithDefault(this,13,"")}setActionContextHash(e){i.Message.setProto3StringField(this,13,e)}getGalleryPhotoUuid(){return i.Message.getFieldWithDefault(this,14,"")}setGalleryPhotoUuid(e){i.Message.setProto3StringField(this,14,e)}}t.DetailedModerationResult=o,o.displayName="DetailedModerationResult",o.repeatedFields_=[11],function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={key:i.Message.getFieldWithDefault(t,1,""),value:i.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setKey(n);break;case 2:var i=t.readString();e.setValue(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getKey()).length>0&&t.writeString(1,n),(n=e.getValue()).length>0&&t.writeString(2,n)}serializeBinary(){var t=new i.BinaryWriter;return e.Pair.serializeBinaryToWriter(this,t),t.getResultBuffer()}getKey(){return i.Message.getFieldWithDefault(this,1,"")}setKey(e){i.Message.setProto3StringField(this,1,e)}getValue(){return i.Message.getFieldWithDefault(this,2,"")}setValue(e){i.Message.setProto3StringField(this,2,e)}}t.displayName="DetailedModerationResult.Pair",e.Pair=t}(o=t.DetailedModerationResult||(t.DetailedModerationResult={})),function(e){class t extends i.Message{constructor(t){super(),i.Message.initialize(this,t,0,-1,e.ContentHistory.repeatedFields_,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var r={personid:i.Message.getFieldWithDefault(n,1,0),timestamp:i.Message.getFieldWithDefault(n,2,0),personDisplayName:i.Message.getFieldWithDefault(n,3,""),reasonindex:i.Message.getFieldWithDefault(n,4,0),status:i.Message.getFieldWithDefault(n,5,""),detailsList:i.Message.toObjectList(n.getDetailsList(),e.ProviderDetails.toObject,t)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var i=n.readUint32();t.setPersonid(i);break;case 2:var r=n.readUint64();t.setTimestamp(r);break;case 3:var a=n.readString();t.setPersonDisplayName(a);break;case 4:var o=n.readSint32();t.setReasonindex(o);break;case 5:var s=n.readString();t.setStatus(s);break;case 6:var l=new e.ProviderDetails;n.readMessage(l,e.ProviderDetails.deserializeBinaryFromReader),t.addDetails(l);break;default:n.skipField()}return t}static serializeBinaryToWriter(t,n){var i=void 0;0!==(i=t.getPersonid())&&n.writeUint32(1,i),0!==(i=t.getTimestamp())&&n.writeUint64(2,i),(i=t.getPersonDisplayName()).length>0&&n.writeString(3,i),0!==(i=t.getReasonindex())&&n.writeSint32(4,i),(i=t.getStatus()).length>0&&n.writeString(5,i),(i=t.getDetailsList()).length>0&&n.writeRepeatedMessage(6,i,e.ProviderDetails.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.ContentHistory.serializeBinaryToWriter(this,t),t.getResultBuffer()}getPersonid(){return i.Message.getFieldWithDefault(this,1,0)}setPersonid(e){i.Message.setProto3IntField(this,1,e)}getTimestamp(){return i.Message.getFieldWithDefault(this,2,0)}setTimestamp(e){i.Message.setProto3IntField(this,2,e)}getPersonDisplayName(){return i.Message.getFieldWithDefault(this,3,"")}setPersonDisplayName(e){i.Message.setProto3StringField(this,3,e)}getReasonindex(){return i.Message.getFieldWithDefault(this,4,0)}setReasonindex(e){i.Message.setProto3IntField(this,4,e)}getStatus(){return i.Message.getFieldWithDefault(this,5,"")}setStatus(e){i.Message.setProto3StringField(this,5,e)}getDetailsList(){return i.Message.getRepeatedWrapperField(this,e.ProviderDetails,6)}setDetailsList(e){i.Message.setRepeatedWrapperField(this,6,e)}addDetails(t,n){return i.Message.addToRepeatedWrapperField(this,6,t,e.ProviderDetails,n)}clearDetailsList(){this.setDetailsList([])}}t.displayName="DetailedModerationResult.ContentHistory",t.repeatedFields_=[6],e.ContentHistory=t}(o=t.DetailedModerationResult||(t.DetailedModerationResult={})),function(e){class t extends i.Message{constructor(t){super(),i.Message.initialize(this,t,0,-1,e.ProviderDetails.repeatedFields_,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var r={tagsList:i.Message.toObjectList(n.getTagsList(),e.Pair.toObject,t),fileurl:i.Message.getFieldWithDefault(n,2,""),index:i.Message.getFieldWithDefault(n,3,0),imageTagsList:i.Message.toObjectList(n.getImageTagsList(),e.Pair.toObject,t),reasonIndex:i.Message.getFieldWithDefault(n,5,0)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var i=new e.Pair;n.readMessage(i,e.Pair.deserializeBinaryFromReader),t.addTags(i);break;case 2:var r=n.readString();t.setFileurl(r);break;case 3:var a=n.readSint32();t.setIndex(a);break;case 4:var o=new e.Pair;n.readMessage(o,e.Pair.deserializeBinaryFromReader),t.addImageTags(o);break;case 5:var s=n.readInt32();t.setReasonIndex(s);break;default:n.skipField()}return t}static serializeBinaryToWriter(t,n){var i=void 0;(i=t.getTagsList()).length>0&&n.writeRepeatedMessage(1,i,e.Pair.serializeBinaryToWriter),(i=t.getFileurl()).length>0&&n.writeString(2,i),0!==(i=t.getIndex())&&n.writeSint32(3,i),(i=t.getImageTagsList()).length>0&&n.writeRepeatedMessage(4,i,e.Pair.serializeBinaryToWriter),0!==(i=t.getReasonIndex())&&n.writeInt32(5,i)}serializeBinary(){var t=new i.BinaryWriter;return e.ProviderDetails.serializeBinaryToWriter(this,t),t.getResultBuffer()}getTagsList(){return i.Message.getRepeatedWrapperField(this,e.Pair,1)}setTagsList(e){i.Message.setRepeatedWrapperField(this,1,e)}addTags(t,n){return i.Message.addToRepeatedWrapperField(this,1,t,e.Pair,n)}clearTagsList(){this.setTagsList([])}getFileurl(){return i.Message.getFieldWithDefault(this,2,"")}setFileurl(e){i.Message.setProto3StringField(this,2,e)}getIndex(){return i.Message.getFieldWithDefault(this,3,0)}setIndex(e){i.Message.setProto3IntField(this,3,e)}getImageTagsList(){return i.Message.getRepeatedWrapperField(this,e.Pair,4)}setImageTagsList(e){i.Message.setRepeatedWrapperField(this,4,e)}addImageTags(t,n){return i.Message.addToRepeatedWrapperField(this,4,t,e.Pair,n)}clearImageTagsList(){this.setImageTagsList([])}getReasonIndex(){return i.Message.getFieldWithDefault(this,5,0)}setReasonIndex(e){i.Message.setProto3IntField(this,5,e)}}t.displayName="DetailedModerationResult.ProviderDetails",t.repeatedFields_=[1,4],e.ProviderDetails=t}(o=t.DetailedModerationResult||(t.DetailedModerationResult={}));class s extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return s.toObject(e||!1,this)}static toObject(e,t){var n,i={itemMetadata:(n=t.getItemMetadata())&&r.StreamItemMetadata.toObject(e,n),item:(n=t.getItem())&&o.toObject(e,n)};return e&&(i.$jspbMessageInstance=t),i}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new r.StreamItemMetadata;t.readMessage(n,r.StreamItemMetadata.deserializeBinaryFromReader),e.setItemMetadata(n);break;case 2:var i=new o;t.readMessage(i,o.deserializeBinaryFromReader),e.setItem(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;null!=(n=e.getItemMetadata())&&t.writeMessage(1,n,r.StreamItemMetadata.serializeBinaryToWriter),null!=(n=e.getItem())&&t.writeMessage(2,n,o.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return s.serializeBinaryToWriter(this,e),e.getResultBuffer()}getItemMetadata(){return i.Message.getWrapperField(this,r.StreamItemMetadata,1)}setItemMetadata(e){i.Message.setWrapperField(this,1,e)}clearItemMetadata(){this.setItemMetadata(void 0)}hasItemMetadata(){return null!=i.Message.getField(this,1)}getItem(){return i.Message.getWrapperField(this,o,2)}setItem(e){i.Message.setWrapperField(this,2,e)}clearItem(){this.setItem(void 0)}hasItem(){return null!=i.Message.getField(this,2)}}t.StreamDetailedModerationResult=s,s.displayName="StreamDetailedModerationResult"},jXzp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetCloudflareVideoStatusResponse=t.GetCloudflareVideoStatusRequest=t.ClouldflareUploadUrlResponse=t.ClouldflareUploadUrlRequest=t.DeltaVideoInfo=t.VideoInfo=void 0;const i=n("hRO2"),r=n("F5Qo");class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={videoUrl:i.Message.getFieldWithDefault(t,1,""),title:i.Message.getFieldWithDefault(t,2,""),description:i.Message.getFieldWithDefault(t,3,""),videoThumbnail:i.Message.getFieldWithDefault(t,4,""),cloudflareUid:i.Message.getFieldWithDefault(t,5,""),cloudflareSignedToken:i.Message.getFieldWithDefault(t,6,""),customThumbnail:i.Message.getBooleanFieldWithDefault(t,7,!1)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setVideoUrl(n);break;case 2:var i=t.readString();e.setTitle(i);break;case 3:var r=t.readString();e.setDescription(r);break;case 4:var a=t.readString();e.setVideoThumbnail(a);break;case 5:var o=t.readString();e.setCloudflareUid(o);break;case 6:var s=t.readString();e.setCloudflareSignedToken(s);break;case 7:var l=t.readBool();e.setCustomThumbnail(l);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getVideoUrl()).length>0&&t.writeString(1,n),(n=e.getTitle()).length>0&&t.writeString(2,n),(n=e.getDescription()).length>0&&t.writeString(3,n),(n=e.getVideoThumbnail()).length>0&&t.writeString(4,n),(n=e.getCloudflareUid()).length>0&&t.writeString(5,n),(n=e.getCloudflareSignedToken()).length>0&&t.writeString(6,n),(n=e.getCustomThumbnail())&&t.writeBool(7,n)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getVideoUrl(){return i.Message.getFieldWithDefault(this,1,"")}setVideoUrl(e){i.Message.setProto3StringField(this,1,e)}getTitle(){return i.Message.getFieldWithDefault(this,2,"")}setTitle(e){i.Message.setProto3StringField(this,2,e)}getDescription(){return i.Message.getFieldWithDefault(this,3,"")}setDescription(e){i.Message.setProto3StringField(this,3,e)}getVideoThumbnail(){return i.Message.getFieldWithDefault(this,4,"")}setVideoThumbnail(e){i.Message.setProto3StringField(this,4,e)}getCloudflareUid(){return i.Message.getFieldWithDefault(this,5,"")}setCloudflareUid(e){i.Message.setProto3StringField(this,5,e)}getCloudflareSignedToken(){return i.Message.getFieldWithDefault(this,6,"")}setCloudflareSignedToken(e){i.Message.setProto3StringField(this,6,e)}getCustomThumbnail(){return i.Message.getBooleanFieldWithDefault(this,7,!1)}setCustomThumbnail(e){i.Message.setProto3BooleanField(this,7,e)}}t.VideoInfo=a,a.displayName="VideoInfo";class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n,a={contentHash:i.Message.getFieldWithDefault(t,1,""),videoUrl:(n=t.getVideoUrl())&&r.StringDelta.toObject(e,n),title:(n=t.getTitle())&&r.StringDelta.toObject(e,n),description:(n=t.getDescription())&&r.StringDelta.toObject(e,n),videoThumbnail:(n=t.getVideoThumbnail())&&r.StringDelta.toObject(e,n),cloudflareUid:(n=t.getCloudflareUid())&&r.StringDelta.toObject(e,n)};return e&&(a.$jspbMessageInstance=t),a}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setContentHash(n);break;case 2:var i=new r.StringDelta;t.readMessage(i,r.StringDelta.deserializeBinaryFromReader),e.setVideoUrl(i);break;case 3:var a=new r.StringDelta;t.readMessage(a,r.StringDelta.deserializeBinaryFromReader),e.setTitle(a);break;case 4:var o=new r.StringDelta;t.readMessage(o,r.StringDelta.deserializeBinaryFromReader),e.setDescription(o);break;case 5:var s=new r.StringDelta;t.readMessage(s,r.StringDelta.deserializeBinaryFromReader),e.setVideoThumbnail(s);break;case 6:var l=new r.StringDelta;t.readMessage(l,r.StringDelta.deserializeBinaryFromReader),e.setCloudflareUid(l);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getContentHash()).length>0&&t.writeString(1,n),null!=(n=e.getVideoUrl())&&t.writeMessage(2,n,r.StringDelta.serializeBinaryToWriter),null!=(n=e.getTitle())&&t.writeMessage(3,n,r.StringDelta.serializeBinaryToWriter),null!=(n=e.getDescription())&&t.writeMessage(4,n,r.StringDelta.serializeBinaryToWriter),null!=(n=e.getVideoThumbnail())&&t.writeMessage(5,n,r.StringDelta.serializeBinaryToWriter),null!=(n=e.getCloudflareUid())&&t.writeMessage(6,n,r.StringDelta.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getContentHash(){return i.Message.getFieldWithDefault(this,1,"")}setContentHash(e){i.Message.setProto3StringField(this,1,e)}getVideoUrl(){return i.Message.getWrapperField(this,r.StringDelta,2)}setVideoUrl(e){i.Message.setWrapperField(this,2,e)}clearVideoUrl(){this.setVideoUrl(void 0)}hasVideoUrl(){return null!=i.Message.getField(this,2)}getTitle(){return i.Message.getWrapperField(this,r.StringDelta,3)}setTitle(e){i.Message.setWrapperField(this,3,e)}clearTitle(){this.setTitle(void 0)}hasTitle(){return null!=i.Message.getField(this,3)}getDescription(){return i.Message.getWrapperField(this,r.StringDelta,4)}setDescription(e){i.Message.setWrapperField(this,4,e)}clearDescription(){this.setDescription(void 0)}hasDescription(){return null!=i.Message.getField(this,4)}getVideoThumbnail(){return i.Message.getWrapperField(this,r.StringDelta,5)}setVideoThumbnail(e){i.Message.setWrapperField(this,5,e)}clearVideoThumbnail(){this.setVideoThumbnail(void 0)}hasVideoThumbnail(){return null!=i.Message.getField(this,5)}getCloudflareUid(){return i.Message.getWrapperField(this,r.StringDelta,6)}setCloudflareUid(e){i.Message.setWrapperField(this,6,e)}clearCloudflareUid(){this.setCloudflareUid(void 0)}hasCloudflareUid(){return null!=i.Message.getField(this,6)}}t.DeltaVideoInfo=o,o.displayName="DeltaVideoInfo";class s extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return s.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var e=new i.BinaryWriter;return s.serializeBinaryToWriter(this,e),e.getResultBuffer()}}t.ClouldflareUploadUrlRequest=s,s.displayName="ClouldflareUploadUrlRequest";class l extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return l.toObject(e||!1,this)}static toObject(e,t){var n={uploadUrl:i.Message.getFieldWithDefault(t,1,""),uid:i.Message.getFieldWithDefault(t,2,""),signedToken:i.Message.getFieldWithDefault(t,3,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new l;return l.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setUploadUrl(n);break;case 2:var i=t.readString();e.setUid(i);break;case 3:var r=t.readString();e.setSignedToken(r);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getUploadUrl()).length>0&&t.writeString(1,n),(n=e.getUid()).length>0&&t.writeString(2,n),(n=e.getSignedToken()).length>0&&t.writeString(3,n)}serializeBinary(){var e=new i.BinaryWriter;return l.serializeBinaryToWriter(this,e),e.getResultBuffer()}getUploadUrl(){return i.Message.getFieldWithDefault(this,1,"")}setUploadUrl(e){i.Message.setProto3StringField(this,1,e)}getUid(){return i.Message.getFieldWithDefault(this,2,"")}setUid(e){i.Message.setProto3StringField(this,2,e)}getSignedToken(){return i.Message.getFieldWithDefault(this,3,"")}setSignedToken(e){i.Message.setProto3StringField(this,3,e)}}t.ClouldflareUploadUrlResponse=l,l.displayName="ClouldflareUploadUrlResponse";class d extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return d.toObject(e||!1,this)}static toObject(e,t){var n={uid:i.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new d;return d.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readString();e.setUid(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;(n=e.getUid()).length>0&&t.writeString(1,n)}serializeBinary(){var e=new i.BinaryWriter;return d.serializeBinaryToWriter(this,e),e.getResultBuffer()}getUid(){return i.Message.getFieldWithDefault(this,1,"")}setUid(e){i.Message.setProto3StringField(this,1,e)}}t.GetCloudflareVideoStatusRequest=d,d.displayName="GetCloudflareVideoStatusRequest";class c extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return c.toObject(e||!1,this)}static toObject(e,t){var n={thumbnail:i.Message.getFieldWithDefault(t,1,""),pctComplete:i.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new c;return c.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setThumbnail(n);break;case 3:var i=t.readInt32();e.setPctComplete(i);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getThumbnail()).length>0&&t.writeString(1,n),0!==(n=e.getPctComplete())&&t.writeInt32(3,n)}serializeBinary(){var e=new i.BinaryWriter;return c.serializeBinaryToWriter(this,e),e.getResultBuffer()}getThumbnail(){return i.Message.getFieldWithDefault(this,1,"")}setThumbnail(e){i.Message.setProto3StringField(this,1,e)}getPctComplete(){return i.Message.getFieldWithDefault(this,3,0)}setPctComplete(e){i.Message.setProto3IntField(this,3,e)}}t.GetCloudflareVideoStatusResponse=c,c.displayName="GetCloudflareVideoStatusResponse"},kOX6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoClient=t.Video=void 0;const i=n("jXzp"),r=n("4doY");class a{}t.Video=a,a.serviceName="minga.content.Video",a.New={methodName:"New",service:a,requestStream:!1,responseStream:!1,requestType:i.VideoInfo,responseType:r.ContentSaveResult},a.Update={methodName:"Update",service:a,requestStream:!1,responseStream:!1,requestType:i.DeltaVideoInfo,responseType:r.ContentSaveResult},a.GetInfo={methodName:"GetInfo",service:a,requestStream:!1,responseStream:!1,requestType:r.ContentInfoQuery,responseType:i.VideoInfo},a.NewCloudflareUploadUrl={methodName:"NewCloudflareUploadUrl",service:a,requestStream:!1,responseStream:!1,requestType:i.ClouldflareUploadUrlRequest,responseType:i.ClouldflareUploadUrlResponse},a.GetCloudflareVideoStatus={methodName:"GetCloudflareVideoStatus",service:a,requestStream:!1,responseStream:!1,requestType:i.GetCloudflareVideoStatusRequest,responseType:i.GetCloudflareVideoStatusResponse},t.VideoClient=class{new(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}update(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}getInfo(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}newCloudflareUploadUrl(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}getCloudflareVideoStatus(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},mEJt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnouncementClient=t.Announcement=void 0;const i=n("6sqc"),r=n("4doY");class a{}t.Announcement=a,a.serviceName="minga.content.Announcement",a.New={methodName:"New",service:a,requestStream:!1,responseStream:!1,requestType:i.AnnouncementInfo,responseType:r.ContentSaveResult},a.Update={methodName:"Update",service:a,requestStream:!1,responseStream:!1,requestType:i.DeltaAnnouncementInfo,responseType:r.ContentSaveResult},a.GetInfo={methodName:"GetInfo",service:a,requestStream:!1,responseStream:!1,requestType:r.ContentInfoQuery,responseType:i.AnnouncementInfo},t.AnnouncementClient=class{new(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}update(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}getInfo(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},mpOZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamItemPosition=t.StreamAction=t.StreamStatus=t.StreamControlResponse=t.StreamControl=t.StreamFilter=t.StreamFilterType=t.StreamFilterOp=t.StreamItemMetadata=t.StreamID=void 0;const i=n("hRO2");class r extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return r.toObject(e||!1,this)}static toObject(e,t){var n={id:i.Message.getFieldWithDefault(t,1,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new r;return r.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readInt32();e.setId(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;0!==(n=e.getId())&&t.writeInt32(1,n)}serializeBinary(){var e=new i.BinaryWriter;return r.serializeBinaryToWriter(this,e),e.getResultBuffer()}getId(){return i.Message.getFieldWithDefault(this,1,0)}setId(e){i.Message.setProto3IntField(this,1,e)}}t.StreamID=r,r.displayName="StreamID";class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={index:i.Message.getFieldWithDefault(t,1,0),position:i.Message.getFieldWithDefault(t,2,0),id:i.Message.getFieldWithDefault(t,3,""),placeholder:i.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setIndex(n);break;case 2:var i=t.readEnum();e.setPosition(i);break;case 3:var r=t.readString();e.setId(r);break;case 4:var a=t.readBool();e.setPlaceholder(a);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getIndex())&&t.writeInt32(1,n),0!==(n=e.getPosition())&&t.writeEnum(2,n),(n=e.getId()).length>0&&t.writeString(3,n),(n=e.getPlaceholder())&&t.writeBool(4,n)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getIndex(){return i.Message.getFieldWithDefault(this,1,0)}setIndex(e){i.Message.setProto3IntField(this,1,e)}getPosition(){return i.Message.getFieldWithDefault(this,2,0)}setPosition(e){i.Message.setProto3EnumField(this,2,e)}getId(){return i.Message.getFieldWithDefault(this,3,"")}setId(e){i.Message.setProto3StringField(this,3,e)}getPlaceholder(){return i.Message.getBooleanFieldWithDefault(this,4,!1)}setPlaceholder(e){i.Message.setProto3BooleanField(this,4,e)}}t.StreamItemMetadata=a,a.displayName="StreamItemMetadata";class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,o.oneofGroups_)}getOpCase(){return i.Message.computeOneofCase(this,o.oneofGroups_[0])}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n,i={ltNow:(n=t.getLtNow())&&o.LtNow.toObject(e,n),lteNow:(n=t.getLteNow())&&o.LteNow.toObject(e,n),gtNow:(n=t.getGtNow())&&o.GtNow.toObject(e,n),gteNow:(n=t.getGteNow())&&o.GteNow.toObject(e,n),falsyOrLteNow:(n=t.getFalsyOrLteNow())&&o.FalsyOrLteNow.toObject(e,n),falsyOrLtNow:(n=t.getFalsyOrLtNow())&&o.FalsyOrLtNow.toObject(e,n),falsyOrGteNow:(n=t.getFalsyOrGteNow())&&o.FalsyOrGteNow.toObject(e,n),falsyOrGtNow:(n=t.getFalsyOrGtNow())&&o.FalsyOrGtNow.toObject(e,n),includes:(n=t.getIncludes())&&o.Includes.toObject(e,n),gteValue:(n=t.getGteValue())&&o.GteValue.toObject(e,n),gtValue:(n=t.getGtValue())&&o.GtValue.toObject(e,n),lteValue:(n=t.getLteValue())&&o.LteValue.toObject(e,n),ltValue:(n=t.getLtValue())&&o.LtValue.toObject(e,n),falsyOrGteValue:(n=t.getFalsyOrGteValue())&&o.FalsyOrGteValue.toObject(e,n),falsyOrGtValue:(n=t.getFalsyOrGtValue())&&o.FalsyOrGtValue.toObject(e,n),falsyOrLteValue:(n=t.getFalsyOrLteValue())&&o.FalsyOrLteValue.toObject(e,n),falsyOrLtValue:(n=t.getFalsyOrLtValue())&&o.FalsyOrLtValue.toObject(e,n),withinInclusiveValue:(n=t.getWithinInclusiveValue())&&o.WithinInclusiveValue.toObject(e,n)};return e&&(i.$jspbMessageInstance=t),i}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new o.LtNow;t.readMessage(n,o.LtNow.deserializeBinaryFromReader),e.setLtNow(n);break;case 2:var i=new o.LteNow;t.readMessage(i,o.LteNow.deserializeBinaryFromReader),e.setLteNow(i);break;case 3:var r=new o.GtNow;t.readMessage(r,o.GtNow.deserializeBinaryFromReader),e.setGtNow(r);break;case 4:var a=new o.GteNow;t.readMessage(a,o.GteNow.deserializeBinaryFromReader),e.setGteNow(a);break;case 5:var s=new o.FalsyOrLteNow;t.readMessage(s,o.FalsyOrLteNow.deserializeBinaryFromReader),e.setFalsyOrLteNow(s);break;case 6:var l=new o.FalsyOrLtNow;t.readMessage(l,o.FalsyOrLtNow.deserializeBinaryFromReader),e.setFalsyOrLtNow(l);break;case 7:var d=new o.FalsyOrGteNow;t.readMessage(d,o.FalsyOrGteNow.deserializeBinaryFromReader),e.setFalsyOrGteNow(d);break;case 8:var c=new o.FalsyOrGtNow;t.readMessage(c,o.FalsyOrGtNow.deserializeBinaryFromReader),e.setFalsyOrGtNow(c);break;case 9:var g=new o.Includes;t.readMessage(g,o.Includes.deserializeBinaryFromReader),e.setIncludes(g);break;case 10:var u=new o.GteValue;t.readMessage(u,o.GteValue.deserializeBinaryFromReader),e.setGteValue(u);break;case 11:var h=new o.GtValue;t.readMessage(h,o.GtValue.deserializeBinaryFromReader),e.setGtValue(h);break;case 12:var p=new o.LteValue;t.readMessage(p,o.LteValue.deserializeBinaryFromReader),e.setLteValue(p);break;case 13:var m=new o.LtValue;t.readMessage(m,o.LtValue.deserializeBinaryFromReader),e.setLtValue(m);break;case 14:var f=new o.FalsyOrGteValue;t.readMessage(f,o.FalsyOrGteValue.deserializeBinaryFromReader),e.setFalsyOrGteValue(f);break;case 15:var v=new o.FalsyOrGtValue;t.readMessage(v,o.FalsyOrGtValue.deserializeBinaryFromReader),e.setFalsyOrGtValue(v);break;case 16:var y=new o.FalsyOrLteValue;t.readMessage(y,o.FalsyOrLteValue.deserializeBinaryFromReader),e.setFalsyOrLteValue(y);break;case 17:var C=new o.FalsyOrLtValue;t.readMessage(C,o.FalsyOrLtValue.deserializeBinaryFromReader),e.setFalsyOrLtValue(C);break;case 18:var M=new o.WithinInclusiveValue;t.readMessage(M,o.WithinInclusiveValue.deserializeBinaryFromReader),e.setWithinInclusiveValue(M);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;null!=(n=e.getLtNow())&&t.writeMessage(1,n,o.LtNow.serializeBinaryToWriter),null!=(n=e.getLteNow())&&t.writeMessage(2,n,o.LteNow.serializeBinaryToWriter),null!=(n=e.getGtNow())&&t.writeMessage(3,n,o.GtNow.serializeBinaryToWriter),null!=(n=e.getGteNow())&&t.writeMessage(4,n,o.GteNow.serializeBinaryToWriter),null!=(n=e.getFalsyOrLteNow())&&t.writeMessage(5,n,o.FalsyOrLteNow.serializeBinaryToWriter),null!=(n=e.getFalsyOrLtNow())&&t.writeMessage(6,n,o.FalsyOrLtNow.serializeBinaryToWriter),null!=(n=e.getFalsyOrGteNow())&&t.writeMessage(7,n,o.FalsyOrGteNow.serializeBinaryToWriter),null!=(n=e.getFalsyOrGtNow())&&t.writeMessage(8,n,o.FalsyOrGtNow.serializeBinaryToWriter),null!=(n=e.getIncludes())&&t.writeMessage(9,n,o.Includes.serializeBinaryToWriter),null!=(n=e.getGteValue())&&t.writeMessage(10,n,o.GteValue.serializeBinaryToWriter),null!=(n=e.getGtValue())&&t.writeMessage(11,n,o.GtValue.serializeBinaryToWriter),null!=(n=e.getLteValue())&&t.writeMessage(12,n,o.LteValue.serializeBinaryToWriter),null!=(n=e.getLtValue())&&t.writeMessage(13,n,o.LtValue.serializeBinaryToWriter),null!=(n=e.getFalsyOrGteValue())&&t.writeMessage(14,n,o.FalsyOrGteValue.serializeBinaryToWriter),null!=(n=e.getFalsyOrGtValue())&&t.writeMessage(15,n,o.FalsyOrGtValue.serializeBinaryToWriter),null!=(n=e.getFalsyOrLteValue())&&t.writeMessage(16,n,o.FalsyOrLteValue.serializeBinaryToWriter),null!=(n=e.getFalsyOrLtValue())&&t.writeMessage(17,n,o.FalsyOrLtValue.serializeBinaryToWriter),null!=(n=e.getWithinInclusiveValue())&&t.writeMessage(18,n,o.WithinInclusiveValue.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getLtNow(){return i.Message.getWrapperField(this,o.LtNow,1)}setLtNow(e){i.Message.setOneofWrapperField(this,1,o.oneofGroups_[0],e)}clearLtNow(){this.setLtNow(void 0)}hasLtNow(){return null!=i.Message.getField(this,1)}getLteNow(){return i.Message.getWrapperField(this,o.LteNow,2)}setLteNow(e){i.Message.setOneofWrapperField(this,2,o.oneofGroups_[0],e)}clearLteNow(){this.setLteNow(void 0)}hasLteNow(){return null!=i.Message.getField(this,2)}getGtNow(){return i.Message.getWrapperField(this,o.GtNow,3)}setGtNow(e){i.Message.setOneofWrapperField(this,3,o.oneofGroups_[0],e)}clearGtNow(){this.setGtNow(void 0)}hasGtNow(){return null!=i.Message.getField(this,3)}getGteNow(){return i.Message.getWrapperField(this,o.GteNow,4)}setGteNow(e){i.Message.setOneofWrapperField(this,4,o.oneofGroups_[0],e)}clearGteNow(){this.setGteNow(void 0)}hasGteNow(){return null!=i.Message.getField(this,4)}getFalsyOrLteNow(){return i.Message.getWrapperField(this,o.FalsyOrLteNow,5)}setFalsyOrLteNow(e){i.Message.setOneofWrapperField(this,5,o.oneofGroups_[0],e)}clearFalsyOrLteNow(){this.setFalsyOrLteNow(void 0)}hasFalsyOrLteNow(){return null!=i.Message.getField(this,5)}getFalsyOrLtNow(){return i.Message.getWrapperField(this,o.FalsyOrLtNow,6)}setFalsyOrLtNow(e){i.Message.setOneofWrapperField(this,6,o.oneofGroups_[0],e)}clearFalsyOrLtNow(){this.setFalsyOrLtNow(void 0)}hasFalsyOrLtNow(){return null!=i.Message.getField(this,6)}getFalsyOrGteNow(){return i.Message.getWrapperField(this,o.FalsyOrGteNow,7)}setFalsyOrGteNow(e){i.Message.setOneofWrapperField(this,7,o.oneofGroups_[0],e)}clearFalsyOrGteNow(){this.setFalsyOrGteNow(void 0)}hasFalsyOrGteNow(){return null!=i.Message.getField(this,7)}getFalsyOrGtNow(){return i.Message.getWrapperField(this,o.FalsyOrGtNow,8)}setFalsyOrGtNow(e){i.Message.setOneofWrapperField(this,8,o.oneofGroups_[0],e)}clearFalsyOrGtNow(){this.setFalsyOrGtNow(void 0)}hasFalsyOrGtNow(){return null!=i.Message.getField(this,8)}getIncludes(){return i.Message.getWrapperField(this,o.Includes,9)}setIncludes(e){i.Message.setOneofWrapperField(this,9,o.oneofGroups_[0],e)}clearIncludes(){this.setIncludes(void 0)}hasIncludes(){return null!=i.Message.getField(this,9)}getGteValue(){return i.Message.getWrapperField(this,o.GteValue,10)}setGteValue(e){i.Message.setOneofWrapperField(this,10,o.oneofGroups_[0],e)}clearGteValue(){this.setGteValue(void 0)}hasGteValue(){return null!=i.Message.getField(this,10)}getGtValue(){return i.Message.getWrapperField(this,o.GtValue,11)}setGtValue(e){i.Message.setOneofWrapperField(this,11,o.oneofGroups_[0],e)}clearGtValue(){this.setGtValue(void 0)}hasGtValue(){return null!=i.Message.getField(this,11)}getLteValue(){return i.Message.getWrapperField(this,o.LteValue,12)}setLteValue(e){i.Message.setOneofWrapperField(this,12,o.oneofGroups_[0],e)}clearLteValue(){this.setLteValue(void 0)}hasLteValue(){return null!=i.Message.getField(this,12)}getLtValue(){return i.Message.getWrapperField(this,o.LtValue,13)}setLtValue(e){i.Message.setOneofWrapperField(this,13,o.oneofGroups_[0],e)}clearLtValue(){this.setLtValue(void 0)}hasLtValue(){return null!=i.Message.getField(this,13)}getFalsyOrGteValue(){return i.Message.getWrapperField(this,o.FalsyOrGteValue,14)}setFalsyOrGteValue(e){i.Message.setOneofWrapperField(this,14,o.oneofGroups_[0],e)}clearFalsyOrGteValue(){this.setFalsyOrGteValue(void 0)}hasFalsyOrGteValue(){return null!=i.Message.getField(this,14)}getFalsyOrGtValue(){return i.Message.getWrapperField(this,o.FalsyOrGtValue,15)}setFalsyOrGtValue(e){i.Message.setOneofWrapperField(this,15,o.oneofGroups_[0],e)}clearFalsyOrGtValue(){this.setFalsyOrGtValue(void 0)}hasFalsyOrGtValue(){return null!=i.Message.getField(this,15)}getFalsyOrLteValue(){return i.Message.getWrapperField(this,o.FalsyOrLteValue,16)}setFalsyOrLteValue(e){i.Message.setOneofWrapperField(this,16,o.oneofGroups_[0],e)}clearFalsyOrLteValue(){this.setFalsyOrLteValue(void 0)}hasFalsyOrLteValue(){return null!=i.Message.getField(this,16)}getFalsyOrLtValue(){return i.Message.getWrapperField(this,o.FalsyOrLtValue,17)}setFalsyOrLtValue(e){i.Message.setOneofWrapperField(this,17,o.oneofGroups_[0],e)}clearFalsyOrLtValue(){this.setFalsyOrLtValue(void 0)}hasFalsyOrLtValue(){return null!=i.Message.getField(this,17)}getWithinInclusiveValue(){return i.Message.getWrapperField(this,o.WithinInclusiveValue,18)}setWithinInclusiveValue(e){i.Message.setOneofWrapperField(this,18,o.oneofGroups_[0],e)}clearWithinInclusiveValue(){this.setWithinInclusiveValue(void 0)}hasWithinInclusiveValue(){return null!=i.Message.getField(this,18)}}t.StreamFilterOp=o,o.displayName="StreamFilterOp",o.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]],function(e){let t;!function(e){e[e.OP_NOT_SET=0]="OP_NOT_SET",e[e.LT_NOW=1]="LT_NOW",e[e.LTE_NOW=2]="LTE_NOW",e[e.GT_NOW=3]="GT_NOW",e[e.GTE_NOW=4]="GTE_NOW",e[e.FALSY_OR_LTE_NOW=5]="FALSY_OR_LTE_NOW",e[e.FALSY_OR_LT_NOW=6]="FALSY_OR_LT_NOW",e[e.FALSY_OR_GTE_NOW=7]="FALSY_OR_GTE_NOW",e[e.FALSY_OR_GT_NOW=8]="FALSY_OR_GT_NOW",e[e.INCLUDES=9]="INCLUDES",e[e.GTE_VALUE=10]="GTE_VALUE",e[e.GT_VALUE=11]="GT_VALUE",e[e.LTE_VALUE=12]="LTE_VALUE",e[e.LT_VALUE=13]="LT_VALUE",e[e.FALSY_OR_GTE_VALUE=14]="FALSY_OR_GTE_VALUE",e[e.FALSY_OR_GT_VALUE=15]="FALSY_OR_GT_VALUE",e[e.FALSY_OR_LTE_VALUE=16]="FALSY_OR_LTE_VALUE",e[e.FALSY_OR_LT_VALUE=17]="FALSY_OR_LT_VALUE",e[e.WITHIN_INCLUSIVE_VALUE=18]="WITHIN_INCLUSIVE_VALUE"}(t=e.OpCase||(e.OpCase={}))}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(t){super(),i.Message.initialize(this,t,0,-1,null,e.Value.oneofGroups_)}getValueCase(){return i.Message.computeOneofCase(this,e.Value.oneofGroups_[0])}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={doubleValue:i.Message.getFloatingPointFieldWithDefault(t,1,0),floatValue:i.Message.getFloatingPointFieldWithDefault(t,2,0),int32Value:i.Message.getFieldWithDefault(t,3,0),uint32Value:i.Message.getFieldWithDefault(t,4,0),boolValue:i.Message.getBooleanFieldWithDefault(t,5,!1),stringValue:i.Message.getFieldWithDefault(t,6,""),uint64Value:i.Message.getFieldWithDefault(t,7,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readDouble();e.setDoubleValue(n);break;case 2:var i=t.readFloat();e.setFloatValue(i);break;case 3:var r=t.readInt32();e.setInt32Value(r);break;case 4:var a=t.readUint32();e.setUint32Value(a);break;case 5:var o=t.readBool();e.setBoolValue(o);break;case 6:var s=t.readString();e.setStringValue(s);break;case 7:var l=t.readUint64();e.setUint64Value(l);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;null!=(n=i.Message.getField(e,1))&&t.writeDouble(1,n),null!=(n=i.Message.getField(e,2))&&t.writeFloat(2,n),null!=(n=i.Message.getField(e,3))&&t.writeInt32(3,n),null!=(n=i.Message.getField(e,4))&&t.writeUint32(4,n),null!=(n=i.Message.getField(e,5))&&t.writeBool(5,n),null!=(n=i.Message.getField(e,6))&&t.writeString(6,n),null!=(n=i.Message.getField(e,7))&&t.writeUint64(7,n)}serializeBinary(){var t=new i.BinaryWriter;return e.Value.serializeBinaryToWriter(this,t),t.getResultBuffer()}getDoubleValue(){return i.Message.getFloatingPointFieldWithDefault(this,1,0)}setDoubleValue(t){i.Message.setOneofField(this,1,e.Value.oneofGroups_[0],t)}clearDoubleValue(){i.Message.setOneofField(this,1,e.Value.oneofGroups_[0],void 0)}hasDoubleValue(){return null!=i.Message.getField(this,1)}getFloatValue(){return i.Message.getFloatingPointFieldWithDefault(this,2,0)}setFloatValue(t){i.Message.setOneofField(this,2,e.Value.oneofGroups_[0],t)}clearFloatValue(){i.Message.setOneofField(this,2,e.Value.oneofGroups_[0],void 0)}hasFloatValue(){return null!=i.Message.getField(this,2)}getInt32Value(){return i.Message.getFieldWithDefault(this,3,0)}setInt32Value(t){i.Message.setOneofField(this,3,e.Value.oneofGroups_[0],t)}clearInt32Value(){i.Message.setOneofField(this,3,e.Value.oneofGroups_[0],void 0)}hasInt32Value(){return null!=i.Message.getField(this,3)}getUint32Value(){return i.Message.getFieldWithDefault(this,4,0)}setUint32Value(t){i.Message.setOneofField(this,4,e.Value.oneofGroups_[0],t)}clearUint32Value(){i.Message.setOneofField(this,4,e.Value.oneofGroups_[0],void 0)}hasUint32Value(){return null!=i.Message.getField(this,4)}getBoolValue(){return i.Message.getBooleanFieldWithDefault(this,5,!1)}setBoolValue(t){i.Message.setOneofField(this,5,e.Value.oneofGroups_[0],t)}clearBoolValue(){i.Message.setOneofField(this,5,e.Value.oneofGroups_[0],void 0)}hasBoolValue(){return null!=i.Message.getField(this,5)}getStringValue(){return i.Message.getFieldWithDefault(this,6,"")}setStringValue(t){i.Message.setOneofField(this,6,e.Value.oneofGroups_[0],t)}clearStringValue(){i.Message.setOneofField(this,6,e.Value.oneofGroups_[0],void 0)}hasStringValue(){return null!=i.Message.getField(this,6)}getUint64Value(){return i.Message.getFieldWithDefault(this,7,0)}setUint64Value(t){i.Message.setOneofField(this,7,e.Value.oneofGroups_[0],t)}clearUint64Value(){i.Message.setOneofField(this,7,e.Value.oneofGroups_[0],void 0)}hasUint64Value(){return null!=i.Message.getField(this,7)}}t.displayName="StreamFilterOp.Value",t.oneofGroups_=[[1,2,3,4,5,6,7]],e.Value=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){let t;!function(e){let t;!function(e){e[e.VALUE_NOT_SET=0]="VALUE_NOT_SET",e[e.DOUBLE_VALUE=1]="DOUBLE_VALUE",e[e.FLOAT_VALUE=2]="FLOAT_VALUE",e[e.INT32_VALUE=3]="INT32_VALUE",e[e.UINT32_VALUE=4]="UINT32_VALUE",e[e.BOOL_VALUE=5]="BOOL_VALUE",e[e.STRING_VALUE=6]="STRING_VALUE",e[e.UINT64_VALUE=7]="UINT64_VALUE"}(t=e.ValueCase||(e.ValueCase={}))}(t=e.Value||(e.Value={}))}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var t=new i.BinaryWriter;return e.LtNow.serializeBinaryToWriter(this,t),t.getResultBuffer()}}t.displayName="StreamFilterOp.LtNow",e.LtNow=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var t=new i.BinaryWriter;return e.LteNow.serializeBinaryToWriter(this,t),t.getResultBuffer()}}t.displayName="StreamFilterOp.LteNow",e.LteNow=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var t=new i.BinaryWriter;return e.GtNow.serializeBinaryToWriter(this,t),t.getResultBuffer()}}t.displayName="StreamFilterOp.GtNow",e.GtNow=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var t=new i.BinaryWriter;return e.GteNow.serializeBinaryToWriter(this,t),t.getResultBuffer()}}t.displayName="StreamFilterOp.GteNow",e.GteNow=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var t=new i.BinaryWriter;return e.FalsyOrLteNow.serializeBinaryToWriter(this,t),t.getResultBuffer()}}t.displayName="StreamFilterOp.FalsyOrLteNow",e.FalsyOrLteNow=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var t=new i.BinaryWriter;return e.FalsyOrLtNow.serializeBinaryToWriter(this,t),t.getResultBuffer()}}t.displayName="StreamFilterOp.FalsyOrLtNow",e.FalsyOrLtNow=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var t=new i.BinaryWriter;return e.FalsyOrGteNow.serializeBinaryToWriter(this,t),t.getResultBuffer()}}t.displayName="StreamFilterOp.FalsyOrGteNow",e.FalsyOrGteNow=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(e,t){var n={};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e}static serializeBinaryToWriter(e,t){}serializeBinary(){var t=new i.BinaryWriter;return e.FalsyOrGtNow.serializeBinaryToWriter(this,t),t.getResultBuffer()}}t.displayName="StreamFilterOp.FalsyOrGtNow",e.FalsyOrGtNow=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(t){super(),i.Message.initialize(this,t,0,-1,e.Includes.repeatedFields_,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var r={valueList:i.Message.toObjectList(n.getValueList(),e.Value.toObject,t)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.addValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;(i=t.getValueList()).length>0&&n.writeRepeatedMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.Includes.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValueList(){return i.Message.getRepeatedWrapperField(this,e.Value,1)}setValueList(e){i.Message.setRepeatedWrapperField(this,1,e)}addValue(t,n){return i.Message.addToRepeatedWrapperField(this,1,t,e.Value,n)}clearValueList(){this.setValueList([])}}t.displayName="StreamFilterOp.Includes",t.repeatedFields_=[1],e.Includes=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={value:(i=n.getValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;null!=(i=t.getValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.GteValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValue(){return i.Message.getWrapperField(this,e.Value,1)}setValue(e){i.Message.setWrapperField(this,1,e)}clearValue(){this.setValue(void 0)}hasValue(){return null!=i.Message.getField(this,1)}}t.displayName="StreamFilterOp.GteValue",e.GteValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={value:(i=n.getValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;null!=(i=t.getValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.GtValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValue(){return i.Message.getWrapperField(this,e.Value,1)}setValue(e){i.Message.setWrapperField(this,1,e)}clearValue(){this.setValue(void 0)}hasValue(){return null!=i.Message.getField(this,1)}}t.displayName="StreamFilterOp.GtValue",e.GtValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={value:(i=n.getValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;null!=(i=t.getValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.LteValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValue(){return i.Message.getWrapperField(this,e.Value,1)}setValue(e){i.Message.setWrapperField(this,1,e)}clearValue(){this.setValue(void 0)}hasValue(){return null!=i.Message.getField(this,1)}}t.displayName="StreamFilterOp.LteValue",e.LteValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={value:(i=n.getValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;null!=(i=t.getValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.LtValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValue(){return i.Message.getWrapperField(this,e.Value,1)}setValue(e){i.Message.setWrapperField(this,1,e)}clearValue(){this.setValue(void 0)}hasValue(){return null!=i.Message.getField(this,1)}}t.displayName="StreamFilterOp.LtValue",e.LtValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={value:(i=n.getValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;null!=(i=t.getValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.FalsyOrGteValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValue(){return i.Message.getWrapperField(this,e.Value,1)}setValue(e){i.Message.setWrapperField(this,1,e)}clearValue(){this.setValue(void 0)}hasValue(){return null!=i.Message.getField(this,1)}}t.displayName="StreamFilterOp.FalsyOrGteValue",e.FalsyOrGteValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={value:(i=n.getValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;null!=(i=t.getValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.FalsyOrGtValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValue(){return i.Message.getWrapperField(this,e.Value,1)}setValue(e){i.Message.setWrapperField(this,1,e)}clearValue(){this.setValue(void 0)}hasValue(){return null!=i.Message.getField(this,1)}}t.displayName="StreamFilterOp.FalsyOrGtValue",e.FalsyOrGtValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={value:(i=n.getValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;null!=(i=t.getValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.FalsyOrLteValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValue(){return i.Message.getWrapperField(this,e.Value,1)}setValue(e){i.Message.setWrapperField(this,1,e)}clearValue(){this.setValue(void 0)}hasValue(){return null!=i.Message.getField(this,1)}}t.displayName="StreamFilterOp.FalsyOrLteValue",e.FalsyOrLteValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={value:(i=n.getValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)if(1===n.getFieldNumber()){var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setValue(i)}else n.skipField();return t}static serializeBinaryToWriter(t,n){var i;null!=(i=t.getValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.FalsyOrLtValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getValue(){return i.Message.getWrapperField(this,e.Value,1)}setValue(e){i.Message.setWrapperField(this,1,e)}clearValue(){this.setValue(void 0)}hasValue(){return null!=i.Message.getField(this,1)}}t.displayName="StreamFilterOp.FalsyOrLtValue",e.FalsyOrLtValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={})),function(e){class t extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return t.toObject(e||!1,this)}static toObject(t,n){var i,r={startValue:(i=n.getStartValue())&&e.Value.toObject(t,i),endValue:(i=n.getEndValue())&&e.Value.toObject(t,i)};return t&&(r.$jspbMessageInstance=n),r}static deserializeBinary(e){var n=new i.BinaryReader(e),r=new t;return t.deserializeBinaryFromReader(r,n)}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var i=new e.Value;n.readMessage(i,e.Value.deserializeBinaryFromReader),t.setStartValue(i);break;case 2:var r=new e.Value;n.readMessage(r,e.Value.deserializeBinaryFromReader),t.setEndValue(r);break;default:n.skipField()}return t}static serializeBinaryToWriter(t,n){var i=void 0;null!=(i=t.getStartValue())&&n.writeMessage(1,i,e.Value.serializeBinaryToWriter),null!=(i=t.getEndValue())&&n.writeMessage(2,i,e.Value.serializeBinaryToWriter)}serializeBinary(){var t=new i.BinaryWriter;return e.WithinInclusiveValue.serializeBinaryToWriter(this,t),t.getResultBuffer()}getStartValue(){return i.Message.getWrapperField(this,e.Value,1)}setStartValue(e){i.Message.setWrapperField(this,1,e)}clearStartValue(){this.setStartValue(void 0)}hasStartValue(){return null!=i.Message.getField(this,1)}getEndValue(){return i.Message.getWrapperField(this,e.Value,2)}setEndValue(e){i.Message.setWrapperField(this,2,e)}clearEndValue(){this.setEndValue(void 0)}hasEndValue(){return null!=i.Message.getField(this,2)}}t.displayName="StreamFilterOp.WithinInclusiveValue",e.WithinInclusiveValue=t}(o=t.StreamFilterOp||(t.StreamFilterOp={}));class s extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,s.oneofGroups_)}getValuesCase(){return i.Message.computeOneofCase(this,s.oneofGroups_[0])}toObject(e){return s.toObject(e||!1,this)}static toObject(e,t){var n,r={doubleValue:i.Message.getFloatingPointFieldWithDefault(t,1,0),floatValue:i.Message.getFloatingPointFieldWithDefault(t,2,0),int32Value:i.Message.getFieldWithDefault(t,3,0),uint32Value:i.Message.getFieldWithDefault(t,4,0),boolValue:i.Message.getBooleanFieldWithDefault(t,5,!1),stringValue:i.Message.getFieldWithDefault(t,6,""),op:(n=t.getOp())&&o.toObject(e,n)};return e&&(r.$jspbMessageInstance=t),r}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readDouble();e.setDoubleValue(n);break;case 2:var i=t.readFloat();e.setFloatValue(i);break;case 3:var r=t.readInt32();e.setInt32Value(r);break;case 4:var a=t.readUint32();e.setUint32Value(a);break;case 5:var s=t.readBool();e.setBoolValue(s);break;case 6:var l=t.readString();e.setStringValue(l);break;case 7:var d=new o;t.readMessage(d,o.deserializeBinaryFromReader),e.setOp(d);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;null!=(n=i.Message.getField(e,1))&&t.writeDouble(1,n),null!=(n=i.Message.getField(e,2))&&t.writeFloat(2,n),null!=(n=i.Message.getField(e,3))&&t.writeInt32(3,n),null!=(n=i.Message.getField(e,4))&&t.writeUint32(4,n),null!=(n=i.Message.getField(e,5))&&t.writeBool(5,n),null!=(n=i.Message.getField(e,6))&&t.writeString(6,n),null!=(n=e.getOp())&&t.writeMessage(7,n,o.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return s.serializeBinaryToWriter(this,e),e.getResultBuffer()}getDoubleValue(){return i.Message.getFloatingPointFieldWithDefault(this,1,0)}setDoubleValue(e){i.Message.setOneofField(this,1,s.oneofGroups_[0],e)}clearDoubleValue(){i.Message.setOneofField(this,1,s.oneofGroups_[0],void 0)}hasDoubleValue(){return null!=i.Message.getField(this,1)}getFloatValue(){return i.Message.getFloatingPointFieldWithDefault(this,2,0)}setFloatValue(e){i.Message.setOneofField(this,2,s.oneofGroups_[0],e)}clearFloatValue(){i.Message.setOneofField(this,2,s.oneofGroups_[0],void 0)}hasFloatValue(){return null!=i.Message.getField(this,2)}getInt32Value(){return i.Message.getFieldWithDefault(this,3,0)}setInt32Value(e){i.Message.setOneofField(this,3,s.oneofGroups_[0],e)}clearInt32Value(){i.Message.setOneofField(this,3,s.oneofGroups_[0],void 0)}hasInt32Value(){return null!=i.Message.getField(this,3)}getUint32Value(){return i.Message.getFieldWithDefault(this,4,0)}setUint32Value(e){i.Message.setOneofField(this,4,s.oneofGroups_[0],e)}clearUint32Value(){i.Message.setOneofField(this,4,s.oneofGroups_[0],void 0)}hasUint32Value(){return null!=i.Message.getField(this,4)}getBoolValue(){return i.Message.getBooleanFieldWithDefault(this,5,!1)}setBoolValue(e){i.Message.setOneofField(this,5,s.oneofGroups_[0],e)}clearBoolValue(){i.Message.setOneofField(this,5,s.oneofGroups_[0],void 0)}hasBoolValue(){return null!=i.Message.getField(this,5)}getStringValue(){return i.Message.getFieldWithDefault(this,6,"")}setStringValue(e){i.Message.setOneofField(this,6,s.oneofGroups_[0],e)}clearStringValue(){i.Message.setOneofField(this,6,s.oneofGroups_[0],void 0)}hasStringValue(){return null!=i.Message.getField(this,6)}getOp(){return i.Message.getWrapperField(this,o,7)}setOp(e){i.Message.setOneofWrapperField(this,7,s.oneofGroups_[0],e)}clearOp(){this.setOp(void 0)}hasOp(){return null!=i.Message.getField(this,7)}}t.StreamFilterType=s,s.displayName="StreamFilterType",s.oneofGroups_=[[1,2,3,4,5,6,7]],function(e){let t;!function(e){e[e.VALUES_NOT_SET=0]="VALUES_NOT_SET",e[e.DOUBLE_VALUE=1]="DOUBLE_VALUE",e[e.FLOAT_VALUE=2]="FLOAT_VALUE",e[e.INT32_VALUE=3]="INT32_VALUE",e[e.UINT32_VALUE=4]="UINT32_VALUE",e[e.BOOL_VALUE=5]="BOOL_VALUE",e[e.STRING_VALUE=6]="STRING_VALUE",e[e.OP=7]="OP"}(t=e.ValuesCase||(e.ValuesCase={}))}(s=t.StreamFilterType||(t.StreamFilterType={}));class l extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return l.toObject(e||!1,this)}static toObject(e,t){var n,i={keyValuesMap:(n=t.getKeyValuesMap())?n.toObject(e,s.toObject):[]};return e&&(i.$jspbMessageInstance=t),i}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new l;return l.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=e.getKeyValuesMap();t.readMessage(n,(function(e,t){i.Map.deserializeBinary(e,t,i.BinaryReader.prototype.readString,i.BinaryReader.prototype.readMessage,s.deserializeBinaryFromReader,"")}))}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getKeyValuesMap(!0))&&n.getLength()>0&&n.serializeBinary(1,t,i.BinaryWriter.prototype.writeString,i.BinaryWriter.prototype.writeMessage,s.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return l.serializeBinaryToWriter(this,e),e.getResultBuffer()}getKeyValuesMap(e=!1){return i.Message.getMapField(this,1,e,s)}clearKeyValuesMap(){this.getKeyValuesMap().clear()}}t.StreamFilter=l,l.displayName="StreamFilter";class d extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,d.oneofGroups_)}getInfoCase(){return i.Message.computeOneofCase(this,d.oneofGroups_[0])}toObject(e){return d.toObject(e||!1,this)}static toObject(e,t){var n,a={action:i.Message.getFieldWithDefault(t,1,0),streamId:(n=t.getStreamId())&&r.toObject(e,n),streamFilter:(n=t.getStreamFilter())&&l.toObject(e,n)};return e&&(a.$jspbMessageInstance=t),a}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new d;return d.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readEnum();e.setAction(n);break;case 2:var i=new r;t.readMessage(i,r.deserializeBinaryFromReader),e.setStreamId(i);break;case 3:var a=new l;t.readMessage(a,l.deserializeBinaryFromReader),e.setStreamFilter(a);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getAction())&&t.writeEnum(1,n),null!=(n=e.getStreamId())&&t.writeMessage(2,n,r.serializeBinaryToWriter),null!=(n=e.getStreamFilter())&&t.writeMessage(3,n,l.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return d.serializeBinaryToWriter(this,e),e.getResultBuffer()}getAction(){return i.Message.getFieldWithDefault(this,1,0)}setAction(e){i.Message.setProto3EnumField(this,1,e)}getStreamId(){return i.Message.getWrapperField(this,r,2)}setStreamId(e){i.Message.setOneofWrapperField(this,2,d.oneofGroups_[0],e)}clearStreamId(){this.setStreamId(void 0)}hasStreamId(){return null!=i.Message.getField(this,2)}getStreamFilter(){return i.Message.getWrapperField(this,l,3)}setStreamFilter(e){i.Message.setOneofWrapperField(this,3,d.oneofGroups_[0],e)}clearStreamFilter(){this.setStreamFilter(void 0)}hasStreamFilter(){return null!=i.Message.getField(this,3)}}t.StreamControl=d,d.displayName="StreamControl",d.oneofGroups_=[[2,3]],function(e){let t;!function(e){e[e.INFO_NOT_SET=0]="INFO_NOT_SET",e[e.STREAM_ID=2]="STREAM_ID",e[e.STREAM_FILTER=3]="STREAM_FILTER"}(t=e.InfoCase||(e.InfoCase={}))}(d=t.StreamControl||(t.StreamControl={}));class c extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return c.toObject(e||!1,this)}static toObject(e,t){var n,a={status:i.Message.getFieldWithDefault(t,1,0),streamStatus:i.Message.getFieldWithDefault(t,3,0),streamId:(n=t.getStreamId())&&r.toObject(e,n)};return e&&(a.$jspbMessageInstance=t),a}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new c;return c.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readEnum();e.setStatus(n);break;case 3:var i=t.readEnum();e.setStreamStatus(i);break;case 2:var a=new r;t.readMessage(a,r.deserializeBinaryFromReader),e.setStreamId(a);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;0!==(n=e.getStatus())&&t.writeEnum(1,n),0!==(n=e.getStreamStatus())&&t.writeEnum(3,n),null!=(n=e.getStreamId())&&t.writeMessage(2,n,r.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return c.serializeBinaryToWriter(this,e),e.getResultBuffer()}getStatus(){return i.Message.getFieldWithDefault(this,1,0)}setStatus(e){i.Message.setProto3EnumField(this,1,e)}getStreamStatus(){return i.Message.getFieldWithDefault(this,3,0)}setStreamStatus(e){i.Message.setProto3EnumField(this,3,e)}getStreamId(){return i.Message.getWrapperField(this,r,2)}setStreamId(e){i.Message.setWrapperField(this,2,e)}clearStreamId(){this.setStreamId(void 0)}hasStreamId(){return null!=i.Message.getField(this,2)}}var g,u,h;t.StreamControlResponse=c,c.displayName="StreamControlResponse",(h=t.StreamStatus||(t.StreamStatus={}))[h.STREAM_OK=0]="STREAM_OK",h[h.STREAM_EXHAUSTED=1]="STREAM_EXHAUSTED",h[h.STREAM_EXHAUSTED_FRONT=2]="STREAM_EXHAUSTED_FRONT",h[h.STREAM_EXHAUSTED_BACK=3]="STREAM_EXHAUSTED_BACK",(u=t.StreamAction||(t.StreamAction={}))[u.NOOP=0]="NOOP",u[u.SEEK_FRONT=1]="SEEK_FRONT",u[u.SEEK_BACK=2]="SEEK_BACK",u[u.PAUSE=3]="PAUSE",u[u.RESUME=4]="RESUME",u[u.CANCEL=5]="CANCEL",u[u.SEEK_ANY=6]="SEEK_ANY",u[u.COUNT=7]="COUNT",u[u.RESTART=8]="RESTART",(g=t.StreamItemPosition||(t.StreamItemPosition={}))[g.NONE=0]="NONE",g[g.UPSERT=1]="UPSERT",g[g.PUSH_FRONT=2]="PUSH_FRONT",g[g.PUSH_BACK=3]="PUSH_BACK"},nfLS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullGraphicClient=t.FullGraphic=void 0;const i=n("sH97"),r=n("4doY");class a{}t.FullGraphic=a,a.serviceName="minga.content.FullGraphic",a.New={methodName:"New",service:a,requestStream:!1,responseStream:!1,requestType:i.FullGraphicInfo,responseType:r.ContentSaveResult},a.Update={methodName:"Update",service:a,requestStream:!1,responseStream:!1,requestType:i.DeltaFullGraphicInfo,responseType:r.ContentSaveResult},a.GetInfo={methodName:"GetInfo",service:a,requestStream:!1,responseStream:!1,requestType:r.ContentInfoQuery,responseType:i.FullGraphicInfo},t.FullGraphicClient=class{new(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}update(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}getInfo(){throw new Error("minga_protoc_gen_improbable_eng_grpc_web client methods are unimplemented")}}},qvb8:function(e,t,n){var i,r;e.exports=(i=function(e,t){void 0===t&&(t=1);var n=new Image;return e.startsWith("data")||(n.crossOrigin="Anonymous"),new Promise((function(i,r){n.onload=function(){var e=n.width*t,r=n.height*t,a=function(e,t){var n=document.createElement("canvas");return n.setAttribute("width",e),n.setAttribute("height",t),n.getContext("2d")}(e,r);a.drawImage(n,0,0,e,r);var o=a.getImageData(0,0,e,r);i(o.data)};var a=function(){return r(new Error("An error occurred attempting to load image"))};n.onerror=a,n.onabort=a,n.src=e}))},r={ignore:[],scale:1},function(e,t){void 0===t&&(t=r);try{var n=(t=Object.assign({},r,t)).ignore,a=t.scale;return(a>1||a<=0)&&console.warn("You set scale to "+a+", which isn't between 0-1. This is either pointless (> 1) or a no-op (\u2264 0)"),Promise.resolve(i(e,a)).then((function(e){return function(e,t){for(var n={},i=0;i<e.length;i+=4){var r=e[i+3];if(0!==r){var a=Array.from(e.subarray(i,i+3));if(-1===a.indexOf(void 0)){var o=r&&255!==r?"rgba("+a.concat([r]).join(",")+")":"rgb("+a.join(",")+")";-1===t.indexOf(o)&&(n[o]?n[o].count++:n[o]={color:o,count:1})}}}return Object.values(n).sort((function(e,t){return t.count-e.count}))}(e,n)}))}catch(i){return Promise.reject(i)}})},sH97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeltaFullGraphicInfo=t.FullGraphicInfo=void 0;const i=n("hRO2"),r=n("F5Qo");class a extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return a.toObject(e||!1,this)}static toObject(e,t){var n={fullGraphicAsset:i.Message.getFieldWithDefault(t,1,""),styleBackgroundColor:i.Message.getFieldWithDefault(t,2,""),styleGradientOverlap:i.Message.getBooleanFieldWithDefault(t,3,!1),styleLightContent:i.Message.getBooleanFieldWithDefault(t,4,!1),styleGradientSize:i.Message.getFloatingPointFieldWithDefault(t,5,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new a;return a.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setFullGraphicAsset(n);break;case 2:var i=t.readString();e.setStyleBackgroundColor(i);break;case 3:var r=t.readBool();e.setStyleGradientOverlap(r);break;case 4:var a=t.readBool();e.setStyleLightContent(a);break;case 5:var o=t.readFloat();e.setStyleGradientSize(o);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getFullGraphicAsset()).length>0&&t.writeString(1,n),(n=e.getStyleBackgroundColor()).length>0&&t.writeString(2,n),(n=e.getStyleGradientOverlap())&&t.writeBool(3,n),(n=e.getStyleLightContent())&&t.writeBool(4,n),0!==(n=e.getStyleGradientSize())&&t.writeFloat(5,n)}serializeBinary(){var e=new i.BinaryWriter;return a.serializeBinaryToWriter(this,e),e.getResultBuffer()}getFullGraphicAsset(){return i.Message.getFieldWithDefault(this,1,"")}setFullGraphicAsset(e){i.Message.setProto3StringField(this,1,e)}getStyleBackgroundColor(){return i.Message.getFieldWithDefault(this,2,"")}setStyleBackgroundColor(e){i.Message.setProto3StringField(this,2,e)}getStyleGradientOverlap(){return i.Message.getBooleanFieldWithDefault(this,3,!1)}setStyleGradientOverlap(e){i.Message.setProto3BooleanField(this,3,e)}getStyleLightContent(){return i.Message.getBooleanFieldWithDefault(this,4,!1)}setStyleLightContent(e){i.Message.setProto3BooleanField(this,4,e)}getStyleGradientSize(){return i.Message.getFloatingPointFieldWithDefault(this,5,0)}setStyleGradientSize(e){i.Message.setProto3FloatField(this,5,e)}}t.FullGraphicInfo=a,a.displayName="FullGraphicInfo";class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n,a={contentHash:i.Message.getFieldWithDefault(t,1,""),fullGraphicAsset:(n=t.getFullGraphicAsset())&&r.StringDelta.toObject(e,n),styleBackgroundColor:(n=t.getStyleBackgroundColor())&&r.StringDelta.toObject(e,n),styleGradientOverlap:(n=t.getStyleGradientOverlap())&&r.BoolDelta.toObject(e,n),styleLightContent:(n=t.getStyleLightContent())&&r.BoolDelta.toObject(e,n),styleGradientSize:(n=t.getStyleGradientSize())&&r.FloatDelta.toObject(e,n)};return e&&(a.$jspbMessageInstance=t),a}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setContentHash(n);break;case 2:var i=new r.StringDelta;t.readMessage(i,r.StringDelta.deserializeBinaryFromReader),e.setFullGraphicAsset(i);break;case 3:var a=new r.StringDelta;t.readMessage(a,r.StringDelta.deserializeBinaryFromReader),e.setStyleBackgroundColor(a);break;case 4:var o=new r.BoolDelta;t.readMessage(o,r.BoolDelta.deserializeBinaryFromReader),e.setStyleGradientOverlap(o);break;case 5:var s=new r.BoolDelta;t.readMessage(s,r.BoolDelta.deserializeBinaryFromReader),e.setStyleLightContent(s);break;case 6:var l=new r.FloatDelta;t.readMessage(l,r.FloatDelta.deserializeBinaryFromReader),e.setStyleGradientSize(l);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getContentHash()).length>0&&t.writeString(1,n),null!=(n=e.getFullGraphicAsset())&&t.writeMessage(2,n,r.StringDelta.serializeBinaryToWriter),null!=(n=e.getStyleBackgroundColor())&&t.writeMessage(3,n,r.StringDelta.serializeBinaryToWriter),null!=(n=e.getStyleGradientOverlap())&&t.writeMessage(4,n,r.BoolDelta.serializeBinaryToWriter),null!=(n=e.getStyleLightContent())&&t.writeMessage(5,n,r.BoolDelta.serializeBinaryToWriter),null!=(n=e.getStyleGradientSize())&&t.writeMessage(6,n,r.FloatDelta.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getContentHash(){return i.Message.getFieldWithDefault(this,1,"")}setContentHash(e){i.Message.setProto3StringField(this,1,e)}getFullGraphicAsset(){return i.Message.getWrapperField(this,r.StringDelta,2)}setFullGraphicAsset(e){i.Message.setWrapperField(this,2,e)}clearFullGraphicAsset(){this.setFullGraphicAsset(void 0)}hasFullGraphicAsset(){return null!=i.Message.getField(this,2)}getStyleBackgroundColor(){return i.Message.getWrapperField(this,r.StringDelta,3)}setStyleBackgroundColor(e){i.Message.setWrapperField(this,3,e)}clearStyleBackgroundColor(){this.setStyleBackgroundColor(void 0)}hasStyleBackgroundColor(){return null!=i.Message.getField(this,3)}getStyleGradientOverlap(){return i.Message.getWrapperField(this,r.BoolDelta,4)}setStyleGradientOverlap(e){i.Message.setWrapperField(this,4,e)}clearStyleGradientOverlap(){this.setStyleGradientOverlap(void 0)}hasStyleGradientOverlap(){return null!=i.Message.getField(this,4)}getStyleLightContent(){return i.Message.getWrapperField(this,r.BoolDelta,5)}setStyleLightContent(e){i.Message.setWrapperField(this,5,e)}clearStyleLightContent(){this.setStyleLightContent(void 0)}hasStyleLightContent(){return null!=i.Message.getField(this,5)}getStyleGradientSize(){return i.Message.getWrapperField(this,r.FloatDelta,6)}setStyleGradientSize(e){i.Message.setWrapperField(this,6,e)}clearStyleGradientSize(){this.setStyleGradientSize(void 0)}hasStyleGradientSize(){return null!=i.Message.getField(this,6)}}t.DeltaFullGraphicInfo=o,o.displayName="DeltaFullGraphicInfo"},"tsE+":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return D}));var i=n("8Y7J"),r=n("s7LF"),a=n("HHVM"),o=n("SVse"),s=n("pMoy"),l=n("Q2Ze"),d=n("e6WT"),c=n("ZTz/"),g=n("UhP/");function u(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"mat-checkbox",3),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().relativeOffset=t}))("ngModelChange",(function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]();return n.onRelativeOffsetChange(t),n.triggerOnChange()})),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3,"Relative Offset"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",e.relativeOffset)}}function h(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-form-field",4),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2,"Day"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",5),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().daySelection=t}))("ngModelChange",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().triggerOnChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",e.daySelection)}}function p(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"mat-option",9),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.getMonthText(e)," ")}}function m(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"mat-option",9),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.getDayText(e))}}function f(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-select",10),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).daySelection=t}))("ngModelChange",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).triggerOnChange()})),i["\u0275\u0275template"](1,m,3,2,"ng-container",7),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("ngModel",e.daySelection),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.dayOptions)}}function v(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-select",6),i["\u0275\u0275listener"]("ngModelChange",(function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().monthSelection=t}))("ngModelChange",(function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]();return n.onMonthSelect(t),n.triggerOnChange()})),i["\u0275\u0275template"](1,p,3,2,"ng-container",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,f,2,2,"mat-select",8)}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngModel",e.monthSelection),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.monthOptions),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.monthSelection)}}const y=864e5,C=y/96,M=[];for(let S=0;96>S;++S)M.push(S*C);const b={provide:r.r,useExisting:Object(i.forwardRef)(()=>D),multi:!0};function O(e){let t=a.day.utc(0);return e.month&&t.month(e.month-1),e.day&&t.date(e.day),"number"==typeof e.time&&t.millisecond(e.time),t.toDate().getTime()}function w(e,t){if(e){const e=a.day.utc(t);return{relative:!0,month:0,day:Math.floor(t/y)+1,time:e.millisecond()}}{const e=a.day.utc(t);return{relative:!1,month:e.month()+1,day:e.date(),time:e.millisecond()}}}let D=(()=>{class e{constructor(){this.relativeOffset=!1,this.relativeOffsetChange=new i.EventEmitter,this.hideRelativeOffsetToggle=!1,this.monthSelection=0,this.daySelection=0,this.timeSelection=null,this.timeOptions=[].concat(M),this.monthOptions=[1,2,3,4,5,6,7,8,9,10,11,12],this.dayOptions=[]}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}onRelativeOffsetChange(e){e&&(this.daySelection||(this.daySelection=1)),this.relativeOffsetChange.emit(e)}triggerOnChange(){this.onChange&&this.onChange(this.relativeOffset?{relative:!0,day:this.daySelection,time:this.timeSelection,month:0}:{relative:!1,day:this.daySelection,month:this.monthSelection,time:0})}resetValue(){this.relativeOffset=!1,this.monthSelection=0,this.daySelection=0}_writeValue(e){"boolean"==typeof e.relative&&(this.relativeOffset=e.relative),"number"==typeof e.month?(this.monthSelection=e.month,this.initDayOptions()):this.monthSelection=0,this.daySelection="number"==typeof e.day?e.day:0,this.timeSelection="number"==typeof e.time?this.timeOptions.sort((t,n)=>Math.abs(e.time-t)-Math.abs(e.time-n))[0]:null}writeValue(e){null===e?this.resetValue():"object"==typeof e?this._writeValue(e):console.warn("Invalid ngModel type for <mg-date-time-offset-picker>:",e)}initDayOptions(){if(this.dayOptions=[],this.daySelection=0,0!==this.monthSelection){const e=Object(a.day)().month(this.monthSelection-1).daysInMonth();for(let t=0;e>t;++t)this.dayOptions.push(t+1)}}getTimeOptionText(e){return a.day.utc(e).format("h:mm a")}onMonthSelect(e){this.initDayOptions()}getMonthText(e){return Object(a.day)().month(e-1).format("MMMM")}getDayText(e){return(""+e).padStart(2,"0")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mg-date-time-offset-picker"]],inputs:{relativeOffset:"relativeOffset",hideRelativeOffsetToggle:"hideRelativeOffsetToggle"},outputs:{relativeOffsetChange:"relativeOffsetChange"},features:[i["\u0275\u0275ProvidersFeature"]([b])],decls:3,vars:3,consts:[["style","padding: 8px 0",4,"ngIf"],[3,"ngIf"],[2,"padding","8px 0"],[3,"ngModel","ngModelChange"],[1,"number-input"],["matInput","","autocomplete","off","name","dayOffset","type","number","min","1",3,"ngModel","ngModelChange"],["placeholder","Month",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["placeholder","Day",3,"ngModel","ngModelChange",4,"ngIf"],[3,"value"],["placeholder","Day",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,u,4,1,"div",0),i["\u0275\u0275template"](1,h,4,1,"ng-template",1),i["\u0275\u0275template"](2,v,3,3,"ng-template",1)),2&e&&(i["\u0275\u0275property"]("ngIf",!t.hideRelativeOffsetToggle),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.relativeOffset),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.relativeOffset))},directives:[o.o,s.a,r.t,r.w,l.d,l.h,d.b,r.y,r.d,c.a,o.n,g.m],styles:[".mat-select[_ngcontent-%COMP%]{width:120px}.number-input[_ngcontent-%COMP%]{width:120px;display:inline-block}"]}),e})()},yJXV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogoAnchor=t.LogoAnchorDelta=t.CommonContentInfo=t.ContentInfoQuery=t.ContentSaveResult=void 0;const i=n("hRO2"),r=n("gzPw"),a=n("ZAf1");class o extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return o.toObject(e||!1,this)}static toObject(e,t){var n,a={contentHash:i.Message.getFieldWithDefault(t,1,""),contentContextHash:i.Message.getFieldWithDefault(t,2,""),moderationResult:(n=t.getModerationResult())&&r.ModerationResult.toObject(e,n)};return e&&(a.$jspbMessageInstance=t),a}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new o;return o.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setContentHash(n);break;case 2:var i=t.readString();e.setContentContextHash(i);break;case 3:var a=new r.ModerationResult;t.readMessage(a,r.ModerationResult.deserializeBinaryFromReader),e.setModerationResult(a);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getContentHash()).length>0&&t.writeString(1,n),(n=e.getContentContextHash()).length>0&&t.writeString(2,n),null!=(n=e.getModerationResult())&&t.writeMessage(3,n,r.ModerationResult.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return o.serializeBinaryToWriter(this,e),e.getResultBuffer()}getContentHash(){return i.Message.getFieldWithDefault(this,1,"")}setContentHash(e){i.Message.setProto3StringField(this,1,e)}getContentContextHash(){return i.Message.getFieldWithDefault(this,2,"")}setContentContextHash(e){i.Message.setProto3StringField(this,2,e)}getModerationResult(){return i.Message.getWrapperField(this,r.ModerationResult,3)}setModerationResult(e){i.Message.setWrapperField(this,3,e)}clearModerationResult(){this.setModerationResult(void 0)}hasModerationResult(){return null!=i.Message.getField(this,3)}}t.ContentSaveResult=o,o.displayName="ContentSaveResult";class s extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,s.oneofGroups_)}getQueryCase(){return i.Message.computeOneofCase(this,s.oneofGroups_[0])}toObject(e){return s.toObject(e||!1,this)}static toObject(e,t){var n={includeDeleted:i.Message.getBooleanFieldWithDefault(t,1,!1),contentHash:i.Message.getFieldWithDefault(t,2,""),contentContextHash:i.Message.getFieldWithDefault(t,3,"")};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new s;return s.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readBool();e.setIncludeDeleted(n);break;case 2:var i=t.readString();e.setContentHash(i);break;case 3:var r=t.readString();e.setContentContextHash(r);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getIncludeDeleted())&&t.writeBool(1,n),null!=(n=i.Message.getField(e,2))&&t.writeString(2,n),null!=(n=i.Message.getField(e,3))&&t.writeString(3,n)}serializeBinary(){var e=new i.BinaryWriter;return s.serializeBinaryToWriter(this,e),e.getResultBuffer()}getIncludeDeleted(){return i.Message.getBooleanFieldWithDefault(this,1,!1)}setIncludeDeleted(e){i.Message.setProto3BooleanField(this,1,e)}getContentHash(){return i.Message.getFieldWithDefault(this,2,"")}setContentHash(e){i.Message.setOneofField(this,2,s.oneofGroups_[0],e)}clearContentHash(){i.Message.setOneofField(this,2,s.oneofGroups_[0],void 0)}hasContentHash(){return null!=i.Message.getField(this,2)}getContentContextHash(){return i.Message.getFieldWithDefault(this,3,"")}setContentContextHash(e){i.Message.setOneofField(this,3,s.oneofGroups_[0],e)}clearContentContextHash(){i.Message.setOneofField(this,3,s.oneofGroups_[0],void 0)}hasContentContextHash(){return null!=i.Message.getField(this,3)}}t.ContentInfoQuery=s,s.displayName="ContentInfoQuery",s.oneofGroups_=[[2,3]],function(e){let t;!function(e){e[e.QUERY_NOT_SET=0]="QUERY_NOT_SET",e[e.CONTENT_HASH=2]="CONTENT_HASH",e[e.CONTENT_CONTEXT_HASH=3]="CONTENT_CONTEXT_HASH"}(t=e.QueryCase||(e.QueryCase={}))}(s=t.ContentInfoQuery||(t.ContentInfoQuery={}));class l extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return l.toObject(e||!1,this)}static toObject(e,t){var n,r={title:i.Message.getFieldWithDefault(t,1,""),description:i.Message.getFieldWithDefault(t,2,""),active:i.Message.getBooleanFieldWithDefault(t,3,!1),publishDateTime:(n=t.getPublishDateTime())&&a.DateTime.toObject(e,n),unpublishDateTime:(n=t.getUnpublishDateTime())&&a.DateTime.toObject(e,n)};return e&&(r.$jspbMessageInstance=t),r}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new l;return l.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setTitle(n);break;case 2:var i=t.readString();e.setDescription(i);break;case 3:var r=t.readBool();e.setActive(r);break;case 4:var o=new a.DateTime;t.readMessage(o,a.DateTime.deserializeBinaryFromReader),e.setPublishDateTime(o);break;case 5:var s=new a.DateTime;t.readMessage(s,a.DateTime.deserializeBinaryFromReader),e.setUnpublishDateTime(s);break;default:t.skipField()}return e}static serializeBinaryToWriter(e,t){var n=void 0;(n=e.getTitle()).length>0&&t.writeString(1,n),(n=e.getDescription()).length>0&&t.writeString(2,n),(n=e.getActive())&&t.writeBool(3,n),null!=(n=e.getPublishDateTime())&&t.writeMessage(4,n,a.DateTime.serializeBinaryToWriter),null!=(n=e.getUnpublishDateTime())&&t.writeMessage(5,n,a.DateTime.serializeBinaryToWriter)}serializeBinary(){var e=new i.BinaryWriter;return l.serializeBinaryToWriter(this,e),e.getResultBuffer()}getTitle(){return i.Message.getFieldWithDefault(this,1,"")}setTitle(e){i.Message.setProto3StringField(this,1,e)}getDescription(){return i.Message.getFieldWithDefault(this,2,"")}setDescription(e){i.Message.setProto3StringField(this,2,e)}getActive(){return i.Message.getBooleanFieldWithDefault(this,3,!1)}setActive(e){i.Message.setProto3BooleanField(this,3,e)}getPublishDateTime(){return i.Message.getWrapperField(this,a.DateTime,4)}setPublishDateTime(e){i.Message.setWrapperField(this,4,e)}clearPublishDateTime(){this.setPublishDateTime(void 0)}hasPublishDateTime(){return null!=i.Message.getField(this,4)}getUnpublishDateTime(){return i.Message.getWrapperField(this,a.DateTime,5)}setUnpublishDateTime(e){i.Message.setWrapperField(this,5,e)}clearUnpublishDateTime(){this.setUnpublishDateTime(void 0)}hasUnpublishDateTime(){return null!=i.Message.getField(this,5)}}t.CommonContentInfo=l,l.displayName="CommonContentInfo";class d extends i.Message{constructor(e){super(),i.Message.initialize(this,e,0,-1,null,null)}toObject(e){return d.toObject(e||!1,this)}static toObject(e,t){var n={newLogoAnchor:i.Message.getFieldWithDefault(t,1,0)};return e&&(n.$jspbMessageInstance=t),n}static deserializeBinary(e){var t=new i.BinaryReader(e),n=new d;return d.deserializeBinaryFromReader(n,t)}static deserializeBinaryFromReader(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var n=t.readEnum();e.setNewLogoAnchor(n)}else t.skipField();return e}static serializeBinaryToWriter(e,t){var n;0!==(n=e.getNewLogoAnchor())&&t.writeEnum(1,n)}serializeBinary(){var e=new i.BinaryWriter;return d.serializeBinaryToWriter(this,e),e.getResultBuffer()}getNewLogoAnchor(){return i.Message.getFieldWithDefault(this,1,0)}setNewLogoAnchor(e){i.Message.setProto3EnumField(this,1,e)}}var c;t.LogoAnchorDelta=d,d.displayName="LogoAnchorDelta",(c=t.LogoAnchor||(t.LogoAnchor={}))[c.LA_NONE=0]="LA_NONE",c[c.LA_TOP_LEFT=1]="LA_TOP_LEFT",c[c.LA_TOP_CENTER=2]="LA_TOP_CENTER",c[c.LA_TOP_RIGHT=3]="LA_TOP_RIGHT",c[c.LA_MID_LEFT=4]="LA_MID_LEFT",c[c.LA_MID_CENTER=5]="LA_MID_CENTER",c[c.LA_MID_RIGHT=6]="LA_MID_RIGHT",c[c.LA_BTM_LEFT=7]="LA_BTM_LEFT",c[c.LA_BTM_CENTER=8]="LA_BTM_CENTER",c[c.LA_BTM_RIGHT=9]="LA_BTM_RIGHT"}}]);
//# sourceMappingURL=minga-app-src-app-content-Content-module-es2015.js.map